<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>UniDe - Universal Desiger</title>
  <link rel="manifest" href="./manifest.json">
  <link rel="icon" type="image/png" href="images/unide.png" sizes="256x256">
  <link rel="stylesheet" href="./node_modules/codemirror/lib/codemirror.css">
  <link rel="stylesheet" href="./node_modules/codemirror/theme/tomorrow-night-eighties.css">
  <script src="./node_modules/prettier/standalone.js"></script>
  <script src="./node_modules/prettier/parser-babylon.js"></script>
  <script src="./node_modules/jszip/dist/jszip.js"></script>
  <script src="./node_modules/file-saver/dist/FileSaver.js"></script>
  <script src="./node_modules/codemirror/lib/codemirror.js"></script>
  <script src="./node_modules/codemirror/mode/css/css.js"></script>
  <script src="./node_modules/codemirror/addon/hint/show-hint.js"></script>
  <script src="./node_modules/codemirror/addon/hint/css-hint.js"></script>

  <script src="./node_modules/@vaadin/vaadin-lumo-styles/color.js" type="module"></script>
  <script src="./node_modules/@vaadin/vaadin-lumo-styles/sizing.js" type="module"></script>
  <script src="./node_modules/@vaadin/vaadin-lumo-styles/spacing.js" type="module"></script>
  <script src="./node_modules/@vaadin/vaadin-lumo-styles/style.js" type="module"></script>
  <script src="./node_modules/@vaadin/vaadin-lumo-styles/typography.js" type="module"></script>
  
  <style>
  html {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
  }

  body {
    width: 100%;
    height: 100%;
    margin: 0px;
    background-color: #223;
    color: white;
    overflow: hidden;
  }

  #container {
    display: grid;
    grid-template-columns: 15vw auto 15vw 15vw;
    width: 100vw;
    height: calc(100vh - 2rem);
  }

  #paper {
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background-color: white;
    color:black;
  }

  #palette-wrapper {
    height: 100%;
    overflow-y: auto;
  }
  #palette {
    height: 100%;
    overflow-y: visible;
    padding: 1em;
    border-right: 1px solid gray;
    border-top: 1px solid gray;
  }

  #outline {
    width: 100%;
    height: 50%;
    width: 15vw;
    border-top: 1px solid gray;
    overflow: auto;
  }

  #outline div {
    margin-left: 1em;
  }

  #attribute-panel {
    border-top: 1px solid gray;
    height: 50%;
  }
  
  #attributes {
    width: 100%;
    height: 50%;
    border: none;
    width: 15vw;
    background-color: #223;
    color: white;
    border-top: 1px solid gray;
  }

  #marker {
    display: none;
    position: absolute;
    border: 1px solid red;
    z-index: 20000;
  }

  #select-marker-outline, #select-marker-paper {
    display: none;
    position: absolute;
    border: 1px solid green;
    z-index: 10000;
    pointer-events: none;
  }

  #element-preview {
    display: none;
    position: absolute;
    background-color: #aad;
    border: 1px solid black;
    z-index: 10000;
    padding: 1em;
  }

  .palette-section {
      color: #aaa;
      transition: all 300ms ease-in-out; 
  }
  .palette-section:hover {
      color: white;
  }

  #text-editor {
    height: calc(100% - 20rem);
  }
  
  #css-rule-filter {
    width: 100%;
  }

  #css-rules {
    display: block;
    height: 20rem;
    overflow: auto;
  }
  .CodeMirror { height: 100%; }

  #design-details {
    height: 2rem;
  }

  #delete-design {
    background-color: salmon;
  }

  </style>
</head>
<body theme="dark">
  <div id="marker"></div>
  <div id="select-marker-outline"></div>
  <div id="select-marker-paper"></div>
  <div id="element-preview"></div>
  <span id="design-details">
    <button id="new-design" theme="primary">New</button>
    <button id="sketch-design" theme="primary">Sketch</button>
    <span>
      Name:
      <input id="design-name" type="text"></input>
      <button id="save-design">Save</button>
    </span>
    <span>
      Load:
      <select id="choose-design"></select>
    </span>
    <span>
      Export:
      <select id="choose-export-format">
        <option>Java</option>
        <option>Raw</option>
      </select>
      <button id="export-design">Export</button>
    </span>
    <span>
      Import:
      <input type="file" id="import-file-input"></input>
      <button id="import-file">Import Raw</button>
    </span>
    <button id="delete-design">Delete design</button>
  </span>
  <vaadin-split-panel id="container">
    <div id="editor-panel">
      <div id="text-editor"></div>
      <div>
        <input id="css-rule-filter" type="text"></input>
        <div id="css-rules"></div>
      </div>
    </div>
    <div id="paper">paper</div>
    <div id="palette-wrapper">
        <div id="palette">&nbsp;</div>
    </div>
    <div>
      <div id="outline">outline</div>
      <div id="attribute-panel"> 
        <table>
            <tr><td>Target Route</td><td><select id="target-route"></select></td></tr>
          </table>
        <textarea id="attributes" wrap="soft">attributes</textarea>
      </div>
    </div>
  </vaadin-split-panel>
    <script type="module">
        import initDesigner from "./src/unide.js";
        initDesigner();
    </script>
  </body>
</html>
