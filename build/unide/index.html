<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>UniDe - Universal Desiger</title><link rel="manifest" href="./manifest.json"><link rel="icon" type="image/png" href="images/unide.png" sizes="256x256"><style>.CodeMirror{font-family:monospace;height:300px;color:black;direction:ltr;}.CodeMirror-lines{padding:4px 0;}.CodeMirror pre{padding:0 4px;}.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler{background-color:white;}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap;}.CodeMirror-linenumbers{}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap;}.CodeMirror-guttermarker{color:black;}.CodeMirror-guttermarker-subtle{color:#999;}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0;}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver;}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0 !important;background:#7e7;}.cm-fat-cursor div.CodeMirror-cursors{z-index:1;}.cm-fat-cursor-mark{background-color:rgba(20, 255, 20, 0.5);-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7;}@-moz-keyframes blink{0%{}50%{background-color:transparent;}100%{}}@-webkit-keyframes blink{0%{}50%{background-color:transparent;}100%{}}@keyframes blink{0%{}50%{background-color:transparent;}100%{}}.CodeMirror-overwrite .CodeMirror-cursor{}.cm-tab{display:inline-block;text-decoration:inherit;}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden;}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute;}.cm-s-default .cm-header{color:blue;}.cm-s-default .cm-quote{color:#090;}.cm-negative{color:#d44;}.cm-positive{color:#292;}.cm-header, .cm-strong{font-weight:bold;}.cm-em{font-style:italic;}.cm-link{text-decoration:underline;}.cm-strikethrough{text-decoration:line-through;}.cm-s-default .cm-keyword{color:#708;}.cm-s-default .cm-atom{color:#219;}.cm-s-default .cm-number{color:#164;}.cm-s-default .cm-def{color:#00f;}.cm-s-default .cm-variable,
.cm-s-default .cm-punctuation,
.cm-s-default .cm-property,
.cm-s-default .cm-operator{}.cm-s-default .cm-variable-2{color:#05a;}.cm-s-default .cm-variable-3, .cm-s-default .cm-type{color:#085;}.cm-s-default .cm-comment{color:#a50;}.cm-s-default .cm-string{color:#a11;}.cm-s-default .cm-string-2{color:#f50;}.cm-s-default .cm-meta{color:#555;}.cm-s-default .cm-qualifier{color:#555;}.cm-s-default .cm-builtin{color:#30a;}.cm-s-default .cm-bracket{color:#997;}.cm-s-default .cm-tag{color:#170;}.cm-s-default .cm-attribute{color:#00c;}.cm-s-default .cm-hr{color:#999;}.cm-s-default .cm-link{color:#00c;}.cm-s-default .cm-error{color:#f00;}.cm-invalidchar{color:#f00;}.CodeMirror-composing{border-bottom:2px solid;}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0;}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22;}.CodeMirror-matchingtag{background:rgba(255, 150, 0, .3);}.CodeMirror-activeline-background{background:#e8f2ff;}.CodeMirror{position:relative;overflow:hidden;background:white;}.CodeMirror-scroll{overflow:scroll !important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative;}.CodeMirror-sizer{position:relative;border-right:30px solid transparent;}.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll;}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll;}.CodeMirror-scrollbar-filler{right:0;bottom:0;}.CodeMirror-gutter-filler{left:0;bottom:0;}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3;}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px;}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none !important;border:none !important;}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4;}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4;}.CodeMirror-gutter-wrapper ::selection{background-color:transparent;}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent;}.CodeMirror-lines{cursor:text;min-height:1px;}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual;}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal;}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0;}.CodeMirror-linewidget{position:relative;z-index:2;padding:0.1px;}.CodeMirror-widget{}.CodeMirror-rtl pre{direction:rtl;}.CodeMirror-code{outline:none;}.CodeMirror-scroll,
.CodeMirror-sizer,
.CodeMirror-gutter,
.CodeMirror-gutters,
.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box;}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden;}.CodeMirror-cursor{position:absolute;pointer-events:none;}.CodeMirror-measure pre{position:static;}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3;}div.CodeMirror-dragcursors{visibility:visible;}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible;}.CodeMirror-selected{background:#d9d9d9;}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0;}.CodeMirror-crosshair{cursor:crosshair;}.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection{background:#d7d4f0;}.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection{background:#d7d4f0;}.cm-searching{background-color:#ffa;background-color:rgba(255, 255, 0, .4);}.cm-force-border{padding-right:.1px;}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden;}}.cm-tab-wrap-hack:after{content:'';}span.CodeMirror-selectedtext{background:none;}</style><style>.cm-s-tomorrow-night-eighties.CodeMirror{background:#000000;color:#CCCCCC;}.cm-s-tomorrow-night-eighties div.CodeMirror-selected{background:#2D2D2D;}.cm-s-tomorrow-night-eighties .CodeMirror-line::selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span::selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span > span::selection{background:rgba(45, 45, 45, 0.99);}.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span::-moz-selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span > span::-moz-selection{background:rgba(45, 45, 45, 0.99);}.cm-s-tomorrow-night-eighties .CodeMirror-gutters{background:#000000;border-right:0px;}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker{color:#f2777a;}.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle{color:#777;}.cm-s-tomorrow-night-eighties .CodeMirror-linenumber{color:#515151;}.cm-s-tomorrow-night-eighties .CodeMirror-cursor{border-left:1px solid #6A6A6A;}.cm-s-tomorrow-night-eighties span.cm-comment{color:#d27b53;}.cm-s-tomorrow-night-eighties span.cm-atom{color:#a16a94;}.cm-s-tomorrow-night-eighties span.cm-number{color:#a16a94;}.cm-s-tomorrow-night-eighties span.cm-property, .cm-s-tomorrow-night-eighties span.cm-attribute{color:#99cc99;}.cm-s-tomorrow-night-eighties span.cm-keyword{color:#f2777a;}.cm-s-tomorrow-night-eighties span.cm-string{color:#ffcc66;}.cm-s-tomorrow-night-eighties span.cm-variable{color:#99cc99;}.cm-s-tomorrow-night-eighties span.cm-variable-2{color:#6699cc;}.cm-s-tomorrow-night-eighties span.cm-def{color:#f99157;}.cm-s-tomorrow-night-eighties span.cm-bracket{color:#CCCCCC;}.cm-s-tomorrow-night-eighties span.cm-tag{color:#f2777a;}.cm-s-tomorrow-night-eighties span.cm-link{color:#a16a94;}.cm-s-tomorrow-night-eighties span.cm-error{background:#f2777a;color:#6A6A6A;}.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background{background:#343600;}.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket{text-decoration:underline;color:white !important;}</style><script>(function(a){function b(a){return r.typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?b=function(a){return typeof a}:b=function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b(a)}function c(a){function b(d,e){try{var f=a[d](e),g=f.value,h=g instanceof r.AwaitValue;Promise.resolve(h?g.wrapped:g).then(function(a){return h?void b("next",a):void c(f.done?"return":"normal",a)},function(a){b("throw",a)})}catch(a){c("throw",a)}}function c(a,c){switch(a){case"return":d.resolve({value:c,done:!0});break;case"throw":d.reject(c);break;default:d.resolve({value:c,done:!1});}d=d.next,d?b(d.key,d.arg):e=null}var d,e;this._invoke=function(a,c){return new Promise(function(f,g){var h={key:a,arg:c,resolve:f,reject:g,next:null};e?e=e.next=h:(d=e=h,b(a,c))})},"function"!==typeof a.return&&(this.return=void 0)}function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function f(a,b){for(var c in b){var d=b[c];d.configurable=d.enumerable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,c,d)}if(Object.getOwnPropertySymbols)for(var e=Object.getOwnPropertySymbols(b),f=0;f<e.length;f++){var g=e[f],d=b[g];d.configurable=d.enumerable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,g,d)}return a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(){return r.extends=h=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},h.apply(this,arguments)}function i(a){return r.getPrototypeOf=i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},i(a)}function j(a,b){return r.setPrototypeOf=j=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},j(a,b)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function l(){return r.construct=k()?l=Reflect.construct:l=function(b,c,d){var e=[null];e.push.apply(e,c);var a=Function.bind.apply(b,e),f=new a;return d&&r.setPrototypeOf(f,d.prototype),f},l.apply(null,arguments)}function m(a){var b="function"===typeof Map?new Map:void 0;return r.wrapNativeSuper=m=function(a){function c(){return r.construct(a,arguments,r.getPrototypeOf(this).constructor)}if(null===a||!r.isNativeFunction(a))return a;if("function"!==typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r.setPrototypeOf(c,a)},m(a)}function n(a,b,c){return r.get="undefined"!==typeof Reflect&&Reflect.get?n=Reflect.get:n=function(a,b,c){var d=r.superPropBase(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}},n(a,b,c||a)}function o(a,b,c,d){return o="undefined"!==typeof Reflect&&Reflect.set?Reflect.set:function(a,b,c,d){var e,f=r.superPropBase(a,b);if(f){if(e=Object.getOwnPropertyDescriptor(f,b),e.set)return e.set.call(d,c),!0;if(!e.writable)return!1}if(e=Object.getOwnPropertyDescriptor(d,b),e){if(!e.writable)return!1;e.value=c,Object.defineProperty(d,b,e)}else r.defineProperty(d,b,c);return!0},o(a,b,c,d)}function p(a,b,c,d,e){var f=o(a,b,c,d||a);if(!f&&e)throw new Error("failed to set property");return c}function q(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}var r=a.babelHelpers={};r.typeof=b,r.asyncIterator=function(a){var b;if("function"===typeof Symbol){if(Symbol.asyncIterator&&(b=a[Symbol.asyncIterator],null!=b))return b.call(a);if(Symbol.iterator&&(b=a[Symbol.iterator],null!=b))return b.call(a)}throw new TypeError("Object is not async iterable")},r.AwaitValue=function(a){this.wrapped=a},"function"===typeof Symbol&&Symbol.asyncIterator&&(c.prototype[Symbol.asyncIterator]=function(){return this}),c.prototype.next=function(a){return this._invoke("next",a)},c.prototype.throw=function(a){return this._invoke("throw",a)},c.prototype.return=function(a){return this._invoke("return",a)},r.AsyncGenerator=c,r.wrapAsyncGenerator=function(a){return function(){return new r.AsyncGenerator(a.apply(this,arguments))}},r.awaitAsyncGenerator=function(a){return new r.AwaitValue(a)},r.asyncGeneratorDelegate=function(a,b){function c(c,d){return e=!0,d=new Promise(function(b){b(a[c](d))}),{done:!1,value:b(d)}}var d={},e=!1;return"function"===typeof Symbol&&Symbol.iterator&&(d[Symbol.iterator]=function(){return this}),d.next=function(a){return e?(e=!1,a):c("next",a)},"function"===typeof a.throw&&(d.throw=function(a){if(e)throw e=!1,a;return c("throw",a)}),"function"===typeof a.return&&(d.return=function(a){return c("return",a)}),d},r.asyncToGenerator=function(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){function g(a){d(i,e,f,g,h,"next",a)}function h(a){d(i,e,f,g,h,"throw",a)}var i=a.apply(b,c);g(void 0)})}},r.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},r.createClass=function(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a},r.defineEnumerableProperties=f,r.defaults=function(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&a[e]===void 0&&Object.defineProperty(a,e,f)}return a},r.defineProperty=g,r.extends=h,r.objectSpread=function(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){r.defineProperty(a,b,c[b])})}return a},r.inherits=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&r.setPrototypeOf(a,b)},r.getPrototypeOf=i,r.setPrototypeOf=j,r.construct=l,r.isNativeFunction=function(a){return-1!==Function.toString.call(a).indexOf("[native code]")},r.wrapNativeSuper=m,r.instanceof=function(a,b){return null!=b&&"undefined"!==typeof Symbol&&b[Symbol.hasInstance]?b[Symbol.hasInstance](a):a instanceof b},r.interopRequireDefault=function(a){return a&&a.__esModule?a:{default:a}},r.interopRequireWildcard=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b.default=a,b},r.newArrowCheck=function(a,b){if(a!==b)throw new TypeError("Cannot instantiate an arrow function")},r.objectDestructuringEmpty=function(a){if(null==a)throw new TypeError("Cannot destructure undefined")},r.objectWithoutPropertiesLoose=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||(e[c]=a[c]);return e},r.objectWithoutProperties=function(a,b){if(null==a)return{};var c,d,e=r.objectWithoutPropertiesLoose(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(0<=b.indexOf(c))&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e},r.assertThisInitialized=function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a},r.possibleConstructorReturn=function(a,b){return b&&("object"===typeof b||"function"===typeof b)?b:r.assertThisInitialized(a)},r.superPropBase=function(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=r.getPrototypeOf(a),null!==a););return a},r.get=n,r.set=p,r.taggedTemplateLiteral=function(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))},r.temporalRef=function(a,b){if(a===r.temporalUndefined)throw new ReferenceError(b+" is not defined - temporal dead zone");else return a},r.readOnlyError=function(a){throw new Error("\""+a+"\" is read-only")},r.temporalUndefined={},r.slicedToArray=function(a,b){return r.arrayWithHoles(a)||r.iterableToArrayLimit(a,b)||r.nonIterableRest()},r.toArray=function(a){return r.arrayWithHoles(a)||r.iterableToArray(a)||r.nonIterableRest()},r.toConsumableArray=function(a){return r.arrayWithoutHoles(a)||r.iterableToArray(a)||r.nonIterableSpread()},r.arrayWithoutHoles=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}},r.arrayWithHoles=function(a){if(Array.isArray(a))return a},r.iterableToArray=q,r.iterableToArrayLimit=function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c},r.nonIterableSpread=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")},r.nonIterableRest=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")},r.toPropertyKey=function(a){var b=r.toPrimitive(a,"string");return"symbol"===typeof b?b:b+""}})("undefined"===typeof global?self:global);</script><script>(function(global,factory){"object"===typeof exports&&"undefined"!==typeof module?module.exports=factory():"function"===typeof define&&define.amd?define(factory):global.prettier=factory()})(this,function(){'use strict';var _Mathround=Math.round,_Mathmax=Math.max,_StringfromCharCode=String.fromCharCode,_Mathfloor=Math.floor,_Mathpow=Math.pow,_Mathmin=Math.min,name="prettier",version$1="1.16.4",description="Prettier is an opinionated code formatter",bin={prettier:"./bin/prettier.js"},repository="prettier/prettier",homepage="https://prettier.io",author="James Long",license="MIT",main="./index.js",engines={node:">=6"},dependencies={"@angular/compiler":"6.1.10","@babel/code-frame":"7.0.0-beta.46","@babel/parser":"7.2.0","@glimmer/syntax":"0.30.3","@iarna/toml":"2.0.0","angular-estree-parser":"1.1.5","angular-html-parser":"1.2.0",camelcase:"4.1.0",chalk:"2.1.0","cjk-regex":"2.0.0",cosmiconfig:"5.0.7",dashify:"0.2.2",dedent:"0.7.0",diff:"3.2.0",editorconfig:"0.15.2","editorconfig-to-prettier":"0.1.1","escape-string-regexp":"1.0.5",esutils:"2.0.2","find-parent-dir":"0.3.0","find-project-root":"1.1.1","flow-parser":"0.84.0","get-stream":"3.0.0",globby:"6.1.0",graphql:"0.13.2","html-element-attributes":"2.0.0","html-styles":"1.0.0","html-tag-names":"1.1.2",ignore:"3.3.7","is-ci":"2.0.0","jest-docblock":"23.2.0","json-stable-stringify":"1.0.1",leven:"2.1.0","lines-and-columns":"1.1.6","linguist-languages":"6.2.1-dev.20180706","lodash.uniqby":"4.7.0",mem:"1.1.0",minimatch:"3.0.4",minimist:"1.2.0","n-readlines":"1.0.0","normalize-path":"3.0.0","parse-srcset":"ikatyang/parse-srcset#54eb9c1cb21db5c62b4d0e275d7249516df6f0ee","postcss-less":"1.1.5","postcss-media-query-parser":"0.2.3","postcss-scss":"2.0.0","postcss-selector-parser":"2.2.3","postcss-values-parser":"1.5.0","regexp-util":"1.2.2","remark-math":"1.0.4","remark-parse":"5.0.0",resolve:"1.5.0",semver:"5.4.1","string-width":"3.0.0",typescript:"3.2.2","typescript-estree":"18.0.0","unicode-regex":"2.0.0",unified:"6.1.6",vnopts:"1.0.2",yaml:"1.0.2","yaml-unist-parser":"1.0.0"},devDependencies={"@babel/cli":"7.2.0","@babel/core":"7.2.0","@babel/preset-env":"7.2.0","babel-loader":"8.0.4",benchmark:"2.1.4","builtin-modules":"2.0.0",codecov:"codecov/codecov-node#e427d900309adb50746a39a50aa7d80071a5ddd0","cross-env":"5.0.5",eslint:"4.18.2","eslint-config-prettier":"2.9.0","eslint-friendly-formatter":"3.0.0","eslint-plugin-import":"2.9.0","eslint-plugin-prettier":"2.6.0","eslint-plugin-react":"7.7.0",execa:"0.10.0",jest:"23.3.0","jest-junit":"5.0.0","jest-snapshot-serializer-ansi":"1.0.0","jest-snapshot-serializer-raw":"1.1.0","jest-watch-typeahead":"0.1.0",mkdirp:"0.5.1",prettier:"1.16.3",prettylint:"1.0.0",rimraf:"2.6.2",rollup:"0.47.6","rollup-plugin-alias":"1.4.0","rollup-plugin-babel":"4.0.0-beta.4","rollup-plugin-commonjs":"8.2.6","rollup-plugin-json":"2.1.1","rollup-plugin-node-builtins":"2.0.0","rollup-plugin-node-globals":"1.1.0","rollup-plugin-node-resolve":"2.0.0","rollup-plugin-replace":"1.2.1","rollup-plugin-uglify":"3.0.0",shelljs:"0.8.1","snapshot-diff":"0.4.0","strip-ansi":"4.0.0",tempy:"0.2.1",webpack:"3.12.0"},resolutions={"@babel/code-frame":"7.0.0-beta.46"},scripts={prepublishOnly:"echo \"Error: must publish from dist/\" && exit 1","prepare-release":"yarn && yarn build && yarn test:dist",test:"jest","test:dist":"node ./scripts/test-dist.js","test-integration":"jest tests_integration","perf-repeat":"yarn && yarn build && cross-env NODE_ENV=production node ./dist/bin-prettier.js --debug-repeat ${PERF_REPEAT:-1000} --loglevel debug ${PERF_FILE:-./index.js} > /dev/null","perf-repeat-inspect":"yarn && yarn build && cross-env NODE_ENV=production node --inspect-brk ./dist/bin-prettier.js --debug-repeat ${PERF_REPEAT:-1000} --loglevel debug ${PERF_FILE:-./index.js} > /dev/null","perf-benchmark":"yarn && yarn build && cross-env NODE_ENV=production node ./dist/bin-prettier.js --debug-benchmark --loglevel debug ${PERF_FILE:-./index.js} > /dev/null",lint:"cross-env EFF_NO_LINK_RULES=true eslint . --format node_modules/eslint-friendly-formatter","lint-docs":"prettylint {.,docs,website,website/blog}/*.md","lint-dist":"eslint --no-eslintrc --no-ignore --env=browser \"dist/!(bin-prettier|index|third-party).js\"",build:"node --max-old-space-size=2048 ./scripts/build/build.js","build-docs":"node ./scripts/build-docs.js","check-deps":"node ./scripts/check-deps.js"},_package={name:name,version:version$1,description:description,bin:bin,repository:repository,homepage:homepage,author:author,license:license,main:main,engines:engines,dependencies:dependencies,devDependencies:devDependencies,resolutions:resolutions,scripts:scripts},_package$1=Object.freeze({name:name,version:version$1,description:description,bin:bin,repository:repository,homepage:homepage,author:author,license:license,main:main,engines:engines,dependencies:dependencies,devDependencies:devDependencies,resolutions:resolutions,scripts:scripts,default:_package}),commonjsGlobal="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function unwrapExports(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x["default"]:x}function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports}var base=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports["default"]=Diff;function Diff(){}Diff.prototype={diff:function diff(oldString,newString){var options=2>=arguments.length||arguments[2]===void 0?{}:arguments[2],callback=options.callback;if("function"===typeof options){callback=options;options={}}this.options=options;var self=this;function done(value){if(callback){setTimeout(function(){callback(void 0,value)},0);return!0}else{return value}}oldString=this.castInput(oldString);newString=this.castInput(newString);oldString=this.removeEmpty(this.tokenize(oldString));newString=this.removeEmpty(this.tokenize(newString));var newLen=newString.length,oldLen=oldString.length,editLength=1,maxEditLength=newLen+oldLen,bestPath=[{newPos:-1,components:[]}],oldPos=this.extractCommon(bestPath[0],newString,oldString,0);if(bestPath[0].newPos+1>=newLen&&oldPos+1>=oldLen){return done([{value:this.join(newString),count:newString.length}])}function execEditLength(){for(var diagonalPath=-1*editLength;diagonalPath<=editLength;diagonalPath+=2){var basePath=void 0,addPath=bestPath[diagonalPath-1],removePath=bestPath[diagonalPath+1],_oldPos=(removePath?removePath.newPos:0)-diagonalPath;if(addPath){bestPath[diagonalPath-1]=void 0}var canAdd=addPath&&addPath.newPos+1<newLen,canRemove=removePath&&0<=_oldPos&&_oldPos<oldLen;if(!canAdd&&!canRemove){bestPath[diagonalPath]=void 0;continue}if(!canAdd||canRemove&&addPath.newPos<removePath.newPos){basePath=clonePath(removePath);self.pushComponent(basePath.components,void 0,!0)}else{basePath=addPath;basePath.newPos++;self.pushComponent(basePath.components,!0,void 0)}_oldPos=self.extractCommon(basePath,newString,oldString,diagonalPath);if(basePath.newPos+1>=newLen&&_oldPos+1>=oldLen){return done(buildValues(self,basePath.components,newString,oldString,self.useLongestToken))}else{bestPath[diagonalPath]=basePath}}editLength++}if(callback){(function exec(){setTimeout(function(){if(editLength>maxEditLength){return callback()}if(!execEditLength()){exec()}},0)})()}else{while(editLength<=maxEditLength){var ret=execEditLength();if(ret){return ret}}}},pushComponent:function pushComponent(components,added,removed){var last=components[components.length-1];if(last&&last.added===added&&last.removed===removed){components[components.length-1]={count:last.count+1,added:added,removed:removed}}else{components.push({count:1,added:added,removed:removed})}},extractCommon:function extractCommon(basePath,newString,oldString,diagonalPath){var newLen=newString.length,oldLen=oldString.length,newPos=basePath.newPos,oldPos=newPos-diagonalPath,commonCount=0;while(newPos+1<newLen&&oldPos+1<oldLen&&this.equals(newString[newPos+1],oldString[oldPos+1])){newPos++;oldPos++;commonCount++}if(commonCount){basePath.components.push({count:commonCount})}basePath.newPos=newPos;return oldPos},equals:function equals(left,right){return left===right},removeEmpty:function removeEmpty(array){for(var ret=[],i=0;i<array.length;i++){if(array[i]){ret.push(array[i])}}return ret},castInput:function castInput(value){return value},tokenize:function tokenize(value){return value.split("")},join:function join(chars){return chars.join("")}};function buildValues(diff,components,newString,oldString,useLongestToken){var componentPos=0,componentLen=components.length,newPos=0,oldPos=0;for(;componentPos<componentLen;componentPos++){var component=components[componentPos];if(!component.removed){if(!component.added&&useLongestToken){var value=newString.slice(newPos,newPos+component.count);value=value.map(function(value,i){var oldValue=oldString[oldPos+i];return oldValue.length>value.length?oldValue:value});component.value=diff.join(value)}else{component.value=diff.join(newString.slice(newPos,newPos+component.count))}newPos+=component.count;if(!component.added){oldPos+=component.count}}else{component.value=diff.join(oldString.slice(oldPos,oldPos+component.count));oldPos+=component.count;if(componentPos&&components[componentPos-1].added){var tmp=components[componentPos-1];components[componentPos-1]=components[componentPos];components[componentPos]=tmp}}}var lastComponent=components[componentLen-1];if(1<componentLen&&(lastComponent.added||lastComponent.removed)&&diff.equals("",lastComponent.value)){components[componentLen-2].value+=lastComponent.value;components.pop()}return components}function clonePath(path){return{newPos:path.newPos,components:path.components.slice(0)}}});unwrapExports(base);var character=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.characterDiff=void 0;exports.diffChars=diffChars;var _base2=_interopRequireDefault(base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var characterDiff=exports.characterDiff=new _base2["default"];function diffChars(oldStr,newStr,callback){return characterDiff.diff(oldStr,newStr,callback)}});unwrapExports(character);var params=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.generateOptions=generateOptions;function generateOptions(options,defaults){if("function"===typeof options){defaults.callback=options}else if(options){for(var name in options){if(options.hasOwnProperty(name)){defaults[name]=options[name]}}}return defaults}});unwrapExports(params);var word=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.wordDiff=void 0;exports.diffWords=diffWords;exports.diffWordsWithSpace=diffWordsWithSpace;var _base2=_interopRequireDefault(base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var extendedWordChars=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,reWhitespace=/\S/,wordDiff=exports.wordDiff=new _base2["default"];wordDiff.equals=function(left,right){return left===right||this.options.ignoreWhitespace&&!reWhitespace.test(left)&&!reWhitespace.test(right)};wordDiff.tokenize=function(value){for(var tokens=value.split(/(\s+|\b)/),i=0;i<tokens.length-1;i++){if(!tokens[i+1]&&tokens[i+2]&&extendedWordChars.test(tokens[i])&&extendedWordChars.test(tokens[i+2])){tokens[i]+=tokens[i+2];tokens.splice(i+1,2);i--}}return tokens};function diffWords(oldStr,newStr,callback){var options=(0,params.generateOptions)(callback,{ignoreWhitespace:!0});return wordDiff.diff(oldStr,newStr,options)}function diffWordsWithSpace(oldStr,newStr,callback){return wordDiff.diff(oldStr,newStr,callback)}});unwrapExports(word);var line=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.lineDiff=void 0;exports.diffLines=diffLines;exports.diffTrimmedLines=diffTrimmedLines;var _base2=_interopRequireDefault(base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var lineDiff=exports.lineDiff=new _base2["default"];lineDiff.tokenize=function(value){var retLines=[],linesAndNewlines=value.split(/(\n|\r\n)/);if(!linesAndNewlines[linesAndNewlines.length-1]){linesAndNewlines.pop()}for(var i=0,line;i<linesAndNewlines.length;i++){line=linesAndNewlines[i];if(i%2&&!this.options.newlineIsToken){retLines[retLines.length-1]+=line}else{if(this.options.ignoreWhitespace){line=line.trim()}retLines.push(line)}}return retLines};function diffLines(oldStr,newStr,callback){return lineDiff.diff(oldStr,newStr,callback)}function diffTrimmedLines(oldStr,newStr,callback){var options=(0,params.generateOptions)(callback,{ignoreWhitespace:!0});return lineDiff.diff(oldStr,newStr,options)}});unwrapExports(line);var sentence=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.sentenceDiff=void 0;exports.diffSentences=diffSentences;var _base2=_interopRequireDefault(base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var sentenceDiff=exports.sentenceDiff=new _base2["default"];sentenceDiff.tokenize=function(value){return value.split(/(\S.+?[.!?])(?=\s+|$)/)};function diffSentences(oldStr,newStr,callback){return sentenceDiff.diff(oldStr,newStr,callback)}});unwrapExports(sentence);var css=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.cssDiff=void 0;exports.diffCss=diffCss;var _base2=_interopRequireDefault(base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var cssDiff=exports.cssDiff=new _base2["default"];cssDiff.tokenize=function(value){return value.split(/([{}:;,]|\s+)/)};function diffCss(oldStr,newStr,callback){return cssDiff.diff(oldStr,newStr,callback)}});unwrapExports(css);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return!0}catch(e){return!1}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a),instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}function _wrapNativeSuper(Class){var _cache="function"===typeof Map?new Map:void 0;_wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!_isNativeFunction(Class))return Class;if("function"!==typeof Class){throw new TypeError("Super expression must either be null or a function")}if("undefined"!==typeof _cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _possibleConstructorReturn(self,call){if(call&&("object"===typeof call||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_nonIterableRest()}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=!0){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=!0;_e=err}finally{try{if(!_n&&null!=_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _toPrimitive(input,hint){if("object"!==typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(prim!==void 0){var res=prim.call(input,hint||"default");if("object"!==typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return"symbol"===typeof key?key:key+""}function _addElementPlacement(element,placements,silent){var keys=placements[element.placement];if(!silent&&-1!==keys.indexOf(element.key)){throw new TypeError("Duplicated element ("+element.key+")")}keys.push(element.key)}function _fromElementDescriptor(element){var obj={kind:element.kind,key:element.key,placement:element.placement,descriptor:element.descriptor},desc={value:"Descriptor",configurable:!0};Object.defineProperty(obj,Symbol.toStringTag,desc);if("field"===element.kind)obj.initializer=element.initializer;return obj}function _toElementDescriptors(elementObjects){if(elementObjects===void 0)return;return _toArray(elementObjects).map(function(elementObject){var element=_toElementDescriptor(elementObject);_disallowProperty(elementObject,"finisher","An element descriptor");_disallowProperty(elementObject,"extras","An element descriptor");return element})}function _toElementDescriptor(elementObject){var kind=elementObject.kind+"";if("method"!==kind&&"field"!==kind){throw new TypeError("An element descriptor's .kind property must be either \"method\" or"+" \"field\", but a decorator created an element descriptor with"+" .kind \""+kind+"\"")}var key=_toPropertyKey(elementObject.key),placement=elementObject.placement+"";if("static"!==placement&&"prototype"!==placement&&"own"!==placement){throw new TypeError("An element descriptor's .placement property must be one of \"static\","+" \"prototype\" or \"own\", but a decorator created an element descriptor"+" with .placement \""+placement+"\"")}var descriptor=elementObject.descriptor;_disallowProperty(elementObject,"elements","An element descriptor");var element={kind:kind,key:key,placement:placement,descriptor:Object.assign({},descriptor)};if("field"!==kind){_disallowProperty(elementObject,"initializer","A method descriptor")}else{_disallowProperty(descriptor,"get","The property descriptor of a field descriptor");_disallowProperty(descriptor,"set","The property descriptor of a field descriptor");_disallowProperty(descriptor,"value","The property descriptor of a field descriptor");element.initializer=elementObject.initializer}return element}function _toElementFinisherExtras(elementObject){var element=_toElementDescriptor(elementObject),finisher=_optionalCallableProperty(elementObject,"finisher"),extras=_toElementDescriptors(elementObject.extras);return{element:element,finisher:finisher,extras:extras}}function _fromClassDescriptor(elements){var obj={kind:"class",elements:elements.map(_fromElementDescriptor)},desc={value:"Descriptor",configurable:!0};Object.defineProperty(obj,Symbol.toStringTag,desc);return obj}function _toClassDescriptor(obj){var kind=obj.kind+"";if("class"!==kind){throw new TypeError("A class descriptor's .kind property must be \"class\", but a decorator"+" created a class descriptor with .kind \""+kind+"\"")}_disallowProperty(obj,"key","A class descriptor");_disallowProperty(obj,"placement","A class descriptor");_disallowProperty(obj,"descriptor","A class descriptor");_disallowProperty(obj,"initializer","A class descriptor");_disallowProperty(obj,"extras","A class descriptor");var finisher=_optionalCallableProperty(obj,"finisher"),elements=_toElementDescriptors(obj.elements);return{elements:elements,finisher:finisher}}function _disallowProperty(obj,name,objectType){if(obj[name]!==void 0){throw new TypeError(objectType+" can't have a ."+name+" property.")}}function _optionalCallableProperty(obj,name){var value=obj[name];if(value!==void 0&&"function"!==typeof value){throw new TypeError("Expected '"+name+"' to be a function")}return value}var json=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.jsonDiff=void 0;var _typeof$$1="function"===typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?function(obj){return _typeof(obj)}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol?"symbol":_typeof(obj)};exports.diffJson=diffJson;exports.canonicalize=canonicalize;var _base2=_interopRequireDefault$$1(base);function _interopRequireDefault$$1(obj){return obj&&obj.__esModule?obj:{default:obj}}var objectPrototypeToString=Object.prototype.toString,jsonDiff=exports.jsonDiff=new _base2["default"];jsonDiff.useLongestToken=!0;jsonDiff.tokenize=line.lineDiff.tokenize;jsonDiff.castInput=function(value){var undefinedReplacement=this.options.undefinedReplacement;return"string"===typeof value?value:JSON.stringify(canonicalize(value),function(k,v){if("undefined"===typeof v){return undefinedReplacement}return v},"  ")};jsonDiff.equals=function(left,right){return _base2["default"].prototype.equals(left.replace(/,([\r\n])/g,"$1"),right.replace(/,([\r\n])/g,"$1"))};function diffJson(oldObj,newObj,options){return jsonDiff.diff(oldObj,newObj,options)}function canonicalize(obj,stack,replacementStack){stack=stack||[];replacementStack=replacementStack||[];var i;for(i=0;i<stack.length;i+=1){if(stack[i]===obj){return replacementStack[i]}}var canonicalizedObj;if("[object Array]"===objectPrototypeToString.call(obj)){stack.push(obj);canonicalizedObj=Array(obj.length);replacementStack.push(canonicalizedObj);for(i=0;i<obj.length;i+=1){canonicalizedObj[i]=canonicalize(obj[i],stack,replacementStack)}stack.pop();replacementStack.pop();return canonicalizedObj}if(obj&&obj.toJSON){obj=obj.toJSON()}if("object"===("undefined"===typeof obj?"undefined":_typeof$$1(obj))&&null!==obj){stack.push(obj);canonicalizedObj={};replacementStack.push(canonicalizedObj);var sortedKeys=[],key;for(key in obj){if(obj.hasOwnProperty(key)){sortedKeys.push(key)}}sortedKeys.sort();for(i=0;i<sortedKeys.length;i+=1){key=sortedKeys[i];canonicalizedObj[key]=canonicalize(obj[key],stack,replacementStack)}stack.pop();replacementStack.pop()}else{canonicalizedObj=obj}return canonicalizedObj}});unwrapExports(json);var array=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.arrayDiff=void 0;exports.diffArrays=diffArrays;var _base2=_interopRequireDefault(base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var arrayDiff=exports.arrayDiff=new _base2["default"];arrayDiff.tokenize=arrayDiff.join=function(value){return value.slice()};function diffArrays(oldArr,newArr,callback){return arrayDiff.diff(oldArr,newArr,callback)}});unwrapExports(array);var parse=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.parsePatch=parsePatch;function parsePatch(uniDiff){var options=1>=arguments.length||arguments[1]===void 0?{}:arguments[1],diffstr=uniDiff.split(/\r\n|[\n\v\f\r\x85]/),delimiters=uniDiff.match(/\r\n|[\n\v\f\r\x85]/g)||[],list=[],i=0;function parseIndex(){var index={};list.push(index);while(i<diffstr.length){var line=diffstr[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(line)){break}var header=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(line);if(header){index.index=header[1]}i++}parseFileHeader(index);parseFileHeader(index);index.hunks=[];while(i<diffstr.length){var _line=diffstr[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(_line)){break}else if(/^@@/.test(_line)){index.hunks.push(parseHunk())}else if(_line&&options.strict){throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(_line))}else{i++}}}function parseFileHeader(index){var headerPattern=/^(---|\+\+\+)\s+([\S ]*)(?:\t(.*?)\s*)?$/,fileHeader=headerPattern.exec(diffstr[i]);if(fileHeader){var keyPrefix="---"===fileHeader[1]?"old":"new";index[keyPrefix+"FileName"]=fileHeader[2];index[keyPrefix+"Header"]=fileHeader[3];i++}}function parseHunk(){var chunkHeaderIndex=i,chunkHeaderLine=diffstr[i++],chunkHeader=chunkHeaderLine.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),hunk={oldStart:+chunkHeader[1],oldLines:+chunkHeader[2]||1,newStart:+chunkHeader[3],newLines:+chunkHeader[4]||1,lines:[],linedelimiters:[]},addCount=0,removeCount=0;for(;i<diffstr.length;i++){if(0===diffstr[i].indexOf("--- ")&&i+2<diffstr.length&&0===diffstr[i+1].indexOf("+++ ")&&0===diffstr[i+2].indexOf("@@")){break}var operation=diffstr[i][0];if("+"===operation||"-"===operation||" "===operation||"\\"===operation){hunk.lines.push(diffstr[i]);hunk.linedelimiters.push(delimiters[i]||"\n");if("+"===operation){addCount++}else if("-"===operation){removeCount++}else if(" "===operation){addCount++;removeCount++}}else{break}}if(!addCount&&1===hunk.newLines){hunk.newLines=0}if(!removeCount&&1===hunk.oldLines){hunk.oldLines=0}if(options.strict){if(addCount!==hunk.newLines){throw new Error("Added line count did not match for hunk at line "+(chunkHeaderIndex+1))}if(removeCount!==hunk.oldLines){throw new Error("Removed line count did not match for hunk at line "+(chunkHeaderIndex+1))}}return hunk}while(i<diffstr.length){parseIndex()}return list}});unwrapExports(parse);var distanceIterator=createCommonjsModule(function(module,exports){"use strict";exports.__esModule=!0;exports["default"]=function(start,minLine,maxLine){var wantForward=!0,backwardExhausted=!1,forwardExhausted=!1,localOffset=1;return function iterator(){if(wantForward&&!forwardExhausted){if(backwardExhausted){localOffset++}else{wantForward=!1}if(start+localOffset<=maxLine){return localOffset}forwardExhausted=!0}if(!backwardExhausted){if(!forwardExhausted){wantForward=!0}if(minLine<=start-localOffset){return-localOffset++}backwardExhausted=!0;return iterator()}}}});unwrapExports(distanceIterator);var apply=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.applyPatch=applyPatch;exports.applyPatches=applyPatches;var _distanceIterator2=_interopRequireDefault(distanceIterator);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyPatch(source,uniDiff){var options=2>=arguments.length||arguments[2]===void 0?{}:arguments[2];if("string"===typeof uniDiff){uniDiff=(0,parse.parsePatch)(uniDiff)}if(Array.isArray(uniDiff)){if(1<uniDiff.length){throw new Error("applyPatch only works with a single input.")}uniDiff=uniDiff[0]}var lines=source.split(/\r\n|[\n\v\f\r\x85]/),delimiters=source.match(/\r\n|[\n\v\f\r\x85]/g)||[],hunks=uniDiff.hunks,compareLine=options.compareLine||function(lineNumber,line,operation,patchContent){return line===patchContent},errorCount=0,fuzzFactor=options.fuzzFactor||0,minLine=0,offset=0,removeEOFNL,addEOFNL;function hunkFits(hunk,toPos){for(var j=0;j<hunk.lines.length;j++){var line=hunk.lines[j],operation=line[0],content=line.substr(1);if(" "===operation||"-"===operation){if(!compareLine(toPos+1,lines[toPos],operation,content)){errorCount++;if(errorCount>fuzzFactor){return!1}}toPos++}}return!0}for(var i=0;i<hunks.length;i++){var hunk=hunks[i],maxLine=lines.length-hunk.oldLines,localOffset=0,toPos=offset+hunk.oldStart-1,iterator=(0,_distanceIterator2["default"])(toPos,minLine,maxLine);for(;localOffset!==void 0;localOffset=iterator()){if(hunkFits(hunk,toPos+localOffset)){hunk.offset=offset+=localOffset;break}}if(localOffset===void 0){return!1}minLine=hunk.offset+hunk.oldStart+hunk.oldLines}for(var _i=0;_i<hunks.length;_i++){var _hunk=hunks[_i],_toPos=_hunk.offset+_hunk.newStart-1;if(0==_hunk.newLines){_toPos++}for(var j=0;j<_hunk.lines.length;j++){var line=_hunk.lines[j],operation=line[0],content=line.substr(1),delimiter=_hunk.linedelimiters[j];if(" "===operation){_toPos++}else if("-"===operation){lines.splice(_toPos,1);delimiters.splice(_toPos,1)}else if("+"===operation){lines.splice(_toPos,0,content);delimiters.splice(_toPos,0,delimiter);_toPos++}else if("\\"===operation){var previousOperation=_hunk.lines[j-1]?_hunk.lines[j-1][0]:null;if("+"===previousOperation){removeEOFNL=!0}else if("-"===previousOperation){addEOFNL=!0}}}}if(removeEOFNL){while(!lines[lines.length-1]){lines.pop();delimiters.pop()}}else if(addEOFNL){lines.push("");delimiters.push("\n")}for(var _k=0;_k<lines.length-1;_k++){lines[_k]=lines[_k]+delimiters[_k]}return lines.join("")}function applyPatches(uniDiff,options){if("string"===typeof uniDiff){uniDiff=(0,parse.parsePatch)(uniDiff)}var currentIndex=0;function processIndex(){var index=uniDiff[currentIndex++];if(!index){return options.complete()}options.loadFile(index,function(err,data){if(err){return options.complete(err)}var updatedContent=applyPatch(data,index,options);options.patched(index,updatedContent,function(err){if(err){return options.complete(err)}processIndex()})})}processIndex()}});unwrapExports(apply);var create=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.structuredPatch=structuredPatch;exports.createTwoFilesPatch=createTwoFilesPatch;exports.createPatch=createPatch;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function structuredPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options){if(!options){options={}}if("undefined"===typeof options.context){options.context=4}var diff=(0,line.diffLines)(oldStr,newStr,options);diff.push({value:"",lines:[]});function contextLines(lines){return lines.map(function(entry){return" "+entry})}for(var hunks=[],oldRangeStart=0,newRangeStart=0,curRange=[],oldLine=1,newLine=1,_loop=function _loop(i){var current=diff[i],lines=current.lines||current.value.replace(/\n$/,"").split("\n");current.lines=lines;if(current.added||current.removed){var _curRange;if(!oldRangeStart){var prev=diff[i-1];oldRangeStart=oldLine;newRangeStart=newLine;if(prev){curRange=0<options.context?contextLines(prev.lines.slice(-options.context)):[];oldRangeStart-=curRange.length;newRangeStart-=curRange.length}}(_curRange=curRange).push.apply(_curRange,_toConsumableArray(lines.map(function(entry){return(current.added?"+":"-")+entry})));if(current.added){newLine+=lines.length}else{oldLine+=lines.length}}else{if(oldRangeStart){if(lines.length<=2*options.context&&i<diff.length-2){var _curRange2;(_curRange2=curRange).push.apply(_curRange2,_toConsumableArray(contextLines(lines)))}else{var _curRange3,contextSize=_Mathmin(lines.length,options.context);(_curRange3=curRange).push.apply(_curRange3,_toConsumableArray(contextLines(lines.slice(0,contextSize))));var hunk={oldStart:oldRangeStart,oldLines:oldLine-oldRangeStart+contextSize,newStart:newRangeStart,newLines:newLine-newRangeStart+contextSize,lines:curRange};if(i>=diff.length-2&&lines.length<=options.context){var oldEOFNewline=/\n$/.test(oldStr),newEOFNewline=/\n$/.test(newStr);if(0==lines.length&&!oldEOFNewline){curRange.splice(hunk.oldLines,0,"\\ No newline at end of file")}else if(!oldEOFNewline||!newEOFNewline){curRange.push("\\ No newline at end of file")}}hunks.push(hunk);oldRangeStart=0;newRangeStart=0;curRange=[]}}oldLine+=lines.length;newLine+=lines.length}},i=0;i<diff.length;i++){_loop(i)}return{oldFileName:oldFileName,newFileName:newFileName,oldHeader:oldHeader,newHeader:newHeader,hunks:hunks}}function createTwoFilesPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options){var diff=structuredPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options),ret=[];if(oldFileName==newFileName){ret.push("Index: "+oldFileName)}ret.push("===================================================================");ret.push("--- "+diff.oldFileName+("undefined"===typeof diff.oldHeader?"":"\t"+diff.oldHeader));ret.push("+++ "+diff.newFileName+("undefined"===typeof diff.newHeader?"":"\t"+diff.newHeader));for(var i=0,hunk;i<diff.hunks.length;i++){hunk=diff.hunks[i];ret.push("@@ -"+hunk.oldStart+","+hunk.oldLines+" +"+hunk.newStart+","+hunk.newLines+" @@");ret.push.apply(ret,hunk.lines)}return ret.join("\n")+"\n"}function createPatch(fileName,oldStr,newStr,oldHeader,newHeader,options){return createTwoFilesPatch(fileName,fileName,oldStr,newStr,oldHeader,newHeader,options)}});unwrapExports(create);var dmp=createCommonjsModule(function(module,exports){"use strict";exports.__esModule=!0;exports.convertChangesToDMP=convertChangesToDMP;function convertChangesToDMP(changes){for(var ret=[],change=void 0,operation=void 0,i=0;i<changes.length;i++){change=changes[i];if(change.added){operation=1}else if(change.removed){operation=-1}else{operation=0}ret.push([operation,change.value])}return ret}});unwrapExports(dmp);var xml=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.convertChangesToXML=convertChangesToXML;function convertChangesToXML(changes){for(var ret=[],i=0,change;i<changes.length;i++){change=changes[i];if(change.added){ret.push("<ins>")}else if(change.removed){ret.push("<del>")}ret.push(escapeHTML(change.value));if(change.added){ret.push("</ins>")}else if(change.removed){ret.push("</del>")}}return ret.join("")}function escapeHTML(s){var n=s;n=n.replace(/&/g,"&amp;");n=n.replace(/</g,"&lt;");n=n.replace(/>/g,"&gt;");n=n.replace(/"/g,"&quot;");return n}});unwrapExports(xml);var lib=createCommonjsModule(function(module,exports){'use strict';exports.__esModule=!0;exports.canonicalize=exports.convertChangesToXML=exports.convertChangesToDMP=exports.parsePatch=exports.applyPatches=exports.applyPatch=exports.createPatch=exports.createTwoFilesPatch=exports.structuredPatch=exports.diffArrays=exports.diffJson=exports.diffCss=exports.diffSentences=exports.diffTrimmedLines=exports.diffLines=exports.diffWordsWithSpace=exports.diffWords=exports.diffChars=exports.Diff=void 0;var _base2=_interopRequireDefault(base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Diff=_base2["default"];exports.diffChars=character.diffChars;exports.diffWords=word.diffWords;exports.diffWordsWithSpace=word.diffWordsWithSpace;exports.diffLines=line.diffLines;exports.diffTrimmedLines=line.diffTrimmedLines;exports.diffSentences=sentence.diffSentences;exports.diffCss=css.diffCss;exports.diffJson=json.diffJson;exports.diffArrays=array.diffArrays;exports.structuredPatch=create.structuredPatch;exports.createTwoFilesPatch=create.createTwoFilesPatch;exports.createPatch=create.createPatch;exports.applyPatch=apply.applyPatch;exports.applyPatches=apply.applyPatches;exports.parsePatch=parse.parsePatch;exports.convertChangesToDMP=dmp.convertChangesToDMP;exports.convertChangesToXML=xml.convertChangesToXML;exports.canonicalize=json.canonicalize});unwrapExports(lib);var _shim_fs={},_shim_fs$1=Object.freeze({default:_shim_fs}),normalizePath=function normalizePath(path,stripTrailing){if("string"!==typeof path){throw new TypeError("expected path to be a string")}if("\\"===path||"/"===path)return"/";var len=path.length;if(1>=len)return path;var prefix="";if(4<len&&"\\"===path[3]){var ch=path[2];if(("?"===ch||"."===ch)&&"\\\\"===path.slice(0,2)){path=path.slice(2);prefix="//"}}var segs=path.split(/[/\\]+/);if(!1!==stripTrailing&&""===segs[segs.length-1]){segs.pop()}return prefix+segs.join("/")},global$1="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},lookup=[],revLookup=[],Arr="undefined"!==typeof Uint8Array?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63}function toByteArray(b64){if(!inited){init()}var i,j,l,tmp,placeHolders,arr,len=b64.length;if(0<len%4){throw new Error("Invalid string. Length must be a multiple of 4")}placeHolders="="===b64[len-2]?2:"="===b64[len-1]?1:0;arr=new Arr(3*len/4-placeHolders);l=0<placeHolders?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=255&tmp>>16;arr[L++]=255&tmp>>8;arr[L++]=255&tmp}if(2===placeHolders){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=255&tmp}else if(1===placeHolders){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=255&tmp>>8;arr[L++]=255&tmp}return arr}function tripletToBase64(num){return lookup[63&num>>18]+lookup[63&num>>12]+lookup[63&num>>6]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){if(!inited){init()}for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(1===extraBytes){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[63&tmp<<4];output+="=="}else if(2===extraBytes){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>10];output+=lookup[63&tmp>>4];output+=lookup[63&tmp<<2];output+="="}parts.push(output);return parts.join("")}function read(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;0<nBits;e=256*e+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;0<nBits;m=256*m+buffer[offset+i],i+=d,nBits-=8){}if(0===e){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*(1/0)}else{m=m+_Mathpow(2,mLen);e=e-eBias}return(s?-1:1)*m*_Mathpow(2,e-mLen)}function write(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?5.960464477539063e-8-6.617444900424222e-24:0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0;value=Math.abs(value);if(isNaN(value)||value===1/0){m=isNaN(value)?1:0;e=eMax}else{e=_Mathfloor(Math.log(value)/Math.LN2);if(1>value*(c=_Mathpow(2,-e))){e--;c*=2}if(1<=e+eBias){value+=rt/c}else{value+=rt*_Mathpow(2,1-eBias)}if(2<=value*c){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(1<=e+eBias){m=(value*c-1)*_Mathpow(2,mLen);e=e+eBias}else{m=value*_Mathpow(2,eBias-1)*_Mathpow(2,mLen);e=0}}for(;8<=mLen;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;0<eLen;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=128*s}var toString={}.toString,isArray$1=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)},INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT!==void 0?global$1.TYPED_ARRAY_SUPPORT:!0;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length){throw new RangeError("Invalid typed array length")}if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer.prototype}else{if(null===that){that=new Buffer(length)}that.length=length}return that}function Buffer(arg,encodingOrOffset,length){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer)){return new Buffer(arg,encodingOrOffset,length)}if("number"===typeof arg){if("string"===typeof encodingOrOffset){throw new Error("If encoding is specified then the first argument must be a string")}return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}Buffer.poolSize=8192;Buffer._augment=function(arr){arr.__proto__=Buffer.prototype;return arr};function from(that,value,encodingOrOffset,length){if("number"===typeof value){throw new TypeError("\"value\" argument must not be a number")}if("undefined"!==typeof ArrayBuffer&&value instanceof ArrayBuffer){return fromArrayBuffer(that,value,encodingOrOffset,length)}if("string"===typeof value){return fromString(that,value,encodingOrOffset)}return fromObject(that,value)}Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)};if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;if("undefined"!==typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer){}}function assertSize(size){if("number"!==typeof size){throw new TypeError("\"size\" argument must be a number")}else if(0>size){throw new RangeError("\"size\" argument must not be negative")}}function alloc(that,size,fill,encoding){assertSize(size);if(0>=size){return createBuffer(that,size)}if(fill!==void 0){return"string"===typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill)}return createBuffer(that,size)}Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)};function allocUnsafe(that,size){assertSize(size);that=createBuffer(that,0>size?0:0|checked(size));if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<size;++i){that[i]=0}}return that}Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)};function fromString(that,string,encoding){if("string"!==typeof encoding||""===encoding){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError("\"encoding\" must be a valid string encoding")}var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);if(actual!==length){that=that.slice(0,actual)}return that}function fromArrayLike(that,array){var length=0>array.length?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1){that[i]=255&array[i]}return that}function fromArrayBuffer(that,array,byteOffset,length){array.byteLength;if(0>byteOffset||array.byteLength<byteOffset){throw new RangeError("'offset' is out of bounds")}if(array.byteLength<byteOffset+(length||0)){throw new RangeError("'length' is out of bounds")}if(byteOffset===void 0&&length===void 0){array=new Uint8Array(array)}else if(length===void 0){array=new Uint8Array(array,byteOffset)}else{array=new Uint8Array(array,byteOffset,length)}if(Buffer.TYPED_ARRAY_SUPPORT){that=array;that.__proto__=Buffer.prototype}else{that=fromArrayLike(that,array)}return that}function fromObject(that,obj){if(internalIsBuffer(obj)){var len=0|checked(obj.length);that=createBuffer(that,len);if(0===that.length){return that}obj.copy(that,0,0,len);return that}if(obj){if("undefined"!==typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj){if("number"!==typeof obj.length||isnan(obj.length)){return createBuffer(that,0)}return fromArrayLike(that,obj)}if("Buffer"===obj.type&&isArray$1(obj.data)){return fromArrayLike(that,obj.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return 0|length}Buffer.isBuffer=isBuffer;function internalIsBuffer(b){return!!(null!=b&&b._isBuffer)}Buffer.compare=function compare(a,b){if(!internalIsBuffer(a)||!internalIsBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=_Mathmin(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch((encoding+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}};Buffer.concat=function concat(list,length){if(!isArray$1(list)){throw new TypeError("\"list\" argument must be an Array of Buffers")}if(0===list.length){return Buffer.alloc(0)}var i;if(length===void 0){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!internalIsBuffer(buf)){throw new TypeError("\"list\" argument must be an Array of Buffers")}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(internalIsBuffer(string)){return string.length}if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer)){return string.byteLength}if("string"!==typeof string){string=""+string}var len=string.length;if(0===len)return 0;var loweredCase=!1;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=!0;}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=!1;if(start===void 0||0>start){start=0}if(start>this.length){return""}if(end===void 0||end>this.length){end=this.length}if(0>=end){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(!0){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=!0;}}}Buffer.prototype._isBuffer=!0;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(0!==len%2){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(0!==len%4){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(0!==len%8){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=0|this.length;if(0===length)return"";if(0===arguments.length)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!internalIsBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return!0;return 0===Buffer.compare(this,b)};Buffer.prototype.inspect=function inspect(){var str="",max=INSPECT_MAX_BYTES;if(0<this.length){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!internalIsBuffer(target)){throw new TypeError("Argument must be a Buffer")}if(start===void 0){start=0}if(end===void 0){end=target?target.length:0}if(thisStart===void 0){thisStart=0}if(thisEnd===void 0){thisEnd=this.length}if(0>start||end>target.length||0>thisStart||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=_Mathmin(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"===typeof byteOffset){encoding=byteOffset;byteOffset=0}else if(2147483647<byteOffset){byteOffset=2147483647}else if(-2147483648>byteOffset){byteOffset=-2147483648}byteOffset=+byteOffset;if(isNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(0>byteOffset)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(0>byteOffset){if(dir)byteOffset=0;else return-1}if("string"===typeof val){val=Buffer.from(val,encoding)}if(internalIsBuffer(val)){if(0===val.length){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if("number"===typeof val){val=255&val;if(Buffer.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1,arrLength=arr.length,valLength=val.length;if(encoding!==void 0){encoding=(encoding+"").toLowerCase();if("ucs2"===encoding||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding){if(2>arr.length||2>val.length){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read$$1(buf,i){if(1===indexSize){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read$$1(arr,i)===read$$1(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(-1!==foundIndex)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;0<=i;i--){for(var found=!0,j=0;j<valLength;j++){if(read$$1(arr,i+j)!==read$$1(val,j)){found=!1;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)};function hexWrite(buf,string,offset,length){offset=+offset||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=+length;if(length>remaining){length=remaining}}var strLen=string.length;if(0!==strLen%2)throw new TypeError("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0,parsed;i<length;++i){parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write$$1(string,offset,length,encoding){if(offset===void 0){encoding="utf8";length=this.length;offset=0}else if(length===void 0&&"string"===typeof offset){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=0|offset;if(isFinite(length)){length=0|length;if(encoding===void 0)encoding="utf8"}else{encoding=length;length=void 0}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===void 0||length>remaining)length=remaining;if(0<string.length&&(0>length||0>offset)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=!1;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=!0;}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(0===start&&end===buf.length){return fromByteArray(buf)}else{return fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=_Mathmin(buf.length,end);var res=[],i=start;while(i<end){var firstByte=buf[i],codePoint=null,bytesPerSequence=239<firstByte?4:223<firstByte?3:191<firstByte?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(128>firstByte){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if(128===(192&secondByte)){tempCodePoint=(31&firstByte)<<6|63&secondByte;if(127<tempCodePoint){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if(128===(192&secondByte)&&128===(192&thirdByte)){tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte;if(2047<tempCodePoint&&(55296>tempCodePoint||57343<tempCodePoint)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if(128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)){tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte;if(65535<tempCodePoint&&1114112>tempCodePoint){codePoint=tempCodePoint}}}}if(null===codePoint){codePoint=65533;bytesPerSequence=1}else if(65535<codePoint){codePoint-=65536;res.push(55296|1023&codePoint>>>10);codePoint=56320|1023&codePoint}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return _StringfromCharCode.apply(String,codePoints)}var res="",i=0;while(i<len){res+=_StringfromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=_Mathmin(buf.length,end);for(var i=start;i<end;++i){ret+=_StringfromCharCode(127&buf[i])}return ret}function latin1Slice(buf,start,end){var ret="";end=_Mathmin(buf.length,end);for(var i=start;i<end;++i){ret+=_StringfromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||0>start)start=0;if(!end||0>end||end>len)end=len;for(var out="",i=start;i<end;++i){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2){res+=_StringfromCharCode(bytes[i]+256*bytes[i+1])}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===void 0?len:~~end;if(0>start){start+=len;if(0>start)start=0}else if(start>len){start=len}if(0>end){end+=len;if(0>end)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i){newBuf[i]=this[i+start]}}return newBuf};function checkOffset(offset,ext,length){if(0!==offset%1||0>offset)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=0|offset;byteLength=0|byteLength;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset],mul=1,i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=0|offset;byteLength=0|byteLength;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength],mul=1;while(0<byteLength&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return 16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=0|offset;byteLength=0|byteLength;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset],mul=1,i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=_Mathpow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=0|offset;byteLength=0|byteLength;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength,mul=1,val=this[offset+--i];while(0<i&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=_Mathpow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(128&this[offset]))return this[offset];return-1*(255-this[offset]+1)};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return read(this,offset,!0,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return read(this,offset,!1,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return read(this,offset,!0,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return read(this,offset,!1,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!internalIsBuffer(buf))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(value>max||value<min)throw new RangeError("\"value\" argument is out of bounds");if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=0|offset;byteLength=0|byteLength;if(!noAssert){var maxBytes=_Mathpow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;this[offset]=255&value;while(++i<byteLength&&(mul*=256)){this[offset+i]=255&value/mul}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=0|offset;byteLength=0|byteLength;if(!noAssert){var maxBytes=_Mathpow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;this[offset+i]=255&value;while(0<=--i&&(mul*=256)){this[offset+i]=255&value/mul}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=0|offset;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=_Mathfloor(value);this[offset]=255&value;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(0>value)value=65535+value+1;for(var i=0,j=_Mathmin(buf.length-offset,2);i<j;++i){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=0|offset;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=255&value;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,!0)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=0|offset;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=255&value}else{objectWriteUInt16(this,value,offset,!1)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(0>value)value=4294967295+value+1;for(var i=0,j=_Mathmin(buf.length-offset,4);i<j;++i){buf[offset+i]=255&value>>>8*(littleEndian?i:3-i)}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=0|offset;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=255&value}else{objectWriteUInt32(this,value,offset,!0)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=0|offset;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=255&value}else{objectWriteUInt32(this,value,offset,!1)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=0|offset;if(!noAssert){var limit=_Mathpow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;this[offset]=255&value;while(++i<byteLength&&(mul*=256)){if(0>value&&0===sub&&0!==this[offset+i-1]){sub=1}this[offset+i]=255&(value/mul>>0)-sub}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=0|offset;if(!noAssert){var limit=_Mathpow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;this[offset+i]=255&value;while(0<=--i&&(mul*=256)){if(0>value&&0===sub&&0!==this[offset+i+1]){sub=1}this[offset+i]=255&(value/mul>>0)-sub}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=0|offset;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=_Mathfloor(value);if(0>value)value=255+value+1;this[offset]=255&value;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=0|offset;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=255&value;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,!0)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=0|offset;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=255&value}else{objectWriteUInt16(this,value,offset,!1)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=0|offset;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=255&value;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,!0)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=0|offset;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(0>value)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=255&value}else{objectWriteUInt32(this,value,offset,!1)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(0>offset)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&0!==end)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(0<end&&end<start)end=start;if(end===start)return 0;if(0===target.length||0===this.length)return 0;if(0>targetStart){throw new RangeError("targetStart out of bounds")}if(0>start||start>=this.length)throw new RangeError("sourceStart out of bounds");if(0>end)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start,i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;0<=i;--i){target[i+targetStart]=this[i+start]}}else if(1e3>len||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;++i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if("string"===typeof val){if("string"===typeof start){encoding=start;start=0;end=this.length}else if("string"===typeof end){encoding=end;end=this.length}if(1===val.length){var code=val.charCodeAt(0);if(256>code){val=code}}if(encoding!==void 0&&"string"!==typeof encoding){throw new TypeError("encoding must be a string")}if("string"===typeof encoding&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}}else if("number"===typeof val){val=255&val}if(0>start||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===void 0?this.length:end>>>0;if(!val)val=0;var i;if("number"===typeof val){for(i=start;i<end;++i){this[i]=val}}else{var bytes=internalIsBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(2>str.length)return"";while(0!==str.length%4){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(16>n)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){codePoint=string.charCodeAt(i);if(55295<codePoint&&57344>codePoint){if(!leadSurrogate){if(56319<codePoint){if(-1<(units-=3))bytes.push(239,191,189);continue}else if(i+1===length){if(-1<(units-=3))bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(56320>codePoint){if(-1<(units-=3))bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if(-1<(units-=3))bytes.push(239,191,189)}leadSurrogate=null;if(128>codePoint){if(0>(units-=1))break;bytes.push(codePoint)}else if(2048>codePoint){if(0>(units-=2))break;bytes.push(192|codePoint>>6,128|63&codePoint)}else if(65536>codePoint){if(0>(units-=3))break;bytes.push(224|codePoint>>12,128|63&codePoint>>6,128|63&codePoint)}else if(1114112>codePoint){if(0>(units-=4))break;bytes.push(240|codePoint>>18,128|63&codePoint>>12,128|63&codePoint>>6,128|63&codePoint)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i){byteArray.push(255&str.charCodeAt(i))}return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length;++i){if(0>(units-=2))break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isnan(val){return val!==val}function isBuffer(obj){return null!=obj&&(!!obj._isBuffer||isFastBuffer(obj)||isSlowBuffer(obj))}function isFastBuffer(obj){return!!obj.constructor&&"function"===typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return"function"===typeof obj.readFloatLE&&"function"===typeof obj.slice&&isFastBuffer(obj.slice(0,0))}var fs=_shim_fs$1&&_shim_fs||_shim_fs$1,LineByLine=function(){function LineByLine(file,options){_classCallCheck(this,LineByLine);options=options||{};if(!options.readChunk)options.readChunk=1024;if(!options.newLineCharacter){options.newLineCharacter=10}else{options.newLineCharacter=options.newLineCharacter.charCodeAt(0)}if("number"===typeof file){this.fd=file}else{this.fd=fs.openSync(file,"r")}this.options=options;this.newLineCharacter=options.newLineCharacter;this.reset()}_createClass(LineByLine,[{key:"_searchInBuffer",value:function _searchInBuffer(buffer,hexNeedle){for(var found=-1,i=0,b_byte;i<=buffer.length;i++){b_byte=buffer[i];if(b_byte===hexNeedle){found=i;break}}return found}},{key:"reset",value:function reset(){this.eofReached=!1;this.linesCache=[];this.fdPosition=0}},{key:"close",value:function close(){fs.closeSync(this.fd);this.fd=null}},{key:"_extractLines",value:function _extractLines(buffer){var line,lines=[],bufferPosition=0,lastNewLineBufferPosition=0;while(!0){var bufferPositionValue=buffer[bufferPosition++];if(bufferPositionValue===this.newLineCharacter){line=buffer.slice(lastNewLineBufferPosition,bufferPosition);lines.push(line);lastNewLineBufferPosition=bufferPosition}else if(!bufferPositionValue){break}}var leftovers=buffer.slice(lastNewLineBufferPosition,bufferPosition);if(leftovers.length){lines.push(leftovers)}return lines}},{key:"_readChunk",value:function _readChunk(lineLeftovers){var totalBytesRead=0,bytesRead,buffers=[];do{var readBuffer=new Buffer(this.options.readChunk);bytesRead=fs.readSync(this.fd,readBuffer,0,this.options.readChunk,this.fdPosition);totalBytesRead=totalBytesRead+bytesRead;this.fdPosition=this.fdPosition+bytesRead;buffers.push(readBuffer)}while(bytesRead&&-1===this._searchInBuffer(buffers[buffers.length-1],this.options.newLineCharacter));var bufferData=Buffer.concat(buffers);if(bytesRead<this.options.readChunk){this.eofReached=!0;bufferData=bufferData.slice(0,totalBytesRead)}if(totalBytesRead){this.linesCache=this._extractLines(bufferData);if(lineLeftovers){this.linesCache[0]=Buffer.concat([lineLeftovers,this.linesCache[0]])}}return totalBytesRead}},{key:"next",value:function next(){if(!this.fd)return!1;var line=!1;if(this.eofReached&&0===this.linesCache.length){return line}var bytesRead;if(!this.linesCache.length){bytesRead=this._readChunk()}if(this.linesCache.length){line=this.linesCache.shift();var lastLineCharacter=line[line.length-1];if(10!==lastLineCharacter){bytesRead=this._readChunk(line);if(bytesRead){line=this.linesCache.shift()}}}if(this.eofReached&&0===this.linesCache.length){this.close()}if(line&&line[line.length-1]===this.newLineCharacter){line=line.slice(0,line.length-1)}return line}}]);return LineByLine}(),readlines=LineByLine,ConfigError=function(_Error){_inherits(ConfigError,_Error);function ConfigError(){_classCallCheck(this,ConfigError);return _possibleConstructorReturn(this,_getPrototypeOf(ConfigError).apply(this,arguments))}return ConfigError}(_wrapNativeSuper(Error)),DebugError=function(_Error2){_inherits(DebugError,_Error2);function DebugError(){_classCallCheck(this,DebugError);return _possibleConstructorReturn(this,_getPrototypeOf(DebugError).apply(this,arguments))}return DebugError}(_wrapNativeSuper(Error)),UndefinedParserError$1=function(_Error3){_inherits(UndefinedParserError,_Error3);function UndefinedParserError(){_classCallCheck(this,UndefinedParserError);return _possibleConstructorReturn(this,_getPrototypeOf(UndefinedParserError).apply(this,arguments))}return UndefinedParserError}(_wrapNativeSuper(Error)),errors={ConfigError:ConfigError,DebugError:DebugError,UndefinedParserError:UndefinedParserError$1};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;if("function"===typeof global$1.setTimeout){cachedSetTimeout=setTimeout}if("function"===typeof global$1.clearTimeout){cachedClearTimeout=clearTimeout}function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=!1;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=!0;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=!1;runClearTimeout(timeout)}function nextTick(fun){var args=Array(arguments.length-1);if(1<arguments.length){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(1===queue.length&&!draining){runTimeout(drainQueue)}}function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version$2="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(name){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(dir){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global$1.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return new Date().getTime()};function hrtime(previousTimestamp){var clocktime=1e-3*performanceNow.call(performance),seconds=_Mathfloor(clocktime),nanoseconds=_Mathfloor(1e9*(clocktime%1));if(previousTimestamp){seconds=seconds-previousTimestamp[0];nanoseconds=nanoseconds-previousTimestamp[1];if(0>nanoseconds){seconds--;nanoseconds+=1e9}}return[seconds,nanoseconds]}var startTime=new Date;function uptime(){var currentTime=new Date,dif=currentTime-startTime;return dif/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version$2,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},semver=createCommonjsModule(function(module,exports){exports=module.exports=SemVer;var debug;if("object"===_typeof(process)&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG))debug=function debug(){var args=Array.prototype.slice.call(arguments,0);args.unshift("SEMVER");console.log.apply(console,args)};else debug=function debug(){};exports.SEMVER_SPEC_VERSION="2.0.0";var MAX_LENGTH=256,MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,re=exports.re=[],src=exports.src=[],R=0,NUMERICIDENTIFIER=R++;src[NUMERICIDENTIFIER]="0|[1-9]\\d*";var NUMERICIDENTIFIERLOOSE=R++;src[NUMERICIDENTIFIERLOOSE]="[0-9]+";var NONNUMERICIDENTIFIER=R++;src[NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var MAINVERSION=R++;src[MAINVERSION]="("+src[NUMERICIDENTIFIER]+")\\."+"("+src[NUMERICIDENTIFIER]+")\\."+"("+src[NUMERICIDENTIFIER]+")";var MAINVERSIONLOOSE=R++;src[MAINVERSIONLOOSE]="("+src[NUMERICIDENTIFIERLOOSE]+")\\."+"("+src[NUMERICIDENTIFIERLOOSE]+")\\."+"("+src[NUMERICIDENTIFIERLOOSE]+")";var PRERELEASEIDENTIFIER=R++;src[PRERELEASEIDENTIFIER]="(?:"+src[NUMERICIDENTIFIER]+"|"+src[NONNUMERICIDENTIFIER]+")";var PRERELEASEIDENTIFIERLOOSE=R++;src[PRERELEASEIDENTIFIERLOOSE]="(?:"+src[NUMERICIDENTIFIERLOOSE]+"|"+src[NONNUMERICIDENTIFIER]+")";var PRERELEASE=R++;src[PRERELEASE]="(?:-("+src[PRERELEASEIDENTIFIER]+"(?:\\."+src[PRERELEASEIDENTIFIER]+")*))";var PRERELEASELOOSE=R++;src[PRERELEASELOOSE]="(?:-?("+src[PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+src[PRERELEASEIDENTIFIERLOOSE]+")*))";var BUILDIDENTIFIER=R++;src[BUILDIDENTIFIER]="[0-9A-Za-z-]+";var BUILD=R++;src[BUILD]="(?:\\+("+src[BUILDIDENTIFIER]+"(?:\\."+src[BUILDIDENTIFIER]+")*))";var FULL=R++,FULLPLAIN="v?"+src[MAINVERSION]+src[PRERELEASE]+"?"+src[BUILD]+"?";src[FULL]="^"+FULLPLAIN+"$";var LOOSEPLAIN="[v=\\s]*"+src[MAINVERSIONLOOSE]+src[PRERELEASELOOSE]+"?"+src[BUILD]+"?",LOOSE=R++;src[LOOSE]="^"+LOOSEPLAIN+"$";var GTLT=R++;src[GTLT]="((?:<|>)?=?)";var XRANGEIDENTIFIERLOOSE=R++;src[XRANGEIDENTIFIERLOOSE]=src[NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";var XRANGEIDENTIFIER=R++;src[XRANGEIDENTIFIER]=src[NUMERICIDENTIFIER]+"|x|X|\\*";var XRANGEPLAIN=R++;src[XRANGEPLAIN]="[v=\\s]*("+src[XRANGEIDENTIFIER]+")"+"(?:\\.("+src[XRANGEIDENTIFIER]+")"+"(?:\\.("+src[XRANGEIDENTIFIER]+")"+"(?:"+src[PRERELEASE]+")?"+src[BUILD]+"?"+")?)?";var XRANGEPLAINLOOSE=R++;src[XRANGEPLAINLOOSE]="[v=\\s]*("+src[XRANGEIDENTIFIERLOOSE]+")"+"(?:\\.("+src[XRANGEIDENTIFIERLOOSE]+")"+"(?:\\.("+src[XRANGEIDENTIFIERLOOSE]+")"+"(?:"+src[PRERELEASELOOSE]+")?"+src[BUILD]+"?"+")?)?";var XRANGE=R++;src[XRANGE]="^"+src[GTLT]+"\\s*"+src[XRANGEPLAIN]+"$";var XRANGELOOSE=R++;src[XRANGELOOSE]="^"+src[GTLT]+"\\s*"+src[XRANGEPLAINLOOSE]+"$";var LONETILDE=R++;src[LONETILDE]="(?:~>?)";var TILDETRIM=R++;src[TILDETRIM]="(\\s*)"+src[LONETILDE]+"\\s+";re[TILDETRIM]=new RegExp(src[TILDETRIM],"g");var tildeTrimReplace="$1~",TILDE=R++;src[TILDE]="^"+src[LONETILDE]+src[XRANGEPLAIN]+"$";var TILDELOOSE=R++;src[TILDELOOSE]="^"+src[LONETILDE]+src[XRANGEPLAINLOOSE]+"$";var LONECARET=R++;src[LONECARET]="(?:\\^)";var CARETTRIM=R++;src[CARETTRIM]="(\\s*)"+src[LONECARET]+"\\s+";re[CARETTRIM]=new RegExp(src[CARETTRIM],"g");var caretTrimReplace="$1^",CARET=R++;src[CARET]="^"+src[LONECARET]+src[XRANGEPLAIN]+"$";var CARETLOOSE=R++;src[CARETLOOSE]="^"+src[LONECARET]+src[XRANGEPLAINLOOSE]+"$";var COMPARATORLOOSE=R++;src[COMPARATORLOOSE]="^"+src[GTLT]+"\\s*("+LOOSEPLAIN+")$|^$";var COMPARATOR=R++;src[COMPARATOR]="^"+src[GTLT]+"\\s*("+FULLPLAIN+")$|^$";var COMPARATORTRIM=R++;src[COMPARATORTRIM]="(\\s*)"+src[GTLT]+"\\s*("+LOOSEPLAIN+"|"+src[XRANGEPLAIN]+")";re[COMPARATORTRIM]=new RegExp(src[COMPARATORTRIM],"g");var comparatorTrimReplace="$1$2$3",HYPHENRANGE=R++;src[HYPHENRANGE]="^\\s*("+src[XRANGEPLAIN]+")"+"\\s+-\\s+"+"("+src[XRANGEPLAIN]+")"+"\\s*$";var HYPHENRANGELOOSE=R++;src[HYPHENRANGELOOSE]="^\\s*("+src[XRANGEPLAINLOOSE]+")"+"\\s+-\\s+"+"("+src[XRANGEPLAINLOOSE]+")"+"\\s*$";var STAR=R++;src[STAR]="(<|>)?=?\\s*\\*";for(var i=0;i<R;i++){debug(i,src[i]);if(!re[i])re[i]=new RegExp(src[i])}exports.parse=parse;function parse(version,loose){if(version instanceof SemVer)return version;if("string"!==typeof version)return null;if(version.length>MAX_LENGTH)return null;var r=loose?re[LOOSE]:re[FULL];if(!r.test(version))return null;try{return new SemVer(version,loose)}catch(er){return null}}exports.valid=valid;function valid(version,loose){var v=parse(version,loose);return v?v.version:null}exports.clean=clean;function clean(version,loose){var s=parse(version.trim().replace(/^[=v]+/,""),loose);return s?s.version:null}exports.SemVer=SemVer;function SemVer(version,loose){if(version instanceof SemVer){if(version.loose===loose)return version;else version=version.version}else if("string"!==typeof version){throw new TypeError("Invalid Version: "+version)}if(version.length>MAX_LENGTH)throw new TypeError("version is longer than "+MAX_LENGTH+" characters");if(!(this instanceof SemVer))return new SemVer(version,loose);debug("SemVer",version,loose);this.loose=loose;var m=version.trim().match(loose?re[LOOSE]:re[FULL]);if(!m)throw new TypeError("Invalid Version: "+version);this.raw=version;this.major=+m[1];this.minor=+m[2];this.patch=+m[3];if(this.major>MAX_SAFE_INTEGER||0>this.major)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||0>this.patch)throw new TypeError("Invalid patch version");if(!m[4])this.prerelease=[];else this.prerelease=m[4].split(".").map(function(id){if(/^[0-9]+$/.test(id)){var num=+id;if(0<=num&&num<MAX_SAFE_INTEGER)return num}return id});this.build=m[5]?m[5].split("."):[];this.format()}SemVer.prototype.format=function(){this.version=this.major+"."+this.minor+"."+this.patch;if(this.prerelease.length)this.version+="-"+this.prerelease.join(".");return this.version};SemVer.prototype.toString=function(){return this.version};SemVer.prototype.compare=function(other){debug("SemVer.compare",this.version,this.loose,other);if(!(other instanceof SemVer))other=new SemVer(other,this.loose);return this.compareMain(other)||this.comparePre(other)};SemVer.prototype.compareMain=function(other){if(!(other instanceof SemVer))other=new SemVer(other,this.loose);return compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)};SemVer.prototype.comparePre=function(other){if(!(other instanceof SemVer))other=new SemVer(other,this.loose);if(this.prerelease.length&&!other.prerelease.length)return-1;else if(!this.prerelease.length&&other.prerelease.length)return 1;else if(!this.prerelease.length&&!other.prerelease.length)return 0;var i=0;do{var a=this.prerelease[i],b=other.prerelease[i];debug("prerelease compare",i,a,b);if(a===void 0&&b===void 0)return 0;else if(b===void 0)return 1;else if(a===void 0)return-1;else if(a===b)continue;else return compareIdentifiers(a,b)}while(++i)};SemVer.prototype.inc=function(release$$1,identifier){switch(release$$1){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",identifier);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",identifier);break;case"prepatch":this.prerelease.length=0;this.inc("patch",identifier);this.inc("pre",identifier);break;case"prerelease":if(0===this.prerelease.length)this.inc("patch",identifier);this.inc("pre",identifier);break;case"major":if(0!==this.minor||0!==this.patch||0===this.prerelease.length)this.major++;this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(0!==this.patch||0===this.prerelease.length)this.minor++;this.patch=0;this.prerelease=[];break;case"patch":if(0===this.prerelease.length)this.patch++;this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{var i=this.prerelease.length;while(0<=--i){if("number"===typeof this.prerelease[i]){this.prerelease[i]++;i=-2}}if(-1===i)this.prerelease.push(0)}if(identifier){if(this.prerelease[0]===identifier){if(isNaN(this.prerelease[1]))this.prerelease=[identifier,0]}else this.prerelease=[identifier,0]}break;default:throw new Error("invalid increment argument: "+release$$1);}this.format();this.raw=this.version;return this};exports.inc=inc;function inc(version,release$$1,loose,identifier){if("string"===typeof loose){identifier=loose;loose=void 0}try{return new SemVer(version,loose).inc(release$$1,identifier).version}catch(er){return null}}exports.diff=diff;function diff(version1,version2){if(eq(version1,version2)){return null}else{var v1=parse(version1),v2=parse(version2);if(v1.prerelease.length||v2.prerelease.length){for(var key in v1){if("major"===key||"minor"===key||"patch"===key){if(v1[key]!==v2[key]){return"pre"+key}}}return"prerelease"}for(var key in v1){if("major"===key||"minor"===key||"patch"===key){if(v1[key]!==v2[key]){return key}}}}}exports.compareIdentifiers=compareIdentifiers;var numeric=/^[0-9]+$/;function compareIdentifiers(a,b){var anum=numeric.test(a),bnum=numeric.test(b);if(anum&&bnum){a=+a;b=+b}return anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:a>b?1:0}exports.rcompareIdentifiers=rcompareIdentifiers;function rcompareIdentifiers(a,b){return compareIdentifiers(b,a)}exports.major=major;function major(a,loose){return new SemVer(a,loose).major}exports.minor=minor;function minor(a,loose){return new SemVer(a,loose).minor}exports.patch=patch;function patch(a,loose){return new SemVer(a,loose).patch}exports.compare=compare;function compare(a,b,loose){return new SemVer(a,loose).compare(new SemVer(b,loose))}exports.compareLoose=compareLoose;function compareLoose(a,b){return compare(a,b,!0)}exports.rcompare=rcompare;function rcompare(a,b,loose){return compare(b,a,loose)}exports.sort=sort;function sort(list,loose){return list.sort(function(a,b){return exports.compare(a,b,loose)})}exports.rsort=rsort;function rsort(list,loose){return list.sort(function(a,b){return exports.rcompare(a,b,loose)})}exports.gt=gt;function gt(a,b,loose){return 0<compare(a,b,loose)}exports.lt=lt;function lt(a,b,loose){return 0>compare(a,b,loose)}exports.eq=eq;function eq(a,b,loose){return 0===compare(a,b,loose)}exports.neq=neq;function neq(a,b,loose){return 0!==compare(a,b,loose)}exports.gte=gte;function gte(a,b,loose){return 0<=compare(a,b,loose)}exports.lte=lte;function lte(a,b,loose){return 0>=compare(a,b,loose)}exports.cmp=cmp;function cmp(a,op,b,loose){var ret;switch(op){case"===":if("object"===_typeof(a))a=a.version;if("object"===_typeof(b))b=b.version;ret=a===b;break;case"!==":if("object"===_typeof(a))a=a.version;if("object"===_typeof(b))b=b.version;ret=a!==b;break;case"":case"=":case"==":ret=eq(a,b,loose);break;case"!=":ret=neq(a,b,loose);break;case">":ret=gt(a,b,loose);break;case">=":ret=gte(a,b,loose);break;case"<":ret=lt(a,b,loose);break;case"<=":ret=lte(a,b,loose);break;default:throw new TypeError("Invalid operator: "+op);}return ret}exports.Comparator=Comparator;function Comparator(comp,loose){if(comp instanceof Comparator){if(comp.loose===loose)return comp;else comp=comp.value}if(!(this instanceof Comparator))return new Comparator(comp,loose);debug("comparator",comp,loose);this.loose=loose;this.parse(comp);if(this.semver===ANY)this.value="";else this.value=this.operator+this.semver.version;debug("comp",this)}var ANY={};Comparator.prototype.parse=function(comp){var r=this.loose?re[COMPARATORLOOSE]:re[COMPARATOR],m=comp.match(r);if(!m)throw new TypeError("Invalid comparator: "+comp);this.operator=m[1];if("="===this.operator)this.operator="";if(!m[2])this.semver=ANY;else this.semver=new SemVer(m[2],this.loose)};Comparator.prototype.toString=function(){return this.value};Comparator.prototype.test=function(version){debug("Comparator.test",version,this.loose);if(this.semver===ANY)return!0;if("string"===typeof version)version=new SemVer(version,this.loose);return cmp(version,this.operator,this.semver,this.loose)};Comparator.prototype.intersects=function(comp,loose){if(!(comp instanceof Comparator)){throw new TypeError("a Comparator is required")}var rangeTmp;if(""===this.operator){rangeTmp=new Range(comp.value,loose);return satisfies(this.value,rangeTmp,loose)}else if(""===comp.operator){rangeTmp=new Range(this.value,loose);return satisfies(comp.semver,rangeTmp,loose)}var sameDirectionIncreasing=(">="===this.operator||">"===this.operator)&&(">="===comp.operator||">"===comp.operator),sameDirectionDecreasing=("<="===this.operator||"<"===this.operator)&&("<="===comp.operator||"<"===comp.operator),sameSemVer=this.semver.version===comp.semver.version,differentDirectionsInclusive=(">="===this.operator||"<="===this.operator)&&(">="===comp.operator||"<="===comp.operator),oppositeDirectionsLessThan=cmp(this.semver,"<",comp.semver,loose)&&(">="===this.operator||">"===this.operator)&&("<="===comp.operator||"<"===comp.operator),oppositeDirectionsGreaterThan=cmp(this.semver,">",comp.semver,loose)&&("<="===this.operator||"<"===this.operator)&&(">="===comp.operator||">"===comp.operator);return sameDirectionIncreasing||sameDirectionDecreasing||sameSemVer&&differentDirectionsInclusive||oppositeDirectionsLessThan||oppositeDirectionsGreaterThan};exports.Range=Range;function Range(range,loose){if(range instanceof Range){if(range.loose===loose){return range}else{return new Range(range.raw,loose)}}if(range instanceof Comparator){return new Range(range.value,loose)}if(!(this instanceof Range))return new Range(range,loose);this.loose=loose;this.raw=range;this.set=range.split(/\s*\|\|\s*/).map(function(range){return this.parseRange(range.trim())},this).filter(function(c){return c.length});if(!this.set.length){throw new TypeError("Invalid SemVer Range: "+range)}this.format()}Range.prototype.format=function(){this.range=this.set.map(function(comps){return comps.join(" ").trim()}).join("||").trim();return this.range};Range.prototype.toString=function(){return this.range};Range.prototype.parseRange=function(range){var loose=this.loose;range=range.trim();debug("range",range,loose);var hr=loose?re[HYPHENRANGELOOSE]:re[HYPHENRANGE];range=range.replace(hr,hyphenReplace);debug("hyphen replace",range);range=range.replace(re[COMPARATORTRIM],comparatorTrimReplace);debug("comparator trim",range,re[COMPARATORTRIM]);range=range.replace(re[TILDETRIM],tildeTrimReplace);range=range.replace(re[CARETTRIM],caretTrimReplace);range=range.split(/\s+/).join(" ");var compRe=loose?re[COMPARATORLOOSE]:re[COMPARATOR],set=range.split(" ").map(function(comp){return parseComparator(comp,loose)}).join(" ").split(/\s+/);if(this.loose){set=set.filter(function(comp){return!!comp.match(compRe)})}set=set.map(function(comp){return new Comparator(comp,loose)});return set};Range.prototype.intersects=function(range,loose){if(!(range instanceof Range)){throw new TypeError("a Range is required")}return this.set.some(function(thisComparators){return thisComparators.every(function(thisComparator){return range.set.some(function(rangeComparators){return rangeComparators.every(function(rangeComparator){return thisComparator.intersects(rangeComparator,loose)})})})})};exports.toComparators=toComparators;function toComparators(range,loose){return new Range(range,loose).set.map(function(comp){return comp.map(function(c){return c.value}).join(" ").trim().split(" ")})}function parseComparator(comp,loose){debug("comp",comp);comp=replaceCarets(comp,loose);debug("caret",comp);comp=replaceTildes(comp,loose);debug("tildes",comp);comp=replaceXRanges(comp,loose);debug("xrange",comp);comp=replaceStars(comp,loose);debug("stars",comp);return comp}function isX(id){return!id||"x"===id.toLowerCase()||"*"===id}function replaceTildes(comp,loose){return comp.trim().split(/\s+/).map(function(comp){return replaceTilde(comp,loose)}).join(" ")}function replaceTilde(comp,loose){var r=loose?re[TILDELOOSE]:re[TILDE];return comp.replace(r,function(_,M,m,p,pr){debug("tilde",comp,_,M,m,p,pr);var ret;if(isX(M))ret="";else if(isX(m))ret=">="+M+".0.0 <"+(+M+1)+".0.0";else if(isX(p))ret=">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0";else if(pr){debug("replaceTilde pr",pr);if("-"!==pr.charAt(0))pr="-"+pr;ret=">="+M+"."+m+"."+p+pr+" <"+M+"."+(+m+1)+".0"}else ret=">="+M+"."+m+"."+p+" <"+M+"."+(+m+1)+".0";debug("tilde return",ret);return ret})}function replaceCarets(comp,loose){return comp.trim().split(/\s+/).map(function(comp){return replaceCaret(comp,loose)}).join(" ")}function replaceCaret(comp,loose){debug("caret",comp,loose);var r=loose?re[CARETLOOSE]:re[CARET];return comp.replace(r,function(_,M,m,p,pr){debug("caret",comp,_,M,m,p,pr);var ret;if(isX(M))ret="";else if(isX(m))ret=">="+M+".0.0 <"+(+M+1)+".0.0";else if(isX(p)){if("0"===M)ret=">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0";else ret=">="+M+"."+m+".0 <"+(+M+1)+".0.0"}else if(pr){debug("replaceCaret pr",pr);if("-"!==pr.charAt(0))pr="-"+pr;if("0"===M){if("0"===m)ret=">="+M+"."+m+"."+p+pr+" <"+M+"."+m+"."+(+p+1);else ret=">="+M+"."+m+"."+p+pr+" <"+M+"."+(+m+1)+".0"}else ret=">="+M+"."+m+"."+p+pr+" <"+(+M+1)+".0.0"}else{debug("no pr");if("0"===M){if("0"===m)ret=">="+M+"."+m+"."+p+" <"+M+"."+m+"."+(+p+1);else ret=">="+M+"."+m+"."+p+" <"+M+"."+(+m+1)+".0"}else ret=">="+M+"."+m+"."+p+" <"+(+M+1)+".0.0"}debug("caret return",ret);return ret})}function replaceXRanges(comp,loose){debug("replaceXRanges",comp,loose);return comp.split(/\s+/).map(function(comp){return replaceXRange(comp,loose)}).join(" ")}function replaceXRange(comp,loose){comp=comp.trim();var r=loose?re[XRANGELOOSE]:re[XRANGE];return comp.replace(r,function(ret,gtlt,M,m,p,pr){debug("xRange",comp,ret,gtlt,M,m,p,pr);var xM=isX(M),xm=xM||isX(m),xp=xm||isX(p),anyX=xp;if("="===gtlt&&anyX)gtlt="";if(xM){if(">"===gtlt||"<"===gtlt){ret="<0.0.0"}else{ret="*"}}else if(gtlt&&anyX){if(xm)m=0;if(xp)p=0;if(">"===gtlt){gtlt=">=";if(xm){M=+M+1;m=0;p=0}else if(xp){m=+m+1;p=0}}else if("<="===gtlt){gtlt="<";if(xm)M=+M+1;else m=+m+1}ret=gtlt+M+"."+m+"."+p}else if(xm){ret=">="+M+".0.0 <"+(+M+1)+".0.0"}else if(xp){ret=">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0"}debug("xRange return",ret);return ret})}function replaceStars(comp,loose){debug("replaceStars",comp,loose);return comp.trim().replace(re[STAR],"")}function hyphenReplace($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb){if(isX(fM))from="";else if(isX(fm))from=">="+fM+".0.0";else if(isX(fp))from=">="+fM+"."+fm+".0";else from=">="+from;if(isX(tM))to="";else if(isX(tm))to="<"+(+tM+1)+".0.0";else if(isX(tp))to="<"+tM+"."+(+tm+1)+".0";else if(tpr)to="<="+tM+"."+tm+"."+tp+"-"+tpr;else to="<="+to;return(from+" "+to).trim()}Range.prototype.test=function(version){if(!version)return!1;if("string"===typeof version)version=new SemVer(version,this.loose);for(var i=0;i<this.set.length;i++){if(testSet(this.set[i],version))return!0}return!1};function testSet(set,version){for(var i=0;i<set.length;i++){if(!set[i].test(version))return!1}if(version.prerelease.length){for(var i=0;i<set.length;i++){debug(set[i].semver);if(set[i].semver===ANY)continue;if(0<set[i].semver.prerelease.length){var allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch)return!0}}return!1}return!0}exports.satisfies=satisfies;function satisfies(version,range,loose){try{range=new Range(range,loose)}catch(er){return!1}return range.test(version)}exports.maxSatisfying=maxSatisfying;function maxSatisfying(versions$$1,range,loose){var max=null,maxSV=null;try{var rangeObj=new Range(range,loose)}catch(er){return null}versions$$1.forEach(function(v){if(rangeObj.test(v)){if(!max||-1===maxSV.compare(v)){max=v;maxSV=new SemVer(max,loose)}}});return max}exports.minSatisfying=minSatisfying;function minSatisfying(versions$$1,range,loose){var min=null,minSV=null;try{var rangeObj=new Range(range,loose)}catch(er){return null}versions$$1.forEach(function(v){if(rangeObj.test(v)){if(!min||1===minSV.compare(v)){min=v;minSV=new SemVer(min,loose)}}});return min}exports.validRange=validRange;function validRange(range,loose){try{return new Range(range,loose).range||"*"}catch(er){return null}}exports.ltr=ltr;function ltr(version,range,loose){return outside(version,range,"<",loose)}exports.gtr=gtr;function gtr(version,range,loose){return outside(version,range,">",loose)}exports.outside=outside;function outside(version,range,hilo,loose){version=new SemVer(version,loose);range=new Range(range,loose);var gtfn,ltefn,ltfn,comp,ecomp;switch(hilo){case">":gtfn=gt;ltefn=lte;ltfn=lt;comp=">";ecomp=">=";break;case"<":gtfn=lt;ltefn=gte;ltfn=gt;comp="<";ecomp="<=";break;default:throw new TypeError("Must provide a hilo val of \"<\" or \">\"");}if(satisfies(version,range,loose)){return!1}for(var i=0;i<range.set.length;++i){var comparators=range.set[i],high=null,low=null;comparators.forEach(function(comparator){if(comparator.semver===ANY){comparator=new Comparator(">=0.0.0")}high=high||comparator;low=low||comparator;if(gtfn(comparator.semver,high.semver,loose)){high=comparator}else if(ltfn(comparator.semver,low.semver,loose)){low=comparator}});if(high.operator===comp||high.operator===ecomp){return!1}if((!low.operator||low.operator===comp)&&ltefn(version,low.semver)){return!1}else if(low.operator===ecomp&&ltfn(version,low.semver)){return!1}}return!0}exports.prerelease=prerelease;function prerelease(version,loose){var parsed=parse(version,loose);return parsed&&parsed.prerelease.length?parsed.prerelease:null}exports.intersects=intersects;function intersects(r1,r2,loose){r1=new Range(r1,loose);r2=new Range(r2,loose);return r1.intersects(r2)}}),arrayify=function arrayify(object,keyName){return Object.keys(object).reduce(function(array,key){return array.concat(Object.assign(_defineProperty({},keyName,key),object[key]))},[])},dedent_1=createCommonjsModule(function(module){"use strict";function dedent(strings){var raw;if("string"===typeof strings){raw=[strings]}else{raw=strings.raw}for(var result="",i=0;i<raw.length;i++){result+=raw[i].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`");if(i<(1>=arguments.length?0:arguments.length-1)){result+=arguments.length<=i+1?void 0:arguments[i+1]}}var lines=result.split("\n"),mindent=null;lines.forEach(function(l){var m=l.match(/^(\s+)\S+/);if(m){var indent=m[1].length;if(!mindent){mindent=indent}else{mindent=_Mathmin(mindent,indent)}}});if(null!==mindent){result=lines.map(function(l){return" "===l[0]?l.slice(mindent):l}).join("\n")}result=result.trim();return result.replace(/\\n/g,"\n")}{module.exports=dedent}});function _templateObject6_b238c800521411e9a0c43dcd453d6d00(){var data=_taggedTemplateLiteral(["\n      Require either '@prettier' or '@format' to be present in the file's first docblock comment\n      in order for it to be formatted.\n    "]);_templateObject6_b238c800521411e9a0c43dcd453d6d00=function _templateObject6_b238c800521411e9a0c43dcd453d6d00(){return data};return data}function _templateObject5_b238c800521411e9a0c43dcd453d6d00(){var data=_taggedTemplateLiteral(["\n      Format code starting at a given character offset.\n      The range will extend backwards to the start of the first line containing the selected statement.\n      This option cannot be used with --cursor-offset.\n    "]);_templateObject5_b238c800521411e9a0c43dcd453d6d00=function _templateObject5_b238c800521411e9a0c43dcd453d6d00(){return data};return data}function _templateObject4_b238c800521411e9a0c43dcd453d6d00(){var data=_taggedTemplateLiteral(["\n      Format code ending at a given character offset (exclusive).\n      The range will extend forwards to the end of the selected statement.\n      This option cannot be used with --cursor-offset.\n    "]);_templateObject4_b238c800521411e9a0c43dcd453d6d00=function _templateObject4_b238c800521411e9a0c43dcd453d6d00(){return data};return data}function _templateObject3_b238c800521411e9a0c43dcd453d6d00(){var data=_taggedTemplateLiteral(["\n      Custom directory that contains prettier plugins in node_modules subdirectory.\n      Overrides default behavior when plugins are searched relatively to the location of Prettier.\n      Multiple values are accepted.\n    "]);_templateObject3_b238c800521411e9a0c43dcd453d6d00=function _templateObject3_b238c800521411e9a0c43dcd453d6d00(){return data};return data}function _templateObject2_b238c800521411e9a0c43dcd453d6d00(){var data=_taggedTemplateLiteral(["\n          Maintain existing\n          (mixed values within one file are normalised by looking at what's used after the first line)\n        "]);_templateObject2_b238c800521411e9a0c43dcd453d6d00=function _templateObject2_b238c800521411e9a0c43dcd453d6d00(){return data};return data}function _templateObject_b238c800521411e9a0c43dcd453d6d00(){var data=_taggedTemplateLiteral(["\n      Print (to stderr) where a cursor at the given position would move to after formatting.\n      This option cannot be used with --range-start and --range-end.\n    "]);_templateObject_b238c800521411e9a0c43dcd453d6d00=function _templateObject_b238c800521411e9a0c43dcd453d6d00(){return data};return data}var CATEGORY_CONFIG="Config",CATEGORY_EDITOR="Editor",CATEGORY_FORMAT="Format",CATEGORY_OTHER="Other",CATEGORY_OUTPUT="Output",CATEGORY_GLOBAL="Global",CATEGORY_SPECIAL="Special",options$2={cursorOffset:{since:"1.4.0",category:CATEGORY_SPECIAL,type:"int",default:-1,range:{start:-1,end:1/0,step:1},description:dedent_1(_templateObject_b238c800521411e9a0c43dcd453d6d00()),cliCategory:CATEGORY_EDITOR},endOfLine:{since:"1.15.0",category:CATEGORY_GLOBAL,type:"choice",default:"auto",description:"Which end of line characters to apply.",choices:[{value:"auto",description:dedent_1(_templateObject2_b238c800521411e9a0c43dcd453d6d00())},{value:"lf",description:"Line Feed only (\\n), common on Linux and macOS as well as inside git repos"},{value:"crlf",description:"Carriage Return + Line Feed characters (\\r\\n), common on Windows"},{value:"cr",description:"Carriage Return character only (\\r), used very rarely"}]},filepath:{since:"1.4.0",category:CATEGORY_SPECIAL,type:"path",description:"Specify the input filepath. This will be used to do parser inference.",cliName:"stdin-filepath",cliCategory:CATEGORY_OTHER,cliDescription:"Path to the file to pretend that stdin comes from."},insertPragma:{since:"1.8.0",category:CATEGORY_SPECIAL,type:"boolean",default:!1,description:"Insert @format pragma into file's first docblock comment.",cliCategory:CATEGORY_OTHER},parser:{since:"0.0.10",category:CATEGORY_GLOBAL,type:"choice",default:[{since:"0.0.10",value:"babylon"},{since:"1.13.0",value:void 0}],description:"Which parser to use.",exception:function exception(value){return"string"===typeof value||"function"===typeof value},choices:[{value:"flow",description:"Flow"},{value:"babylon",description:"JavaScript",deprecated:"1.16.0",redirect:"babel"},{value:"babel",since:"1.16.0",description:"JavaScript"},{value:"babel-flow",since:"1.16.0",description:"Flow"},{value:"typescript",since:"1.4.0",description:"TypeScript"},{value:"css",since:"1.7.1",description:"CSS"},{value:"postcss",since:"1.4.0",description:"CSS/Less/SCSS",deprecated:"1.7.1",redirect:"css"},{value:"less",since:"1.7.1",description:"Less"},{value:"scss",since:"1.7.1",description:"SCSS"},{value:"json",since:"1.5.0",description:"JSON"},{value:"json5",since:"1.13.0",description:"JSON5"},{value:"json-stringify",since:"1.13.0",description:"JSON.stringify"},{value:"graphql",since:"1.5.0",description:"GraphQL"},{value:"markdown",since:"1.8.0",description:"Markdown"},{value:"mdx",since:"1.15.0",description:"MDX"},{value:"vue",since:"1.10.0",description:"Vue"},{value:"yaml",since:"1.14.0",description:"YAML"},{value:"glimmer",since:null,description:"Handlebars"},{value:"html",since:"1.15.0",description:"HTML"},{value:"angular",since:"1.15.0",description:"Angular"}]},plugins:{since:"1.10.0",type:"path",array:!0,default:[{value:[]}],category:CATEGORY_GLOBAL,description:"Add a plugin. Multiple plugins can be passed as separate `--plugin`s.",exception:function exception(value){return"string"===typeof value||"object"===_typeof(value)},cliName:"plugin",cliCategory:CATEGORY_CONFIG},pluginSearchDirs:{since:"1.13.0",type:"path",array:!0,default:[{value:[]}],category:CATEGORY_GLOBAL,description:dedent_1(_templateObject3_b238c800521411e9a0c43dcd453d6d00()),exception:function exception(value){return"string"===typeof value||"object"===_typeof(value)},cliName:"plugin-search-dir",cliCategory:CATEGORY_CONFIG},printWidth:{since:"0.0.0",category:CATEGORY_GLOBAL,type:"int",default:80,description:"The line length where Prettier will try wrap.",range:{start:0,end:1/0,step:1}},rangeEnd:{since:"1.4.0",category:CATEGORY_SPECIAL,type:"int",default:1/0,range:{start:0,end:1/0,step:1},description:dedent_1(_templateObject4_b238c800521411e9a0c43dcd453d6d00()),cliCategory:CATEGORY_EDITOR},rangeStart:{since:"1.4.0",category:CATEGORY_SPECIAL,type:"int",default:0,range:{start:0,end:1/0,step:1},description:dedent_1(_templateObject5_b238c800521411e9a0c43dcd453d6d00()),cliCategory:CATEGORY_EDITOR},requirePragma:{since:"1.7.0",category:CATEGORY_SPECIAL,type:"boolean",default:!1,description:dedent_1(_templateObject6_b238c800521411e9a0c43dcd453d6d00()),cliCategory:CATEGORY_OTHER},tabWidth:{type:"int",category:CATEGORY_GLOBAL,default:2,description:"Number of spaces per indentation level.",range:{start:0,end:1/0,step:1}},useFlowParser:{since:"0.0.0",category:CATEGORY_GLOBAL,type:"boolean",default:[{since:"0.0.0",value:!1},{since:"1.15.0",value:void 0}],deprecated:"0.0.10",description:"Use flow parser.",redirect:{option:"parser",value:"flow"},cliName:"flow-parser"},useTabs:{since:"1.0.0",category:CATEGORY_GLOBAL,type:"boolean",default:!1,description:"Indent with tabs instead of spaces."}},coreOptions$1={CATEGORY_CONFIG:CATEGORY_CONFIG,CATEGORY_EDITOR:CATEGORY_EDITOR,CATEGORY_FORMAT:CATEGORY_FORMAT,CATEGORY_OTHER:CATEGORY_OTHER,CATEGORY_OUTPUT:CATEGORY_OUTPUT,CATEGORY_GLOBAL:CATEGORY_GLOBAL,CATEGORY_SPECIAL:CATEGORY_SPECIAL,options:options$2},require$$0=_package$1&&_package||_package$1,currentVersion=require$$0.version,coreOptions=coreOptions$1.options;function getSupportInfo$2(version,opts){opts=Object.assign({plugins:[],showUnreleased:!1,showDeprecated:!1,showInternal:!1},opts);if(!version){version=currentVersion.split("-",1)[0]}var plugins=opts.plugins,options=arrayify(Object.assign(plugins.reduce(function(currentOptions,plugin){return Object.assign(currentOptions,plugin.options)},{}),coreOptions),"name").sort(function(a,b){return a.name===b.name?0:a.name<b.name?-1:1}).filter(filterSince).filter(filterDeprecated).map(mapDeprecated).map(mapInternal).map(function(option){var newOption=Object.assign({},option);if(Array.isArray(newOption.default)){newOption.default=1===newOption.default.length?newOption.default[0].value:newOption.default.filter(filterSince).sort(function(info1,info2){return semver.compare(info2.since,info1.since)})[0].value}if(Array.isArray(newOption.choices)){newOption.choices=newOption.choices.filter(filterSince).filter(filterDeprecated).map(mapDeprecated)}return newOption}).map(function(option){var filteredPlugins=plugins.filter(function(plugin){return plugin.defaultOptions&&plugin.defaultOptions[option.name]}),pluginDefaults=filteredPlugins.reduce(function(reduced,plugin){reduced[plugin.name]=plugin.defaultOptions[option.name];return reduced},{});return Object.assign(option,{pluginDefaults:pluginDefaults})}),usePostCssParser=semver.lt(version,"1.7.1"),useBabylonParser=semver.lt(version,"1.16.0"),languages=plugins.reduce(function(all,plugin){return all.concat(plugin.languages||[])},[]).filter(filterSince).map(function(language){if("Markdown"===language.name){return Object.assign({},language,{parsers:["markdown"]})}if("TypeScript"===language.name){return Object.assign({},language,{parsers:["typescript"]})}if(useBabylonParser&&-1!==language.parsers.indexOf("babel")){return Object.assign({},language,{parsers:language.parsers.map(function(parser){return"babel"===parser?"babylon":parser})})}if(usePostCssParser&&("CSS"===language.name||"CSS"===language.group)){return Object.assign({},language,{parsers:["postcss"]})}return language});return{languages:languages,options:options};function filterSince(object){return opts.showUnreleased||!("since"in object)||object.since&&semver.gte(version,object.since)}function filterDeprecated(object){return opts.showDeprecated||!("deprecated"in object)||object.deprecated&&semver.lt(version,object.deprecated)}function mapDeprecated(object){if(!object.deprecated||opts.showDeprecated){return object}var newObject=Object.assign({},object);delete newObject.deprecated;delete newObject.redirect;return newObject}function mapInternal(object){if(opts.showInternal){return object}var newObject=Object.assign({},object);delete newObject.cliName;delete newObject.cliCategory;delete newObject.cliDescription;return newObject}}var support={getSupportInfo:getSupportInfo$2},_extendStatics=function extendStatics(d,b){_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p]}};return _extendStatics(d,b)};function __extends(d,b){_extendStatics(d,b);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var _assign=function __assign(){_assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s){if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}}return t};return _assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s){if(Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p))t[p]=s[p]}if(null!=s&&"function"===typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(0>e.indexOf(p[i]))t[p[i]]=s[p[i]]}return t}function __decorate(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"===typeof Reflect?"undefined":_typeof(Reflect))&&"function"===typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--){if(d=decorators[i])r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r}return 3<c&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"===("undefined"===typeof Reflect?"undefined":_typeof(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var _={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_){try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[2&op[0],t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:!1};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=0<t.length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue;}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}function __exportStar(m,exports){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}function __values(o){var m="function"===typeof Symbol&&o[Symbol.iterator],i=0;if(m)return m.call(o);return{next:function next(){if(o&&i>=o.length)o=void 0;return{value:o&&o[i++],done:!o}}}}function __read(o,n){var m="function"===typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{while((void 0===n||0<n--)&&!(r=i.next()).done){ar.push(r.value)}}catch(error){e={error:error}}finally{try{if(r&&!r.done&&(m=i["return"]))m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++){ar=ar.concat(__read(arguments[i]))}return ar}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){if(g[n])i[n]=function(v){return new Promise(function(a,b){1<q.push([n,v,a,b])||resume(n,v)})}}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){if(f(v),q.shift(),q.length)resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o="function"===typeof __values?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value)})}}function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v){resolve({value:v,done:d})},reject)}}function __makeTemplateObject(cooked,raw){if(Object.defineProperty){Object.defineProperty(cooked,"raw",{value:raw})}else{cooked.raw=raw}return cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod){if(Object.hasOwnProperty.call(mod,k))result[k]=mod[k]}result.default=mod;return result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}var tslib_1=Object.freeze({__extends:__extends,get __assign(){return _assign},__rest:__rest,__decorate:__decorate,__param:__param,__metadata:__metadata,__awaiter:__awaiter,__generator:__generator,__exportStar:__exportStar,__values:__values,__read:__read,__spread:__spread,__await:__await,__asyncGenerator:__asyncGenerator,__asyncDelegator:__asyncDelegator,__asyncValues:__asyncValues,__makeTemplateObject:__makeTemplateObject,__importStar:__importStar,__importDefault:__importDefault}),api=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.apiDescriptor={key:function key(_key){return /^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(_key)?_key:JSON.stringify(_key)},value:function value(_value){if(null===_value||"object"!==_typeof(_value)){return JSON.stringify(_value)}if(Array.isArray(_value)){return"[".concat(_value.map(function(subValue){return exports.apiDescriptor.value(subValue)}).join(", "),"]")}var keys=Object.keys(_value);return 0===keys.length?"{}":"{ ".concat(keys.map(function(key){return"".concat(exports.apiDescriptor.key(key),": ").concat(exports.apiDescriptor.value(_value[key]))}).join(", ")," }")},pair:function pair(_ref){var key=_ref.key,value=_ref.value;return exports.apiDescriptor.value(_defineProperty({},key,value))}}});unwrapExports(api);var descriptors=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});tslib_1.__exportStar(api,exports)});unwrapExports(descriptors);var matchOperatorsRe=/[|\\{}()[\]^$+*?.]/g,escapeStringRegexp=function escapeStringRegexp(str){if("string"!==typeof str){throw new TypeError("Expected a string")}return str.replace(matchOperatorsRe,"\\$&")},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},conversions=createCommonjsModule(function(module){var _MathPI=Math.PI,reverseKeywords={};for(var key in colorName){if(colorName.hasOwnProperty(key)){reverseKeywords[colorName[key]]=key}}var convert=module.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var model in convert){if(convert.hasOwnProperty(model)){if(!("channels"in convert[model])){throw new Error("missing channels property: "+model)}if(!("labels"in convert[model])){throw new Error("missing channel labels property: "+model)}if(convert[model].labels.length!==convert[model].channels){throw new Error("channel and label counts mismatch: "+model)}var channels=convert[model].channels,labels=convert[model].labels;delete convert[model].channels;delete convert[model].labels;Object.defineProperty(convert[model],"channels",{value:channels});Object.defineProperty(convert[model],"labels",{value:labels})}}convert.rgb.hsl=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=_Mathmin(r,g,b),max=_Mathmax(r,g,b),delta=max-min,h,s,l;if(max===min){h=0}else if(r===max){h=(g-b)/delta}else if(g===max){h=2+(b-r)/delta}else if(b===max){h=4+(r-g)/delta}h=_Mathmin(60*h,360);if(0>h){h+=360}l=(min+max)/2;if(max===min){s=0}else if(.5>=l){s=delta/(max+min)}else{s=delta/(2-max-min)}return[h,100*s,100*l]};convert.rgb.hsv=function(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],min=_Mathmin(r,g,b),max=_Mathmax(r,g,b),delta=max-min,h,s,v;if(0===max){s=0}else{s=1e3*(delta/max)/10}if(max===min){h=0}else if(r===max){h=(g-b)/delta}else if(g===max){h=2+(b-r)/delta}else if(b===max){h=4+(r-g)/delta}h=_Mathmin(60*h,360);if(0>h){h+=360}v=1e3*(max/255)/10;return[h,s,v]};convert.rgb.hwb=function(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],h=convert.rgb.hsl(rgb)[0],w=1/255*_Mathmin(r,_Mathmin(g,b));b=1-1/255*_Mathmax(r,_Mathmax(g,b));return[h,100*w,100*b]};convert.rgb.cmyk=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,c,m,y,k;k=_Mathmin(1-r,1-g,1-b);c=(1-r-k)/(1-k)||0;m=(1-g-k)/(1-k)||0;y=(1-b-k)/(1-k)||0;return[100*c,100*m,100*y,100*k]};function comparativeDistance(x,y){return _Mathpow(x[0]-y[0],2)+_Mathpow(x[1]-y[1],2)+_Mathpow(x[2]-y[2],2)}convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed){return reversed}var currentClosestDistance=1/0,currentClosestKeyword;for(var keyword in colorName){if(colorName.hasOwnProperty(keyword)){var value=colorName[keyword],distance=comparativeDistance(rgb,value);if(distance<currentClosestDistance){currentClosestDistance=distance;currentClosestKeyword=keyword}}}return currentClosestKeyword};convert.keyword.rgb=function(keyword){return colorName[keyword]};convert.rgb.xyz=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;r=.04045<r?_Mathpow((r+.055)/1.055,2.4):r/12.92;g=.04045<g?_Mathpow((g+.055)/1.055,2.4):g/12.92;b=.04045<b?_Mathpow((b+.055)/1.055,2.4):b/12.92;var x=.4124*r+.3576*g+.1805*b,y=.2126*r+.7152*g+.0722*b,z=.0193*r+.1192*g+.9505*b;return[100*x,100*y,100*z]};convert.rgb.lab=function(rgb){var xyz=convert.rgb.xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2],l,a,b;x/=95.047;y/=100;z/=108.883;x=.008856<x?_Mathpow(x,1/3):7.787*x+16/116;y=.008856<y?_Mathpow(y,1/3):7.787*y+16/116;z=.008856<z?_Mathpow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]};convert.hsl.rgb=function(hsl){var h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100,t1,t2,t3,rgb,val;if(0===s){val=255*l;return[val,val,val]}if(.5>l){t2=l*(1+s)}else{t2=l+s-l*s}t1=2*l-t2;rgb=[0,0,0];for(var i=0;3>i;i++){t3=h+1/3*-(i-1);if(0>t3){t3++}if(1<t3){t3--}if(1>6*t3){val=t1+6*(t2-t1)*t3}else if(1>2*t3){val=t2}else if(2>3*t3){val=t1+6*((t2-t1)*(2/3-t3))}else{val=t1}rgb[i]=255*val}return rgb};convert.hsl.hsv=function(hsl){var h=hsl[0],s=hsl[1]/100,l=hsl[2]/100,smin=s,lmin=_Mathmax(l,.01),sv,v;l*=2;s*=1>=l?l:2-l;smin*=1>=lmin?lmin:2-lmin;v=(l+s)/2;sv=0===l?2*smin/(lmin+smin):2*s/(l+s);return[h,100*sv,100*v]};convert.hsv.rgb=function(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=_Mathfloor(h)%6,f=h-_Mathfloor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f));v*=255;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q];}};convert.hsv.hsl=function(hsv){var h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,vmin=_Mathmax(v,.01),lmin,sl,l;l=(2-s)*v;lmin=(2-s)*vmin;sl=s*vmin;sl/=1>=lmin?lmin:2-lmin;sl=sl||0;l/=2;return[h,100*sl,100*l]};convert.hwb.rgb=function(hwb){var h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl,i,v,f,n;if(1<ratio){wh/=ratio;bl/=ratio}i=_Mathfloor(6*h);v=1-bl;f=6*h-i;if(0!==(1&i)){f=1-f}n=wh+f*(v-wh);var r,g,b;switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break;}return[255*r,255*g,255*b]};convert.cmyk.rgb=function(cmyk){var c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100,r,g,b;r=1-_Mathmin(1,c*(1-k)+k);g=1-_Mathmin(1,m*(1-k)+k);b=1-_Mathmin(1,y*(1-k)+k);return[255*r,255*g,255*b]};convert.xyz.rgb=function(xyz){var x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100,r,g,b;r=3.2406*x+-1.5372*y+-.4986*z;g=-.9689*x+1.8758*y+.0415*z;b=.0557*x+-.204*y+1.057*z;r=.0031308<r?1.055*_Mathpow(r,1/2.4)-.055:12.92*r;g=.0031308<g?1.055*_Mathpow(g,1/2.4)-.055:12.92*g;b=.0031308<b?1.055*_Mathpow(b,1/2.4)-.055:12.92*b;r=_Mathmin(_Mathmax(0,r),1);g=_Mathmin(_Mathmax(0,g),1);b=_Mathmin(_Mathmax(0,b),1);return[255*r,255*g,255*b]};convert.xyz.lab=function(xyz){var x=xyz[0],y=xyz[1],z=xyz[2],l,a,b;x/=95.047;y/=100;z/=108.883;x=.008856<x?_Mathpow(x,1/3):7.787*x+16/116;y=.008856<y?_Mathpow(y,1/3):7.787*y+16/116;z=.008856<z?_Mathpow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]};convert.lab.xyz=function(lab){var l=lab[0],a=lab[1],b=lab[2],x,y,z;y=(l+16)/116;x=a/500+y;z=y-b/200;var y2=_Mathpow(y,3),x2=_Mathpow(x,3),z2=_Mathpow(z,3);y=.008856<y2?y2:(y-16/116)/7.787;x=.008856<x2?x2:(x-16/116)/7.787;z=.008856<z2?z2:(z-16/116)/7.787;x*=95.047;y*=100;z*=108.883;return[x,y,z]};convert.lab.lch=function(lab){var l=lab[0],a=lab[1],b=lab[2],hr,h,c;hr=Math.atan2(b,a);h=360*hr/2/_MathPI;if(0>h){h+=360}c=Math.sqrt(a*a+b*b);return[l,c,h]};convert.lch.lab=function(lch){var l=lch[0],c=lch[1],h=lch[2],a,b,hr;hr=2*(h/360)*_MathPI;a=c*Math.cos(hr);b=c*Math.sin(hr);return[l,a,b]};convert.rgb.ansi16=function(args){var r=args[0],g=args[1],b=args[2],value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];value=_Mathround(value/50);if(0===value){return 30}var ansi=30+(_Mathround(b/255)<<2|_Mathround(g/255)<<1|_Mathround(r/255));if(2===value){ansi+=60}return ansi};convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2])};convert.rgb.ansi256=function(args){var r=args[0],g=args[1],b=args[2];if(r===g&&g===b){if(8>r){return 16}if(248<r){return 231}return _Mathround(24*((r-8)/247))+232}var ansi=16+36*_Mathround(5*(r/255))+6*_Mathround(5*(g/255))+_Mathround(5*(b/255));return ansi};convert.ansi16.rgb=function(args){var color=args%10;if(0===color||7===color){if(50<args){color+=3.5}color=255*(color/10.5);return[color,color,color]}var mult=.5*(~~(50<args)+1),r=255*((1&color)*mult),g=255*((1&color>>1)*mult),b=255*((1&color>>2)*mult);return[r,g,b]};convert.ansi256.rgb=function(args){if(232<=args){var c=10*(args-232)+8;return[c,c,c]}args-=16;var rem,r=255*(_Mathfloor(args/36)/5),g=255*(_Mathfloor((rem=args%36)/6)/5),b=255*(rem%6/5);return[r,g,b]};convert.rgb.hex=function(args){var integer=((255&_Mathround(args[0]))<<16)+((255&_Mathround(args[1]))<<8)+(255&_Mathround(args[2])),string=integer.toString(16).toUpperCase();return"000000".substring(string.length)+string};convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match){return[0,0,0]}var colorString=match[0];if(3===match[0].length){colorString=colorString.split("").map(function(char){return char+char}).join("")}var integer=parseInt(colorString,16),r=255&integer>>16,g=255&integer>>8,b=255&integer;return[r,g,b]};convert.rgb.hcg=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,max=_Mathmax(_Mathmax(r,g),b),min=_Mathmin(_Mathmin(r,g),b),chroma=max-min,grayscale,hue;if(1>chroma){grayscale=min/(1-chroma)}else{grayscale=0}if(0>=chroma){hue=0}else if(max===r){hue=(g-b)/chroma%6}else if(max===g){hue=2+(b-r)/chroma}else{hue=4+(r-g)/chroma+4}hue/=6;hue%=1;return[360*hue,100*chroma,100*grayscale]};convert.hsl.hcg=function(hsl){var s=hsl[1]/100,l=hsl[2]/100,c=1,f=0;if(.5>l){c=2*s*l}else{c=2*s*(1-l)}if(1>c){f=(l-.5*c)/(1-c)}return[hsl[0],100*c,100*f]};convert.hsv.hcg=function(hsv){var s=hsv[1]/100,v=hsv[2]/100,c=s*v,f=0;if(1>c){f=(v-c)/(1-c)}return[hsv[0],100*c,100*f]};convert.hcg.rgb=function(hcg){var h=hcg[0]/360,c=hcg[1]/100,g=hcg[2]/100;if(0===c){return[255*g,255*g,255*g]}var pure=[0,0,0],hi=6*(h%1),v=hi%1,w=1-v,mg=0;switch(_Mathfloor(hi)){case 0:pure[0]=1;pure[1]=v;pure[2]=0;break;case 1:pure[0]=w;pure[1]=1;pure[2]=0;break;case 2:pure[0]=0;pure[1]=1;pure[2]=v;break;case 3:pure[0]=0;pure[1]=w;pure[2]=1;break;case 4:pure[0]=v;pure[1]=0;pure[2]=1;break;default:pure[0]=1;pure[1]=0;pure[2]=w;}mg=(1-c)*g;return[255*(c*pure[0]+mg),255*(c*pure[1]+mg),255*(c*pure[2]+mg)]};convert.hcg.hsv=function(hcg){var c=hcg[1]/100,g=hcg[2]/100,v=c+g*(1-c),f=0;if(0<v){f=c/v}return[hcg[0],100*f,100*v]};convert.hcg.hsl=function(hcg){var c=hcg[1]/100,g=hcg[2]/100,l=g*(1-c)+.5*c,s=0;if(0<l&&.5>l){s=c/(2*l)}else if(.5<=l&&1>l){s=c/(2*(1-l))}return[hcg[0],100*s,100*l]};convert.hcg.hwb=function(hcg){var c=hcg[1]/100,g=hcg[2]/100,v=c+g*(1-c);return[hcg[0],100*(v-c),100*(1-v)]};convert.hwb.hcg=function(hwb){var w=hwb[1]/100,b=hwb[2]/100,v=1-b,c=v-w,g=0;if(1>c){g=(v-c)/(1-c)}return[hwb[0],100*c,100*g]};convert.apple.rgb=function(apple){return[255*(apple[0]/65535),255*(apple[1]/65535),255*(apple[2]/65535)]};convert.rgb.apple=function(rgb){return[65535*(rgb[0]/255),65535*(rgb[1]/255),65535*(rgb[2]/255)]};convert.gray.rgb=function(args){return[255*(args[0]/100),255*(args[0]/100),255*(args[0]/100)]};convert.gray.hsl=convert.gray.hsv=function(args){return[0,0,args[0]]};convert.gray.hwb=function(gray){return[0,100,gray[0]]};convert.gray.cmyk=function(gray){return[0,0,0,gray[0]]};convert.gray.lab=function(gray){return[gray[0],0,0]};convert.gray.hex=function(gray){var val=255&_Mathround(255*(gray[0]/100)),integer=(val<<16)+(val<<8)+val,string=integer.toString(16).toUpperCase();return"000000".substring(string.length)+string};convert.rgb.gray=function(rgb){var val=(rgb[0]+rgb[1]+rgb[2])/3;return[100*(val/255)]}}),models$1=Object.keys(conversions);function buildGraph(){for(var graph={},len=models$1.length,i=0;i<len;i++){graph[models$1[i]]={distance:-1,parent:null}}return graph}function deriveBFS(fromModel){var graph=buildGraph(),queue=[fromModel];graph[fromModel].distance=0;while(queue.length){for(var current=queue.pop(),adjacents=Object.keys(conversions[current]),len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i],node=graph[adjacent];if(-1===node.distance){node.distance=graph[current].distance+1;node.parent=current;queue.unshift(adjacent)}}}return graph}function link(from,to){return function(args){return to(from(args))}}function wrapConversion(toModel,graph){var path=[graph[toModel].parent,toModel],fn=conversions[graph[toModel].parent][toModel],cur=graph[toModel].parent;while(graph[cur].parent){path.unshift(graph[cur].parent);fn=link(conversions[graph[cur].parent][cur],fn);cur=graph[cur].parent}fn.conversion=path;return fn}var route=function route(fromModel){for(var graph=deriveBFS(fromModel),conversion={},models=Object.keys(graph),len=models.length,i=0;i<len;i++){var toModel=models[i],node=graph[toModel];if(null===node.parent){continue}conversion[toModel]=wrapConversion(toModel,graph)}return conversion},convert={},models=Object.keys(conversions);function wrapRaw(fn){var wrappedFn=function wrappedFn(args){if(args===void 0||null===args){return args}if(1<arguments.length){args=Array.prototype.slice.call(arguments)}return fn(args)};if("conversion"in fn){wrappedFn.conversion=fn.conversion}return wrappedFn}function wrapRounded(fn){var wrappedFn=function wrappedFn(args){if(args===void 0||null===args){return args}if(1<arguments.length){args=Array.prototype.slice.call(arguments)}var result=fn(args);if("object"===_typeof(result)){for(var len=result.length,i=0;i<len;i++){result[i]=_Mathround(result[i])}}return result};if("conversion"in fn){wrappedFn.conversion=fn.conversion}return wrappedFn}models.forEach(function(fromModel){convert[fromModel]={};Object.defineProperty(convert[fromModel],"channels",{value:conversions[fromModel].channels});Object.defineProperty(convert[fromModel],"labels",{value:conversions[fromModel].labels});var routes=route(fromModel),routeModels=Object.keys(routes);routeModels.forEach(function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=wrapRounded(fn);convert[fromModel][toModel].raw=wrapRaw(fn)})});var colorConvert=convert,ansiStyles=createCommonjsModule(function(module){'use strict';var wrapAnsi16=function wrapAnsi16(fn,offset){return function(){var code=fn.apply(colorConvert,arguments);return"\x1B[".concat(code+offset,"m")}},wrapAnsi256=function wrapAnsi256(fn,offset){return function(){var code=fn.apply(colorConvert,arguments);return"\x1B[".concat(38+offset,";5;").concat(code,"m")}},wrapAnsi16m=function wrapAnsi16m(fn,offset){return function(){var rgb=fn.apply(colorConvert,arguments);return"\x1B[".concat(38+offset,";2;").concat(rgb[0],";").concat(rgb[1],";").concat(rgb[2],"m")}};function assembleStyles(){var codes=new Map,styles={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};styles.color.grey=styles.color.gray;for(var _arr=Object.keys(styles),_i=0;_i<_arr.length;_i++){for(var groupName=_arr[_i],group=styles[groupName],_arr3=Object.keys(group),_i3=0;_i3<_arr3.length;_i3++){var styleName=_arr3[_i3],style=group[styleName];styles[styleName]={open:"\x1B[".concat(style[0],"m"),close:"\x1B[".concat(style[1],"m")};group[styleName]=styles[styleName];codes.set(style[0],style[1])}Object.defineProperty(styles,groupName,{value:group,enumerable:!1});Object.defineProperty(styles,"codes",{value:codes,enumerable:!1})}var ansi2ansi=function ansi2ansi(n){return n},rgb2rgb=function rgb2rgb(r,g,b){return[r,g,b]};styles.color.close="\x1B[39m";styles.bgColor.close="\x1B[49m";styles.color.ansi={ansi:wrapAnsi16(ansi2ansi,0)};styles.color.ansi256={ansi256:wrapAnsi256(ansi2ansi,0)};styles.color.ansi16m={rgb:wrapAnsi16m(rgb2rgb,0)};styles.bgColor.ansi={ansi:wrapAnsi16(ansi2ansi,10)};styles.bgColor.ansi256={ansi256:wrapAnsi256(ansi2ansi,10)};styles.bgColor.ansi16m={rgb:wrapAnsi16m(rgb2rgb,10)};for(var _arr2=Object.keys(colorConvert),_i2=0,key;_i2<_arr2.length;_i2++){key=_arr2[_i2];if("object"!==_typeof(colorConvert[key])){continue}var suite=colorConvert[key];if("ansi16"===key){key="ansi"}if("ansi16"in suite){styles.color.ansi[key]=wrapAnsi16(suite.ansi16,0);styles.bgColor.ansi[key]=wrapAnsi16(suite.ansi16,10)}if("ansi256"in suite){styles.color.ansi256[key]=wrapAnsi256(suite.ansi256,0);styles.bgColor.ansi256[key]=wrapAnsi256(suite.ansi256,10)}if("rgb"in suite){styles.color.ansi16m[key]=wrapAnsi16m(suite.rgb,0);styles.bgColor.ansi16m[key]=wrapAnsi16m(suite.rgb,10)}}return styles}Object.defineProperty(module,"exports",{enumerable:!0,get:assembleStyles})}),os={EOL:"\n"},os$1=Object.freeze({default:os}),hasFlag=createCommonjsModule(function(module){'use strict';module.exports=function(flag,argv$$1){argv$$1=argv$$1||process.argv;var prefix=flag.startsWith("-")?"":1===flag.length?"-":"--",pos=argv$$1.indexOf(prefix+flag),terminatorPos=argv$$1.indexOf("--");return-1!==pos&&(-1===terminatorPos?!0:pos<terminatorPos)}}),require$$1$1=os$1&&os||os$1,env$1=process.env,forceColor;if(hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")){forceColor=!1}else if(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always")){forceColor=!0}if("FORCE_COLOR"in env$1){forceColor=0===env$1.FORCE_COLOR.length||0!==parseInt(env$1.FORCE_COLOR,10)}function translateLevel(level){if(0===level){return!1}return{level:level,hasBasic:!0,has256:2<=level,has16m:3<=level}}function supportsColor(stream){if(!1===forceColor){return 0}if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor")){return 3}if(hasFlag("color=256")){return 2}if(stream&&!stream.isTTY&&!0!==forceColor){return 0}var min=forceColor?1:0;if("win32"===process.platform){var osRelease=require$$1$1.release().split(".");if(8<=+process.versions.node.split(".")[0]&&10<=+osRelease[0]&&10586<=+osRelease[2]){return 14931<=+osRelease[2]?3:2}return 1}if("CI"in env$1){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(sign){return sign in env$1})||"codeship"===env$1.CI_NAME){return 1}return min}if("TEAMCITY_VERSION"in env$1){return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env$1.TEAMCITY_VERSION)?1:0}if("truecolor"===env$1.COLORTERM){return 3}if("TERM_PROGRAM"in env$1){var version=parseInt((env$1.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env$1.TERM_PROGRAM){case"iTerm.app":return 3<=version?3:2;case"Apple_Terminal":return 2;}}if(/-256(color)?$/i.test(env$1.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env$1.TERM)){return 1}if("COLORTERM"in env$1){return 1}if("dumb"===env$1.TERM){return min}return min}function getSupportLevel(stream){var level=supportsColor(stream);return translateLevel(level)}var supportsColor_1={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)},templates=createCommonjsModule(function(module){'use strict';var TEMPLATE_REGEX=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,ESCAPES=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\x0B"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function unescape(c){if("u"===c[0]&&5===c.length||"x"===c[0]&&3===c.length){return _StringfromCharCode(parseInt(c.slice(1),16))}return ESCAPES.get(c)||c}function parseArguments(name,args){var results=[],chunks=args.trim().split(/\s*,\s*/g),matches,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=chunks[Symbol.iterator](),_step,chunk;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){chunk=_step.value;if(!isNaN(chunk)){results.push(+chunk)}else if(matches=chunk.match(STRING_REGEX)){results.push(matches[2].replace(ESCAPE_REGEX,function(m,escape,chr){return escape?unescape(escape):chr}))}else{throw new Error("Invalid Chalk template style argument: ".concat(chunk," (in style '").concat(name,"')"))}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return results}function parseStyle(style){STYLE_REGEX.lastIndex=0;var results=[],matches;while(null!==(matches=STYLE_REGEX.exec(style))){var name=matches[1];if(matches[2]){var args=parseArguments(name,matches[2]);results.push([name].concat(args))}else{results.push([name])}}return results}function buildStyle(chalk,styles){var enabled={},_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=styles[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var layer=_step2.value,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=layer.styles[Symbol.iterator](),_step3,style;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){style=_step3.value;enabled[style[0]]=layer.inverse?null:style.slice(1)}}catch(err){_didIteratorError3=!0;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&null!=_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}for(var current=chalk,_arr=Object.keys(enabled),_i=0,styleName;_i<_arr.length;_i++){styleName=_arr[_i];if(Array.isArray(enabled[styleName])){if(!(styleName in current)){throw new Error("Unknown Chalk style: ".concat(styleName))}if(0<enabled[styleName].length){current=current[styleName].apply(current,enabled[styleName])}else{current=current[styleName]}}}return current}module.exports=function(chalk,tmp){var styles=[],chunks=[],chunk=[];tmp.replace(TEMPLATE_REGEX,function(m,escapeChar,inverse,style,close,chr){if(escapeChar){chunk.push(unescape(escapeChar))}else if(style){var str=chunk.join("");chunk=[];chunks.push(0===styles.length?str:buildStyle(chalk,styles)(str));styles.push({inverse:inverse,styles:parseStyle(style)})}else if(close){if(0===styles.length){throw new Error("Found extraneous } in Chalk template literal")}chunks.push(buildStyle(chalk,styles)(chunk.join("")));chunk=[];styles.pop()}else{chunk.push(chr)}});chunks.push(chunk.join(""));if(0<styles.length){var errMsg="Chalk template literal is missing ".concat(styles.length," closing bracket").concat(1===styles.length?"":"s"," (`}`)");throw new Error(errMsg)}return chunks.join("")}}),chalk=createCommonjsModule(function(module){'use strict';var stdoutColor=supportsColor_1.stdout,isSimpleWindowsTerm="win32"===process.platform&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),levelMapping=["ansi","ansi","ansi256","ansi16m"],skipModels=new Set(["gray"]),styles=Object.create(null);function applyOptions(obj,options){options=options||{};var scLevel=stdoutColor?stdoutColor.level:0;obj.level=options.level===void 0?scLevel:options.level;obj.enabled="enabled"in options?options.enabled:0<obj.level}function Chalk(options){if(!this||!(this instanceof Chalk)||this.template){var _chalk={};applyOptions(_chalk,options);_chalk.template=function(){var args=[].slice.call(arguments);return chalkTag.apply(null,[_chalk.template].concat(args))};Object.setPrototypeOf(_chalk,Chalk.prototype);Object.setPrototypeOf(_chalk.template,_chalk);_chalk.template.constructor=Chalk;return _chalk.template}applyOptions(this,options)}if(isSimpleWindowsTerm){ansiStyles.blue.open="\x1B[94m"}for(var _arr=Object.keys(ansiStyles),_loop=function _loop(){var key=_arr[_i];ansiStyles[key].closeRe=new RegExp(escapeStringRegexp(ansiStyles[key].close),"g");styles[key]={get:function get(){var codes=ansiStyles[key];return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,key)}}},_i=0;_i<_arr.length;_i++){_loop()}styles.visible={get:function get(){return build.call(this,this._styles||[],!0,"visible")}};ansiStyles.color.closeRe=new RegExp(escapeStringRegexp(ansiStyles.color.close),"g");for(var _arr2=Object.keys(ansiStyles.color.ansi),_loop2=function _loop2(){var model=_arr2[_i2];if(skipModels.has(model)){return"continue"}styles[model]={get:function get(){var level=this.level;return function(){var open=ansiStyles.color[levelMapping[level]][model].apply(null,arguments),codes={open:open,close:ansiStyles.color.close,closeRe:ansiStyles.color.closeRe};return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,model)}}}},_i2=0,_ret;_i2<_arr2.length;_i2++){_ret=_loop2();if("continue"===_ret)continue}ansiStyles.bgColor.closeRe=new RegExp(escapeStringRegexp(ansiStyles.bgColor.close),"g");for(var _arr3=Object.keys(ansiStyles.bgColor.ansi),_loop3=function _loop3(){var model=_arr3[_i3];if(skipModels.has(model)){return"continue"}var bgModel="bg"+model[0].toUpperCase()+model.slice(1);styles[bgModel]={get:function get(){var level=this.level;return function(){var open=ansiStyles.bgColor[levelMapping[level]][model].apply(null,arguments),codes={open:open,close:ansiStyles.bgColor.close,closeRe:ansiStyles.bgColor.closeRe};return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,model)}}}},_i3=0,_ret2;_i3<_arr3.length;_i3++){_ret2=_loop3();if("continue"===_ret2)continue}var proto=Object.defineProperties(function(){},styles);function build(_styles,_empty,key){var builder=function builder(){return applyStyle.apply(builder,arguments)};builder._styles=_styles;builder._empty=_empty;var self=this;Object.defineProperty(builder,"level",{enumerable:!0,get:function get(){return self.level},set:function set(level){self.level=level}});Object.defineProperty(builder,"enabled",{enumerable:!0,get:function get(){return self.enabled},set:function set(enabled){self.enabled=enabled}});builder.hasGrey=this.hasGrey||"gray"===key||"grey"===key;builder.__proto__=proto;return builder}function applyStyle(){var args=arguments,argsLen=args.length,str=arguments[0]+"";if(0===argsLen){return""}if(1<argsLen){for(var a=1;a<argsLen;a++){str+=" "+args[a]}}if(!this.enabled||0>=this.level||!str){return this._empty?"":str}var originalDim=ansiStyles.dim.open;if(isSimpleWindowsTerm&&this.hasGrey){ansiStyles.dim.open=""}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this._styles.slice().reverse()[Symbol.iterator](),_step,code;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){code=_step.value;str=code.open+str.replace(code.closeRe,code.open)+code.close;str=str.replace(/\r?\n/g,"".concat(code.close,"$&").concat(code.open))}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}ansiStyles.dim.open=originalDim;return str}function chalkTag(chalk,strings){if(!Array.isArray(strings)){return[].slice.call(arguments,1).join(" ")}for(var args=[].slice.call(arguments,2),parts=[strings.raw[0]],i=1;i<strings.length;i++){parts.push((args[i-1]+"").replace(/[{}\\]/g,"\\$&"));parts.push(strings.raw[i]+"")}return templates(chalk,parts.join(""))}Object.defineProperties(Chalk.prototype,styles);module.exports=Chalk();module.exports.supportsColor=stdoutColor;module.exports.default=module.exports}),common=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.commonDeprecatedHandler=function(keyOrPair,redirectTo,_ref){var descriptor=_ref.descriptor,messages=["".concat(chalk.default.yellow("string"===typeof keyOrPair?descriptor.key(keyOrPair):descriptor.pair(keyOrPair))," is deprecated")];if(redirectTo){messages.push("we now treat it as ".concat(chalk.default.blue("string"===typeof redirectTo?descriptor.key(redirectTo):descriptor.pair(redirectTo))))}return messages.join("; ")+"."}});unwrapExports(common);var deprecated=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});tslib_1.__exportStar(common,exports)});unwrapExports(deprecated);var common$2=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.commonInvalidHandler=function(key,value,utils){return["Invalid ".concat(chalk.default.red(utils.descriptor.key(key))," value."),"Expected ".concat(chalk.default.blue(utils.schemas[key].expected(utils)),","),"but received ".concat(chalk.default.red(utils.descriptor.value(value)),".")].join(" ")}});unwrapExports(common$2);var invalid=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});tslib_1.__exportStar(common$2,exports)});unwrapExports(invalid);var arr=[],charCodeCache=[],leven$1=function leven(a,b){if(a===b){return 0}var swap=a;if(a.length>b.length){a=b;b=swap}var aLen=a.length,bLen=b.length;if(0===aLen){return bLen}if(0===bLen){return aLen}while(0<aLen&&a.charCodeAt(~-aLen)===b.charCodeAt(~-bLen)){aLen--;bLen--}if(0===aLen){return bLen}var start=0;while(start<aLen&&a.charCodeAt(start)===b.charCodeAt(start)){start++}aLen-=start;bLen-=start;if(0===aLen){return bLen}var bCharCode,ret,tmp,tmp2,i=0,j=0;while(i<aLen){charCodeCache[start+i]=a.charCodeAt(start+i);arr[i]=++i}while(j<bLen){bCharCode=b.charCodeAt(start+j);tmp=j++;ret=j;for(i=0;i<aLen;i++){tmp2=bCharCode===charCodeCache[start+i]?tmp:tmp+1;tmp=arr[i];ret=arr[i]=tmp>ret?tmp2>ret?ret+1:tmp2:tmp2>tmp?tmp+1:tmp2}}return ret},leven_1=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.levenUnknownHandler=function(key,value,_ref){var descriptor=_ref.descriptor,logger=_ref.logger,schemas=_ref.schemas,messages=["Ignored unknown option ".concat(chalk.default.yellow(descriptor.pair({key:key,value:value})),".")],suggestion=Object.keys(schemas).sort().find(function(knownKey){return 3>leven$1(key,knownKey)});if(suggestion){messages.push("Did you mean ".concat(chalk.default.blue(descriptor.key(suggestion)),"?"))}logger.warn(messages.join(" "))}});unwrapExports(leven_1);var unknown=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});tslib_1.__exportStar(leven_1,exports)});unwrapExports(unknown);var handlers=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});tslib_1.__exportStar(deprecated,exports);tslib_1.__exportStar(invalid,exports);tslib_1.__exportStar(unknown,exports)});unwrapExports(handlers);var schema=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var HANDLER_KEYS=["default","expected","validate","deprecated","forward","redirect","overlap","preprocess","postprocess"];function createSchema(SchemaConstructor,parameters){for(var schema=new SchemaConstructor(parameters),subSchema=Object.create(schema),_i=0,handlerKey;_i<HANDLER_KEYS.length;_i++){handlerKey=HANDLER_KEYS[_i];if(handlerKey in parameters){subSchema[handlerKey]=normalizeHandler(parameters[handlerKey],schema,Schema.prototype[handlerKey].length)}}return subSchema}exports.createSchema=createSchema;var Schema=function(){function Schema(parameters){_classCallCheck(this,Schema);this.name=parameters.name}_createClass(Schema,[{key:"default",value:function _default(_utils){return}},{key:"expected",value:function expected(_utils){return"nothing"}},{key:"validate",value:function validate(_value,_utils){return!1}},{key:"deprecated",value:function deprecated(_value,_utils){return!1}},{key:"forward",value:function forward(_value,_utils){return}},{key:"redirect",value:function redirect(_value,_utils){return}},{key:"overlap",value:function overlap(currentValue,_newValue,_utils){return currentValue}},{key:"preprocess",value:function preprocess(value,_utils){return value}},{key:"postprocess",value:function postprocess(value,_utils){return value}}],[{key:"create",value:function create(parameters){return createSchema(this,parameters)}}]);return Schema}();exports.Schema=Schema;function normalizeHandler(handler,superSchema,handlerArgumentsLength){return"function"===typeof handler?function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return handler.apply(void 0,_toConsumableArray(args.slice(0,handlerArgumentsLength-1)).concat([superSchema],_toConsumableArray(args.slice(handlerArgumentsLength-1))))}:function(){return handler}}});unwrapExports(schema);var alias=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AliasSchema=function(_schema_1$Schema){_inherits(AliasSchema,_schema_1$Schema);function AliasSchema(parameters){var _this;_classCallCheck(this,AliasSchema);_this=_possibleConstructorReturn(this,_getPrototypeOf(AliasSchema).call(this,parameters));_this._sourceName=parameters.sourceName;return _this}_createClass(AliasSchema,[{key:"expected",value:function expected(utils){return utils.schemas[this._sourceName].expected(utils)}},{key:"validate",value:function validate(value,utils){return utils.schemas[this._sourceName].validate(value,utils)}},{key:"redirect",value:function redirect(_value,_utils){return this._sourceName}}]);return AliasSchema}(schema.Schema);exports.AliasSchema=AliasSchema});unwrapExports(alias);var any=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AnySchema=function(_schema_1$Schema){_inherits(AnySchema,_schema_1$Schema);function AnySchema(){_classCallCheck(this,AnySchema);return _possibleConstructorReturn(this,_getPrototypeOf(AnySchema).apply(this,arguments))}_createClass(AnySchema,[{key:"expected",value:function expected(){return"anything"}},{key:"validate",value:function validate(){return!0}}]);return AnySchema}(schema.Schema);exports.AnySchema=AnySchema});unwrapExports(any);var array$2=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ArraySchema=function(_schema_1$Schema){_inherits(ArraySchema,_schema_1$Schema);function ArraySchema(_a){var _this;_classCallCheck(this,ArraySchema);var valueSchema=_a.valueSchema,_a$name=_a.name,name=void 0===_a$name?valueSchema.name:_a$name,handlers=tslib_1.__rest(_a,["valueSchema","name"]);_this=_possibleConstructorReturn(this,_getPrototypeOf(ArraySchema).call(this,Object.assign({},handlers,{name:name})));_this._valueSchema=valueSchema;return _this}_createClass(ArraySchema,[{key:"expected",value:function expected(utils){return"an array of ".concat(this._valueSchema.expected(utils))}},{key:"validate",value:function validate(value,utils){if(!Array.isArray(value)){return!1}var invalidValues=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=value[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var subValue=_step.value,subValidateResult=utils.normalizeValidateResult(this._valueSchema.validate(subValue,utils),subValue);if(!0!==subValidateResult){invalidValues.push(subValidateResult.value)}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return 0===invalidValues.length?!0:{value:invalidValues}}},{key:"deprecated",value:function deprecated(value,utils){var deprecatedResult=[],_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=value[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var subValue=_step2.value,subDeprecatedResult=utils.normalizeDeprecatedResult(this._valueSchema.deprecated(subValue,utils),subValue);if(!1!==subDeprecatedResult){deprecatedResult.push.apply(deprecatedResult,_toConsumableArray(subDeprecatedResult.map(function(_ref){var deprecatedValue=_ref.value;return{value:[deprecatedValue]}})))}}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return deprecatedResult}},{key:"forward",value:function forward(value,utils){var forwardResult=[],_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=value[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var subValue=_step3.value,subForwardResult=utils.normalizeForwardResult(this._valueSchema.forward(subValue,utils),subValue);forwardResult.push.apply(forwardResult,_toConsumableArray(subForwardResult.map(wrapTransferResult)))}}catch(err){_didIteratorError3=!0;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&null!=_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}return forwardResult}},{key:"redirect",value:function redirect(value,utils){var remain=[],redirect=[],_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _iterator4=value[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var subValue=_step4.value,subRedirectResult=utils.normalizeRedirectResult(this._valueSchema.redirect(subValue,utils),subValue);if("remain"in subRedirectResult){remain.push(subRedirectResult.remain)}redirect.push.apply(redirect,_toConsumableArray(subRedirectResult.redirect.map(wrapTransferResult)))}}catch(err){_didIteratorError4=!0;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&null!=_iterator4.return){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}return 0===remain.length?{redirect:redirect}:{redirect:redirect,remain:remain}}},{key:"overlap",value:function overlap(currentValue,newValue){return currentValue.concat(newValue)}}]);return ArraySchema}(schema.Schema);exports.ArraySchema=ArraySchema;function wrapTransferResult(_ref2){var from=_ref2.from,to=_ref2.to;return{from:[from],to:to}}});unwrapExports(array$2);var boolean_1=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BooleanSchema=function(_schema_1$Schema){_inherits(BooleanSchema,_schema_1$Schema);function BooleanSchema(){_classCallCheck(this,BooleanSchema);return _possibleConstructorReturn(this,_getPrototypeOf(BooleanSchema).apply(this,arguments))}_createClass(BooleanSchema,[{key:"expected",value:function expected(){return"true or false"}},{key:"validate",value:function validate(value){return"boolean"===typeof value}}]);return BooleanSchema}(schema.Schema);exports.BooleanSchema=BooleanSchema});unwrapExports(boolean_1);var utils=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});function recordFromArray(array,mainKey){var record=Object.create(null),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=array[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var value=_step.value,key=value[mainKey];if(record[key]){throw new Error("Duplicate ".concat(mainKey," ").concat(JSON.stringify(key)))}record[key]=value}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return record}exports.recordFromArray=recordFromArray;function mapFromArray(array,mainKey){var map=new Map,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=array[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var value=_step2.value,key=value[mainKey];if(map.has(key)){throw new Error("Duplicate ".concat(mainKey," ").concat(JSON.stringify(key)))}map.set(key,value)}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return map}exports.mapFromArray=mapFromArray;function createAutoChecklist(){var map=Object.create(null);return function(id){var idString=JSON.stringify(id);if(map[idString]){return!0}map[idString]=!0;return!1}}exports.createAutoChecklist=createAutoChecklist;function partition(array,predicate){var trueArray=[],falseArray=[],_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=array[Symbol.iterator](),_step3,value;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){value=_step3.value;if(predicate(value)){trueArray.push(value)}else{falseArray.push(value)}}}catch(err){_didIteratorError3=!0;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&null!=_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}return[trueArray,falseArray]}exports.partition=partition;function isInt(value){return value===_Mathfloor(value)}exports.isInt=isInt;function comparePrimitive(a,b){if(a===b){return 0}var typeofA=_typeof(a),typeofB=_typeof(b),orders=["undefined","object","boolean","number","string"];if(typeofA!==typeofB){return orders.indexOf(typeofA)-orders.indexOf(typeofB)}if("string"!==typeofA){return+a-+b}return a.localeCompare(b)}exports.comparePrimitive=comparePrimitive;function normalizeDefaultResult(result){return result===void 0?{}:result}exports.normalizeDefaultResult=normalizeDefaultResult;function normalizeValidateResult(result,value){return!0===result?!0:!1===result?{value:value}:result}exports.normalizeValidateResult=normalizeValidateResult;function normalizeDeprecatedResult(result,value){var doNotNormalizeTrue=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!1;return!1===result?!1:!0===result?doNotNormalizeTrue?!0:[{value:value}]:"value"in result?[result]:0===result.length?!1:result}exports.normalizeDeprecatedResult=normalizeDeprecatedResult;function normalizeTransferResult(result,value){return"string"===typeof result||"key"in result?{from:value,to:result}:"from"in result?{from:result.from,to:result.to}:{from:value,to:result.to}}exports.normalizeTransferResult=normalizeTransferResult;function normalizeForwardResult(result,value){return result===void 0?[]:Array.isArray(result)?result.map(function(transferResult){return normalizeTransferResult(transferResult,value)}):[normalizeTransferResult(result,value)]}exports.normalizeForwardResult=normalizeForwardResult;function normalizeRedirectResult(result,value){var redirect=normalizeForwardResult("object"===_typeof(result)&&"redirect"in result?result.redirect:result,value);return 0===redirect.length?{remain:value,redirect:redirect}:"object"===_typeof(result)&&"remain"in result?{remain:result.remain,redirect:redirect}:{redirect:redirect}}exports.normalizeRedirectResult=normalizeRedirectResult});unwrapExports(utils);var choice=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ChoiceSchema=function(_schema_1$Schema){_inherits(ChoiceSchema,_schema_1$Schema);function ChoiceSchema(parameters){var _this;_classCallCheck(this,ChoiceSchema);_this=_possibleConstructorReturn(this,_getPrototypeOf(ChoiceSchema).call(this,parameters));_this._choices=utils.mapFromArray(parameters.choices.map(function(choice){return choice&&"object"===_typeof(choice)?choice:{value:choice}}),"value");return _this}_createClass(ChoiceSchema,[{key:"expected",value:function expected(_ref){var _this2=this,descriptor=_ref.descriptor,choiceValues=Array.from(this._choices.keys()).map(function(value){return _this2._choices.get(value)}).filter(function(choiceInfo){return!choiceInfo.deprecated}).map(function(choiceInfo){return choiceInfo.value}).sort(utils.comparePrimitive).map(descriptor.value),head=choiceValues.slice(0,-2),tail=choiceValues.slice(-2);return head.concat(tail.join(" or ")).join(", ")}},{key:"validate",value:function validate(value){return this._choices.has(value)}},{key:"deprecated",value:function deprecated(value){var choiceInfo=this._choices.get(value);return choiceInfo&&choiceInfo.deprecated?{value:value}:!1}},{key:"forward",value:function forward(value){var choiceInfo=this._choices.get(value);return choiceInfo?choiceInfo.forward:void 0}},{key:"redirect",value:function redirect(value){var choiceInfo=this._choices.get(value);return choiceInfo?choiceInfo.redirect:void 0}}]);return ChoiceSchema}(schema.Schema);exports.ChoiceSchema=ChoiceSchema});unwrapExports(choice);var number=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var NumberSchema=function(_schema_1$Schema){_inherits(NumberSchema,_schema_1$Schema);function NumberSchema(){_classCallCheck(this,NumberSchema);return _possibleConstructorReturn(this,_getPrototypeOf(NumberSchema).apply(this,arguments))}_createClass(NumberSchema,[{key:"expected",value:function expected(){return"a number"}},{key:"validate",value:function validate(value,_utils){return"number"===typeof value}}]);return NumberSchema}(schema.Schema);exports.NumberSchema=NumberSchema});unwrapExports(number);var integer=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IntegerSchema=function(_number_1$NumberSchem){_inherits(IntegerSchema,_number_1$NumberSchem);function IntegerSchema(){_classCallCheck(this,IntegerSchema);return _possibleConstructorReturn(this,_getPrototypeOf(IntegerSchema).apply(this,arguments))}_createClass(IntegerSchema,[{key:"expected",value:function expected(){return"an integer"}},{key:"validate",value:function validate(value,utils$$2){return!0===utils$$2.normalizeValidateResult(_get(_getPrototypeOf(IntegerSchema.prototype),"validate",this).call(this,value,utils$$2),value)&&utils.isInt(value)}}]);return IntegerSchema}(number.NumberSchema);exports.IntegerSchema=IntegerSchema});unwrapExports(integer);var string=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var StringSchema=function(_schema_1$Schema){_inherits(StringSchema,_schema_1$Schema);function StringSchema(){_classCallCheck(this,StringSchema);return _possibleConstructorReturn(this,_getPrototypeOf(StringSchema).apply(this,arguments))}_createClass(StringSchema,[{key:"expected",value:function expected(){return"a string"}},{key:"validate",value:function validate(value){return"string"===typeof value}}]);return StringSchema}(schema.Schema);exports.StringSchema=StringSchema});unwrapExports(string);var schemas=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});tslib_1.__exportStar(alias,exports);tslib_1.__exportStar(any,exports);tslib_1.__exportStar(array$2,exports);tslib_1.__exportStar(boolean_1,exports);tslib_1.__exportStar(choice,exports);tslib_1.__exportStar(integer,exports);tslib_1.__exportStar(number,exports);tslib_1.__exportStar(string,exports)});unwrapExports(schemas);var defaults=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.defaultDescriptor=api.apiDescriptor;exports.defaultUnknownHandler=leven_1.levenUnknownHandler;exports.defaultInvalidHandler=invalid.commonInvalidHandler;exports.defaultDeprecatedHandler=common.commonDeprecatedHandler});unwrapExports(defaults);var normalize$1=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.normalize=function(options,schemas,opts){return new Normalizer(schemas,opts).normalize(options)};var Normalizer=function(){function Normalizer(schemas,opts){_classCallCheck(this,Normalizer);var _ref=opts||{},_ref$logger=_ref.logger,logger=void 0===_ref$logger?console:_ref$logger,_ref$descriptor=_ref.descriptor,descriptor=void 0===_ref$descriptor?defaults.defaultDescriptor:_ref$descriptor,_ref$unknown=_ref.unknown,unknown=void 0===_ref$unknown?defaults.defaultUnknownHandler:_ref$unknown,_ref$invalid=_ref.invalid,invalid=void 0===_ref$invalid?defaults.defaultInvalidHandler:_ref$invalid,_ref$deprecated=_ref.deprecated,deprecated=void 0===_ref$deprecated?defaults.defaultDeprecatedHandler:_ref$deprecated;this._utils={descriptor:descriptor,logger:logger||{warn:function warn(){}},schemas:utils.recordFromArray(schemas,"name"),normalizeDefaultResult:utils.normalizeDefaultResult,normalizeDeprecatedResult:utils.normalizeDeprecatedResult,normalizeForwardResult:utils.normalizeForwardResult,normalizeRedirectResult:utils.normalizeRedirectResult,normalizeValidateResult:utils.normalizeValidateResult};this._unknownHandler=unknown;this._invalidHandler=invalid;this._deprecatedHandler=deprecated;this.cleanHistory()}_createClass(Normalizer,[{key:"cleanHistory",value:function cleanHistory(){this._hasDeprecationWarned=utils.createAutoChecklist()}},{key:"normalize",value:function normalize(options){var _this=this,normalized={},restOptionsArray=[options],applyNormalization=function applyNormalization(){while(0!==restOptionsArray.length){var currentOptions=restOptionsArray.shift(),transferredOptionsArray=_this._applyNormalization(currentOptions,normalized);restOptionsArray.push.apply(restOptionsArray,_toConsumableArray(transferredOptionsArray))}};applyNormalization();for(var _arr=Object.keys(this._utils.schemas),_i=0;_i<_arr.length;_i++){var key=_arr[_i],schema=this._utils.schemas[key];if(!(key in normalized)){var defaultResult=utils.normalizeDefaultResult(schema.default(this._utils));if("value"in defaultResult){restOptionsArray.push(_defineProperty({},key,defaultResult.value))}}}applyNormalization();for(var _arr2=Object.keys(this._utils.schemas),_i2=0;_i2<_arr2.length;_i2++){var _key=_arr2[_i2],_schema=this._utils.schemas[_key];if(_key in normalized){normalized[_key]=_schema.postprocess(normalized[_key],this._utils)}}return normalized}},{key:"_applyNormalization",value:function _applyNormalization(options,normalized){var _this2=this,transferredOptionsArray=[],_utils_1$partition=utils.partition(Object.keys(options),function(key){return key in _this2._utils.schemas}),_utils_1$partition2=_slicedToArray(_utils_1$partition,2),knownOptionNames=_utils_1$partition2[0],unknownOptionNames=_utils_1$partition2[1],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _loop=function _loop(){var key=_step.value,schema=_this2._utils.schemas[key],value=schema.preprocess(options[key],_this2._utils),validateResult=utils.normalizeValidateResult(schema.validate(value,_this2._utils),value);if(!0!==validateResult){var invalidValue=validateResult.value,errorMessageOrError=_this2._invalidHandler(key,invalidValue,_this2._utils);throw"string"===typeof errorMessageOrError?new Error(errorMessageOrError):errorMessageOrError}var appendTransferredOptions=function appendTransferredOptions(_ref2){var from=_ref2.from,to=_ref2.to;transferredOptionsArray.push("string"===typeof to?_defineProperty({},to,from):_defineProperty({},to.key,to.value))},warnDeprecated=function warnDeprecated(_ref5){var currentValue=_ref5.value,redirectTo=_ref5.redirectTo,deprecatedResult=utils.normalizeDeprecatedResult(schema.deprecated(currentValue,_this2._utils),value,!0);if(!1===deprecatedResult){return}if(!0===deprecatedResult){if(!_this2._hasDeprecationWarned(key)){_this2._utils.logger.warn(_this2._deprecatedHandler(key,redirectTo,_this2._utils))}}else{var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=deprecatedResult[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var deprecatedValue=_step3.value.value,pair={key:key,value:deprecatedValue};if(!_this2._hasDeprecationWarned(pair)){var redirectToPair="string"===typeof redirectTo?{key:redirectTo,value:deprecatedValue}:redirectTo;_this2._utils.logger.warn(_this2._deprecatedHandler(pair,redirectToPair,_this2._utils))}}}catch(err){_didIteratorError3=!0;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&null!=_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}}},forwardResult=utils.normalizeForwardResult(schema.forward(value,_this2._utils),value);forwardResult.forEach(appendTransferredOptions);var redirectResult=utils.normalizeRedirectResult(schema.redirect(value,_this2._utils),value);redirectResult.redirect.forEach(appendTransferredOptions);if(("remain"in redirectResult)){var remainingValue=redirectResult.remain;normalized[key]=(key in normalized)?schema.overlap(normalized[key],remainingValue,_this2._utils):remainingValue;warnDeprecated({value:remainingValue})}var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _iterator4=redirectResult.redirect[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var _step4$value=_step4.value,from=_step4$value.from,to=_step4$value.to;warnDeprecated({value:from,redirectTo:to})}}catch(err){_didIteratorError4=!0;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&null!=_iterator4.return){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}},_iterator=knownOptionNames[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){_loop()}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=unknownOptionNames[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var key=_step2.value,value=options[key],unknownResult=this._unknownHandler(key,value,this._utils);if(unknownResult){for(var _arr3=Object.keys(unknownResult),_i3=0;_i3<_arr3.length;_i3++){var unknownKey=_arr3[_i3],unknownOption=_defineProperty({},unknownKey,unknownResult[unknownKey]);if(unknownKey in this._utils.schemas){transferredOptionsArray.push(unknownOption)}else{Object.assign(normalized,unknownOption)}}}}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return transferredOptionsArray}}]);return Normalizer}();exports.Normalizer=Normalizer});unwrapExports(normalize$1);var lib$1=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});tslib_1.__exportStar(descriptors,exports);tslib_1.__exportStar(handlers,exports);tslib_1.__exportStar(schemas,exports);tslib_1.__exportStar(normalize$1,exports);tslib_1.__exportStar(schema,exports)});unwrapExports(lib$1);var hasFlag$3=function hasFlag(flag,argv$$1){argv$$1=argv$$1||process.argv;var terminatorPos=argv$$1.indexOf("--"),prefix=/^-{1,2}/.test(flag)?"":"--",pos=argv$$1.indexOf(prefix+flag);return-1!==pos&&(-1===terminatorPos?!0:pos<terminatorPos)},supportsColor$1=createCommonjsModule(function(module){'use strict';var env$$1=process.env,support=function support(level){if(0===level){return!1}return{level:level,hasBasic:!0,has256:2<=level,has16m:3<=level}},supportLevel=function(){if(hasFlag$3("no-color")||hasFlag$3("no-colors")||hasFlag$3("color=false")){return 0}if(hasFlag$3("color=16m")||hasFlag$3("color=full")||hasFlag$3("color=truecolor")){return 3}if(hasFlag$3("color=256")){return 2}if(hasFlag$3("color")||hasFlag$3("colors")||hasFlag$3("color=true")||hasFlag$3("color=always")){return 1}if(process.stdout&&!process.stdout.isTTY){return 0}if("win32"===process.platform){var osRelease=require$$1$1.release().split(".");if(8<=+process.versions.node.split(".")[0]&&10<=+osRelease[0]&&10586<=+osRelease[2]){return 2}return 1}if("CI"in env$$1){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(sign){return sign in env$$1})||"codeship"===env$$1.CI_NAME){return 1}return 0}if("TEAMCITY_VERSION"in env$$1){return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env$$1.TEAMCITY_VERSION)?1:0}if("TERM_PROGRAM"in env$$1){var version=parseInt((env$$1.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env$$1.TERM_PROGRAM){case"iTerm.app":return 3<=version?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2;}}if(/-256(color)?$/i.test(env$$1.TERM)){return 2}if(/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(env$$1.TERM)){return 1}if("COLORTERM"in env$$1){return 1}if("dumb"===env$$1.TERM){return 0}return 0}();if("FORCE_COLOR"in env$$1){supportLevel=0===parseInt(env$$1.FORCE_COLOR,10)?0:supportLevel||1}module.exports=process&&support(supportLevel)}),templates$2=createCommonjsModule(function(module){'use strict';var TEMPLATE_REGEX=/(?:\\(u[a-f0-9]{4}|x[a-f0-9]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX=/\\(u[0-9a-f]{4}|x[0-9a-f]{2}|.)|([^\\])/gi,ESCAPES={n:"\n",r:"\r",t:"\t",b:"\b",f:"\f",v:"\x0B",0:"\0","\\":"\\",e:"\x1B",a:"\x07"};function unescape(c){if("u"===c[0]&&5===c.length||"x"===c[0]&&3===c.length){return _StringfromCharCode(parseInt(c.slice(1),16))}return ESCAPES[c]||c}function parseArguments(name,args){var results=[],chunks=args.trim().split(/\s*,\s*/g),matches,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=chunks[Symbol.iterator](),_step,chunk;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){chunk=_step.value;if(!isNaN(chunk)){results.push(+chunk)}else if(matches=chunk.match(STRING_REGEX)){results.push(matches[2].replace(ESCAPE_REGEX,function(m,escape,chr){return escape?unescape(escape):chr}))}else{throw new Error("Invalid Chalk template style argument: ".concat(chunk," (in style '").concat(name,"')"))}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return results}function parseStyle(style){STYLE_REGEX.lastIndex=0;var results=[],matches;while(null!==(matches=STYLE_REGEX.exec(style))){var name=matches[1];if(matches[2]){var args=parseArguments(name,matches[2]);results.push([name].concat(args))}else{results.push([name])}}return results}function buildStyle(chalk,styles){var enabled={},_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=styles[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var layer=_step2.value,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=layer.styles[Symbol.iterator](),_step3,style;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){style=_step3.value;enabled[style[0]]=layer.inverse?null:style.slice(1)}}catch(err){_didIteratorError3=!0;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&null!=_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}for(var current=chalk,_arr=Object.keys(enabled),_i=0,styleName;_i<_arr.length;_i++){styleName=_arr[_i];if(Array.isArray(enabled[styleName])){if(!(styleName in current)){throw new Error("Unknown Chalk style: ".concat(styleName))}if(0<enabled[styleName].length){current=current[styleName].apply(current,enabled[styleName])}else{current=current[styleName]}}}return current}module.exports=function(chalk,tmp){var styles=[],chunks=[],chunk=[];tmp.replace(TEMPLATE_REGEX,function(m,escapeChar,inverse,style,close,chr){if(escapeChar){chunk.push(unescape(escapeChar))}else if(style){var str=chunk.join("");chunk=[];chunks.push(0===styles.length?str:buildStyle(chalk,styles)(str));styles.push({inverse:inverse,styles:parseStyle(style)})}else if(close){if(0===styles.length){throw new Error("Found extraneous } in Chalk template literal")}chunks.push(buildStyle(chalk,styles)(chunk.join("")));chunk=[];styles.pop()}else{chunk.push(chr)}});chunks.push(chunk.join(""));if(0<styles.length){var errMsg="Chalk template literal is missing ".concat(styles.length," closing bracket").concat(1===styles.length?"":"s"," (`}`)");throw new Error(errMsg)}return chunks.join("")}}),isSimpleWindowsTerm="win32"===process.platform&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),levelMapping=["ansi","ansi","ansi256","ansi16m"],skipModels=new Set(["gray"]),styles=Object.create(null);function applyOptions(obj,options){options=options||{};var scLevel=supportsColor$1?supportsColor$1.level:0;obj.level=options.level===void 0?scLevel:options.level;obj.enabled="enabled"in options?options.enabled:0<obj.level}function Chalk(options){if(!this||!(this instanceof Chalk)||this.template){var _chalk={};applyOptions(_chalk,options);_chalk.template=function(){var args=[].slice.call(arguments);return chalkTag.apply(null,[_chalk.template].concat(args))};Object.setPrototypeOf(_chalk,Chalk.prototype);Object.setPrototypeOf(_chalk.template,_chalk);_chalk.template.constructor=Chalk;return _chalk.template}applyOptions(this,options)}if(isSimpleWindowsTerm){ansiStyles.blue.open="\x1B[94m"}for(var _arr=Object.keys(ansiStyles),_loop=function _loop(){var key=_arr[_i];ansiStyles[key].closeRe=new RegExp(escapeStringRegexp(ansiStyles[key].close),"g");styles[key]={get:function get(){var codes=ansiStyles[key];return build.call(this,this._styles?this._styles.concat(codes):[codes],key)}}},_i=0;_i<_arr.length;_i++){_loop()}ansiStyles.color.closeRe=new RegExp(escapeStringRegexp(ansiStyles.color.close),"g");for(var _arr2=Object.keys(ansiStyles.color.ansi),_loop2=function _loop2(){var model=_arr2[_i2];if(skipModels.has(model)){return"continue"}styles[model]={get:function get(){var level=this.level;return function(){var open=ansiStyles.color[levelMapping[level]][model].apply(null,arguments),codes={open:open,close:ansiStyles.color.close,closeRe:ansiStyles.color.closeRe};return build.call(this,this._styles?this._styles.concat(codes):[codes],model)}}}},_i2=0,_ret;_i2<_arr2.length;_i2++){_ret=_loop2();if("continue"===_ret)continue}ansiStyles.bgColor.closeRe=new RegExp(escapeStringRegexp(ansiStyles.bgColor.close),"g");for(var _arr3=Object.keys(ansiStyles.bgColor.ansi),_loop3=function _loop3(){var model=_arr3[_i3];if(skipModels.has(model)){return"continue"}var bgModel="bg"+model[0].toUpperCase()+model.slice(1);styles[bgModel]={get:function get(){var level=this.level;return function(){var open=ansiStyles.bgColor[levelMapping[level]][model].apply(null,arguments),codes={open:open,close:ansiStyles.bgColor.close,closeRe:ansiStyles.bgColor.closeRe};return build.call(this,this._styles?this._styles.concat(codes):[codes],model)}}}},_i3=0,_ret2;_i3<_arr3.length;_i3++){_ret2=_loop3();if("continue"===_ret2)continue}var proto=Object.defineProperties(function(){},styles);function build(_styles,key){var builder=function builder(){return applyStyle.apply(builder,arguments)};builder._styles=_styles;var self=this;Object.defineProperty(builder,"level",{enumerable:!0,get:function get(){return self.level},set:function set(level){self.level=level}});Object.defineProperty(builder,"enabled",{enumerable:!0,get:function get(){return self.enabled},set:function set(enabled){self.enabled=enabled}});builder.hasGrey=this.hasGrey||"gray"===key||"grey"===key;builder.__proto__=proto;return builder}function applyStyle(){var args=arguments,argsLen=args.length,str=arguments[0]+"";if(0===argsLen){return""}if(1<argsLen){for(var a=1;a<argsLen;a++){str+=" "+args[a]}}if(!this.enabled||0>=this.level||!str){return str}var originalDim=ansiStyles.dim.open;if(isSimpleWindowsTerm&&this.hasGrey){ansiStyles.dim.open=""}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this._styles.slice().reverse()[Symbol.iterator](),_step,code;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){code=_step.value;str=code.open+str.replace(code.closeRe,code.open)+code.close;str=str.replace(/\r?\n/g,"".concat(code.close,"$&").concat(code.open))}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}ansiStyles.dim.open=originalDim;return str}function chalkTag(chalk,strings){if(!Array.isArray(strings)){return[].slice.call(arguments,1).join(" ")}for(var args=[].slice.call(arguments,2),parts=[strings.raw[0]],i=1;i<strings.length;i++){parts.push((args[i-1]+"").replace(/[{}\\]/g,"\\$&"));parts.push(strings.raw[i]+"")}return templates$2(chalk,parts.join(""))}Object.defineProperties(Chalk.prototype,styles);var chalk$2=Chalk(),supportsColor_1$2=supportsColor$1;chalk$2.supportsColor=supportsColor_1$2;var cliDescriptor={key:function key(_key){return 1===_key.length?"-".concat(_key):"--".concat(_key)},value:function value(_value){return lib$1.apiDescriptor.value(_value)},pair:function pair(_ref){var key=_ref.key,value=_ref.value;return!1===value?"--no-".concat(key):!0===value?cliDescriptor.key(key):""===value?"".concat(cliDescriptor.key(key)," without an argument"):"".concat(cliDescriptor.key(key),"=").concat(value)}},FlagSchema=function(_vnopts$ChoiceSchema){_inherits(FlagSchema,_vnopts$ChoiceSchema);function FlagSchema(_ref2){var _this,name=_ref2.name,flags=_ref2.flags;_classCallCheck(this,FlagSchema);_this=_possibleConstructorReturn(this,_getPrototypeOf(FlagSchema).call(this,{name:name,choices:flags}));_this._flags=flags.slice().sort();return _this}_createClass(FlagSchema,[{key:"preprocess",value:function preprocess(value,utils){if("string"===typeof value&&0!==value.length&&-1===this._flags.indexOf(value)){var suggestion=this._flags.find(function(flag){return 3>leven$1(flag,value)});if(suggestion){utils.logger.warn(["Unknown flag ".concat(chalk$2.yellow(utils.descriptor.value(value)),","),"did you mean ".concat(chalk$2.blue(utils.descriptor.value(suggestion)),"?")].join(" "));return suggestion}}return value}},{key:"expected",value:function expected(){return"a flag"}}]);return FlagSchema}(lib$1.ChoiceSchema),hasDeprecationWarned;function normalizeOptions$1(options,optionInfos){var _ref3=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},logger=_ref3.logger,_ref3$isCLI=_ref3.isCLI,isCLI=void 0===_ref3$isCLI?!1:_ref3$isCLI,_ref3$passThrough=_ref3.passThrough,passThrough=void 0===_ref3$passThrough?!1:_ref3$passThrough,unknown=!passThrough?lib$1.levenUnknownHandler:Array.isArray(passThrough)?function(key,value){return-1===passThrough.indexOf(key)?void 0:_defineProperty({},key,value)}:function(key,value){return _defineProperty({},key,value)},descriptor=isCLI?cliDescriptor:lib$1.apiDescriptor,schemas=optionInfosToSchemas(optionInfos,{isCLI:isCLI}),normalizer=new lib$1.Normalizer(schemas,{logger:logger,unknown:unknown,descriptor:descriptor}),shouldSuppressDuplicateDeprecationWarnings=!1!==logger;if(shouldSuppressDuplicateDeprecationWarnings&&hasDeprecationWarned){normalizer._hasDeprecationWarned=hasDeprecationWarned}var normalized=normalizer.normalize(options);if(shouldSuppressDuplicateDeprecationWarnings){hasDeprecationWarned=normalizer._hasDeprecationWarned}return normalized}function optionInfosToSchemas(optionInfos,_ref6){var isCLI=_ref6.isCLI,schemas=[];if(isCLI){schemas.push(lib$1.AnySchema.create({name:"_"}))}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=optionInfos[Symbol.iterator](),_step,optionInfo;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){optionInfo=_step.value;schemas.push(optionInfoToSchema(optionInfo,{isCLI:isCLI,optionInfos:optionInfos}));if(optionInfo.alias&&isCLI){schemas.push(lib$1.AliasSchema.create({name:optionInfo.alias,sourceName:optionInfo.name}))}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return schemas}function optionInfoToSchema(optionInfo,_ref7){var isCLI=_ref7.isCLI,optionInfos=_ref7.optionInfos,SchemaConstructor,parameters={name:optionInfo.name},handlers={};switch(optionInfo.type){case"int":SchemaConstructor=lib$1.IntegerSchema;if(isCLI){parameters.preprocess=function(value){return+value}}break;case"choice":SchemaConstructor=lib$1.ChoiceSchema;parameters.choices=optionInfo.choices.map(function(choiceInfo){return"object"===_typeof(choiceInfo)&&choiceInfo.redirect?Object.assign({},choiceInfo,{redirect:{to:{key:optionInfo.name,value:choiceInfo.redirect}}}):choiceInfo});break;case"boolean":SchemaConstructor=lib$1.BooleanSchema;break;case"flag":SchemaConstructor=FlagSchema;parameters.flags=optionInfos.map(function(optionInfo){return[].concat(optionInfo.alias||[],optionInfo.description?optionInfo.name:[],optionInfo.oppositeDescription?"no-".concat(optionInfo.name):[])}).reduce(function(a,b){return a.concat(b)},[]);break;case"path":SchemaConstructor=lib$1.StringSchema;break;default:throw new Error("Unexpected type ".concat(optionInfo.type));}if(optionInfo.exception){parameters.validate=function(value,schema,utils){return optionInfo.exception(value)||schema.validate(value,utils)}}else{parameters.validate=function(value,schema,utils){return value===void 0||schema.validate(value,utils)}}if(optionInfo.redirect){handlers.redirect=function(value){return!value?void 0:{to:{key:optionInfo.redirect.option,value:optionInfo.redirect.value}}}}if(optionInfo.deprecated){handlers.deprecated=!0}if(isCLI&&!optionInfo.array){var originalPreprocess=parameters.preprocess||function(x){return x};parameters.preprocess=function(value,schema,utils){return schema.preprocess(originalPreprocess(Array.isArray(value)?value[value.length-1]:value),utils)}}return optionInfo.array?lib$1.ArraySchema.create(Object.assign(isCLI?{preprocess:function preprocess(v){return[].concat(v)}}:{},handlers,{valueSchema:SchemaConstructor.create(parameters)})):SchemaConstructor.create(Object.assign({},parameters,handlers))}function normalizeApiOptions(options,optionInfos,opts){return normalizeOptions$1(options,optionInfos,opts)}function normalizeCliOptions(options,optionInfos,opts){return normalizeOptions$1(options,optionInfos,Object.assign({isCLI:!0},opts))}var optionsNormalizer={normalizeApiOptions:normalizeApiOptions,normalizeCliOptions:normalizeCliOptions},getLast=function getLast(arr){return 0<arr.length?arr[arr.length-1]:null};function locStart$1(node,opts){opts=opts||{};if(!opts.ignoreDecorators&&node.declaration&&node.declaration.decorators&&0<node.declaration.decorators.length){return locStart$1(node.declaration.decorators[0])}if(!opts.ignoreDecorators&&node.decorators&&0<node.decorators.length){return locStart$1(node.decorators[0])}if(node.__location){return node.__location.startOffset}if(node.range){return node.range[0]}if("number"===typeof node.start){return node.start}if(node.loc){return node.loc.start}return null}function locEnd$1(node){var endNode=node.nodes&&getLast(node.nodes);if(endNode&&node.source&&!node.source.end){node=endNode}if(node.__location){return node.__location.endOffset}var loc=node.range?node.range[1]:"number"===typeof node.end?node.end:null;if(node.typeAnnotation){return _Mathmax(loc,locEnd$1(node.typeAnnotation))}if(node.loc&&!loc){return node.loc.end}return loc}var loc={locStart:locStart$1,locEnd:locEnd$1},jsTokens=createCommonjsModule(function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyu]{1,5}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g;exports.matchToToken=function(match){var token={type:"invalid",value:match[0]};if(match[1])token.type="string",token.closed=!!(match[3]||match[4]);else if(match[5])token.type="comment";else if(match[6])token.type="comment",token.closed=!!match[7];else if(match[8])token.type="regex";else if(match[9])token.type="number";else if(match[10])token.type="name";else if(match[11])token.type="punctuator";else if(match[12])token.type="whitespace";return token}});unwrapExports(jsTokens);var ast=createCommonjsModule(function(module){(function(){'use strict';function isExpression(node){if(null==node){return!1}switch(node.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0;}return!1}function isIterationStatement(node){if(null==node){return!1}switch(node.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0;}return!1}function isStatement(node){if(null==node){return!1}switch(node.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0;}return!1}function isSourceElement(node){return isStatement(node)||null!=node&&"FunctionDeclaration"===node.type}function trailingStatement(node){switch(node.type){case"IfStatement":if(null!=node.alternate){return node.alternate}return node.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return node.body;}return null}function isProblematicIfStatement(node){var current;if("IfStatement"!==node.type){return!1}if(null==node.alternate){return!1}current=node.consequent;do{if("IfStatement"===current.type){if(null==current.alternate){return!0}}current=trailingStatement(current)}while(current);return!1}module.exports={isExpression:isExpression,isStatement:isStatement,isIterationStatement:isIterationStatement,isSourceElement:isSourceElement,isProblematicIfStatement:isProblematicIfStatement,trailingStatement:trailingStatement}})()}),code=createCommonjsModule(function(module){(function(){'use strict';var ES6Regex,ES5Regex,NON_ASCII_WHITESPACES,IDENTIFIER_START,IDENTIFIER_PART,ch;ES5Regex={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/};ES6Regex={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function isDecimalDigit(ch){return 48<=ch&&57>=ch}function isHexDigit(ch){return 48<=ch&&57>=ch||97<=ch&&102>=ch||65<=ch&&70>=ch}function isOctalDigit(ch){return 48<=ch&&55>=ch}NON_ASCII_WHITESPACES=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function isWhiteSpace(ch){return 32===ch||9===ch||11===ch||12===ch||160===ch||5760<=ch&&0<=NON_ASCII_WHITESPACES.indexOf(ch)}function isLineTerminator(ch){return 10===ch||13===ch||8232===ch||8233===ch}function fromCodePoint(cp){if(65535>=cp){return _StringfromCharCode(cp)}var cu1=_StringfromCharCode(_Mathfloor((cp-65536)/1024)+55296),cu2=_StringfromCharCode((cp-65536)%1024+56320);return cu1+cu2}IDENTIFIER_START=Array(128);for(ch=0;128>ch;++ch){IDENTIFIER_START[ch]=97<=ch&&122>=ch||65<=ch&&90>=ch||36===ch||95===ch}IDENTIFIER_PART=Array(128);for(ch=0;128>ch;++ch){IDENTIFIER_PART[ch]=97<=ch&&122>=ch||65<=ch&&90>=ch||48<=ch&&57>=ch||36===ch||95===ch}function isIdentifierStartES5(ch){return 128>ch?IDENTIFIER_START[ch]:ES5Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPartES5(ch){return 128>ch?IDENTIFIER_PART[ch]:ES5Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}function isIdentifierStartES6(ch){return 128>ch?IDENTIFIER_START[ch]:ES6Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPartES6(ch){return 128>ch?IDENTIFIER_PART[ch]:ES6Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}module.exports={isDecimalDigit:isDecimalDigit,isHexDigit:isHexDigit,isOctalDigit:isOctalDigit,isWhiteSpace:isWhiteSpace,isLineTerminator:isLineTerminator,isIdentifierStartES5:isIdentifierStartES5,isIdentifierPartES5:isIdentifierPartES5,isIdentifierStartES6:isIdentifierStartES6,isIdentifierPartES6:isIdentifierPartES6}})()}),keyword=createCommonjsModule(function(module){(function(){'use strict';var code$$1=code;function isStrictModeReservedWordES6(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1;}}function isKeywordES5(id,strict){if(!strict&&"yield"===id){return!1}return isKeywordES6(id,strict)}function isKeywordES6(id,strict){if(strict&&isStrictModeReservedWordES6(id)){return!0}switch(id.length){case 2:return"if"===id||"in"===id||"do"===id;case 3:return"var"===id||"for"===id||"new"===id||"try"===id;case 4:return"this"===id||"else"===id||"case"===id||"void"===id||"with"===id||"enum"===id;case 5:return"while"===id||"break"===id||"catch"===id||"throw"===id||"const"===id||"yield"===id||"class"===id||"super"===id;case 6:return"return"===id||"typeof"===id||"delete"===id||"switch"===id||"export"===id||"import"===id;case 7:return"default"===id||"finally"===id||"extends"===id;case 8:return"function"===id||"continue"===id||"debugger"===id;case 10:return"instanceof"===id;default:return!1;}}function isReservedWordES5(id,strict){return"null"===id||"true"===id||"false"===id||isKeywordES5(id,strict)}function isReservedWordES6(id,strict){return"null"===id||"true"===id||"false"===id||isKeywordES6(id,strict)}function isRestrictedWord(id){return"eval"===id||"arguments"===id}function isIdentifierNameES5(id){var i,iz,ch;if(0===id.length){return!1}ch=id.charCodeAt(0);if(!code$$1.isIdentifierStartES5(ch)){return!1}for(i=1,iz=id.length;i<iz;++i){ch=id.charCodeAt(i);if(!code$$1.isIdentifierPartES5(ch)){return!1}}return!0}function decodeUtf16(lead,trail){return 1024*(lead-55296)+(trail-56320)+65536}function isIdentifierNameES6(id){var i,iz,ch,lowCh,check;if(0===id.length){return!1}check=code$$1.isIdentifierStartES6;for(i=0,iz=id.length;i<iz;++i){ch=id.charCodeAt(i);if(55296<=ch&&56319>=ch){++i;if(i>=iz){return!1}lowCh=id.charCodeAt(i);if(!(56320<=lowCh&&57343>=lowCh)){return!1}ch=decodeUtf16(ch,lowCh)}if(!check(ch)){return!1}check=code$$1.isIdentifierPartES6}return!0}function isIdentifierES5(id,strict){return isIdentifierNameES5(id)&&!isReservedWordES5(id,strict)}function isIdentifierES6(id,strict){return isIdentifierNameES6(id)&&!isReservedWordES6(id,strict)}module.exports={isKeywordES5:isKeywordES5,isKeywordES6:isKeywordES6,isReservedWordES5:isReservedWordES5,isReservedWordES6:isReservedWordES6,isRestrictedWord:isRestrictedWord,isIdentifierNameES5:isIdentifierNameES5,isIdentifierNameES6:isIdentifierNameES6,isIdentifierES5:isIdentifierES5,isIdentifierES6:isIdentifierES6}})()}),utils$2=createCommonjsModule(function(module,exports){(function(){'use strict';exports.ast=ast;exports.code=code;exports.keyword=keyword})()}),hasFlag$6=createCommonjsModule(function(module){'use strict';module.exports=function(flag,argv$$1){argv$$1=argv$$1||process.argv;var prefix=flag.startsWith("-")?"":1===flag.length?"-":"--",pos=argv$$1.indexOf(prefix+flag),terminatorPos=argv$$1.indexOf("--");return-1!==pos&&(-1===terminatorPos?!0:pos<terminatorPos)}}),env$2=process.env,forceColor$1;if(hasFlag$6("no-color")||hasFlag$6("no-colors")||hasFlag$6("color=false")){forceColor$1=!1}else if(hasFlag$6("color")||hasFlag$6("colors")||hasFlag$6("color=true")||hasFlag$6("color=always")){forceColor$1=!0}if("FORCE_COLOR"in env$2){forceColor$1=0===env$2.FORCE_COLOR.length||0!==parseInt(env$2.FORCE_COLOR,10)}function translateLevel$1(level){if(0===level){return!1}return{level:level,hasBasic:!0,has256:2<=level,has16m:3<=level}}function supportsColor$4(stream){if(!1===forceColor$1){return 0}if(hasFlag$6("color=16m")||hasFlag$6("color=full")||hasFlag$6("color=truecolor")){return 3}if(hasFlag$6("color=256")){return 2}if(stream&&!stream.isTTY&&!0!==forceColor$1){return 0}var min=forceColor$1?1:0;if("win32"===process.platform){var osRelease=require$$1$1.release().split(".");if(8<=+process.versions.node.split(".")[0]&&10<=+osRelease[0]&&10586<=+osRelease[2]){return 14931<=+osRelease[2]?3:2}return 1}if("CI"in env$2){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(sign){return sign in env$2})||"codeship"===env$2.CI_NAME){return 1}return min}if("TEAMCITY_VERSION"in env$2){return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env$2.TEAMCITY_VERSION)?1:0}if("truecolor"===env$2.COLORTERM){return 3}if("TERM_PROGRAM"in env$2){var version=parseInt((env$2.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env$2.TERM_PROGRAM){case"iTerm.app":return 3<=version?3:2;case"Apple_Terminal":return 2;}}if(/-256(color)?$/i.test(env$2.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env$2.TERM)){return 1}if("COLORTERM"in env$2){return 1}if("dumb"===env$2.TERM){return min}return min}function getSupportLevel$1(stream){var level=supportsColor$4(stream);return translateLevel$1(level)}var supportsColor_1$3={supportsColor:getSupportLevel$1,stdout:getSupportLevel$1(process.stdout),stderr:getSupportLevel$1(process.stderr)},templates$4=createCommonjsModule(function(module){'use strict';var TEMPLATE_REGEX=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,ESCAPES=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\x0B"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function unescape(c){if("u"===c[0]&&5===c.length||"x"===c[0]&&3===c.length){return _StringfromCharCode(parseInt(c.slice(1),16))}return ESCAPES.get(c)||c}function parseArguments(name,args){var results=[],chunks=args.trim().split(/\s*,\s*/g),matches,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=chunks[Symbol.iterator](),_step,chunk;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){chunk=_step.value;if(!isNaN(chunk)){results.push(+chunk)}else if(matches=chunk.match(STRING_REGEX)){results.push(matches[2].replace(ESCAPE_REGEX,function(m,escape,chr){return escape?unescape(escape):chr}))}else{throw new Error("Invalid Chalk template style argument: ".concat(chunk," (in style '").concat(name,"')"))}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return results}function parseStyle(style){STYLE_REGEX.lastIndex=0;var results=[],matches;while(null!==(matches=STYLE_REGEX.exec(style))){var name=matches[1];if(matches[2]){var args=parseArguments(name,matches[2]);results.push([name].concat(args))}else{results.push([name])}}return results}function buildStyle(chalk,styles){var enabled={},_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=styles[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var layer=_step2.value,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=layer.styles[Symbol.iterator](),_step3,style;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){style=_step3.value;enabled[style[0]]=layer.inverse?null:style.slice(1)}}catch(err){_didIteratorError3=!0;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&null!=_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}for(var current=chalk,_arr=Object.keys(enabled),_i=0,styleName;_i<_arr.length;_i++){styleName=_arr[_i];if(Array.isArray(enabled[styleName])){if(!(styleName in current)){throw new Error("Unknown Chalk style: ".concat(styleName))}if(0<enabled[styleName].length){current=current[styleName].apply(current,enabled[styleName])}else{current=current[styleName]}}}return current}module.exports=function(chalk,tmp){var styles=[],chunks=[],chunk=[];tmp.replace(TEMPLATE_REGEX,function(m,escapeChar,inverse,style,close,chr){if(escapeChar){chunk.push(unescape(escapeChar))}else if(style){var str=chunk.join("");chunk=[];chunks.push(0===styles.length?str:buildStyle(chalk,styles)(str));styles.push({inverse:inverse,styles:parseStyle(style)})}else if(close){if(0===styles.length){throw new Error("Found extraneous } in Chalk template literal")}chunks.push(buildStyle(chalk,styles)(chunk.join("")));chunk=[];styles.pop()}else{chunk.push(chr)}});chunks.push(chunk.join(""));if(0<styles.length){var errMsg="Chalk template literal is missing ".concat(styles.length," closing bracket").concat(1===styles.length?"":"s"," (`}`)");throw new Error(errMsg)}return chunks.join("")}}),chalk$5=createCommonjsModule(function(module){'use strict';var stdoutColor=supportsColor_1$3.stdout,isSimpleWindowsTerm="win32"===process.platform&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),levelMapping=["ansi","ansi","ansi256","ansi16m"],skipModels=new Set(["gray"]),styles=Object.create(null);function applyOptions(obj,options){options=options||{};var scLevel=stdoutColor?stdoutColor.level:0;obj.level=options.level===void 0?scLevel:options.level;obj.enabled="enabled"in options?options.enabled:0<obj.level}function Chalk(options){if(!this||!(this instanceof Chalk)||this.template){var _chalk={};applyOptions(_chalk,options);_chalk.template=function(){var args=[].slice.call(arguments);return chalkTag.apply(null,[_chalk.template].concat(args))};Object.setPrototypeOf(_chalk,Chalk.prototype);Object.setPrototypeOf(_chalk.template,_chalk);_chalk.template.constructor=Chalk;return _chalk.template}applyOptions(this,options)}if(isSimpleWindowsTerm){ansiStyles.blue.open="\x1B[94m"}for(var _arr=Object.keys(ansiStyles),_loop=function _loop(){var key=_arr[_i];ansiStyles[key].closeRe=new RegExp(escapeStringRegexp(ansiStyles[key].close),"g");styles[key]={get:function get(){var codes=ansiStyles[key];return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,key)}}},_i=0;_i<_arr.length;_i++){_loop()}styles.visible={get:function get(){return build.call(this,this._styles||[],!0,"visible")}};ansiStyles.color.closeRe=new RegExp(escapeStringRegexp(ansiStyles.color.close),"g");for(var _arr2=Object.keys(ansiStyles.color.ansi),_loop2=function _loop2(){var model=_arr2[_i2];if(skipModels.has(model)){return"continue"}styles[model]={get:function get(){var level=this.level;return function(){var open=ansiStyles.color[levelMapping[level]][model].apply(null,arguments),codes={open:open,close:ansiStyles.color.close,closeRe:ansiStyles.color.closeRe};return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,model)}}}},_i2=0,_ret;_i2<_arr2.length;_i2++){_ret=_loop2();if("continue"===_ret)continue}ansiStyles.bgColor.closeRe=new RegExp(escapeStringRegexp(ansiStyles.bgColor.close),"g");for(var _arr3=Object.keys(ansiStyles.bgColor.ansi),_loop3=function _loop3(){var model=_arr3[_i3];if(skipModels.has(model)){return"continue"}var bgModel="bg"+model[0].toUpperCase()+model.slice(1);styles[bgModel]={get:function get(){var level=this.level;return function(){var open=ansiStyles.bgColor[levelMapping[level]][model].apply(null,arguments),codes={open:open,close:ansiStyles.bgColor.close,closeRe:ansiStyles.bgColor.closeRe};return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,model)}}}},_i3=0,_ret2;_i3<_arr3.length;_i3++){_ret2=_loop3();if("continue"===_ret2)continue}var proto=Object.defineProperties(function(){},styles);function build(_styles,_empty,key){var builder=function builder(){return applyStyle.apply(builder,arguments)};builder._styles=_styles;builder._empty=_empty;var self=this;Object.defineProperty(builder,"level",{enumerable:!0,get:function get(){return self.level},set:function set(level){self.level=level}});Object.defineProperty(builder,"enabled",{enumerable:!0,get:function get(){return self.enabled},set:function set(enabled){self.enabled=enabled}});builder.hasGrey=this.hasGrey||"gray"===key||"grey"===key;builder.__proto__=proto;return builder}function applyStyle(){var args=arguments,argsLen=args.length,str=arguments[0]+"";if(0===argsLen){return""}if(1<argsLen){for(var a=1;a<argsLen;a++){str+=" "+args[a]}}if(!this.enabled||0>=this.level||!str){return this._empty?"":str}var originalDim=ansiStyles.dim.open;if(isSimpleWindowsTerm&&this.hasGrey){ansiStyles.dim.open=""}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this._styles.slice().reverse()[Symbol.iterator](),_step,code;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){code=_step.value;str=code.open+str.replace(code.closeRe,code.open)+code.close;str=str.replace(/\r?\n/g,"".concat(code.close,"$&").concat(code.open))}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}ansiStyles.dim.open=originalDim;return str}function chalkTag(chalk,strings){if(!Array.isArray(strings)){return[].slice.call(arguments,1).join(" ")}for(var args=[].slice.call(arguments,2),parts=[strings.raw[0]],i=1;i<strings.length;i++){parts.push((args[i-1]+"").replace(/[{}\\]/g,"\\$&"));parts.push(strings.raw[i]+"")}return templates$4(chalk,parts.join(""))}Object.defineProperties(Chalk.prototype,styles);module.exports=Chalk();module.exports.supportsColor=stdoutColor;module.exports.default=module.exports}),lib$3=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.shouldHighlight=shouldHighlight;exports.getChalk=getChalk;exports.default=highlight;function _jsTokens(){var data=_interopRequireWildcard(jsTokens);_jsTokens=function _jsTokens(){return data};return data}function _esutils(){var data=_interopRequireDefault(utils$2);_esutils=function _esutils(){return data};return data}function _chalk(){var data=_interopRequireDefault(chalk$5);_chalk=function _chalk(){return data};return data}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(null!=obj){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function getDefs(chalk){return{keyword:chalk.cyan,capitalized:chalk.yellow,jsx_tag:chalk.yellow,punctuator:chalk.yellow,number:chalk.magenta,string:chalk.green,regex:chalk.magenta,comment:chalk.grey,invalid:chalk.white.bgRed.bold}}var NEWLINE=/\r\n|[\n\r\u2028\u2029]/,JSX_TAG=/^[a-z][\w-]*$/i,BRACKET=/^[()[\]{}]$/;function getTokenType(match){var _match$slice=match.slice(-2),offset=_match$slice[0],text=_match$slice[1],token=(0,_jsTokens().matchToToken)(match);if("name"===token.type){if(_esutils().default.keyword.isReservedWordES6(token.value)){return"keyword"}if(JSX_TAG.test(token.value)&&("<"===text[offset-1]||"</"==text.substr(offset-2,2))){return"jsx_tag"}if(token.value[0]!==token.value[0].toLowerCase()){return"capitalized"}}if("punctuator"===token.type&&BRACKET.test(token.value)){return"bracket"}if("invalid"===token.type&&("@"===token.value||"#"===token.value)){return"punctuator"}return token.type}function highlightTokens(defs,text){return text.replace(_jsTokens().default,function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var type=getTokenType(args),colorize=defs[type];if(colorize){return args[0].split(NEWLINE).map(function(str){return colorize(str)}).join("\n")}else{return args[0]}})}function shouldHighlight(options){return _chalk().default.supportsColor||options.forceColor}function getChalk(options){var chalk=_chalk().default;if(options.forceColor){chalk=new(_chalk().default.constructor)({enabled:!0,level:1})}return chalk}function highlight(code,options){if(void 0===options){options={}}if(shouldHighlight(options)){var chalk=getChalk(options),defs=getDefs(chalk);return highlightTokens(defs,code)}else{return code}}});unwrapExports(lib$3);var lib$2=createCommonjsModule(function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.codeFrameColumns=codeFrameColumns;exports.default=_default;function _highlight(){var data=_interopRequireWildcard(lib$3);_highlight=function _highlight(){return data};return data}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(null!=obj){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var deprecationWarningShown=!1;function getDefs(chalk){return{gutter:chalk.grey,marker:chalk.red.bold,message:chalk.red.bold}}var NEWLINE=/\r\n|[\n\r\u2028\u2029]/;function getMarkerLines(loc,source,opts){var startLoc=Object.assign({},{column:0,line:-1},loc.start),endLoc=Object.assign({},startLoc,loc.end),_ref=opts||{},_ref$linesAbove=_ref.linesAbove,linesAbove=void 0===_ref$linesAbove?2:_ref$linesAbove,_ref$linesBelow=_ref.linesBelow,linesBelow=void 0===_ref$linesBelow?3:_ref$linesBelow,startLine=startLoc.line,startColumn=startLoc.column,endLine=endLoc.line,endColumn=endLoc.column,start=_Mathmax(startLine-(linesAbove+1),0),end=_Mathmin(source.length,endLine+linesBelow);if(-1===startLine){start=0}if(-1===endLine){end=source.length}var lineDiff=endLine-startLine,markerLines={};if(lineDiff){for(var i=0,lineNumber;i<=lineDiff;i++){lineNumber=i+startLine;if(!startColumn){markerLines[lineNumber]=!0}else if(0===i){var sourceLength=source[lineNumber-1].length;markerLines[lineNumber]=[startColumn,sourceLength-startColumn]}else if(i===lineDiff){markerLines[lineNumber]=[0,endColumn]}else{var _sourceLength=source[lineNumber-i].length;markerLines[lineNumber]=[0,_sourceLength]}}}else{if(startColumn===endColumn){if(startColumn){markerLines[startLine]=[startColumn,0]}else{markerLines[startLine]=!0}}else{markerLines[startLine]=[startColumn,endColumn-startColumn]}}return{start:start,end:end,markerLines:markerLines}}function codeFrameColumns(rawLines,loc,opts){if(void 0===opts){opts={}}var highlighted=(opts.highlightCode||opts.forceColor)&&(0,_highlight().shouldHighlight)(opts),chalk=(0,_highlight().getChalk)(opts),defs=getDefs(chalk),maybeHighlight=function maybeHighlight(chalkFn,string){return highlighted?chalkFn(string):string};if(highlighted)rawLines=(0,_highlight().default)(rawLines,opts);var lines=rawLines.split(NEWLINE),_getMarkerLines=getMarkerLines(loc,lines,opts),start=_getMarkerLines.start,end=_getMarkerLines.end,markerLines=_getMarkerLines.markerLines,hasColumns=loc.start&&"number"===typeof loc.start.column,numberMaxWidth=(end+"").length,frame=lines.slice(start,end).map(function(line,index){var number=start+1+index,paddedNumber=(" "+number).slice(-numberMaxWidth),gutter=" "+paddedNumber+" | ",hasMarker=markerLines[number],lastMarkerLine=!markerLines[number+1];if(hasMarker){var markerLine="";if(Array.isArray(hasMarker)){var markerSpacing=line.slice(0,_Mathmax(hasMarker[0]-1,0)).replace(/[^\t]/g," "),numberOfMarkers=hasMarker[1]||1;markerLine=["\n ",maybeHighlight(defs.gutter,gutter.replace(/\d/g," ")),markerSpacing,maybeHighlight(defs.marker,"^").repeat(numberOfMarkers)].join("");if(lastMarkerLine&&opts.message){markerLine+=" "+maybeHighlight(defs.message,opts.message)}}return[maybeHighlight(defs.marker,">"),maybeHighlight(defs.gutter,gutter),line,markerLine].join("")}else{return" "+maybeHighlight(defs.gutter,gutter)+line}}).join("\n");if(opts.message&&!hasColumns){frame=""+" ".repeat(numberMaxWidth+1)+opts.message+"\n"+frame}if(highlighted){return chalk.reset(frame)}else{return frame}}function _default(rawLines,lineNumber,colNumber,opts){if(void 0===opts){opts={}}if(!deprecationWarningShown){deprecationWarningShown=!0;var message="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";if(process.emitWarning){process.emitWarning(message,"DeprecationWarning")}else{var deprecationError=new Error(message);deprecationError.name="DeprecationWarning";console.warn(new Error(message))}}colNumber=_Mathmax(colNumber,0);var location={start:{column:colNumber,line:lineNumber}};return codeFrameColumns(rawLines,location,opts)}});unwrapExports(lib$2);var ConfigError$1=errors.ConfigError,locStart=loc.locStart,locEnd=loc.locEnd,ownNames=Object.getOwnPropertyNames,ownDescriptor=Object.getOwnPropertyDescriptor;function getParsers(options){var parsers={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=options.plugins[Symbol.iterator](),_step,plugin;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){plugin=_step.value;if(!plugin.parsers){continue}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=ownNames(plugin.parsers)[Symbol.iterator](),_step2,name;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){name=_step2.value;Object.defineProperty(parsers,name,ownDescriptor(plugin.parsers,name))}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return parsers}function resolveParser$1(opts,parsers){parsers=parsers||getParsers(opts);if("function"===typeof opts.parser){return{parse:opts.parser,astFormat:"estree",locStart:locStart,locEnd:locEnd}}if("string"===typeof opts.parser){if(parsers.hasOwnProperty(opts.parser)){return parsers[opts.parser]}{throw new ConfigError$1("Couldn't resolve parser \"".concat(opts.parser,"\". Parsers must be explicitly added to the standalone bundle."))}}}function parse$2(text,opts){var parsers=getParsers(opts),parsersForCustomParserApi=Object.keys(parsers).reduce(function(object,parserName){return Object.defineProperty(object,parserName,{enumerable:!0,get:function get(){return parsers[parserName].parse}})},{}),parser=resolveParser$1(opts,parsers);try{if(parser.preprocess){text=parser.preprocess(text,opts)}return{text:text,ast:parser.parse(text,parsersForCustomParserApi,opts)}}catch(error){var loc$$1=error.loc;if(loc$$1){var codeFrame=lib$2;error.codeFrame=codeFrame.codeFrameColumns(text,loc$$1,{highlightCode:!0});error.message+="\n"+error.codeFrame;throw error}throw error.stack}}var parser={parse:parse$2,resolveParser:resolveParser$1},UndefinedParserError=errors.UndefinedParserError,getSupportInfo$1=support.getSupportInfo,resolveParser=parser.resolveParser,hiddenDefaults={astFormat:"estree",printer:{},originalText:void 0,locStart:null,locEnd:null};function normalize(options,opts){opts=opts||{};var rawOptions=Object.assign({},options),supportOptions=getSupportInfo$1(null,{plugins:options.plugins,showUnreleased:!0,showDeprecated:!0}).options,defaults=supportOptions.reduce(function(reduced,optionInfo){return optionInfo.default!==void 0?Object.assign(reduced,_defineProperty({},optionInfo.name,optionInfo.default)):reduced},Object.assign({},hiddenDefaults));if(!rawOptions.parser){if(!rawOptions.filepath){var logger=opts.logger||console;logger.warn("No parser and no filepath given, using 'babel' the parser now "+"but this will throw an error in the future. "+"Please specify a parser or a filepath so one can be inferred.");rawOptions.parser="babel"}else{rawOptions.parser=inferParser(rawOptions.filepath,rawOptions.plugins);if(!rawOptions.parser){throw new UndefinedParserError("No parser could be inferred for file: ".concat(rawOptions.filepath))}}}var parser$$1=resolveParser(optionsNormalizer.normalizeApiOptions(rawOptions,[supportOptions.find(function(x){return"parser"===x.name})],{passThrough:!0,logger:!1}));rawOptions.astFormat=parser$$1.astFormat;rawOptions.locEnd=parser$$1.locEnd;rawOptions.locStart=parser$$1.locStart;var plugin=getPlugin(rawOptions);rawOptions.printer=plugin.printers[rawOptions.astFormat];var pluginDefaults=supportOptions.filter(function(optionInfo){return optionInfo.pluginDefaults&&optionInfo.pluginDefaults[plugin.name]}).reduce(function(reduced,optionInfo){return Object.assign(reduced,_defineProperty({},optionInfo.name,optionInfo.pluginDefaults[plugin.name]))},{}),mixedDefaults=Object.assign({},defaults,pluginDefaults);Object.keys(mixedDefaults).forEach(function(k){if(null==rawOptions[k]){rawOptions[k]=mixedDefaults[k]}});if("json"===rawOptions.parser){rawOptions.trailingComma="none"}return optionsNormalizer.normalizeApiOptions(rawOptions,supportOptions,Object.assign({passThrough:Object.keys(hiddenDefaults)},opts))}function getPlugin(options){var astFormat=options.astFormat;if(!astFormat){throw new Error("getPlugin() requires astFormat to be set")}var printerPlugin=options.plugins.find(function(plugin){return plugin.printers&&plugin.printers[astFormat]});if(!printerPlugin){throw new Error("Couldn't find plugin for AST format \"".concat(astFormat,"\""))}return printerPlugin}function getInterpreter(filepath){if("string"!==typeof filepath){return""}var fd;try{fd=fs.openSync(filepath,"r")}catch(err){return""}try{var liner=new readlines(fd),firstLine=liner.next().toString("utf8"),m1=firstLine.match(/^#!\/(?:usr\/)?bin\/env\s+(\S+)/);if(m1){return m1[1]}var m2=firstLine.match(/^#!\/(?:usr\/(?:local\/)?)?bin\/(\S+)/);if(m2){return m2[1]}return""}catch(err){return""}finally{try{fs.closeSync(fd)}catch(err){}}}function inferParser(filepath,plugins){var filepathParts=normalizePath(filepath).split("/"),filename=filepathParts[filepathParts.length-1].toLowerCase(),language=getSupportInfo$1(null,{plugins:plugins}).languages.find(function(language){return null!==language.since&&(language.extensions&&language.extensions.some(function(extension){return filename.endsWith(extension)})||language.filenames&&language.filenames.find(function(name){return name.toLowerCase()===filename})||-1===filename.indexOf(".")&&language.interpreters&&-1!==language.interpreters.indexOf(getInterpreter(filepath)))});return language&&language.parsers[0]}var options={normalize:normalize,hiddenDefaults:hiddenDefaults,inferParser:inferParser};function massageAST(ast,options,parent){if(Array.isArray(ast)){return ast.map(function(e){return massageAST(e,options,parent)}).filter(function(e){return e})}if(!ast||"object"!==_typeof(ast)){return ast}for(var newObj={},_arr=Object.keys(ast),_i=0,key;_i<_arr.length;_i++){key=_arr[_i];if("function"!==typeof ast[key]){newObj[key]=massageAST(ast[key],options,ast)}}if(options.printer.massageAstNode){var result=options.printer.massageAstNode(ast,newObj,parent);if(null===result){return}if(result){return result}}return newObj}var massageAst=massageAST;function assert(){}assert.ok=function(){};assert.strictEqual=function(){};var assert$2=Object.freeze({default:assert});function concat$1(parts){return{type:"concat",parts:parts}}function indent$1(contents){return{type:"indent",contents:contents}}function align(n,contents){return{type:"align",contents:contents,n:n}}function group(contents,opts){opts=opts||{};return{type:"group",id:opts.id,contents:contents,break:!!opts.shouldBreak,expandedStates:opts.expandedStates}}function dedentToRoot(contents){return align(-Infinity,contents)}function markAsRoot(contents){return align({type:"root"},contents)}function dedent$1(contents){return align(-1,contents)}function conditionalGroup(states,opts){return group(states[0],Object.assign(opts||{},{expandedStates:states}))}function fill(parts){return{type:"fill",parts:parts}}function ifBreak(breakContents,flatContents,opts){opts=opts||{};return{type:"if-break",breakContents:breakContents,flatContents:flatContents,groupId:opts.groupId}}function lineSuffix$1(contents){return{type:"line-suffix",contents:contents}}var lineSuffixBoundary={type:"line-suffix-boundary"},breakParent$1={type:"break-parent"},trim={type:"trim"},line$2={type:"line"},softline={type:"line",soft:!0},hardline$1=concat$1([{type:"line",hard:!0},breakParent$1]),literalline=concat$1([{type:"line",hard:!0,literal:!0},breakParent$1]),cursor$1={type:"cursor",placeholder:Symbol("cursor")};function join$1(sep,arr){for(var res=[],i=0;i<arr.length;i++){if(0!==i){res.push(sep)}res.push(arr[i])}return concat$1(res)}function addAlignmentToDoc(doc,size,tabWidth){var aligned=doc;if(0<size){for(var i=0;i<_Mathfloor(size/tabWidth);++i){aligned=indent$1(aligned)}aligned=align(size%tabWidth,aligned);aligned=align(-Infinity,aligned)}return aligned}var docBuilders={concat:concat$1,join:join$1,line:line$2,softline:softline,hardline:hardline$1,literalline:literalline,group:group,conditionalGroup:conditionalGroup,fill:fill,lineSuffix:lineSuffix$1,lineSuffixBoundary:lineSuffixBoundary,cursor:cursor$1,breakParent:breakParent$1,ifBreak:ifBreak,trim:trim,indent:indent$1,align:align,addAlignmentToDoc:addAlignmentToDoc,markAsRoot:markAsRoot,dedentToRoot:dedentToRoot,dedent:dedent$1},ansiRegex=createCommonjsModule(function(module){'use strict';module.exports=function(options){options=Object.assign({onlyFirst:!1},options);var pattern=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(pattern,options.onlyFirst?void 0:"g")}}),stripAnsi=function stripAnsi(input){return"string"===typeof input?input.replace(ansiRegex(),""):input},isFullwidthCodePoint=createCommonjsModule(function(module){'use strict';module.exports=function(x){if(Number.isNaN(x)){return!1}if(4352<=x&&(4447>=x||9001===x||9002===x||11904<=x&&12871>=x&&12351!==x||12880<=x&&19903>=x||19968<=x&&42182>=x||43360<=x&&43388>=x||44032<=x&&55203>=x||63744<=x&&64255>=x||65040<=x&&65049>=x||65072<=x&&65131>=x||65281<=x&&65376>=x||65504<=x&&65510>=x||110592<=x&&110593>=x||127488<=x&&127569>=x||131072<=x&&262141>=x)){return!0}return!1}}),emojiRegex=function emojiRegex(){return /\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g},stringWidth=createCommonjsModule(function(module){'use strict';var emojiRegex$$1=emojiRegex();module.exports=function(input){input=input.replace(emojiRegex$$1,"  ");if("string"!==typeof input||0===input.length){return 0}input=stripAnsi(input);for(var width=0,i=0,code;i<input.length;i++){code=input.codePointAt(i);if(31>=code||127<=code&&159>=code){continue}if(768<=code&&879>=code){continue}if(65535<code){i++}width+=isFullwidthCodePoint(code)?2:1}return width}}),notAsciiRegex=/[^\x20-\x7F]/;function isExportDeclaration(node){if(node){switch(node.type){case"ExportDefaultDeclaration":case"ExportDefaultSpecifier":case"DeclareExportDeclaration":case"ExportNamedDeclaration":case"ExportAllDeclaration":return!0;}}return!1}function getParentExportDeclaration(path){var parentNode=path.getParentNode();if("declaration"===path.getName()&&isExportDeclaration(parentNode)){return parentNode}return null}function getPenultimate(arr){if(1<arr.length){return arr[arr.length-2]}return null}function getLast$3(arr){if(0<arr.length){return arr[arr.length-1]}return null}function skip(chars){return function(text,index,opts){var backwards=opts&&opts.backwards;if(!1===index){return!1}var length=text.length,cursor=index;while(0<=cursor&&cursor<length){var c=text.charAt(cursor);if(chars instanceof RegExp){if(!chars.test(c)){return cursor}}else if(-1===chars.indexOf(c)){return cursor}backwards?cursor--:cursor++}if(-1===cursor||cursor===length){return cursor}return!1}}var skipWhitespace=skip(/\s/),skipSpaces=skip(" \t"),skipToLineEnd=skip(",; \t"),skipEverythingButNewLine=skip(/[^\r\n]/);function skipInlineComment(text,index){if(!1===index){return!1}if("/"===text.charAt(index)&&"*"===text.charAt(index+1)){for(var i=index+2;i<text.length;++i){if("*"===text.charAt(i)&&"/"===text.charAt(i+1)){return i+2}}}return index}function skipTrailingComment(text,index){if(!1===index){return!1}if("/"===text.charAt(index)&&"/"===text.charAt(index+1)){return skipEverythingButNewLine(text,index)}return index}function skipNewline$1(text,index,opts){var backwards=opts&&opts.backwards;if(!1===index){return!1}var atIndex=text.charAt(index);if(backwards){if("\r"===text.charAt(index-1)&&"\n"===atIndex){return index-2}if("\n"===atIndex||"\r"===atIndex||"\u2028"===atIndex||"\u2029"===atIndex){return index-1}}else{if("\r"===atIndex&&"\n"===text.charAt(index+1)){return index+2}if("\n"===atIndex||"\r"===atIndex||"\u2028"===atIndex||"\u2029"===atIndex){return index+1}}return index}function hasNewline$1(text,index,opts){opts=opts||{};var idx=skipSpaces(text,opts.backwards?index-1:index,opts),idx2=skipNewline$1(text,idx,opts);return idx!==idx2}function hasNewlineInRange(text,start,end){for(var i=start;i<end;++i){if("\n"===text.charAt(i)){return!0}}return!1}function isPreviousLineEmpty$1(text,node,locStart){var idx=locStart(node)-1;idx=skipSpaces(text,idx,{backwards:!0});idx=skipNewline$1(text,idx,{backwards:!0});idx=skipSpaces(text,idx,{backwards:!0});var idx2=skipNewline$1(text,idx,{backwards:!0});return idx!==idx2}function isNextLineEmptyAfterIndex(text,index){var oldIdx=null,idx=index;while(idx!==oldIdx){oldIdx=idx;idx=skipToLineEnd(text,idx);idx=skipInlineComment(text,idx);idx=skipSpaces(text,idx)}idx=skipTrailingComment(text,idx);idx=skipNewline$1(text,idx);return hasNewline$1(text,idx)}function isNextLineEmpty(text,node,locEnd){return isNextLineEmptyAfterIndex(text,locEnd(node))}function getNextNonSpaceNonCommentCharacterIndexWithStartIndex(text,idx){var oldIdx=null;while(idx!==oldIdx){oldIdx=idx;idx=skipSpaces(text,idx);idx=skipInlineComment(text,idx);idx=skipTrailingComment(text,idx);idx=skipNewline$1(text,idx)}return idx}function getNextNonSpaceNonCommentCharacterIndex(text,node,locEnd){return getNextNonSpaceNonCommentCharacterIndexWithStartIndex(text,locEnd(node))}function getNextNonSpaceNonCommentCharacter(text,node,locEnd){return text.charAt(getNextNonSpaceNonCommentCharacterIndex(text,node,locEnd))}function hasSpaces(text,index,opts){opts=opts||{};var idx=skipSpaces(text,opts.backwards?index-1:index,opts);return idx!==index}function setLocStart(node,index){if(node.range){node.range[0]=index}else{node.start=index}}function setLocEnd(node,index){if(node.range){node.range[1]=index}else{node.end=index}}var PRECEDENCE={};[["|>"],["||","??"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]].forEach(function(tier,i){tier.forEach(function(op){PRECEDENCE[op]=i})});function getPrecedence(op){return PRECEDENCE[op]}var equalityOperators={"==":!0,"!=":!0,"===":!0,"!==":!0},multiplicativeOperators={"*":!0,"/":!0,"%":!0},bitshiftOperators={">>":!0,">>>":!0,"<<":!0};function shouldFlatten(parentOp,nodeOp){if(getPrecedence(nodeOp)!==getPrecedence(parentOp)){return!1}if("**"===parentOp){return!1}if(equalityOperators[parentOp]&&equalityOperators[nodeOp]){return!1}if("%"===nodeOp&&multiplicativeOperators[parentOp]||"%"===parentOp&&multiplicativeOperators[nodeOp]){return!1}if(nodeOp!==parentOp&&multiplicativeOperators[nodeOp]&&multiplicativeOperators[parentOp]){return!1}if(bitshiftOperators[parentOp]&&bitshiftOperators[nodeOp]){return!1}return!0}function isBitwiseOperator(operator){return!!bitshiftOperators[operator]||"|"===operator||"^"===operator||"&"===operator}function startsWithNoLookaheadToken(node,forbidFunctionClassAndDoExpr){node=getLeftMost(node);switch(node.type){case"FunctionExpression":case"ClassExpression":case"DoExpression":return forbidFunctionClassAndDoExpr;case"ObjectExpression":return!0;case"MemberExpression":return startsWithNoLookaheadToken(node.object,forbidFunctionClassAndDoExpr);case"TaggedTemplateExpression":if("FunctionExpression"===node.tag.type){return!1}return startsWithNoLookaheadToken(node.tag,forbidFunctionClassAndDoExpr);case"CallExpression":if("FunctionExpression"===node.callee.type){return!1}return startsWithNoLookaheadToken(node.callee,forbidFunctionClassAndDoExpr);case"ConditionalExpression":return startsWithNoLookaheadToken(node.test,forbidFunctionClassAndDoExpr);case"UpdateExpression":return!node.prefix&&startsWithNoLookaheadToken(node.argument,forbidFunctionClassAndDoExpr);case"BindExpression":return node.object&&startsWithNoLookaheadToken(node.object,forbidFunctionClassAndDoExpr);case"SequenceExpression":return startsWithNoLookaheadToken(node.expressions[0],forbidFunctionClassAndDoExpr);case"TSAsExpression":return startsWithNoLookaheadToken(node.expression,forbidFunctionClassAndDoExpr);default:return!1;}}function getLeftMost(node){if(node.left){return getLeftMost(node.left)}return node}function getAlignmentSize(value,tabWidth,startIndex){startIndex=startIndex||0;for(var size=0,i=startIndex;i<value.length;++i){if("\t"===value[i]){size=size+tabWidth-size%tabWidth}else{size++}}return size}function getIndentSize(value,tabWidth){var lastNewlineIndex=value.lastIndexOf("\n");if(-1===lastNewlineIndex){return 0}return getAlignmentSize(value.slice(lastNewlineIndex+1).match(/^[ \t]*/)[0],tabWidth)}function getPreferredQuote(raw,preferredQuote){var rawContent=raw.slice(1,-1),double={quote:"\"",regex:/"/g},single={quote:"'",regex:/'/g},preferred="'"===preferredQuote?single:double,alternate=preferred===single?double:single,result=preferred.quote;if(rawContent.includes(preferred.quote)||rawContent.includes(alternate.quote)){var numPreferredQuotes=(rawContent.match(preferred.regex)||[]).length,numAlternateQuotes=(rawContent.match(alternate.regex)||[]).length;result=numPreferredQuotes>numAlternateQuotes?alternate.quote:preferred.quote}return result}function printString(raw,options,isDirectiveLiteral){var rawContent=raw.slice(1,-1),canChangeDirectiveQuotes=!rawContent.includes("\"")&&!rawContent.includes("'"),enclosingQuote="json"===options.parser?"\"":options.__isInHtmlAttribute?"'":getPreferredQuote(raw,options.singleQuote?"'":"\"");if(isDirectiveLiteral){if(canChangeDirectiveQuotes){return enclosingQuote+rawContent+enclosingQuote}return raw}return makeString(rawContent,enclosingQuote,!("css"===options.parser||"less"===options.parser||"scss"===options.parser||"html"===options.parentParser||"vue"===options.parentParser||"angular"===options.parentParser))}function makeString(rawContent,enclosingQuote,unescapeUnnecessaryEscapes){var otherQuote="\""===enclosingQuote?"'":"\"",regex=/\\([\s\S])|(['"])/g,newContent=rawContent.replace(regex,function(match,escaped,quote){if(escaped===otherQuote){return escaped}if(quote===enclosingQuote){return"\\"+quote}if(quote){return quote}return unescapeUnnecessaryEscapes&&/^[^\\nrvtbfux\r\n\u2028\u2029"'0-7]$/.test(escaped)?escaped:"\\"+escaped});return enclosingQuote+newContent+enclosingQuote}function printNumber(rawNumber){return rawNumber.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e|$)/,"")}function getMaxContinuousCount(str,target){var results=str.match(new RegExp("(".concat(escapeStringRegexp(target),")+"),"g"));if(null===results){return 0}return results.reduce(function(maxCount,result){return _Mathmax(maxCount,result.length/target.length)},0)}function getStringWidth$1(text){if(!text){return 0}if(!notAsciiRegex.test(text)){return text.length}return stringWidth(text)}function hasIgnoreComment(path){var node=path.getValue();return hasNodeIgnoreComment(node)}function hasNodeIgnoreComment(node){return node&&node.comments&&0<node.comments.length&&node.comments.some(function(comment){return"prettier-ignore"===comment.value.trim()})}function matchAncestorTypes(path,types,index){index=index||0;types=types.slice();while(types.length){var parent=path.getParentNode(index),type=types.shift();if(!parent||parent.type!==type){return!1}index++}return!0}function addCommentHelper(node,comment){var comments=node.comments||(node.comments=[]);comments.push(comment);comment.printed=!1;if("JSXText"===node.type){comment.printed=!0}}function addLeadingComment$1(node,comment){comment.leading=!0;comment.trailing=!1;addCommentHelper(node,comment)}function addDanglingComment$1(node,comment){comment.leading=!1;comment.trailing=!1;addCommentHelper(node,comment)}function addTrailingComment$1(node,comment){comment.leading=!1;comment.trailing=!0;addCommentHelper(node,comment)}function isWithinParentArrayProperty(path,propertyName){var node=path.getValue(),parent=path.getParentNode();if(null==parent){return!1}if(!Array.isArray(parent[propertyName])){return!1}var key=path.getName();return parent[propertyName][key]===node}function replaceEndOfLineWith(text,replacement){var parts=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=text.split("\n")[Symbol.iterator](),_step,part;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){part=_step.value;if(0!==parts.length){parts.push(replacement)}parts.push(part)}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return parts}var util={replaceEndOfLineWith:replaceEndOfLineWith,getStringWidth:getStringWidth$1,getMaxContinuousCount:getMaxContinuousCount,getPrecedence:getPrecedence,shouldFlatten:shouldFlatten,isBitwiseOperator:isBitwiseOperator,isExportDeclaration:isExportDeclaration,getParentExportDeclaration:getParentExportDeclaration,getPenultimate:getPenultimate,getLast:getLast$3,getNextNonSpaceNonCommentCharacterIndexWithStartIndex:getNextNonSpaceNonCommentCharacterIndexWithStartIndex,getNextNonSpaceNonCommentCharacterIndex:getNextNonSpaceNonCommentCharacterIndex,getNextNonSpaceNonCommentCharacter:getNextNonSpaceNonCommentCharacter,skip:skip,skipWhitespace:skipWhitespace,skipSpaces:skipSpaces,skipToLineEnd:skipToLineEnd,skipEverythingButNewLine:skipEverythingButNewLine,skipInlineComment:skipInlineComment,skipTrailingComment:skipTrailingComment,skipNewline:skipNewline$1,isNextLineEmptyAfterIndex:isNextLineEmptyAfterIndex,isNextLineEmpty:isNextLineEmpty,isPreviousLineEmpty:isPreviousLineEmpty$1,hasNewline:hasNewline$1,hasNewlineInRange:hasNewlineInRange,hasSpaces:hasSpaces,setLocStart:setLocStart,setLocEnd:setLocEnd,startsWithNoLookaheadToken:startsWithNoLookaheadToken,getAlignmentSize:getAlignmentSize,getIndentSize:getIndentSize,getPreferredQuote:getPreferredQuote,printString:printString,printNumber:printNumber,hasIgnoreComment:hasIgnoreComment,hasNodeIgnoreComment:hasNodeIgnoreComment,makeString:makeString,matchAncestorTypes:matchAncestorTypes,addLeadingComment:addLeadingComment$1,addDanglingComment:addDanglingComment$1,addTrailingComment:addTrailingComment$1,isWithinParentArrayProperty:isWithinParentArrayProperty};function guessEndOfLine$1(text){var index=text.indexOf("\r");if(0<=index){return"\n"===text.charAt(index+1)?"crlf":"cr"}return"lf"}function convertEndOfLineToChars$2(value){switch(value){case"cr":return"\r";case"crlf":return"\r\n";default:return"\n";}}var endOfLine={guessEndOfLine:guessEndOfLine$1,convertEndOfLineToChars:convertEndOfLineToChars$2},getStringWidth=util.getStringWidth,convertEndOfLineToChars$1=endOfLine.convertEndOfLineToChars,concat$2=docBuilders.concat,fill$1=docBuilders.fill,cursor$2=docBuilders.cursor,groupModeMap,MODE_BREAK=1,MODE_FLAT=2;function rootIndent(){return{value:"",length:0,queue:[]}}function makeIndent(ind,options){return generateInd(ind,{type:"indent"},options)}function makeAlign(ind,n,options){return n===-Infinity?ind.root||rootIndent():0>n?generateInd(ind,{type:"dedent"},options):!n?ind:"root"===n.type?Object.assign({},ind,{root:ind}):"string"===typeof n?generateInd(ind,{type:"stringAlign",n:n},options):generateInd(ind,{type:"numberAlign",n:n},options)}function generateInd(ind,newPart,options){var queue="dedent"===newPart.type?ind.queue.slice(0,-1):ind.queue.concat(newPart),value="",length=0,lastTabs=0,lastSpaces=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=queue[Symbol.iterator](),_step,part;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){part=_step.value;switch(part.type){case"indent":flush();if(options.useTabs){addTabs(1)}else{addSpaces(options.tabWidth)}break;case"stringAlign":flush();value+=part.n;length+=part.n.length;break;case"numberAlign":lastTabs+=1;lastSpaces+=part.n;break;default:throw new Error("Unexpected type '".concat(part.type,"'"));}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}flushSpaces();return Object.assign({},ind,{value:value,length:length,queue:queue});function addTabs(count){value+="\t".repeat(count);length+=options.tabWidth*count}function addSpaces(count){value+=" ".repeat(count);length+=count}function flush(){if(options.useTabs){flushTabs()}else{flushSpaces()}}function flushTabs(){if(0<lastTabs){addTabs(lastTabs)}resetLast()}function flushSpaces(){if(0<lastSpaces){addSpaces(lastSpaces)}resetLast()}function resetLast(){lastTabs=0;lastSpaces=0}}function trim$1(out){if(0===out.length){return 0}var trimCount=0;while(0<out.length&&"string"===typeof out[out.length-1]&&out[out.length-1].match(/^[ \t]*$/)){trimCount+=out.pop().length}if(out.length&&"string"===typeof out[out.length-1]){var trimmed=out[out.length-1].replace(/[ \t]*$/,"");trimCount+=out[out.length-1].length-trimmed.length;out[out.length-1]=trimmed}return trimCount}function fits(next,restCommands,width,options,mustBeFlat){var restIdx=restCommands.length,cmds=[next],out=[];while(0<=width){if(0===cmds.length){if(0===restIdx){return!0}cmds.push(restCommands[restIdx-1]);restIdx--;continue}var x=cmds.pop(),ind=x[0],mode=x[1],doc=x[2];if("string"===typeof doc){out.push(doc);width-=getStringWidth(doc)}else{switch(doc.type){case"concat":for(var i=doc.parts.length-1;0<=i;i--){cmds.push([ind,mode,doc.parts[i]])}break;case"indent":cmds.push([makeIndent(ind,options),mode,doc.contents]);break;case"align":cmds.push([makeAlign(ind,doc.n,options),mode,doc.contents]);break;case"trim":width+=trim$1(out);break;case"group":if(mustBeFlat&&doc.break){return!1}cmds.push([ind,doc.break?MODE_BREAK:mode,doc.contents]);if(doc.id){groupModeMap[doc.id]=cmds[cmds.length-1][1]}break;case"fill":for(var _i=doc.parts.length-1;0<=_i;_i--){cmds.push([ind,mode,doc.parts[_i]])}break;case"if-break":{var groupMode=doc.groupId?groupModeMap[doc.groupId]:mode;if(groupMode===MODE_BREAK){if(doc.breakContents){cmds.push([ind,mode,doc.breakContents])}}if(groupMode===MODE_FLAT){if(doc.flatContents){cmds.push([ind,mode,doc.flatContents])}}break}case"line":switch(mode){case MODE_FLAT:if(!doc.hard){if(!doc.soft){out.push(" ");width-=1}break}return!0;case MODE_BREAK:return!0;}break;}}}return!1}function printDocToString(doc,options){groupModeMap={};var width=options.printWidth,newLine=convertEndOfLineToChars$1(options.endOfLine),pos=0,cmds=[[rootIndent(),MODE_BREAK,doc]],out=[],shouldRemeasure=!1,lineSuffix=[];while(0!==cmds.length){var x=cmds.pop(),ind=x[0],mode=x[1],_doc=x[2];if("string"===typeof _doc){out.push(_doc);pos+=getStringWidth(_doc)}else{switch(_doc.type){case"cursor":out.push(cursor$2.placeholder);break;case"concat":for(var i=_doc.parts.length-1;0<=i;i--){cmds.push([ind,mode,_doc.parts[i]])}break;case"indent":cmds.push([makeIndent(ind,options),mode,_doc.contents]);break;case"align":cmds.push([makeAlign(ind,_doc.n,options),mode,_doc.contents]);break;case"trim":pos-=trim$1(out);break;case"group":switch(mode){case MODE_FLAT:if(!shouldRemeasure){cmds.push([ind,_doc.break?MODE_BREAK:MODE_FLAT,_doc.contents]);break}case MODE_BREAK:{shouldRemeasure=!1;var next=[ind,MODE_FLAT,_doc.contents],rem=width-pos;if(!_doc.break&&fits(next,cmds,rem,options)){cmds.push(next)}else{if(_doc.expandedStates){var mostExpanded=_doc.expandedStates[_doc.expandedStates.length-1];if(_doc.break){cmds.push([ind,MODE_BREAK,mostExpanded]);break}else{for(var _i2=1;_i2<_doc.expandedStates.length+1;_i2++){if(_i2>=_doc.expandedStates.length){cmds.push([ind,MODE_BREAK,mostExpanded]);break}else{var state=_doc.expandedStates[_i2],cmd=[ind,MODE_FLAT,state];if(fits(cmd,cmds,rem,options)){cmds.push(cmd);break}}}}}else{cmds.push([ind,MODE_BREAK,_doc.contents])}}break}}if(_doc.id){groupModeMap[_doc.id]=cmds[cmds.length-1][1]}break;case"fill":{var _rem=width-pos,parts=_doc.parts;if(0===parts.length){break}var content=parts[0],contentFlatCmd=[ind,MODE_FLAT,content],contentBreakCmd=[ind,MODE_BREAK,content],contentFits=fits(contentFlatCmd,[],_rem,options,!0);if(1===parts.length){if(contentFits){cmds.push(contentFlatCmd)}else{cmds.push(contentBreakCmd)}break}var whitespace=parts[1],whitespaceFlatCmd=[ind,MODE_FLAT,whitespace],whitespaceBreakCmd=[ind,MODE_BREAK,whitespace];if(2===parts.length){if(contentFits){cmds.push(whitespaceFlatCmd);cmds.push(contentFlatCmd)}else{cmds.push(whitespaceBreakCmd);cmds.push(contentBreakCmd)}break}parts.splice(0,2);var remainingCmd=[ind,mode,fill$1(parts)],secondContent=parts[0],firstAndSecondContentFlatCmd=[ind,MODE_FLAT,concat$2([content,whitespace,secondContent])],firstAndSecondContentFits=fits(firstAndSecondContentFlatCmd,[],_rem,options,!0);if(firstAndSecondContentFits){cmds.push(remainingCmd);cmds.push(whitespaceFlatCmd);cmds.push(contentFlatCmd)}else if(contentFits){cmds.push(remainingCmd);cmds.push(whitespaceBreakCmd);cmds.push(contentFlatCmd)}else{cmds.push(remainingCmd);cmds.push(whitespaceBreakCmd);cmds.push(contentBreakCmd)}break}case"if-break":{var groupMode=_doc.groupId?groupModeMap[_doc.groupId]:mode;if(groupMode===MODE_BREAK){if(_doc.breakContents){cmds.push([ind,mode,_doc.breakContents])}}if(groupMode===MODE_FLAT){if(_doc.flatContents){cmds.push([ind,mode,_doc.flatContents])}}break}case"line-suffix":lineSuffix.push([ind,mode,_doc.contents]);break;case"line-suffix-boundary":if(0<lineSuffix.length){cmds.push([ind,mode,{type:"line",hard:!0}])}break;case"line":switch(mode){case MODE_FLAT:if(!_doc.hard){if(!_doc.soft){out.push(" ");pos+=1}break}else{shouldRemeasure=!0}case MODE_BREAK:if(lineSuffix.length){cmds.push([ind,mode,_doc]);[].push.apply(cmds,lineSuffix.reverse());lineSuffix=[];break}if(_doc.literal){if(ind.root){out.push(newLine,ind.root.value);pos=ind.root.length}else{out.push(newLine);pos=0}}else{pos-=trim$1(out);out.push(newLine+ind.value);pos=ind.length}break;}break;default:}}}var cursorPlaceholderIndex=out.indexOf(cursor$2.placeholder);if(-1!==cursorPlaceholderIndex){var otherCursorPlaceholderIndex=out.indexOf(cursor$2.placeholder,cursorPlaceholderIndex+1),beforeCursor=out.slice(0,cursorPlaceholderIndex).join(""),aroundCursor=out.slice(cursorPlaceholderIndex+1,otherCursorPlaceholderIndex).join(""),afterCursor=out.slice(otherCursorPlaceholderIndex+1).join("");return{formatted:beforeCursor+aroundCursor+afterCursor,cursorNodeStart:beforeCursor.length,cursorNodeText:aroundCursor}}return{formatted:out.join("")}}var docPrinter={printDocToString:printDocToString},traverseDocOnExitStackMarker={};function traverseDoc(doc,onEnter,onExit,shouldTraverseConditionalGroups){var docsStack=[doc];while(0!==docsStack.length){var _doc=docsStack.pop();if(_doc===traverseDocOnExitStackMarker){onExit(docsStack.pop());continue}var shouldRecurse=!0;if(onEnter){if(!1===onEnter(_doc)){shouldRecurse=!1}}if(onExit){docsStack.push(_doc);docsStack.push(traverseDocOnExitStackMarker)}if(shouldRecurse){if("concat"===_doc.type||"fill"===_doc.type){for(var ic=_doc.parts.length,i=ic-1;0<=i;--i){docsStack.push(_doc.parts[i])}}else if("if-break"===_doc.type){if(_doc.flatContents){docsStack.push(_doc.flatContents)}if(_doc.breakContents){docsStack.push(_doc.breakContents)}}else if("group"===_doc.type&&_doc.expandedStates){if(shouldTraverseConditionalGroups){for(var _ic=_doc.expandedStates.length,_i=_ic-1;0<=_i;--_i){docsStack.push(_doc.expandedStates[_i])}}else{docsStack.push(_doc.contents)}}else if(_doc.contents){docsStack.push(_doc.contents)}}}}function mapDoc$1(doc,cb){if("concat"===doc.type||"fill"===doc.type){var parts=doc.parts.map(function(part){return mapDoc$1(part,cb)});return cb(Object.assign({},doc,{parts:parts}))}else if("if-break"===doc.type){var breakContents=doc.breakContents&&mapDoc$1(doc.breakContents,cb),flatContents=doc.flatContents&&mapDoc$1(doc.flatContents,cb);return cb(Object.assign({},doc,{breakContents:breakContents,flatContents:flatContents}))}else if(doc.contents){var contents=mapDoc$1(doc.contents,cb);return cb(Object.assign({},doc,{contents:contents}))}return cb(doc)}function findInDoc(doc,fn,defaultValue){var result=defaultValue,hasStopped=!1;function findInDocOnEnterFn(doc){var maybeResult=fn(doc);if(maybeResult!==void 0){hasStopped=!0;result=maybeResult}if(hasStopped){return!1}}traverseDoc(doc,findInDocOnEnterFn);return result}function isEmpty(n){return"string"===typeof n&&0===n.length}function isLineNextFn(doc){if("string"===typeof doc){return!1}if("line"===doc.type){return!0}}function isLineNext(doc){return findInDoc(doc,isLineNextFn,!1)}function willBreakFn(doc){if("group"===doc.type&&doc.break){return!0}if("line"===doc.type&&doc.hard){return!0}if("break-parent"===doc.type){return!0}}function willBreak(doc){return findInDoc(doc,willBreakFn,!1)}function breakParentGroup(groupStack){if(0<groupStack.length){var parentGroup=groupStack[groupStack.length-1];if(!parentGroup.expandedStates){parentGroup.break=!0}}return null}function propagateBreaks(doc){var alreadyVisitedSet=new Set,groupStack=[];function propagateBreaksOnEnterFn(doc){if("break-parent"===doc.type){breakParentGroup(groupStack)}if("group"===doc.type){groupStack.push(doc);if(alreadyVisitedSet.has(doc)){return!1}alreadyVisitedSet.add(doc)}}function propagateBreaksOnExitFn(doc){if("group"===doc.type){var group=groupStack.pop();if(group.break){breakParentGroup(groupStack)}}}traverseDoc(doc,propagateBreaksOnEnterFn,propagateBreaksOnExitFn,!0)}function removeLinesFn(doc){if("line"===doc.type&&!doc.hard){return doc.soft?"":" "}else if("if-break"===doc.type){return doc.flatContents||""}return doc}function removeLines(doc){return mapDoc$1(doc,removeLinesFn)}function stripTrailingHardline(doc){if("concat"===doc.type&&0!==doc.parts.length){var lastPart=doc.parts[doc.parts.length-1];if("concat"===lastPart.type){if(2===lastPart.parts.length&&lastPart.parts[0].hard&&"break-parent"===lastPart.parts[1].type){return{type:"concat",parts:doc.parts.slice(0,-1)}}return{type:"concat",parts:doc.parts.slice(0,-1).concat(stripTrailingHardline(lastPart))}}}return doc}var docUtils={isEmpty:isEmpty,willBreak:willBreak,isLineNext:isLineNext,traverseDoc:traverseDoc,mapDoc:mapDoc$1,propagateBreaks:propagateBreaks,removeLines:removeLines,stripTrailingHardline:stripTrailingHardline};function flattenDoc(doc){if("concat"===doc.type){for(var res=[],i=0,doc2;i<doc.parts.length;++i){doc2=doc.parts[i];if("string"!==typeof doc2&&"concat"===doc2.type){[].push.apply(res,flattenDoc(doc2).parts)}else{var flattened=flattenDoc(doc2);if(""!==flattened){res.push(flattened)}}}return Object.assign({},doc,{parts:res})}else if("if-break"===doc.type){return Object.assign({},doc,{breakContents:null!=doc.breakContents?flattenDoc(doc.breakContents):null,flatContents:null!=doc.flatContents?flattenDoc(doc.flatContents):null})}else if("group"===doc.type){return Object.assign({},doc,{contents:flattenDoc(doc.contents),expandedStates:doc.expandedStates?doc.expandedStates.map(flattenDoc):doc.expandedStates})}else if(doc.contents){return Object.assign({},doc,{contents:flattenDoc(doc.contents)})}return doc}function printDoc(doc){if("string"===typeof doc){return JSON.stringify(doc)}if("line"===doc.type){if(doc.literal){return"literalline"}if(doc.hard){return"hardline"}if(doc.soft){return"softline"}return"line"}if("break-parent"===doc.type){return"breakParent"}if("trim"===doc.type){return"trim"}if("concat"===doc.type){return"["+doc.parts.map(printDoc).join(", ")+"]"}if("indent"===doc.type){return"indent("+printDoc(doc.contents)+")"}if("align"===doc.type){return doc.n===-Infinity?"dedentToRoot("+printDoc(doc.contents)+")":0>doc.n?"dedent("+printDoc(doc.contents)+")":"root"===doc.n.type?"markAsRoot("+printDoc(doc.contents)+")":"align("+JSON.stringify(doc.n)+", "+printDoc(doc.contents)+")"}if("if-break"===doc.type){return"ifBreak("+printDoc(doc.breakContents)+(doc.flatContents?", "+printDoc(doc.flatContents):"")+")"}if("group"===doc.type){if(doc.expandedStates){return"conditionalGroup("+"["+doc.expandedStates.map(printDoc).join(",")+"])"}return(doc.break?"wrappedGroup":"group")+"("+printDoc(doc.contents)+")"}if("fill"===doc.type){return"fill"+"("+doc.parts.map(printDoc).join(", ")+")"}if("line-suffix"===doc.type){return"lineSuffix("+printDoc(doc.contents)+")"}if("line-suffix-boundary"===doc.type){return"lineSuffixBoundary"}throw new Error("Unknown doc type "+doc.type)}var docDebug={printDocToDebug:function printDocToDebug(doc){return printDoc(flattenDoc(doc))}},doc={builders:docBuilders,printer:docPrinter,utils:docUtils,debug:docDebug},mapDoc$2=doc.utils.mapDoc;function isNextLineEmpty$1(text,node,options){return util.isNextLineEmpty(text,node,options.locEnd)}function isPreviousLineEmpty$2(text,node,options){return util.isPreviousLineEmpty(text,node,options.locStart)}function getNextNonSpaceNonCommentCharacterIndex$1(text,node,options){return util.getNextNonSpaceNonCommentCharacterIndex(text,node,options.locEnd)}var utilShared={getMaxContinuousCount:util.getMaxContinuousCount,getStringWidth:util.getStringWidth,getAlignmentSize:util.getAlignmentSize,getIndentSize:util.getIndentSize,skip:util.skip,skipWhitespace:util.skipWhitespace,skipSpaces:util.skipSpaces,skipNewline:util.skipNewline,skipToLineEnd:util.skipToLineEnd,skipEverythingButNewLine:util.skipEverythingButNewLine,skipInlineComment:util.skipInlineComment,skipTrailingComment:util.skipTrailingComment,hasNewline:util.hasNewline,hasNewlineInRange:util.hasNewlineInRange,hasSpaces:util.hasSpaces,isNextLineEmpty:isNextLineEmpty$1,isNextLineEmptyAfterIndex:util.isNextLineEmptyAfterIndex,isPreviousLineEmpty:isPreviousLineEmpty$2,getNextNonSpaceNonCommentCharacterIndex:getNextNonSpaceNonCommentCharacterIndex$1,mapDoc:mapDoc$2,makeString:util.makeString,addLeadingComment:util.addLeadingComment,addDanglingComment:util.addDanglingComment,addTrailingComment:util.addTrailingComment},assert$3=assert$2&&assert||assert$2,_require$$0$builders=doc.builders,concat=_require$$0$builders.concat,hardline=_require$$0$builders.hardline,breakParent=_require$$0$builders.breakParent,indent=_require$$0$builders.indent,lineSuffix=_require$$0$builders.lineSuffix,join=_require$$0$builders.join,cursor=_require$$0$builders.cursor,hasNewline=util.hasNewline,skipNewline=util.skipNewline,isPreviousLineEmpty=util.isPreviousLineEmpty,addLeadingComment=utilShared.addLeadingComment,addDanglingComment=utilShared.addDanglingComment,addTrailingComment=utilShared.addTrailingComment,childNodesCacheKey=Symbol("child-nodes");function getSortedChildNodes(node,options,resultArray){if(!node){return}var printer=options.printer,locStart=options.locStart,locEnd=options.locEnd;if(resultArray){if(node&&printer.canAttachComment&&printer.canAttachComment(node)){var i;for(i=resultArray.length-1;0<=i;--i){if(locStart(resultArray[i])<=locStart(node)&&locEnd(resultArray[i])<=locEnd(node)){break}}resultArray.splice(i+1,0,node);return}}else if(node[childNodesCacheKey]){return node[childNodesCacheKey]}var childNodes;if(printer.getCommentChildNodes){childNodes=printer.getCommentChildNodes(node)}else if(node&&"object"===_typeof(node)){childNodes=Object.keys(node).filter(function(n){return"enclosingNode"!==n&&"precedingNode"!==n&&"followingNode"!==n}).map(function(n){return node[n]})}if(!childNodes){return}if(!resultArray){Object.defineProperty(node,childNodesCacheKey,{value:resultArray=[],enumerable:!1})}childNodes.forEach(function(childNode){getSortedChildNodes(childNode,options,resultArray)});return resultArray}function decorateComment(node,comment,options){var locStart=options.locStart,locEnd=options.locEnd,childNodes=getSortedChildNodes(node,options),precedingNode,followingNode,left=0,right=childNodes.length;while(left<right){var middle=left+right>>1,child=childNodes[middle];if(0>=locStart(child)-locStart(comment)&&0>=locEnd(comment)-locEnd(child)){comment.enclosingNode=child;decorateComment(child,comment,options);return}if(0>=locEnd(child)-locStart(comment)){precedingNode=child;left=middle+1;continue}if(0>=locEnd(comment)-locStart(child)){followingNode=child;right=middle;continue}throw new Error("Comment location overlaps with node location")}if(comment.enclosingNode&&"TemplateLiteral"===comment.enclosingNode.type){var quasis=comment.enclosingNode.quasis,commentIndex=findExpressionIndexForComment(quasis,comment,options);if(precedingNode&&findExpressionIndexForComment(quasis,precedingNode,options)!==commentIndex){precedingNode=null}if(followingNode&&findExpressionIndexForComment(quasis,followingNode,options)!==commentIndex){followingNode=null}}if(precedingNode){comment.precedingNode=precedingNode}if(followingNode){comment.followingNode=followingNode}}function attach(comments,ast,text,options){if(!Array.isArray(comments)){return}var tiesToBreak=[],locStart=options.locStart,locEnd=options.locEnd;comments.forEach(function(comment,i){if("json"===options.parser||"json5"===options.parser||"__js_expression"===options.parser||"__vue_expression"===options.parser){if(0>=locStart(comment)-locStart(ast)){addLeadingComment(ast,comment);return}if(0<=locEnd(comment)-locEnd(ast)){addTrailingComment(ast,comment);return}}decorateComment(ast,comment,options);var precedingNode=comment.precedingNode,enclosingNode=comment.enclosingNode,followingNode=comment.followingNode,pluginHandleOwnLineComment=options.printer.handleComments&&options.printer.handleComments.ownLine?options.printer.handleComments.ownLine:function(){return!1},pluginHandleEndOfLineComment=options.printer.handleComments&&options.printer.handleComments.endOfLine?options.printer.handleComments.endOfLine:function(){return!1},pluginHandleRemainingComment=options.printer.handleComments&&options.printer.handleComments.remaining?options.printer.handleComments.remaining:function(){return!1},isLastComment=comments.length-1===i;if(hasNewline(text,locStart(comment),{backwards:!0})){if(pluginHandleOwnLineComment(comment,text,options,ast,isLastComment)){}else if(followingNode){addLeadingComment(followingNode,comment)}else if(precedingNode){addTrailingComment(precedingNode,comment)}else if(enclosingNode){addDanglingComment(enclosingNode,comment)}else{addDanglingComment(ast,comment)}}else if(hasNewline(text,locEnd(comment))){if(pluginHandleEndOfLineComment(comment,text,options,ast,isLastComment)){}else if(precedingNode){addTrailingComment(precedingNode,comment)}else if(followingNode){addLeadingComment(followingNode,comment)}else if(enclosingNode){addDanglingComment(enclosingNode,comment)}else{addDanglingComment(ast,comment)}}else{if(pluginHandleRemainingComment(comment,text,options,ast,isLastComment)){}else if(precedingNode&&followingNode){var tieCount=tiesToBreak.length;if(0<tieCount){var lastTie=tiesToBreak[tieCount-1];if(lastTie.followingNode!==comment.followingNode){breakTies(tiesToBreak,text,options)}}tiesToBreak.push(comment)}else if(precedingNode){addTrailingComment(precedingNode,comment)}else if(followingNode){addLeadingComment(followingNode,comment)}else if(enclosingNode){addDanglingComment(enclosingNode,comment)}else{addDanglingComment(ast,comment)}}});breakTies(tiesToBreak,text,options);comments.forEach(function(comment){delete comment.precedingNode;delete comment.enclosingNode;delete comment.followingNode})}function breakTies(tiesToBreak,text,options){var tieCount=tiesToBreak.length;if(0===tieCount){return}var _tiesToBreak$=tiesToBreak[0],precedingNode=_tiesToBreak$.precedingNode,followingNode=_tiesToBreak$.followingNode,gapEndPos=options.locStart(followingNode),indexOfFirstLeadingComment;for(indexOfFirstLeadingComment=tieCount;0<indexOfFirstLeadingComment;--indexOfFirstLeadingComment){var comment=tiesToBreak[indexOfFirstLeadingComment-1];assert$3.strictEqual(comment.precedingNode,precedingNode);assert$3.strictEqual(comment.followingNode,followingNode);var gap=text.slice(options.locEnd(comment),gapEndPos).trim();if(""===gap||/^\(+$/.test(gap)){gapEndPos=options.locStart(comment)}else{break}}tiesToBreak.forEach(function(comment,i){if(i<indexOfFirstLeadingComment){addTrailingComment(precedingNode,comment)}else{addLeadingComment(followingNode,comment)}});tiesToBreak.length=0}function printComment(commentPath,options){var comment=commentPath.getValue();comment.printed=!0;return options.printer.printComment(commentPath,options)}function findExpressionIndexForComment(quasis,comment,options){for(var startPos=options.locStart(comment)-1,i=1;i<quasis.length;++i){if(startPos<getQuasiRange(quasis[i]).start){return i-1}}return 0}function getQuasiRange(expr){if(expr.start!==void 0){return{start:expr.start,end:expr.end}}return{start:expr.range[0],end:expr.range[1]}}function printLeadingComment(commentPath,print,options){var comment=commentPath.getValue(),contents=printComment(commentPath,options);if(!contents){return""}var isBlock=options.printer.isBlockComment&&options.printer.isBlockComment(comment);if(isBlock){return concat([contents,hasNewline(options.originalText,options.locEnd(comment))?hardline:" "])}return concat([contents,hardline])}function printTrailingComment(commentPath,print,options){var comment=commentPath.getValue(),contents=printComment(commentPath,options);if(!contents){return""}var isBlock=options.printer.isBlockComment&&options.printer.isBlockComment(comment),parentNode=commentPath.getNode(1),parentParentNode=commentPath.getNode(2),isParentSuperClass=parentParentNode&&("ClassDeclaration"===parentParentNode.type||"ClassExpression"===parentParentNode.type)&&parentParentNode.superClass===parentNode;if(hasNewline(options.originalText,options.locStart(comment),{backwards:!0})){var isLineBeforeEmpty=isPreviousLineEmpty(options.originalText,comment,options.locStart);return lineSuffix(concat([hardline,isLineBeforeEmpty?hardline:"",contents]))}else if(isBlock||isParentSuperClass){return concat([" ",contents])}return concat([lineSuffix(" "+contents),!isBlock?breakParent:""])}function printDanglingComments(path,options,sameIndent,filter){var parts=[],node=path.getValue();if(!node||!node.comments){return""}path.each(function(commentPath){var comment=commentPath.getValue();if(comment&&!comment.leading&&!comment.trailing&&(!filter||filter(comment))){parts.push(printComment(commentPath,options))}},"comments");if(0===parts.length){return""}if(sameIndent){return join(hardline,parts)}return indent(concat([hardline,join(hardline,parts)]))}function prependCursorPlaceholder(path,options,printed){if(path.getNode()===options.cursorNode&&path.getValue()){return concat([cursor,printed,cursor])}return printed}function printComments(path,print,options,needsSemi){var value=path.getValue(),printed=print(path),comments=value&&value.comments;if(!comments||0===comments.length){return prependCursorPlaceholder(path,options,printed)}var leadingParts=[],trailingParts=[needsSemi?";":"",printed];path.each(function(commentPath){var comment=commentPath.getValue(),leading=comment.leading,trailing=comment.trailing;if(leading){var contents=printLeadingComment(commentPath,print,options);if(!contents){return}leadingParts.push(contents);var text=options.originalText;if(hasNewline(text,skipNewline(text,options.locEnd(comment)))){leadingParts.push(hardline)}}else if(trailing){trailingParts.push(printTrailingComment(commentPath,print,options))}},"comments");return prependCursorPlaceholder(path,options,concat(leadingParts.concat(trailingParts)))}var comments={attach:attach,printComments:printComments,printDanglingComments:printDanglingComments,getSortedChildNodes:getSortedChildNodes};function FastPath(value){assert$3.ok(this instanceof FastPath);this.stack=[value]}FastPath.prototype.getName=function getName(){var s=this.stack,len=s.length;if(1<len){return s[len-2]}return null};FastPath.prototype.getValue=function getValue(){var s=this.stack;return s[s.length-1]};function getNodeHelper(path,count){var stackIndex=getNodeStackIndexHelper(path.stack,count);return-1===stackIndex?null:path.stack[stackIndex]}function getNodeStackIndexHelper(stack,count){for(var i=stack.length-1,value;0<=i;i-=2){value=stack[i];if(value&&!Array.isArray(value)&&0>--count){return i}}return-1}FastPath.prototype.getNode=function getNode(count){return getNodeHelper(this,~~count)};FastPath.prototype.getParentNode=function getParentNode(count){return getNodeHelper(this,~~count+1)};FastPath.prototype.call=function call(callback){for(var s=this.stack,origLen=s.length,value=s[origLen-1],argc=arguments.length,i=1,name;i<argc;++i){name=arguments[i];value=value[name];s.push(name,value)}var result=callback(this);s.length=origLen;return result};FastPath.prototype.callParent=function callParent(callback,count){var stackIndex=getNodeStackIndexHelper(this.stack,~~count+1),parentValues=this.stack.splice(stackIndex+1),result=callback(this);Array.prototype.push.apply(this.stack,parentValues);return result};FastPath.prototype.each=function each(callback){for(var s=this.stack,origLen=s.length,value=s[origLen-1],argc=arguments.length,i=1,name;i<argc;++i){name=arguments[i];value=value[name];s.push(name,value)}for(var _i=0;_i<value.length;++_i){if(_i in value){s.push(_i,value[_i]);callback(this);s.length-=2}}s.length=origLen};FastPath.prototype.map=function map(callback){for(var s=this.stack,origLen=s.length,value=s[origLen-1],argc=arguments.length,i=1,name;i<argc;++i){name=arguments[i];value=value[name];s.push(name,value)}for(var result=Array(value.length),_i2=0;_i2<value.length;++_i2){if(_i2 in value){s.push(_i2,value[_i2]);result[_i2]=callback(this,_i2);s.length-=2}}s.length=origLen;return result};var fastPath=FastPath,normalize$3=options.normalize;function printSubtree(path,print,options$$1,printAstToDoc){if(options$$1.printer.embed){return options$$1.printer.embed(path,print,function(text,partialNextOptions){return textToDoc(text,partialNextOptions,options$$1,printAstToDoc)},options$$1)}}function textToDoc(text,partialNextOptions,parentOptions,printAstToDoc){var nextOptions=normalize$3(Object.assign({},parentOptions,partialNextOptions,{parentParser:parentOptions.parser,originalText:text}),{passThrough:!0}),result=parser.parse(text,nextOptions),ast=result.ast;text=result.text;var astComments=ast.comments;delete ast.comments;comments.attach(astComments,ast,text,nextOptions);return printAstToDoc(ast,nextOptions)}var multiparser={printSubtree:printSubtree},doc$2=doc,docBuilders$2=doc$2.builders,concat$3=docBuilders$2.concat,hardline$2=docBuilders$2.hardline,addAlignmentToDoc$1=docBuilders$2.addAlignmentToDoc,docUtils$2=doc$2.utils;function printAstToDoc(ast,options){var alignmentSize=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,printer=options.printer;if(printer.preprocess){ast=printer.preprocess(ast,options)}var cache=new Map;function printGenerically(path,args){var node=path.getValue(),shouldCache=node&&"object"===_typeof(node)&&args===void 0;if(shouldCache&&cache.has(node)){return cache.get(node)}var res;if(printer.willPrintOwnComments&&printer.willPrintOwnComments(path)){res=callPluginPrintFunction(path,options,printGenerically,args)}else{res=comments.printComments(path,function(p){return callPluginPrintFunction(p,options,printGenerically,args)},options,args&&args.needsSemi)}if(shouldCache){cache.set(node,res)}return res}var doc$$2=printGenerically(new fastPath(ast));if(0<alignmentSize){doc$$2=addAlignmentToDoc$1(concat$3([hardline$2,doc$$2]),alignmentSize,options.tabWidth)}docUtils$2.propagateBreaks(doc$$2);return doc$$2}function callPluginPrintFunction(path,options,printPath,args){assert$3.ok(path instanceof fastPath);var node=path.getValue(),printer=options.printer;if(printer.hasPrettierIgnore&&printer.hasPrettierIgnore(path)){return options.originalText.slice(options.locStart(node),options.locEnd(node))}if(node){try{var sub=multiparser.printSubtree(path,printPath,options,printAstToDoc);if(sub){return sub}}catch(error){if(commonjsGlobal.PRETTIER_DEBUG){throw error}}}return printer.print(path,options,printPath,args)}var astToDoc=printAstToDoc;function findSiblingAncestors(startNodeAndParents,endNodeAndParents,opts){var resultStartNode=startNodeAndParents.node,resultEndNode=endNodeAndParents.node;if(resultStartNode===resultEndNode){return{startNode:resultStartNode,endNode:resultEndNode}}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=endNodeAndParents.parentNodes[Symbol.iterator](),_step,endParent;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){endParent=_step.value;if("Program"!==endParent.type&&"File"!==endParent.type&&opts.locStart(endParent)>=opts.locStart(startNodeAndParents.node)){resultEndNode=endParent}else{break}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=startNodeAndParents.parentNodes[Symbol.iterator](),_step2,startParent;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){startParent=_step2.value;if("Program"!==startParent.type&&"File"!==startParent.type&&opts.locEnd(startParent)<=opts.locEnd(endNodeAndParents.node)){resultStartNode=startParent}else{break}}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return{startNode:resultStartNode,endNode:resultEndNode}}function findNodeAtOffset(node,offset,options,predicate,parentNodes){predicate=predicate||function(){return!0};parentNodes=parentNodes||[];var start=options.locStart(node,options.locStart),end=options.locEnd(node,options.locEnd);if(start<=offset&&offset<=end){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=comments.getSortedChildNodes(node,options)[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var childNode=_step3.value,childResult=findNodeAtOffset(childNode,offset,options,predicate,[node].concat(parentNodes));if(childResult){return childResult}}}catch(err){_didIteratorError3=!0;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&null!=_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}if(predicate(node)){return{node:node,parentNodes:parentNodes}}}}function isSourceElement(opts,node){if(null==node){return!1}var jsSourceElements=["FunctionDeclaration","BlockStatement","BreakStatement","ContinueStatement","DebuggerStatement","DoWhileStatement","EmptyStatement","ExpressionStatement","ForInStatement","ForStatement","IfStatement","LabeledStatement","ReturnStatement","SwitchStatement","ThrowStatement","TryStatement","VariableDeclaration","WhileStatement","WithStatement","ClassDeclaration","ImportDeclaration","ExportDefaultDeclaration","ExportNamedDeclaration","ExportAllDeclaration","TypeAlias","InterfaceDeclaration","TypeAliasDeclaration","ExportAssignment","ExportDeclaration"],jsonSourceElements=["ObjectExpression","ArrayExpression","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral"],graphqlSourceElements=["OperationDefinition","FragmentDefinition","VariableDefinition","TypeExtensionDefinition","ObjectTypeDefinition","FieldDefinition","DirectiveDefinition","EnumTypeDefinition","EnumValueDefinition","InputValueDefinition","InputObjectTypeDefinition","SchemaDefinition","OperationTypeDefinition","InterfaceTypeDefinition","UnionTypeDefinition","ScalarTypeDefinition"];switch(opts.parser){case"flow":case"babel":case"typescript":return-1<jsSourceElements.indexOf(node.type);case"json":return-1<jsonSourceElements.indexOf(node.type);case"graphql":return-1<graphqlSourceElements.indexOf(node.kind);case"vue":return"root"!==node.tag;}return!1}function calculateRange(text,opts,ast){var rangeStringOrig=text.slice(opts.rangeStart,opts.rangeEnd),startNonWhitespace=_Mathmax(opts.rangeStart+rangeStringOrig.search(/\S/),opts.rangeStart),endNonWhitespace;for(endNonWhitespace=opts.rangeEnd;endNonWhitespace>opts.rangeStart;--endNonWhitespace){if(text[endNonWhitespace-1].match(/\S/)){break}}var startNodeAndParents=findNodeAtOffset(ast,startNonWhitespace,opts,function(node){return isSourceElement(opts,node)}),endNodeAndParents=findNodeAtOffset(ast,endNonWhitespace,opts,function(node){return isSourceElement(opts,node)});if(!startNodeAndParents||!endNodeAndParents){return{rangeStart:0,rangeEnd:0}}var siblingAncestors=findSiblingAncestors(startNodeAndParents,endNodeAndParents,opts),startNode=siblingAncestors.startNode,endNode=siblingAncestors.endNode,rangeStart=_Mathmin(opts.locStart(startNode,opts.locStart),opts.locStart(endNode,opts.locStart)),rangeEnd=_Mathmax(opts.locEnd(startNode,opts.locEnd),opts.locEnd(endNode,opts.locEnd));return{rangeStart:rangeStart,rangeEnd:rangeEnd}}var rangeUtil={calculateRange:calculateRange,findNodeAtOffset:findNodeAtOffset},normalizeOptions=options.normalize,guessEndOfLine=endOfLine.guessEndOfLine,convertEndOfLineToChars=endOfLine.convertEndOfLineToChars,mapDoc=doc.utils.mapDoc,_printDocToString=doc.printer.printDocToString,printDocToDebug=doc.debug.printDocToDebug,UTF8BOM=65279,CURSOR=Symbol("cursor"),PLACEHOLDERS={cursorOffset:"<<<PRETTIER_CURSOR>>>",rangeStart:"<<<PRETTIER_RANGE_START>>>",rangeEnd:"<<<PRETTIER_RANGE_END>>>"};function ensureAllCommentsPrinted(astComments){if(!astComments){return}for(var i=0;i<astComments.length;++i){if("prettier-ignore"===astComments[i].value.trim()){return}}astComments.forEach(function(comment){if(!comment.printed){throw new Error("Comment \""+comment.value.trim()+"\" was not printed. Please report this error!")}delete comment.printed})}function attachComments(text,ast,opts){var astComments=ast.comments;if(astComments){delete ast.comments;comments.attach(astComments,ast,text,opts)}ast.tokens=[];opts.originalText="yaml"===opts.parser?text:text.trimRight();return astComments}function coreFormat(text,opts,addAlignmentSize){if(!text||!text.trim().length){return{formatted:"",cursorOffset:0}}addAlignmentSize=addAlignmentSize||0;var parsed=parser.parse(text,opts),ast=parsed.ast;text=parsed.text;if(0<=opts.cursorOffset){var nodeResult=rangeUtil.findNodeAtOffset(ast,opts.cursorOffset,opts);if(nodeResult&&nodeResult.node){opts.cursorNode=nodeResult.node}}var astComments=attachComments(text,ast,opts),doc$$1=astToDoc(ast,opts,addAlignmentSize),eol=convertEndOfLineToChars(opts.endOfLine),result=_printDocToString("lf"===opts.endOfLine?doc$$1:mapDoc(doc$$1,function(currentDoc){return"string"===typeof currentDoc&&-1!==currentDoc.indexOf("\n")?currentDoc.replace(/\n/g,eol):currentDoc}),opts);ensureAllCommentsPrinted(astComments);if(0<addAlignmentSize){var trimmed=result.formatted.trim();if(result.cursorNodeStart!==void 0){result.cursorNodeStart-=result.formatted.indexOf(trimmed)}result.formatted=trimmed+convertEndOfLineToChars(opts.endOfLine)}if(0<=opts.cursorOffset){var oldCursorNodeStart,oldCursorNodeText,cursorOffsetRelativeToOldCursorNode,newCursorNodeStart,newCursorNodeText;if(opts.cursorNode&&result.cursorNodeText){oldCursorNodeStart=opts.locStart(opts.cursorNode);oldCursorNodeText=text.slice(oldCursorNodeStart,opts.locEnd(opts.cursorNode));cursorOffsetRelativeToOldCursorNode=opts.cursorOffset-oldCursorNodeStart;newCursorNodeStart=result.cursorNodeStart;newCursorNodeText=result.cursorNodeText}else{oldCursorNodeStart=0;oldCursorNodeText=text;cursorOffsetRelativeToOldCursorNode=opts.cursorOffset;newCursorNodeStart=0;newCursorNodeText=result.formatted}if(oldCursorNodeText===newCursorNodeText){return{formatted:result.formatted,cursorOffset:newCursorNodeStart+cursorOffsetRelativeToOldCursorNode}}var oldCursorNodeCharArray=oldCursorNodeText.split("");oldCursorNodeCharArray.splice(cursorOffsetRelativeToOldCursorNode,0,CURSOR);var newCursorNodeCharArray=newCursorNodeText.split(""),cursorNodeDiff=lib.diffArrays(oldCursorNodeCharArray,newCursorNodeCharArray),cursorOffset=newCursorNodeStart,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=cursorNodeDiff[Symbol.iterator](),_step,entry;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){entry=_step.value;if(entry.removed){if(-1<entry.value.indexOf(CURSOR)){break}}else{cursorOffset+=entry.count}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return{formatted:result.formatted,cursorOffset:cursorOffset}}return{formatted:result.formatted}}function formatRange(text,opts){var parsed=parser.parse(text,opts),ast=parsed.ast;text=parsed.text;var range=rangeUtil.calculateRange(text,opts,ast),rangeStart=range.rangeStart,rangeEnd=range.rangeEnd,rangeString=text.slice(rangeStart,rangeEnd),rangeStart2=_Mathmin(rangeStart,text.lastIndexOf("\n",rangeStart)+1),indentString=text.slice(rangeStart2,rangeStart),alignmentSize=util.getAlignmentSize(indentString,opts.tabWidth),rangeResult=coreFormat(rangeString,Object.assign({},opts,{rangeStart:0,rangeEnd:1/0,printWidth:opts.printWidth-alignmentSize,cursorOffset:opts.cursorOffset>=rangeStart&&opts.cursorOffset<rangeEnd?opts.cursorOffset-rangeStart:-1}),alignmentSize),rangeTrimmed=rangeResult.formatted.trimRight(),rangeLeft=text.slice(0,rangeStart),rangeRight=text.slice(rangeEnd),cursorOffset=opts.cursorOffset;if(opts.cursorOffset>=rangeEnd){cursorOffset=opts.cursorOffset-rangeEnd+(rangeStart+rangeTrimmed.length)}else if(rangeResult.cursorOffset!==void 0){cursorOffset=rangeResult.cursorOffset+rangeStart}var formatted;if("lf"===opts.endOfLine){formatted=rangeLeft+rangeTrimmed+rangeRight}else{var eol=convertEndOfLineToChars(opts.endOfLine);if(0<=cursorOffset){var parts=[rangeLeft,rangeTrimmed,rangeRight],partIndex=0,partOffset=cursorOffset;while(partIndex<parts.length){var part=parts[partIndex];if(partOffset<part.length){parts[partIndex]=parts[partIndex].slice(0,partOffset)+PLACEHOLDERS.cursorOffset+parts[partIndex].slice(partOffset);break}partIndex++;partOffset-=part.length}var newRangeLeft=parts[0],newRangeTrimmed=parts[1],newRangeRight=parts[2];formatted=(newRangeLeft.replace(/\n/g,eol)+newRangeTrimmed+newRangeRight.replace(/\n/g,eol)).replace(PLACEHOLDERS.cursorOffset,function(_,index){cursorOffset=index;return""})}else{formatted=rangeLeft.replace(/\n/g,eol)+rangeTrimmed+rangeRight.replace(/\n/g,eol)}}return{formatted:formatted,cursorOffset:cursorOffset}}function format(text,opts){var selectedParser=parser.resolveParser(opts),hasPragma=!selectedParser.hasPragma||selectedParser.hasPragma(text);if(opts.requirePragma&&!hasPragma){return{formatted:text}}if("auto"===opts.endOfLine){opts.endOfLine=guessEndOfLine(text)}var hasCursor=0<=opts.cursorOffset,hasRangeStart=0<opts.rangeStart,hasRangeEnd=opts.rangeEnd<text.length;if(-1!==text.indexOf("\r")){for(var offsetKeys=[hasCursor&&"cursorOffset",hasRangeStart&&"rangeStart",hasRangeEnd&&"rangeEnd"].filter(Boolean).sort(function(aKey,bKey){return opts[aKey]-opts[bKey]}),i=offsetKeys.length-1,key;0<=i;i--){key=offsetKeys[i];text=text.slice(0,opts[key])+PLACEHOLDERS[key]+text.slice(opts[key])}text=text.replace(/\r\n?/g,"\n");for(var _loop=function _loop(_i){var key=offsetKeys[_i];text=text.replace(PLACEHOLDERS[key],function(_,index){opts[key]=index;return""})},_i=0;_i<offsetKeys.length;_i++){_loop(_i)}}var hasUnicodeBOM=text.charCodeAt(0)===UTF8BOM;if(hasUnicodeBOM){text=text.substring(1);if(hasCursor){opts.cursorOffset++}if(hasRangeStart){opts.rangeStart++}if(hasRangeEnd){opts.rangeEnd++}}if(!hasCursor){opts.cursorOffset=-1}if(0>opts.rangeStart){opts.rangeStart=0}if(opts.rangeEnd>text.length){opts.rangeEnd=text.length}var result=hasRangeStart||hasRangeEnd?formatRange(text,opts):coreFormat(opts.insertPragma&&opts.printer.insertPragma&&!hasPragma?opts.printer.insertPragma(text):text,opts);if(hasUnicodeBOM){result.formatted="\uFEFF"+result.formatted;if(hasCursor){result.cursorOffset++}}return result}var core={formatWithCursor:function formatWithCursor(text,opts){opts=normalizeOptions(opts);return format(text,opts)},parse:function parse(text,opts,massage){opts=normalizeOptions(opts);if(-1!==text.indexOf("\r")){text=text.replace(/\r\n?/g,"\n")}var parsed=parser.parse(text,opts);if(massage){parsed.ast=massageAst(parsed.ast,opts)}return parsed},formatAST:function formatAST(ast,opts){opts=normalizeOptions(opts);var doc$$1=astToDoc(ast,opts);return _printDocToString(doc$$1,opts)},formatDoc:function formatDoc(doc$$1,opts){var debug=printDocToDebug(doc$$1);opts=normalizeOptions(Object.assign({},opts,{parser:"babel"}));return format(debug,opts).formatted},printToDoc:function printToDoc(text,opts){opts=normalizeOptions(opts);var parsed=parser.parse(text,opts),ast=parsed.ast;text=parsed.text;attachComments(text,ast,opts);return astToDoc(ast,opts)},printDocToString:function printDocToString(doc$$1,opts){return _printDocToString(doc$$1,normalizeOptions(opts))}},index$11=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],htmlTagNames=Object.freeze({default:index$11}),htmlTagNames$1=htmlTagNames&&index$11||htmlTagNames;function clean(ast,newObj,parent){["raw","raws","sourceIndex","source","before","after","trailingComma"].forEach(function(name){delete newObj[name]});if("yaml"===ast.type){delete newObj.value}if("css-comment"===ast.type&&"css-root"===parent.type&&0!==parent.nodes.length&&(parent.nodes[0]===ast||("yaml"===parent.nodes[0].type||"toml"===parent.nodes[0].type)&&parent.nodes[1]===ast)){delete newObj.text;if(/^\*\s*@(format|prettier)\s*$/.test(ast.text)){return null}}if("media-query"===ast.type||"media-query-list"===ast.type||"media-feature-expression"===ast.type){delete newObj.value}if("css-rule"===ast.type){delete newObj.params}if("selector-combinator"===ast.type){newObj.value=newObj.value.replace(/\s+/g," ")}if("media-feature"===ast.type){newObj.value=newObj.value.replace(/ /g,"")}if("value-word"===ast.type&&(ast.isColor&&ast.isHex||-1!==["initial","inherit","unset","revert"].indexOf(newObj.value.replace().toLowerCase()))||"media-feature"===ast.type||"selector-root-invalid"===ast.type||"selector-pseudo"===ast.type){newObj.value=newObj.value.toLowerCase()}if("css-decl"===ast.type){newObj.prop=newObj.prop.toLowerCase()}if("css-atrule"===ast.type||"css-import"===ast.type){newObj.name=newObj.name.toLowerCase()}if("value-number"===ast.type){newObj.unit=newObj.unit.toLowerCase()}if(("media-feature"===ast.type||"media-keyword"===ast.type||"media-type"===ast.type||"media-unknown"===ast.type||"media-url"===ast.type||"media-value"===ast.type||"selector-attribute"===ast.type||"selector-string"===ast.type||"selector-class"===ast.type||"selector-combinator"===ast.type||"value-string"===ast.type)&&newObj.value){newObj.value=cleanCSSStrings(newObj.value)}if("selector-attribute"===ast.type){newObj.attribute=newObj.attribute.trim();if(newObj.namespace){if("string"===typeof newObj.namespace){newObj.namespace=newObj.namespace.trim();if(0===newObj.namespace.length){newObj.namespace=!0}}}if(newObj.value){newObj.value=newObj.value.trim().replace(/^['"]|['"]$/g,"");delete newObj.quoted}}if(("media-value"===ast.type||"media-type"===ast.type||"value-number"===ast.type||"selector-root-invalid"===ast.type||"selector-class"===ast.type||"selector-combinator"===ast.type||"selector-tag"===ast.type)&&newObj.value){newObj.value=newObj.value.replace(/([\d.eE+-]+)([a-zA-Z]*)/g,function(match,numStr,unit){var num=+numStr;return isNaN(num)?match:num+unit.toLowerCase()})}if("selector-tag"===ast.type){var lowercasedValue=ast.value.toLowerCase();if(-1!==htmlTagNames$1.indexOf(lowercasedValue)){newObj.value=lowercasedValue}if(-1!==["from","to"].indexOf(lowercasedValue)){newObj.value=lowercasedValue}}if("css-atrule"===ast.type&&"supports"===ast.name.toLowerCase()){delete newObj.value}if("selector-unknown"===ast.type){delete newObj.value}}function cleanCSSStrings(value){return value.replace(/'/g,"\"").replace(/\\([^a-fA-F\d])/g,"$1")}var clean_1=clean,_require$$0$builders$1=doc.builders,hardline$4=_require$$0$builders$1.hardline,literalline$1=_require$$0$builders$1.literalline,concat$5=_require$$0$builders$1.concat,markAsRoot$1=_require$$0$builders$1.markAsRoot,mapDoc$3=doc.utils.mapDoc;function embed(path,print,textToDoc){var node=path.getValue();if("yaml"===node.type){return markAsRoot$1(concat$5(["---",hardline$4,node.value.trim()?replaceNewlinesWithLiterallines(textToDoc(node.value,{parser:"yaml"})):"","---",hardline$4]))}return null;function replaceNewlinesWithLiterallines(doc$$2){return mapDoc$3(doc$$2,function(currentDoc){return"string"===typeof currentDoc&&currentDoc.includes("\n")?concat$5(currentDoc.split(/(\n)/g).map(function(v,i){return 0===i%2?v:literalline$1})):currentDoc})}}var embed_1=embed,detectNewline=createCommonjsModule(function(module){'use strict';module.exports=function(str){if("string"!==typeof str){throw new TypeError("Expected a string")}var newlines=str.match(/(?:\r?\n)/g)||[];if(0===newlines.length){return null}var crlf=newlines.filter(function(el){return"\r\n"===el}).length,lf=newlines.length-crlf;return crlf>lf?"\r\n":"\n"};module.exports.graceful=function(str){return module.exports(str)||"\n"}}),build$1=createCommonjsModule(function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:!0});exports.extract=extract;exports.strip=strip;exports.parse=parse;exports.parseWithComments=parseWithComments;exports.print=print;var _detectNewline;function _load_detectNewline(){return _detectNewline=_interopRequireDefault(detectNewline)}var _os;function _load_os(){return _os=require$$1$1}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var commentEndRe=/\*\/$/,commentStartRe=/^\/\*\*/,docblockRe=/^\s*(\/\*\*?(.|\r?\n)*?\*\/)/,lineCommentRe=/(^|\s+)\/\/([^\r\n]*)/g,ltrimNewlineRe=/^(\r?\n)+/,multilineRe=/(?:^|\r?\n) *(@[^\r\n]*?) *\r?\n *(?![^@\r\n]*\/\/[^]*)([^@\r\n\s][^@\r\n]+?) *\r?\n/g,propertyRe=/(?:^|\r?\n) *@(\S+) *([^\r\n]*)/g,stringStartRe=/(\r?\n|^) *\* ?/g;function extract(contents){var match=contents.match(docblockRe);return match?match[0].trimLeft():""}function strip(contents){var match=contents.match(docblockRe);return match&&match[0]?contents.substring(match[0].length):contents}function parse(docblock){return parseWithComments(docblock).pragmas}function parseWithComments(docblock){var line=(0,(_detectNewline||_load_detectNewline()).default)(docblock)||(_os||_load_os()).EOL;docblock=docblock.replace(commentStartRe,"").replace(commentEndRe,"").replace(stringStartRe,"$1");var prev="";while(prev!==docblock){prev=docblock;docblock=docblock.replace(multilineRe,"".concat(line,"$1 $2").concat(line))}docblock=docblock.replace(ltrimNewlineRe,"").trimRight();var result=Object.create(null),comments=docblock.replace(propertyRe,"").replace(ltrimNewlineRe,"").trimRight(),match;while(match=propertyRe.exec(docblock)){var nextPragma=match[2].replace(lineCommentRe,"");if("string"===typeof result[match[1]]||Array.isArray(result[match[1]])){result[match[1]]=[].concat(result[match[1]],nextPragma)}else{result[match[1]]=nextPragma}}return{comments:comments,pragmas:result}}function print(_ref){var _ref$comments=_ref.comments,comments=_ref$comments===void 0?"":_ref$comments,_ref$pragmas=_ref.pragmas,pragmas=_ref$pragmas===void 0?{}:_ref$pragmas,line=(0,(_detectNewline||_load_detectNewline()).default)(comments)||(_os||_load_os()).EOL,head="/**",start=" *",tail=" */",keys=Object.keys(pragmas),printedObject=keys.map(function(key){return printKeyValues(key,pragmas[key])}).reduce(function(arr,next){return arr.concat(next)},[]).map(function(keyValue){return start+" "+keyValue+line}).join("");if(!comments){if(0===keys.length){return""}if(1===keys.length&&!Array.isArray(pragmas[keys[0]])){var value=pragmas[keys[0]];return"".concat(head," ").concat(printKeyValues(keys[0],value)[0]).concat(tail)}}var printedComments=comments.split(line).map(function(textLine){return"".concat(start," ").concat(textLine)}).join(line)+line;return head+line+(comments?printedComments:"")+(comments&&keys.length?start+line:"")+printedObject+tail}function printKeyValues(key,valueOrArray){return[].concat(valueOrArray).map(function(value){return"@".concat(key," ").concat(value).trim()})}});unwrapExports(build$1);function hasPragma$1(text){var pragmas=Object.keys(build$1.parse(build$1.extract(text)));return-1!==pragmas.indexOf("prettier")||-1!==pragmas.indexOf("format")}function insertPragma$2(text){var parsedDocblock=build$1.parseWithComments(build$1.extract(text)),pragmas=Object.assign({format:""},parsedDocblock.pragmas),newDocblock=build$1.print({pragmas:pragmas,comments:parsedDocblock.comments.replace(/^(\s+?\r?\n)+/,"")}).replace(/(\r\n|\r)/g,"\n"),strippedText=build$1.strip(text),separatingNewlines=strippedText.startsWith("\n")?"\n":"\n\n";return newDocblock+separatingNewlines+strippedText}var pragma$2={hasPragma:hasPragma$1,insertPragma:insertPragma$2},DELIMITER_MAP={"---":"yaml","+++":"toml"};function parse$3(text){var delimiterRegex=Object.keys(DELIMITER_MAP).map(escapeStringRegexp).join("|"),match=text.match(new RegExp("^(".concat(delimiterRegex,")[^\\n\\S]*\\n(?:([\\s\\S]*?)\\n)?\\1[^\\n\\S]*(\\n|$)")));if(null===match){return{frontMatter:null,content:text}}var raw=match[0].replace(/\n$/,""),delimiter=match[1],value=match[2];return{frontMatter:{type:DELIMITER_MAP[delimiter],value:value,raw:raw},content:match[0].replace(/[^\n]/g," ")+text.slice(match[0].length)}}var frontMatter=parse$3;function hasPragma(text){return pragma$2.hasPragma(frontMatter(text).content)}function insertPragma$1(text){var _parseFrontMatter=frontMatter(text),frontMatter$$1=_parseFrontMatter.frontMatter,content=_parseFrontMatter.content;return(frontMatter$$1?frontMatter$$1.raw+"\n\n":"")+pragma$2.insertPragma(content)}var pragma={hasPragma:hasPragma,insertPragma:insertPragma$1},colorAdjusterFunctions=["red","green","blue","alpha","a","rgb","hue","h","saturation","s","lightness","l","whiteness","w","blackness","b","tint","shade","blend","blenda","contrast","hsl","hsla","hwb","hwba"];function getAncestorCounter(path,typeOrTypes){var types=[].concat(typeOrTypes),counter=-1,ancestorNode;while(ancestorNode=path.getParentNode(++counter)){if(-1!==types.indexOf(ancestorNode.type)){return counter}}return-1}function getAncestorNode$1(path,typeOrTypes){var counter=getAncestorCounter(path,typeOrTypes);return-1===counter?null:path.getParentNode(counter)}function getPropOfDeclNode$1(path){var declAncestorNode=getAncestorNode$1(path,"css-decl");return declAncestorNode&&declAncestorNode.prop&&declAncestorNode.prop.toLowerCase()}function isSCSS$1(parser,text){var hasExplicitParserChoice="less"===parser||"scss"===parser,IS_POSSIBLY_SCSS=/(\w\s*: [^}:]+|#){|@import[^\n]+(url|,)/;return hasExplicitParserChoice?"scss"===parser:IS_POSSIBLY_SCSS.test(text)}function isWideKeywords$1(value){return-1!==["initial","inherit","unset","revert"].indexOf(value.toLowerCase())}function isKeyframeAtRuleKeywords$1(path,value){var atRuleAncestorNode=getAncestorNode$1(path,"css-atrule");return atRuleAncestorNode&&atRuleAncestorNode.name&&atRuleAncestorNode.name.toLowerCase().endsWith("keyframes")&&-1!==["from","to"].indexOf(value.toLowerCase())}function maybeToLowerCase$1(value){return value.includes("$")||value.includes("@")||value.includes("#")||value.startsWith("%")||value.startsWith("--")||value.startsWith(":--")||value.includes("(")&&value.includes(")")?value:value.toLowerCase()}function insideValueFunctionNode$1(path,functionName){var funcAncestorNode=getAncestorNode$1(path,"value-func");return funcAncestorNode&&funcAncestorNode.value&&funcAncestorNode.value.toLowerCase()===functionName}function insideICSSRuleNode$1(path){var ruleAncestorNode=getAncestorNode$1(path,"css-rule");return ruleAncestorNode&&ruleAncestorNode.raws&&ruleAncestorNode.raws.selector&&(ruleAncestorNode.raws.selector.startsWith(":import")||ruleAncestorNode.raws.selector.startsWith(":export"))}function insideAtRuleNode$1(path,atRuleNameOrAtRuleNames){var atRuleNames=[].concat(atRuleNameOrAtRuleNames),atRuleAncestorNode=getAncestorNode$1(path,"css-atrule");return atRuleAncestorNode&&-1!==atRuleNames.indexOf(atRuleAncestorNode.name.toLowerCase())}function insideURLFunctionInImportAtRuleNode$1(path){var node=path.getValue(),atRuleAncestorNode=getAncestorNode$1(path,"css-atrule");return atRuleAncestorNode&&"import"===atRuleAncestorNode.name&&"url"===node.groups[0].value&&2===node.groups.length}function isURLFunctionNode$1(node){return"value-func"===node.type&&"url"===node.value.toLowerCase()}function isLastNode$1(path,node){var parentNode=path.getParentNode();if(!parentNode){return!1}var nodes=parentNode.nodes;return nodes&&nodes.indexOf(node)===nodes.length-1}function isHTMLTag$1(value){return-1!==htmlTagNames$1.indexOf(value.toLowerCase())}function isDetachedRulesetDeclarationNode$1(node){if(!node.selector){return!1}return"string"===typeof node.selector&&/^@.+:.*$/.test(node.selector)||node.selector.value&&/^@.+:.*$/.test(node.selector.value)}function isForKeywordNode$1(node){return"value-word"===node.type&&-1!==["from","through","end"].indexOf(node.value)}function isIfElseKeywordNode$1(node){return"value-word"===node.type&&-1!==["and","or","not"].indexOf(node.value)}function isEachKeywordNode$1(node){return"value-word"===node.type&&"in"===node.value}function isMultiplicationNode$1(node){return"value-operator"===node.type&&"*"===node.value}function isDivisionNode$1(node){return"value-operator"===node.type&&"/"===node.value}function isAdditionNode$1(node){return"value-operator"===node.type&&"+"===node.value}function isSubtractionNode$1(node){return"value-operator"===node.type&&"-"===node.value}function isModuloNode(node){return"value-operator"===node.type&&"%"===node.value}function isMathOperatorNode$1(node){return isMultiplicationNode$1(node)||isDivisionNode$1(node)||isAdditionNode$1(node)||isSubtractionNode$1(node)||isModuloNode(node)}function isEqualityOperatorNode$1(node){return"value-word"===node.type&&-1!==["==","!="].indexOf(node.value)}function isRelationalOperatorNode$1(node){return"value-word"===node.type&&-1!==["<",">","<=",">="].indexOf(node.value)}function isSCSSControlDirectiveNode$1(node){return"css-atrule"===node.type&&-1!==["if","else","for","each","while"].indexOf(node.name)}function isSCSSNestedPropertyNode(node){if(!node.selector){return!1}return node.selector.replace(/\/\*.*?\*\//,"").replace(/\/\/.*?\n/,"").trim().endsWith(":")}function isDetachedRulesetCallNode$1(node){return node.raws&&node.raws.params&&/^\(\s*\)$/.test(node.raws.params)}function isTemplatePlaceholderNode$1(node){return node.name.startsWith("prettier-placeholder")}function isTemplatePropNode$1(node){return node.prop.startsWith("@prettier-placeholder")}function isPostcssSimpleVarNode$1(currentNode,nextNode){return"$$"===currentNode.value&&"value-func"===currentNode.type&&nextNode&&"value-word"===nextNode.type&&!nextNode.raws.before}function hasComposesNode$1(node){return node.value&&"value-root"===node.value.type&&node.value.group&&"value-value"===node.value.group.type&&"composes"===node.prop.toLowerCase()}function hasParensAroundNode$1(node){return node.value&&node.value.group&&node.value.group.group&&"value-paren_group"===node.value.group.group.type&&null!==node.value.group.group.open&&null!==node.value.group.group.close}function hasEmptyRawBefore$1(node){return node.raws&&""===node.raws.before}function isKeyValuePairNode$1(node){return"value-comma_group"===node.type&&node.groups&&node.groups[1]&&"value-colon"===node.groups[1].type}function isKeyValuePairInParenGroupNode(node){return"value-paren_group"===node.type&&node.groups&&node.groups[0]&&isKeyValuePairNode$1(node.groups[0])}function isSCSSMapItemNode$1(path){var node=path.getValue();if(0===node.groups.length){return!1}var parentParentNode=path.getParentNode(1);if(!isKeyValuePairInParenGroupNode(node)&&!(parentParentNode&&isKeyValuePairInParenGroupNode(parentParentNode))){return!1}var declNode=getAncestorNode$1(path,"css-decl");if(declNode&&declNode.prop&&declNode.prop.startsWith("$")){return!0}if(isKeyValuePairInParenGroupNode(parentParentNode)){return!0}if("value-func"===parentParentNode.type){return!0}return!1}function isInlineValueCommentNode$1(node){return"value-comment"===node.type&&node.inline}function isHashNode$1(node){return"value-word"===node.type&&"#"===node.value}function isLeftCurlyBraceNode$1(node){return"value-word"===node.type&&"{"===node.value}function isRightCurlyBraceNode$1(node){return"value-word"===node.type&&"}"===node.value}function isWordNode$1(node){return-1!==["value-word","value-atword"].indexOf(node.type)}function isColonNode$1(node){return"value-colon"===node.type}function isMediaAndSupportsKeywords$1(node){return node.value&&-1!==["not","and","or"].indexOf(node.value.toLowerCase())}function isColorAdjusterFuncNode$1(node){if("value-func"!==node.type){return!1}return-1!==colorAdjusterFunctions.indexOf(node.value.toLowerCase())}var utils$4={getAncestorCounter:getAncestorCounter,getAncestorNode:getAncestorNode$1,getPropOfDeclNode:getPropOfDeclNode$1,maybeToLowerCase:maybeToLowerCase$1,insideValueFunctionNode:insideValueFunctionNode$1,insideICSSRuleNode:insideICSSRuleNode$1,insideAtRuleNode:insideAtRuleNode$1,insideURLFunctionInImportAtRuleNode:insideURLFunctionInImportAtRuleNode$1,isKeyframeAtRuleKeywords:isKeyframeAtRuleKeywords$1,isHTMLTag:isHTMLTag$1,isWideKeywords:isWideKeywords$1,isSCSS:isSCSS$1,isLastNode:isLastNode$1,isSCSSControlDirectiveNode:isSCSSControlDirectiveNode$1,isDetachedRulesetDeclarationNode:isDetachedRulesetDeclarationNode$1,isRelationalOperatorNode:isRelationalOperatorNode$1,isEqualityOperatorNode:isEqualityOperatorNode$1,isMultiplicationNode:isMultiplicationNode$1,isDivisionNode:isDivisionNode$1,isAdditionNode:isAdditionNode$1,isSubtractionNode:isSubtractionNode$1,isModuloNode:isModuloNode,isMathOperatorNode:isMathOperatorNode$1,isEachKeywordNode:isEachKeywordNode$1,isForKeywordNode:isForKeywordNode$1,isURLFunctionNode:isURLFunctionNode$1,isIfElseKeywordNode:isIfElseKeywordNode$1,hasComposesNode:hasComposesNode$1,hasParensAroundNode:hasParensAroundNode$1,hasEmptyRawBefore:hasEmptyRawBefore$1,isSCSSNestedPropertyNode:isSCSSNestedPropertyNode,isDetachedRulesetCallNode:isDetachedRulesetCallNode$1,isTemplatePlaceholderNode:isTemplatePlaceholderNode$1,isTemplatePropNode:isTemplatePropNode$1,isPostcssSimpleVarNode:isPostcssSimpleVarNode$1,isKeyValuePairNode:isKeyValuePairNode$1,isKeyValuePairInParenGroupNode:isKeyValuePairInParenGroupNode,isSCSSMapItemNode:isSCSSMapItemNode$1,isInlineValueCommentNode:isInlineValueCommentNode$1,isHashNode:isHashNode$1,isLeftCurlyBraceNode:isLeftCurlyBraceNode$1,isRightCurlyBraceNode:isRightCurlyBraceNode$1,isWordNode:isWordNode$1,isColonNode:isColonNode$1,isMediaAndSupportsKeywords:isMediaAndSupportsKeywords$1,isColorAdjusterFuncNode:isColorAdjusterFuncNode$1},insertPragma=pragma.insertPragma,printNumber$1=util.printNumber,printString$1=util.printString,hasIgnoreComment$1=util.hasIgnoreComment,hasNewline$2=util.hasNewline,isNextLineEmpty$2=utilShared.isNextLineEmpty,_require$$3$builders=doc.builders,concat$4=_require$$3$builders.concat,join$2=_require$$3$builders.join,line$3=_require$$3$builders.line,hardline$3=_require$$3$builders.hardline,softline$1=_require$$3$builders.softline,group$1=_require$$3$builders.group,fill$2=_require$$3$builders.fill,indent$2=_require$$3$builders.indent,dedent$2=_require$$3$builders.dedent,ifBreak$1=_require$$3$builders.ifBreak,removeLines$1=doc.utils.removeLines,getAncestorNode=utils$4.getAncestorNode,getPropOfDeclNode=utils$4.getPropOfDeclNode,maybeToLowerCase=utils$4.maybeToLowerCase,insideValueFunctionNode=utils$4.insideValueFunctionNode,insideICSSRuleNode=utils$4.insideICSSRuleNode,insideAtRuleNode=utils$4.insideAtRuleNode,insideURLFunctionInImportAtRuleNode=utils$4.insideURLFunctionInImportAtRuleNode,isKeyframeAtRuleKeywords=utils$4.isKeyframeAtRuleKeywords,isHTMLTag=utils$4.isHTMLTag,isWideKeywords=utils$4.isWideKeywords,isSCSS=utils$4.isSCSS,isLastNode=utils$4.isLastNode,isSCSSControlDirectiveNode=utils$4.isSCSSControlDirectiveNode,isDetachedRulesetDeclarationNode=utils$4.isDetachedRulesetDeclarationNode,isRelationalOperatorNode=utils$4.isRelationalOperatorNode,isEqualityOperatorNode=utils$4.isEqualityOperatorNode,isMultiplicationNode=utils$4.isMultiplicationNode,isDivisionNode=utils$4.isDivisionNode,isAdditionNode=utils$4.isAdditionNode,isSubtractionNode=utils$4.isSubtractionNode,isMathOperatorNode=utils$4.isMathOperatorNode,isEachKeywordNode=utils$4.isEachKeywordNode,isForKeywordNode=utils$4.isForKeywordNode,isURLFunctionNode=utils$4.isURLFunctionNode,isIfElseKeywordNode=utils$4.isIfElseKeywordNode,hasComposesNode=utils$4.hasComposesNode,hasParensAroundNode=utils$4.hasParensAroundNode,hasEmptyRawBefore=utils$4.hasEmptyRawBefore,isKeyValuePairNode=utils$4.isKeyValuePairNode,isDetachedRulesetCallNode=utils$4.isDetachedRulesetCallNode,isTemplatePlaceholderNode=utils$4.isTemplatePlaceholderNode,isTemplatePropNode=utils$4.isTemplatePropNode,isPostcssSimpleVarNode=utils$4.isPostcssSimpleVarNode,isSCSSMapItemNode=utils$4.isSCSSMapItemNode,isInlineValueCommentNode=utils$4.isInlineValueCommentNode,isHashNode=utils$4.isHashNode,isLeftCurlyBraceNode=utils$4.isLeftCurlyBraceNode,isRightCurlyBraceNode=utils$4.isRightCurlyBraceNode,isWordNode=utils$4.isWordNode,isColonNode=utils$4.isColonNode,isMediaAndSupportsKeywords=utils$4.isMediaAndSupportsKeywords,isColorAdjusterFuncNode=utils$4.isColorAdjusterFuncNode;function shouldPrintComma(options){switch(options.trailingComma){case"all":case"es5":return!0;case"none":default:return!1;}}function genericPrint(path,options,print){var node=path.getValue();if(!node){return""}if("string"===typeof node){return node}switch(node.type){case"yaml":case"toml":return concat$4([node.raw,hardline$3]);case"css-root":{var nodes=printNodeSequence(path,options,print);if(nodes.parts.length){return concat$4([nodes,hardline$3])}return nodes}case"css-comment":{if(node.raws.content){return node.raws.content}var text=options.originalText.slice(options.locStart(node),options.locEnd(node)),rawText=node.raws.text||node.text;if(-1===text.indexOf(rawText)){if(node.raws.inline){return concat$4(["// ",rawText])}return concat$4(["/* ",rawText," */"])}return text}case"css-rule":{return concat$4([path.call(print,"selector"),node.important?" !important":"",node.nodes?concat$4([" {",0<node.nodes.length?indent$2(concat$4([hardline$3,printNodeSequence(path,options,print)])):"",hardline$3,"}",isDetachedRulesetDeclarationNode(node)?";":""]):";"])}case"css-decl":{var parentNode=path.getParentNode();return concat$4([node.raws.before.replace(/[\s;]/g,""),insideICSSRuleNode(path)?node.prop:maybeToLowerCase(node.prop),":"===node.raws.between.trim()?":":node.raws.between.trim(),node.extend?"":" ",hasComposesNode(node)?removeLines$1(path.call(print,"value")):path.call(print,"value"),node.raws.important?node.raws.important.replace(/\s*!\s*important/i," !important"):node.important?" !important":"",node.raws.scssDefault?node.raws.scssDefault.replace(/\s*!default/i," !default"):node.scssDefault?" !default":"",node.raws.scssGlobal?node.raws.scssGlobal.replace(/\s*!global/i," !global"):node.scssGlobal?" !global":"",node.nodes?concat$4([" {",indent$2(concat$4([softline$1,printNodeSequence(path,options,print)])),softline$1,"}"]):isTemplatePropNode(node)&&!parentNode.raws.semicolon&&";"!==options.originalText[options.locEnd(node)-1]?"":";"])}case"css-atrule":{var _parentNode=path.getParentNode();return concat$4(["@",isDetachedRulesetCallNode(node)||node.name.endsWith(":")?node.name:maybeToLowerCase(node.name),node.params?concat$4([isDetachedRulesetCallNode(node)?"":isTemplatePlaceholderNode(node)&&/^\s*\n/.test(node.raws.afterName)?/^\s*\n\s*\n/.test(node.raws.afterName)?concat$4([hardline$3,hardline$3]):hardline$3:" ",path.call(print,"params")]):"",node.selector?indent$2(concat$4([" ",path.call(print,"selector")])):"",node.value?group$1(concat$4([" ",path.call(print,"value"),isSCSSControlDirectiveNode(node)?hasParensAroundNode(node)?" ":line$3:""])):"else"===node.name?" ":"",node.nodes?concat$4([isSCSSControlDirectiveNode(node)?"":" ","{",indent$2(concat$4([0<node.nodes.length?softline$1:"",printNodeSequence(path,options,print)])),softline$1,"}"]):isTemplatePlaceholderNode(node)&&!_parentNode.raws.semicolon&&";"!==options.originalText[options.locEnd(node)-1]?"":";"])}case"media-query-list":{var parts=[];path.each(function(childPath){var node=childPath.getValue();if("media-query"===node.type&&""===node.value){return}parts.push(childPath.call(print))},"nodes");return group$1(indent$2(join$2(line$3,parts)))}case"media-query":{return concat$4([join$2(" ",path.map(print,"nodes")),isLastNode(path,node)?"":","])}case"media-type":{return adjustNumbers(adjustStrings(node.value,options))}case"media-feature-expression":{if(!node.nodes){return node.value}return concat$4(["(",concat$4(path.map(print,"nodes")),")"])}case"media-feature":{return maybeToLowerCase(adjustStrings(node.value.replace(/ +/g," "),options))}case"media-colon":{return concat$4([node.value," "])}case"media-value":{return adjustNumbers(adjustStrings(node.value,options))}case"media-keyword":{return adjustStrings(node.value,options)}case"media-url":{return adjustStrings(node.value.replace(/^url\(\s+/gi,"url(").replace(/\s+\)$/gi,")"),options)}case"media-unknown":{return node.value}case"selector-root":{return group$1(concat$4([insideAtRuleNode(path,"custom-selector")?concat$4([getAncestorNode(path,"css-atrule").customSelector,line$3]):"",join$2(concat$4([",",insideAtRuleNode(path,["extend","custom-selector","nest"])?line$3:hardline$3]),path.map(print,"nodes"))]))}case"selector-selector":{return group$1(indent$2(concat$4(path.map(print,"nodes"))))}case"selector-comment":{return node.value}case"selector-string":{return adjustStrings(node.value,options)}case"selector-tag":{var _parentNode2=path.getParentNode(),index=_parentNode2&&_parentNode2.nodes.indexOf(node),prevNode=index&&_parentNode2.nodes[index-1];return concat$4([node.namespace?concat$4([!0===node.namespace?"":node.namespace.trim(),"|"]):"","selector-nesting"===prevNode.type?node.value:adjustNumbers(isHTMLTag(node.value)||isKeyframeAtRuleKeywords(path,node.value)?node.value.toLowerCase():node.value)])}case"selector-id":{return concat$4(["#",node.value])}case"selector-class":{return concat$4([".",adjustNumbers(adjustStrings(node.value,options))])}case"selector-attribute":{return concat$4(["[",node.namespace?concat$4([!0===node.namespace?"":node.namespace.trim(),"|"]):"",node.attribute.trim(),node.operator?node.operator:"",node.value?quoteAttributeValue(adjustStrings(node.value.trim(),options),options):"",node.insensitive?" i":"","]"])}case"selector-combinator":{if("+"===node.value||">"===node.value||"~"===node.value||">>>"===node.value){var _parentNode3=path.getParentNode(),_leading="selector-selector"===_parentNode3.type&&_parentNode3.nodes[0]===node?"":line$3;return concat$4([_leading,node.value,isLastNode(path,node)?"":" "])}var leading=node.value.trim().startsWith("(")?line$3:"",value=adjustNumbers(adjustStrings(node.value.trim(),options))||line$3;return concat$4([leading,value])}case"selector-universal":{return concat$4([node.namespace?concat$4([!0===node.namespace?"":node.namespace.trim(),"|"]):"",node.value])}case"selector-pseudo":{return concat$4([maybeToLowerCase(node.value),node.nodes&&0<node.nodes.length?concat$4(["(",join$2(", ",path.map(print,"nodes")),")"]):""])}case"selector-nesting":{return node.value}case"selector-unknown":{var ruleAncestorNode=getAncestorNode(path,"css-rule");if(ruleAncestorNode&&ruleAncestorNode.isSCSSNesterProperty){return adjustNumbers(adjustStrings(maybeToLowerCase(node.value),options))}return node.value}case"value-value":case"value-root":{return path.call(print,"group")}case"value-comment":{return concat$4([node.inline?"//":"/*",node.value,node.inline?"":"*/"])}case"value-comma_group":{for(var _parentNode4=path.getParentNode(),parentParentNode=path.getParentNode(1),declAncestorProp=getPropOfDeclNode(path),isGridValue=declAncestorProp&&"value-value"===_parentNode4.type&&("grid"===declAncestorProp||declAncestorProp.startsWith("grid-template")),atRuleAncestorNode=getAncestorNode(path,"css-atrule"),isControlDirective=atRuleAncestorNode&&isSCSSControlDirectiveNode(atRuleAncestorNode),printed=path.map(print,"groups"),_parts=[],insideURLFunction=insideValueFunctionNode(path,"url"),insideSCSSInterpolationInString=!1,didBreak=!1,i=0;i<node.groups.length;++i){_parts.push(printed[i]);if(insideURLFunction){continue}var iPrevNode=node.groups[i-1],iNode=node.groups[i],iNextNode=node.groups[i+1],iNextNextNode=node.groups[i+2];if(!iNextNode){continue}var isStartSCSSinterpolationInString="value-string"===iNode.type&&iNode.value.startsWith("#{"),isEndingSCSSinterpolationInString=insideSCSSInterpolationInString&&"value-string"===iNextNode.type&&iNextNode.value.endsWith("}");if(isStartSCSSinterpolationInString||isEndingSCSSinterpolationInString){insideSCSSInterpolationInString=!insideSCSSInterpolationInString;continue}if(insideSCSSInterpolationInString){continue}if(isColonNode(iNode)||isColonNode(iNextNode)){continue}if("value-atword"===iNode.type&&""===iNode.value){continue}if("~"===iNode.value){continue}if(iNode.value&&-1!==iNode.value.indexOf("\\")&&iNextNode&&"value-comment"!==iNextNode.type){continue}if(iPrevNode&&iPrevNode.value&&iPrevNode.value.indexOf("\\")===iPrevNode.value.length-1&&"value-operator"===iNode.type&&"/"===iNode.value){continue}if("\\"===iNode.value){continue}if(isPostcssSimpleVarNode(iNode,iNextNode)){continue}if(isHashNode(iNode)||isLeftCurlyBraceNode(iNode)||isRightCurlyBraceNode(iNextNode)||isLeftCurlyBraceNode(iNextNode)&&hasEmptyRawBefore(iNextNode)||isRightCurlyBraceNode(iNode)&&hasEmptyRawBefore(iNextNode)){continue}if("--"===iNode.value&&isHashNode(iNextNode)){continue}var isMathOperator=isMathOperatorNode(iNode),isNextMathOperator=isMathOperatorNode(iNextNode);if((isMathOperator&&isHashNode(iNextNode)||isNextMathOperator&&isRightCurlyBraceNode(iNode))&&hasEmptyRawBefore(iNextNode)){continue}if(insideValueFunctionNode(path,"calc")&&(isAdditionNode(iNode)||isAdditionNode(iNextNode)||isSubtractionNode(iNode)||isSubtractionNode(iNextNode))&&hasEmptyRawBefore(iNextNode)){continue}var isColorAdjusterNode=(isAdditionNode(iNode)||isSubtractionNode(iNode))&&0===i&&("value-number"===iNextNode.type||iNextNode.isHex)&&parentParentNode&&isColorAdjusterFuncNode(parentParentNode)&&!hasEmptyRawBefore(iNextNode),requireSpaceBeforeOperator=iNextNextNode&&"value-func"===iNextNextNode.type||iNextNextNode&&isWordNode(iNextNextNode)||"value-func"===iNode.type||isWordNode(iNode),requireSpaceAfterOperator="value-func"===iNextNode.type||isWordNode(iNextNode)||iPrevNode&&"value-func"===iPrevNode.type||iPrevNode&&isWordNode(iPrevNode);if(!(isMultiplicationNode(iNextNode)||isMultiplicationNode(iNode))&&!insideValueFunctionNode(path,"calc")&&!isColorAdjusterNode&&(isDivisionNode(iNextNode)&&!requireSpaceBeforeOperator||isDivisionNode(iNode)&&!requireSpaceAfterOperator||isAdditionNode(iNextNode)&&!requireSpaceBeforeOperator||isAdditionNode(iNode)&&!requireSpaceAfterOperator||isSubtractionNode(iNextNode)||isSubtractionNode(iNode))&&(hasEmptyRawBefore(iNextNode)||isMathOperator&&(!iPrevNode||iPrevNode&&isMathOperatorNode(iPrevNode)))){continue}if(isInlineValueCommentNode(iNode)){_parts.push(hardline$3);continue}if(isControlDirective&&(isEqualityOperatorNode(iNextNode)||isRelationalOperatorNode(iNextNode)||isIfElseKeywordNode(iNextNode)||isEachKeywordNode(iNode)||isForKeywordNode(iNode))){_parts.push(" ");continue}if(atRuleAncestorNode&&"namespace"===atRuleAncestorNode.name.toLowerCase()){_parts.push(" ");continue}if(isGridValue){if(iNode.source&&iNextNode.source&&iNode.source.start.line!==iNextNode.source.start.line){_parts.push(hardline$3);didBreak=!0}else{_parts.push(" ")}continue}if(isNextMathOperator){_parts.push(" ");continue}_parts.push(line$3)}if(didBreak){_parts.unshift(hardline$3)}if(isControlDirective){return group$1(indent$2(concat$4(_parts)))}if(insideURLFunctionInImportAtRuleNode(path)){return group$1(fill$2(_parts))}return group$1(indent$2(fill$2(_parts)))}case"value-paren_group":{var _parentNode5=path.getParentNode();if(_parentNode5&&isURLFunctionNode(_parentNode5)&&(1===node.groups.length||0<node.groups.length&&"value-comma_group"===node.groups[0].type&&0<node.groups[0].groups.length&&"value-word"===node.groups[0].groups[0].type&&node.groups[0].groups[0].value.startsWith("data:"))){return concat$4([node.open?path.call(print,"open"):"",join$2(",",path.map(print,"groups")),node.close?path.call(print,"close"):""])}if(!node.open){for(var _printed=path.map(print,"groups"),res=[],_i=0;_i<_printed.length;_i++){if(0!==_i){res.push(concat$4([",",line$3]))}res.push(_printed[_i])}return group$1(indent$2(fill$2(res)))}var isSCSSMapItem=isSCSSMapItemNode(path);return group$1(concat$4([node.open?path.call(print,"open"):"",indent$2(concat$4([softline$1,join$2(concat$4([",",line$3]),path.map(function(childPath){var node=childPath.getValue(),printed=print(childPath);if(isKeyValuePairNode(node)&&"value-comma_group"===node.type&&node.groups&&node.groups[2]&&"value-paren_group"===node.groups[2].type){printed.contents.contents.parts[1]=group$1(printed.contents.contents.parts[1]);return group$1(dedent$2(printed))}return printed},"groups"))])),ifBreak$1(isSCSS(options.parser,options.originalText)&&isSCSSMapItem&&shouldPrintComma(options)?",":""),softline$1,node.close?path.call(print,"close"):""]),{shouldBreak:isSCSSMapItem})}case"value-func":{return concat$4([node.value,insideAtRuleNode(path,"supports")&&isMediaAndSupportsKeywords(node)?" ":"",path.call(print,"group")])}case"value-paren":{return node.value}case"value-number":{return concat$4([printCssNumber(node.value),maybeToLowerCase(node.unit)])}case"value-operator":{return node.value}case"value-word":{if(node.isColor&&node.isHex||isWideKeywords(node.value)){return node.value.toLowerCase()}return node.value}case"value-colon":{return concat$4([node.value,insideValueFunctionNode(path,"url")?"":line$3])}case"value-comma":{return concat$4([node.value," "])}case"value-string":{return printString$1(node.raws.quote+node.value+node.raws.quote,options)}case"value-atword":{return concat$4(["@",node.value])}case"value-unicode-range":{return node.value}case"value-unknown":{return node.value}default:throw new Error("Unknown postcss type ".concat(JSON.stringify(node.type)));}}function printNodeSequence(path,options,print){var node=path.getValue(),parts=[],i=0;path.map(function(pathChild){var prevNode=node.nodes[i-1];if(prevNode&&"css-comment"===prevNode.type&&"prettier-ignore"===prevNode.text.trim()){var childNode=pathChild.getValue();parts.push(options.originalText.slice(options.locStart(childNode),options.locEnd(childNode)))}else{parts.push(pathChild.call(print))}if(i!==node.nodes.length-1){if("css-comment"===node.nodes[i+1].type&&!hasNewline$2(options.originalText,options.locStart(node.nodes[i+1]),{backwards:!0})&&"yaml"!==node.nodes[i].type&&"toml"!==node.nodes[i].type||"css-atrule"===node.nodes[i+1].type&&"else"===node.nodes[i+1].name&&"css-comment"!==node.nodes[i].type){parts.push(" ")}else{parts.push(hardline$3);if(isNextLineEmpty$2(options.originalText,pathChild.getValue(),options)&&"yaml"!==node.nodes[i].type&&"toml"!==node.nodes[i].type){parts.push(hardline$3)}}}i++},"nodes");return concat$4(parts)}var STRING_REGEX=/(['"])(?:(?!\1)[^\\]|\\[\s\S])*\1/g,NUMBER_REGEX=/(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g,STANDARD_UNIT_REGEX=/[a-zA-Z]+/g,WORD_PART_REGEX=/[$@]?[a-zA-Z_\u0080-\uFFFF][\w\-\u0080-\uFFFF]*/g,ADJUST_NUMBERS_REGEX=RegExp(STRING_REGEX.source+"|"+"(".concat(WORD_PART_REGEX.source,")?")+"(".concat(NUMBER_REGEX.source,")")+"(".concat(STANDARD_UNIT_REGEX.source,")?"),"g");function adjustStrings(value,options){return value.replace(STRING_REGEX,function(match){return printString$1(match,options)})}function quoteAttributeValue(value,options){var quote=options.singleQuote?"'":"\"";return value.includes("\"")||value.includes("'")?value:quote+value+quote}function adjustNumbers(value){return value.replace(ADJUST_NUMBERS_REGEX,function(match,quote,wordPart,number,unit){return!wordPart&&number?(wordPart||"")+printCssNumber(number)+maybeToLowerCase(unit||""):match})}function printCssNumber(rawNumber){return printNumber$1(rawNumber).replace(/\.0(?=$|e)/,"")}var printerPostcss={print:genericPrint,embed:embed_1,insertPragma:insertPragma,hasPrettierIgnore:hasIgnoreComment$1,massageAstNode:clean_1},CATEGORY_COMMON="Common",commonOptions={bracketSpacing:{since:"0.0.0",category:CATEGORY_COMMON,type:"boolean",default:!0,description:"Print spaces between brackets.",oppositeDescription:"Do not print spaces between brackets."},singleQuote:{since:"0.0.0",category:CATEGORY_COMMON,type:"boolean",default:!1,description:"Use single quotes instead of double quotes."},proseWrap:{since:"1.8.2",category:CATEGORY_COMMON,type:"choice",default:[{since:"1.8.2",value:!0},{since:"1.9.0",value:"preserve"}],description:"How to wrap prose.",choices:[{since:"1.9.0",value:"always",description:"Wrap prose if it exceeds the print width."},{since:"1.9.0",value:"never",description:"Do not wrap prose."},{since:"1.9.0",value:"preserve",description:"Wrap prose as-is."},{value:!1,deprecated:"1.9.0",redirect:"never"},{value:!0,deprecated:"1.9.0",redirect:"always"}]}},options$3={singleQuote:commonOptions.singleQuote},createLanguage=function createLanguage(linguistData,_ref){var extend=_ref.extend,override=_ref.override,language={};for(var key in linguistData){var newKey="languageId"===key?"linguistLanguageId":key;language[newKey]=linguistData[key]}if(extend){for(var _key in extend){language[_key]=(language[_key]||[]).concat(extend[_key])}}for(var _key2 in override){language[_key2]=override[_key2]}return language},name$1="CSS",type="markup",tmScope="source.css",aceMode="css",codemirrorMode="css",codemirrorMimeType="text/css",color="#563d7c",extensions=[".css"],languageId=50,css$2={name:name$1,type:type,tmScope:tmScope,aceMode:aceMode,codemirrorMode:codemirrorMode,codemirrorMimeType:codemirrorMimeType,color:color,extensions:extensions,languageId:languageId},css$3=Object.freeze({name:name$1,type:type,tmScope:tmScope,aceMode:aceMode,codemirrorMode:codemirrorMode,codemirrorMimeType:codemirrorMimeType,color:color,extensions:extensions,languageId:languageId,default:css$2}),name$2="PostCSS",type$1="markup",tmScope$1="source.postcss",group$2="CSS",extensions$1=[".pcss"],aceMode$1="text",languageId$1=262764437,postcss={name:name$2,type:type$1,tmScope:tmScope$1,group:group$2,extensions:extensions$1,aceMode:aceMode$1,languageId:languageId$1},postcss$1=Object.freeze({name:name$2,type:type$1,tmScope:tmScope$1,group:group$2,extensions:extensions$1,aceMode:aceMode$1,languageId:languageId$1,default:postcss}),name$3="Less",type$2="markup",group$3="CSS",extensions$2=[".less"],tmScope$2="source.css.less",aceMode$2="less",codemirrorMode$1="css",codemirrorMimeType$1="text/css",languageId$2=198,less={name:name$3,type:type$2,group:group$3,extensions:extensions$2,tmScope:tmScope$2,aceMode:aceMode$2,codemirrorMode:codemirrorMode$1,codemirrorMimeType:codemirrorMimeType$1,languageId:languageId$2},less$1=Object.freeze({name:name$3,type:type$2,group:group$3,extensions:extensions$2,tmScope:tmScope$2,aceMode:aceMode$2,codemirrorMode:codemirrorMode$1,codemirrorMimeType:codemirrorMimeType$1,languageId:languageId$2,default:less}),name$4="SCSS",type$3="markup",tmScope$3="source.scss",group$4="CSS",aceMode$3="scss",codemirrorMode$2="css",codemirrorMimeType$2="text/x-scss",extensions$3=[".scss"],languageId$3=329,scss={name:name$4,type:type$3,tmScope:tmScope$3,group:group$4,aceMode:aceMode$3,codemirrorMode:codemirrorMode$2,codemirrorMimeType:codemirrorMimeType$2,extensions:extensions$3,languageId:languageId$3},scss$1=Object.freeze({name:name$4,type:type$3,tmScope:tmScope$3,group:group$4,aceMode:aceMode$3,codemirrorMode:codemirrorMode$2,codemirrorMimeType:codemirrorMimeType$2,extensions:extensions$3,languageId:languageId$3,default:scss}),require$$0$17=css$3&&css$2||css$3,require$$1$8=postcss$1&&postcss||postcss$1,require$$2$9=less$1&&less||less$1,require$$3$4=scss$1&&scss||scss$1,languages=[createLanguage(require$$0$17,{override:{since:"1.4.0",parsers:["css"],vscodeLanguageIds:["css"]}}),createLanguage(require$$1$8,{override:{since:"1.4.0",parsers:["css"],vscodeLanguageIds:["postcss"]},extend:{extensions:[".postcss"]}}),createLanguage(require$$2$9,{override:{since:"1.4.0",parsers:["less"],vscodeLanguageIds:["less"]}}),createLanguage(require$$3$4,{override:{since:"1.4.0",parsers:["scss"],vscodeLanguageIds:["scss"]}})],printers={postcss:printerPostcss},languageCss={languages:languages,options:options$3,printers:printers};function hasPragma$2(text){return /^\s*#[^\n\S]*@(format|prettier)\s*(\n|$)/.test(text)}function insertPragma$4(text){return"# @format\n\n"+text}var pragma$4={hasPragma:hasPragma$2,insertPragma:insertPragma$4},_require$$0$builders$2=doc.builders,concat$6=_require$$0$builders$2.concat,join$3=_require$$0$builders$2.join,hardline$5=_require$$0$builders$2.hardline,line$4=_require$$0$builders$2.line,softline$2=_require$$0$builders$2.softline,group$5=_require$$0$builders$2.group,indent$3=_require$$0$builders$2.indent,ifBreak$2=_require$$0$builders$2.ifBreak,hasIgnoreComment$2=util.hasIgnoreComment,isNextLineEmpty$3=utilShared.isNextLineEmpty,insertPragma$3=pragma$4.insertPragma;function genericPrint$1(path,options,print){var n=path.getValue();if(!n){return""}if("string"===typeof n){return n}switch(n.kind){case"Document":{var parts=[];path.map(function(pathChild,index){parts.push(concat$6([pathChild.call(print)]));if(index!==n.definitions.length-1){parts.push(hardline$5);if(isNextLineEmpty$3(options.originalText,pathChild.getValue(),options)){parts.push(hardline$5)}}},"definitions");return concat$6([concat$6(parts),hardline$5])}case"OperationDefinition":{var hasOperation="{"!==options.originalText[options.locStart(n)],hasName=!!n.name;return concat$6([hasOperation?n.operation:"",hasOperation&&hasName?concat$6([" ",path.call(print,"name")]):"",n.variableDefinitions&&n.variableDefinitions.length?group$5(concat$6(["(",indent$3(concat$6([softline$2,join$3(concat$6([ifBreak$2("",", "),softline$2]),path.map(print,"variableDefinitions"))])),softline$2,")"])):"",printDirectives(path,print,n),n.selectionSet?!hasOperation&&!hasName?"":" ":"",path.call(print,"selectionSet")])}case"FragmentDefinition":{return concat$6(["fragment ",path.call(print,"name")," on ",path.call(print,"typeCondition"),printDirectives(path,print,n)," ",path.call(print,"selectionSet")])}case"SelectionSet":{return concat$6(["{",indent$3(concat$6([hardline$5,join$3(hardline$5,path.call(function(selectionsPath){return printSequence(selectionsPath,options,print)},"selections"))])),hardline$5,"}"])}case"Field":{return group$5(concat$6([n.alias?concat$6([path.call(print,"alias"),": "]):"",path.call(print,"name"),0<n.arguments.length?group$5(concat$6(["(",indent$3(concat$6([softline$2,join$3(concat$6([ifBreak$2("",", "),softline$2]),path.call(function(argsPath){return printSequence(argsPath,options,print)},"arguments"))])),softline$2,")"])):"",printDirectives(path,print,n),n.selectionSet?" ":"",path.call(print,"selectionSet")]))}case"Name":{return n.value}case"StringValue":{if(n.block){return concat$6(["\"\"\"",hardline$5,join$3(hardline$5,n.value.replace(/"""/g,"\\$&").split("\n")),hardline$5,"\"\"\""])}return concat$6(["\"",n.value.replace(/["\\]/g,"\\$&").replace(/\n/g,"\\n"),"\""])}case"IntValue":case"FloatValue":case"EnumValue":{return n.value}case"BooleanValue":{return n.value?"true":"false"}case"NullValue":{return"null"}case"Variable":{return concat$6(["$",path.call(print,"name")])}case"ListValue":{return group$5(concat$6(["[",indent$3(concat$6([softline$2,join$3(concat$6([ifBreak$2("",", "),softline$2]),path.map(print,"values"))])),softline$2,"]"]))}case"ObjectValue":{return group$5(concat$6(["{",options.bracketSpacing&&0<n.fields.length?" ":"",indent$3(concat$6([softline$2,join$3(concat$6([ifBreak$2("",", "),softline$2]),path.map(print,"fields"))])),softline$2,ifBreak$2("",options.bracketSpacing&&0<n.fields.length?" ":""),"}"]))}case"ObjectField":case"Argument":{return concat$6([path.call(print,"name"),": ",path.call(print,"value")])}case"Directive":{return concat$6(["@",path.call(print,"name"),0<n.arguments.length?group$5(concat$6(["(",indent$3(concat$6([softline$2,join$3(concat$6([ifBreak$2("",", "),softline$2]),path.call(function(argsPath){return printSequence(argsPath,options,print)},"arguments"))])),softline$2,")"])):""])}case"NamedType":{return path.call(print,"name")}case"VariableDefinition":{return concat$6([path.call(print,"variable"),": ",path.call(print,"type"),n.defaultValue?concat$6([" = ",path.call(print,"defaultValue")]):""])}case"TypeExtensionDefinition":{return concat$6(["extend ",path.call(print,"definition")])}case"ObjectTypeExtension":case"ObjectTypeDefinition":{return concat$6([path.call(print,"description"),n.description?hardline$5:"","ObjectTypeExtension"===n.kind?"extend ":"","type ",path.call(print,"name"),0<n.interfaces.length?concat$6([" implements ",join$3(determineInterfaceSeparator(options.originalText.substr(options.locStart(n),options.locEnd(n))),path.map(print,"interfaces"))]):"",printDirectives(path,print,n),0<n.fields.length?concat$6([" {",indent$3(concat$6([hardline$5,join$3(hardline$5,path.call(function(fieldsPath){return printSequence(fieldsPath,options,print)},"fields"))])),hardline$5,"}"]):""])}case"FieldDefinition":{return concat$6([path.call(print,"description"),n.description?hardline$5:"",path.call(print,"name"),0<n.arguments.length?group$5(concat$6(["(",indent$3(concat$6([softline$2,join$3(concat$6([ifBreak$2("",", "),softline$2]),path.call(function(argsPath){return printSequence(argsPath,options,print)},"arguments"))])),softline$2,")"])):"",": ",path.call(print,"type"),printDirectives(path,print,n)])}case"DirectiveDefinition":{return concat$6([path.call(print,"description"),n.description?hardline$5:"","directive ","@",path.call(print,"name"),0<n.arguments.length?group$5(concat$6(["(",indent$3(concat$6([softline$2,join$3(concat$6([ifBreak$2("",", "),softline$2]),path.call(function(argsPath){return printSequence(argsPath,options,print)},"arguments"))])),softline$2,")"])):"",concat$6([" on ",join$3(" | ",path.map(print,"locations"))])])}case"EnumTypeExtension":case"EnumTypeDefinition":{return concat$6([path.call(print,"description"),n.description?hardline$5:"","EnumTypeExtension"===n.kind?"extend ":"","enum ",path.call(print,"name"),printDirectives(path,print,n),0<n.values.length?concat$6([" {",indent$3(concat$6([hardline$5,join$3(hardline$5,path.call(function(valuesPath){return printSequence(valuesPath,options,print)},"values"))])),hardline$5,"}"]):""])}case"EnumValueDefinition":{return concat$6([path.call(print,"description"),n.description?hardline$5:"",path.call(print,"name"),printDirectives(path,print,n)])}case"InputValueDefinition":{return concat$6([path.call(print,"description"),n.description?n.description.block?hardline$5:line$4:"",path.call(print,"name"),": ",path.call(print,"type"),n.defaultValue?concat$6([" = ",path.call(print,"defaultValue")]):"",printDirectives(path,print,n)])}case"InputObjectTypeExtension":case"InputObjectTypeDefinition":{return concat$6([path.call(print,"description"),n.description?hardline$5:"","InputObjectTypeExtension"===n.kind?"extend ":"","input ",path.call(print,"name"),printDirectives(path,print,n),0<n.fields.length?concat$6([" {",indent$3(concat$6([hardline$5,join$3(hardline$5,path.call(function(fieldsPath){return printSequence(fieldsPath,options,print)},"fields"))])),hardline$5,"}"]):""])}case"SchemaDefinition":{return concat$6(["schema",printDirectives(path,print,n)," {",0<n.operationTypes.length?indent$3(concat$6([hardline$5,join$3(hardline$5,path.call(function(opsPath){return printSequence(opsPath,options,print)},"operationTypes"))])):"",hardline$5,"}"])}case"OperationTypeDefinition":{return concat$6([path.call(print,"operation"),": ",path.call(print,"type")])}case"InterfaceTypeExtension":case"InterfaceTypeDefinition":{return concat$6([path.call(print,"description"),n.description?hardline$5:"","InterfaceTypeExtension"===n.kind?"extend ":"","interface ",path.call(print,"name"),printDirectives(path,print,n),0<n.fields.length?concat$6([" {",indent$3(concat$6([hardline$5,join$3(hardline$5,path.call(function(fieldsPath){return printSequence(fieldsPath,options,print)},"fields"))])),hardline$5,"}"]):""])}case"FragmentSpread":{return concat$6(["...",path.call(print,"name"),printDirectives(path,print,n)])}case"InlineFragment":{return concat$6(["...",n.typeCondition?concat$6([" on ",path.call(print,"typeCondition")]):"",printDirectives(path,print,n)," ",path.call(print,"selectionSet")])}case"UnionTypeExtension":case"UnionTypeDefinition":{return group$5(concat$6([path.call(print,"description"),n.description?hardline$5:"",group$5(concat$6(["UnionTypeExtension"===n.kind?"extend ":"","union ",path.call(print,"name"),printDirectives(path,print,n),0<n.types.length?concat$6([" =",ifBreak$2(""," "),indent$3(concat$6([ifBreak$2(concat$6([line$4,"  "])),join$3(concat$6([line$4,"| "]),path.map(print,"types"))]))]):""]))]))}case"ScalarTypeExtension":case"ScalarTypeDefinition":{return concat$6([path.call(print,"description"),n.description?hardline$5:"","ScalarTypeExtension"===n.kind?"extend ":"","scalar ",path.call(print,"name"),printDirectives(path,print,n)])}case"NonNullType":{return concat$6([path.call(print,"type"),"!"])}case"ListType":{return concat$6(["[",path.call(print,"type"),"]"])}default:throw new Error("unknown graphql type: "+JSON.stringify(n.kind));}}function printDirectives(path,print,n){if(0===n.directives.length){return""}return concat$6([" ",group$5(indent$3(concat$6([softline$2,join$3(concat$6([ifBreak$2(""," "),softline$2]),path.map(print,"directives"))])))])}function printSequence(sequencePath,options,print){var count=sequencePath.getValue().length;return sequencePath.map(function(path,i){var printed=print(path);if(isNextLineEmpty$3(options.originalText,path.getValue(),options)&&i<count-1){return concat$6([printed,hardline$5])}return printed})}function canAttachComment(node){return node.kind&&"Comment"!==node.kind}function printComment$1(commentPath){var comment=commentPath.getValue();if("Comment"===comment.kind){return"#"+comment.value.trimRight()}throw new Error("Not a comment: "+JSON.stringify(comment))}function determineInterfaceSeparator(originalSource){var start=originalSource.indexOf("implements");if(-1===start){throw new Error("Must implement interfaces: "+originalSource)}var end=originalSource.indexOf("{");if(-1===end){end=originalSource.length}return originalSource.substr(start,end).includes("&")?" & ":", "}function clean$2(node,newNode){delete newNode.loc;delete newNode.comments}var printerGraphql={print:genericPrint$1,massageAstNode:clean$2,hasPrettierIgnore:hasIgnoreComment$2,insertPragma:insertPragma$3,printComment:printComment$1,canAttachComment:canAttachComment},options$6={bracketSpacing:commonOptions.bracketSpacing},name$5="GraphQL",type$4="data",extensions$4=[".graphql",".gql"],tmScope$4="source.graphql",aceMode$4="text",languageId$4=139,graphql={name:name$5,type:type$4,extensions:extensions$4,tmScope:tmScope$4,aceMode:aceMode$4,languageId:languageId$4},graphql$1=Object.freeze({name:name$5,type:type$4,extensions:extensions$4,tmScope:tmScope$4,aceMode:aceMode$4,languageId:languageId$4,default:graphql}),require$$0$18=graphql$1&&graphql||graphql$1,languages$1=[createLanguage(require$$0$18,{override:{since:"1.5.0",parsers:["graphql"],vscodeLanguageIds:["graphql"]}})],printers$1={graphql:printerGraphql},languageGraphql={languages:languages$1,options:options$6,printers:printers$1},_require$$0$builders$3=doc.builders,concat$7=_require$$0$builders$3.concat,join$4=_require$$0$builders$3.join,softline$3=_require$$0$builders$3.softline,hardline$6=_require$$0$builders$3.hardline,line$5=_require$$0$builders$3.line,group$6=_require$$0$builders$3.group,indent$4=_require$$0$builders$3.indent,ifBreak$3=_require$$0$builders$3.ifBreak,voidTags=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function print(path,options,print){var n=path.getValue();if(!n){return""}switch(n.type){case"Program":{return group$6(join$4(softline$3,path.map(print,"body").filter(function(text){return""!==text})))}case"ElementNode":{var tagFirstChar=n.tag[0],isLocal=-1!==n.tag.indexOf("."),isGlimmerComponent=tagFirstChar.toUpperCase()===tagFirstChar||isLocal,hasChildren=0<n.children.length,isVoid=isGlimmerComponent&&!hasChildren||-1!==voidTags.indexOf(n.tag),closeTag=isVoid?concat$7([" />",softline$3]):">",_getParams=function _getParams(path,print){return indent$4(concat$7([n.attributes.length?line$5:"",join$4(line$5,path.map(print,"attributes")),n.modifiers.length?line$5:"",join$4(line$5,path.map(print,"modifiers")),n.comments.length?line$5:"",join$4(line$5,path.map(print,"comments"))]))};return concat$7([group$6(concat$7(["<",n.tag,_getParams(path,print),n.blockParams.length?" as |".concat(n.blockParams.join(" "),"|"):"",ifBreak$3(softline$3,""),closeTag])),group$6(concat$7([indent$4(join$4(softline$3,[""].concat(path.map(print,"children")))),ifBreak$3(hasChildren?hardline$6:"",""),!isVoid?concat$7(["</",n.tag,">"]):""]))])}case"BlockStatement":{var pp=path.getParentNode(1),isElseIf=pp&&pp.inverse&&pp.inverse.body[0]===n&&"if"===pp.inverse.body[0].path.parts[0],hasElseIf=n.inverse&&n.inverse.body[0]&&"BlockStatement"===n.inverse.body[0].type&&"if"===n.inverse.body[0].path.parts[0],indentElse=hasElseIf?function(a){return a}:indent$4;if(n.inverse){return concat$7([isElseIf?concat$7(["{{else ",printPathParams(path,print),"}}"]):printOpenBlock(path,print),indent$4(concat$7([hardline$6,path.call(print,"program")])),n.inverse&&!hasElseIf?concat$7([hardline$6,"{{else}}"]):"",n.inverse?indentElse(concat$7([hardline$6,path.call(print,"inverse")])):"",isElseIf?"":concat$7([hardline$6,printCloseBlock(path,print)])])}else if(isElseIf){return concat$7([concat$7(["{{else ",printPathParams(path,print),"}}"]),indent$4(concat$7([hardline$6,path.call(print,"program")]))])}var hasParams=0<n.params.length||0<n.hash.pairs.length,_hasChildren=0<n.program.body.length;return concat$7([printOpenBlock(path,print),group$6(concat$7([indent$4(concat$7([softline$3,path.call(print,"program")])),hasParams&&_hasChildren?hardline$6:softline$3,printCloseBlock(path,print)]))])}case"ElementModifierStatement":case"MustacheStatement":{var _pp=path.getParentNode(1),isConcat=_pp&&"ConcatStatement"===_pp.type;return group$6(concat$7([!1===n.escaped?"{{{":"{{",printPathParams(path,print),isConcat?"":softline$3,!1===n.escaped?"}}}":"}}"]))}case"SubExpression":{var params=getParams(path,print),printedParams=0<params.length?indent$4(concat$7([line$5,group$6(join$4(line$5,params))])):"";return group$6(concat$7(["(",printPath(path,print),printedParams,softline$3,")"]))}case"AttrNode":{var isText="TextNode"===n.value.type;if(isText&&n.value.loc.start.column===n.value.loc.end.column){return concat$7([n.name])}var quote=isText?"\"":"";return concat$7([n.name,"=",quote,path.call(print,"value"),quote])}case"ConcatStatement":{return concat$7(["\"",group$6(indent$4(join$4(softline$3,path.map(function(partPath){return print(partPath)},"parts").filter(function(a){return""!==a})))),"\""])}case"Hash":{return concat$7([join$4(line$5,path.map(print,"pairs"))])}case"HashPair":{return concat$7([n.key,"=",path.call(print,"value")])}case"TextNode":{var leadingSpace="",trailingSpace="",inAttrNode=0<=path.stack.indexOf("attributes");if(inAttrNode){var parentNode=path.getParentNode(0),_isConcat="ConcatStatement"===parentNode.type;if(_isConcat){var parts=parentNode.parts,partIndex=parts.indexOf(n);if(0<partIndex){var partType=parts[partIndex-1].type,isMustache="MustacheStatement"===partType;if(isMustache){leadingSpace=" "}}if(partIndex<parts.length-1){var _partType=parts[partIndex+1].type,_isMustache="MustacheStatement"===_partType;if(_isMustache){trailingSpace=" "}}}}return n.chars.replace(/^\s+/,leadingSpace).replace(/\s+$/,trailingSpace)}case"MustacheCommentStatement":{var dashes=-1<n.value.indexOf("}}")?"--":"";return concat$7(["{{!",dashes,n.value,dashes,"}}"])}case"PathExpression":{return n.original}case"BooleanLiteral":{return n.value+""}case"CommentStatement":{return concat$7(["<!--",n.value,"-->"])}case"StringLiteral":{return printStringLiteral(n.value,options)}case"NumberLiteral":{return n.value+""}case"UndefinedLiteral":{return"undefined"}case"NullLiteral":{return"null"}default:throw new Error("unknown glimmer type: "+JSON.stringify(n.type));}}function printStringLiteral(stringLiteral,options){var double={quote:"\"",regex:/"/g},single={quote:"'",regex:/'/g},preferred=options.singleQuote?single:double,alternate=preferred===single?double:single,shouldUseAlternateQuote=!1;if(stringLiteral.includes(preferred.quote)||stringLiteral.includes(alternate.quote)){var numPreferredQuotes=(stringLiteral.match(preferred.regex)||[]).length,numAlternateQuotes=(stringLiteral.match(alternate.regex)||[]).length;shouldUseAlternateQuote=numPreferredQuotes>numAlternateQuotes}var enclosingQuote=shouldUseAlternateQuote?alternate:preferred,escapedStringLiteral=stringLiteral.replace(enclosingQuote.regex,"\\".concat(enclosingQuote.quote));return"".concat(enclosingQuote.quote).concat(escapedStringLiteral).concat(enclosingQuote.quote)}function printPath(path,print){return path.call(print,"path")}function getParams(path,print){var node=path.getValue(),parts=[];if(0<node.params.length){parts=parts.concat(path.map(print,"params"))}if(node.hash&&0<node.hash.pairs.length){parts.push(path.call(print,"hash"))}return parts}function printPathParams(path,print){var parts=[printPath(path,print)];parts=parts.concat(getParams(path,print));return indent$4(group$6(join$4(line$5,parts)))}function printBlockParams(path){var block=path.getValue();if(!block.program||!block.program.blockParams.length){return""}return concat$7([" as |",block.program.blockParams.join(" "),"|"])}function printOpenBlock(path,print){return group$6(concat$7(["{{#",printPathParams(path,print),printBlockParams(path),softline$3,"}}"]))}function printCloseBlock(path,print){return concat$7(["{{/",path.call(print,"path"),"}}"])}function clean$3(ast,newObj){delete newObj.loc;if("TextNode"===ast.type){if(""===ast.chars.replace(/\s+/,"")){return null}newObj.chars=ast.chars.replace(/^\s+/,"").replace(/\s+$/,"")}}var printerGlimmer={print:print,massageAstNode:clean$3},name$6="Handlebars",type$5="markup",group$7="HTML",aliases=["hbs","htmlbars"],extensions$5=[".handlebars",".hbs"],tmScope$5="text.html.handlebars",aceMode$5="handlebars",languageId$5=155,handlebars={name:name$6,type:type$5,group:group$7,aliases:aliases,extensions:extensions$5,tmScope:tmScope$5,aceMode:aceMode$5,languageId:languageId$5},handlebars$1=Object.freeze({name:name$6,type:type$5,group:group$7,aliases:aliases,extensions:extensions$5,tmScope:tmScope$5,aceMode:aceMode$5,languageId:languageId$5,default:handlebars}),require$$0$19=handlebars$1&&handlebars||handlebars$1,languages$2=[createLanguage(require$$0$19,{override:{since:null,parsers:["glimmer"],vscodeLanguageIds:["handlebars"]}})],printers$2={glimmer:printerGlimmer},languageHandlebars={languages:languages$2,printers:printers$2},clean$4=function clean(ast,newNode){delete newNode.sourceSpan;delete newNode.startSourceSpan;delete newNode.endSourceSpan;delete newNode.nameSpan;delete newNode.valueSpan;if("text"===ast.type||"comment"===ast.type){return null}if("yaml"===ast.type||"toml"===ast.type){return null}if("attribute"===ast.type){delete newNode.value}if("docType"===ast.type){delete newNode.value}},a=["accesskey","charset","coords","download","href","hreflang","name","ping","referrerpolicy","rel","rev","shape","tabindex","target","type"],abbr=["title"],applet=["align","alt","archive","code","codebase","height","hspace","name","object","vspace","width"],area=["accesskey","alt","coords","download","href","hreflang","nohref","ping","referrerpolicy","rel","shape","tabindex","target","type"],audio=["autoplay","controls","crossorigin","loop","muted","preload","src"],base$2=["href","target"],basefont=["color","face","size"],bdo=["dir"],blockquote=["cite"],body=["alink","background","bgcolor","link","text","vlink"],br=["clear"],button=["accesskey","autofocus","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","tabindex","type","value"],canvas=["height","width"],caption=["align"],col=["align","char","charoff","span","valign","width"],colgroup=["align","char","charoff","span","valign","width"],data=["value"],del=["cite","datetime"],details=["open"],dfn=["title"],dialog=["open"],dir=["compact"],div=["align"],dl=["compact"],embed$3=["height","src","type","width"],fieldset=["disabled","form","name"],font=["color","face","size"],form=["accept","accept-charset","action","autocomplete","enctype","method","name","novalidate","target"],frame=["frameborder","longdesc","marginheight","marginwidth","name","noresize","scrolling","src"],frameset=["cols","rows"],h1=["align"],h2=["align"],h3=["align"],h4=["align"],h5=["align"],h6=["align"],head=["profile"],hr=["align","noshade","size","width"],html=["manifest","version"],iframe=["align","allowfullscreen","allowpaymentrequest","allowusermedia","frameborder","height","longdesc","marginheight","marginwidth","name","referrerpolicy","sandbox","scrolling","src","srcdoc","width"],img=["align","alt","border","crossorigin","decoding","height","hspace","ismap","longdesc","name","referrerpolicy","sizes","src","srcset","usemap","vspace","width"],input=["accept","accesskey","align","alt","autocomplete","autofocus","checked","dirname","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","ismap","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","size","src","step","tabindex","title","type","usemap","value","width"],ins=["cite","datetime"],isindex=["prompt"],label=["accesskey","for","form"],legend=["accesskey","align"],li=["type","value"],link$1=["as","charset","color","crossorigin","href","hreflang","integrity","media","nonce","referrerpolicy","rel","rev","sizes","target","title","type"],map=["name"],menu=["compact"],meta=["charset","content","http-equiv","name","scheme"],meter=["high","low","max","min","optimum","value"],object=["align","archive","border","classid","codebase","codetype","data","declare","form","height","hspace","name","standby","tabindex","type","typemustmatch","usemap","vspace","width"],ol=["compact","reversed","start","type"],optgroup=["disabled","label"],option=["disabled","label","selected","value"],output=["for","form","name"],p=["align"],param=["name","type","value","valuetype"],pre=["width"],progress=["max","value"],q=["cite"],script=["async","charset","crossorigin","defer","integrity","language","nomodule","nonce","referrerpolicy","src","type"],select=["autocomplete","autofocus","disabled","form","multiple","name","required","size","tabindex"],slot=["name"],source=["media","sizes","src","srcset","type"],style=["media","nonce","title","type"],table=["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody=["align","char","charoff","valign"],td=["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea=["accesskey","autocomplete","autofocus","cols","dirname","disabled","form","maxlength","minlength","name","placeholder","readonly","required","rows","tabindex","wrap"],tfoot=["align","char","charoff","valign"],th=["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead=["align","char","charoff","valign"],time=["datetime"],tr=["align","bgcolor","char","charoff","valign"],track=["default","kind","label","src","srclang"],ul=["compact","type"],video=["autoplay","controls","crossorigin","height","loop","muted","playsinline","poster","preload","src","width"],index$13={a:a,abbr:abbr,applet:applet,area:area,audio:audio,base:base$2,basefont:basefont,bdo:bdo,blockquote:blockquote,body:body,br:br,button:button,canvas:canvas,caption:caption,col:col,colgroup:colgroup,data:data,del:del,details:details,dfn:dfn,dialog:dialog,dir:dir,div:div,dl:dl,embed:embed$3,fieldset:fieldset,font:font,form:form,frame:frame,frameset:frameset,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,h6:h6,head:head,hr:hr,html:html,iframe:iframe,img:img,input:input,ins:ins,isindex:isindex,label:label,legend:legend,li:li,link:link$1,map:map,menu:menu,meta:meta,meter:meter,object:object,ol:ol,optgroup:optgroup,option:option,output:output,p:p,param:param,pre:pre,progress:progress,q:q,script:script,select:select,slot:slot,source:source,style:style,table:table,tbody:tbody,td:td,textarea:textarea,tfoot:tfoot,th:th,thead:thead,time:time,tr:tr,track:track,ul:ul,video:video,"*":["accesskey","autocapitalize","class","contenteditable","dir","draggable","hidden","id","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","slot","spellcheck","style","tabindex","title","translate"]},htmlElementAttributes=Object.freeze({a:a,abbr:abbr,applet:applet,area:area,audio:audio,base:base$2,basefont:basefont,bdo:bdo,blockquote:blockquote,body:body,br:br,button:button,canvas:canvas,caption:caption,col:col,colgroup:colgroup,data:data,del:del,details:details,dfn:dfn,dialog:dialog,dir:dir,div:div,dl:dl,embed:embed$3,fieldset:fieldset,font:font,form:form,frame:frame,frameset:frameset,h1:h1,h2:h2,h3:h3,h4:h4,h5:h5,h6:h6,head:head,hr:hr,html:html,iframe:iframe,img:img,input:input,ins:ins,isindex:isindex,label:label,legend:legend,li:li,link:link$1,map:map,menu:menu,meta:meta,meter:meter,object:object,ol:ol,optgroup:optgroup,option:option,output:output,p:p,param:param,pre:pre,progress:progress,q:q,script:script,select:select,slot:slot,source:source,style:style,table:table,tbody:tbody,td:td,textarea:textarea,tfoot:tfoot,th:th,thead:thead,time:time,tr:tr,track:track,ul:ul,video:video,default:index$13}),json$4={CSS_DISPLAY_TAGS:{area:"none",base:"none",basefont:"none",datalist:"none",head:"none",link:"none",meta:"none",noembed:"none",noframes:"none",param:"none",rp:"none",script:"none",source:"block",style:"none",template:"inline",track:"block",title:"none",html:"block",body:"block",address:"block",blockquote:"block",center:"block",div:"block",figure:"block",figcaption:"block",footer:"block",form:"block",header:"block",hr:"block",legend:"block",listing:"block",main:"block",p:"block",plaintext:"block",pre:"block",xmp:"block",slot:"contents",ruby:"ruby",rt:"ruby-text",article:"block",aside:"block",h1:"block",h2:"block",h3:"block",h4:"block",h5:"block",h6:"block",hgroup:"block",nav:"block",section:"block",dir:"block",dd:"block",dl:"block",dt:"block",ol:"block",ul:"block",li:"list-item",table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell",fieldset:"block",button:"inline-block",video:"inline-block",audio:"inline-block"},CSS_DISPLAY_DEFAULT:"inline",CSS_WHITE_SPACE_TAGS:{listing:"pre",plaintext:"pre",pre:"pre",xmp:"pre",nobr:"nowrap",table:"initial",textarea:"pre-wrap"},CSS_WHITE_SPACE_DEFAULT:"normal"},htmlElementAttributes$1=htmlElementAttributes&&index$13||htmlElementAttributes,CSS_DISPLAY_TAGS=json$4.CSS_DISPLAY_TAGS,CSS_DISPLAY_DEFAULT=json$4.CSS_DISPLAY_DEFAULT,CSS_WHITE_SPACE_TAGS=json$4.CSS_WHITE_SPACE_TAGS,CSS_WHITE_SPACE_DEFAULT=json$4.CSS_WHITE_SPACE_DEFAULT,HTML_TAGS=arrayToMap(htmlTagNames$1),HTML_ELEMENT_ATTRIBUTES=mapObject(htmlElementAttributes$1,arrayToMap);function arrayToMap(array){var map=Object.create(null),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=array[Symbol.iterator](),_step,value;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){value=_step.value;map[value]=!0}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return map}function mapObject(object,fn){for(var newObject=Object.create(null),_arr=Object.keys(object),_i=0,key;_i<_arr.length;_i++){key=_arr[_i];newObject[key]=fn(object[key],key)}return newObject}function shouldPreserveContent$1(node,options){if("element"===node.type&&"template"===node.fullName&&node.attrMap.lang&&"html"!==node.attrMap.lang){return!0}if("ieConditionalComment"===node.type&&node.lastChild&&!node.lastChild.isSelfClosing&&!node.lastChild.endSourceSpan){return!0}if("ieConditionalComment"===node.type&&!node.complete){return!0}if("vue"===options.parser&&"element"===node.type&&"root"===node.parent.type&&-1===["template","style","script","html"].indexOf(node.fullName)){return!0}if(isPreLikeNode(node)&&node.children.some(function(child){return"text"!==child.type&&"interpolation"!==child.type})){return!0}return!1}function hasPrettierIgnore$1(node){if("attribute"===node.type||isTextLikeNode$1(node)){return!1}if(!node.parent){return!1}if("number"!==typeof node.index||0===node.index){return!1}var prevNode=node.parent.children[node.index-1];return isPrettierIgnore(prevNode)}function isPrettierIgnore(node){return"comment"===node.type&&"prettier-ignore"===node.value.trim()}function getPrettierIgnoreAttributeCommentData$1(value){var match=value.trim().match(/^prettier-ignore-attribute(?:\s+([^]+))?$/);if(!match){return!1}if(!match[1]){return!0}return match[1].split(/\s+/)}function isTextLikeNode$1(node){return"text"===node.type||"comment"===node.type}function isScriptLikeTag$1(node){return"element"===node.type&&("script"===node.fullName||"style"===node.fullName||"svg:style"===node.fullName)}function isFrontMatterNode(node){return"yaml"===node.type||"toml"===node.type}function canHaveInterpolation(node){return node.children&&!isScriptLikeTag$1(node)}function isWhitespaceSensitiveNode(node){return isScriptLikeTag$1(node)||"interpolation"===node.type||isIndentationSensitiveNode(node)}function isIndentationSensitiveNode(node){return getNodeCssStyleWhiteSpace(node).startsWith("pre")}function isLeadingSpaceSensitiveNode(node){var isLeadingSpaceSensitive=_isLeadingSpaceSensitiveNode();if(isLeadingSpaceSensitive&&!node.prev&&node.parent&&node.parent.tagDefinition&&node.parent.tagDefinition.ignoreFirstLf){return"interpolation"===node.type}return isLeadingSpaceSensitive;function _isLeadingSpaceSensitiveNode(){if(isFrontMatterNode(node)){return!1}if(("text"===node.type||"interpolation"===node.type)&&node.prev&&("text"===node.prev.type||"interpolation"===node.prev.type)){return!0}if(!node.parent||"none"===node.parent.cssDisplay){return!1}if(isPreLikeNode(node.parent)){return!0}if(!node.prev&&("root"===node.parent.type||isScriptLikeTag$1(node.parent)||!isFirstChildLeadingSpaceSensitiveCssDisplay(node.parent.cssDisplay))){return!1}if(node.prev&&!isNextLeadingSpaceSensitiveCssDisplay(node.prev.cssDisplay)){return!1}return!0}}function isTrailingSpaceSensitiveNode(node){if(isFrontMatterNode(node)){return!1}if(("text"===node.type||"interpolation"===node.type)&&node.next&&("text"===node.next.type||"interpolation"===node.next.type)){return!0}if(!node.parent||"none"===node.parent.cssDisplay){return!1}if(isPreLikeNode(node.parent)){return!0}if(!node.next&&("root"===node.parent.type||isScriptLikeTag$1(node.parent)||!isLastChildTrailingSpaceSensitiveCssDisplay(node.parent.cssDisplay))){return!1}if(node.next&&!isPrevTrailingSpaceSensitiveCssDisplay(node.next.cssDisplay)){return!1}return!0}function isDanglingSpaceSensitiveNode(node){return isDanglingSpaceSensitiveCssDisplay(node.cssDisplay)&&!isScriptLikeTag$1(node)}function forceNextEmptyLine$1(node){return isFrontMatterNode(node)||node.next&&node.sourceSpan.end.line+1<node.next.sourceSpan.start.line}function forceBreakContent$1(node){return forceBreakChildren$1(node)||"element"===node.type&&0!==node.children.length&&(-1!==["body","template","script","style"].indexOf(node.name)||node.children.some(function(child){return hasNonTextChild(child)}))||node.firstChild&&node.firstChild===node.lastChild&&hasLeadingLineBreak(node.firstChild)&&(!node.lastChild.isTrailingSpaceSensitive||hasTrailingLineBreak(node.lastChild))}function forceBreakChildren$1(node){return"element"===node.type&&0!==node.children.length&&(-1!==["html","head","ul","ol","select"].indexOf(node.name)||node.cssDisplay.startsWith("table")&&"table-cell"!==node.cssDisplay)}function preferHardlineAsLeadingSpaces$1(node){return preferHardlineAsSurroundingSpaces(node)||node.prev&&preferHardlineAsTrailingSpaces(node.prev)||hasSurroundingLineBreak(node)}function preferHardlineAsTrailingSpaces(node){return preferHardlineAsSurroundingSpaces(node)||"element"===node.type&&"br"===node.fullName||hasSurroundingLineBreak(node)}function hasSurroundingLineBreak(node){return hasLeadingLineBreak(node)&&hasTrailingLineBreak(node)}function hasLeadingLineBreak(node){return node.hasLeadingSpaces&&(node.prev?node.prev.sourceSpan.end.line<node.sourceSpan.start.line:"root"===node.parent.type||node.parent.startSourceSpan.end.line<node.sourceSpan.start.line)}function hasTrailingLineBreak(node){return node.hasTrailingSpaces&&(node.next?node.next.sourceSpan.start.line>node.sourceSpan.end.line:"root"===node.parent.type||node.parent.endSourceSpan.start.line>node.sourceSpan.end.line)}function preferHardlineAsSurroundingSpaces(node){switch(node.type){case"ieConditionalComment":case"comment":case"directive":return!0;case"element":return-1!==["script","select"].indexOf(node.name);}return!1}function getLastDescendant$1(node){return node.lastChild?getLastDescendant$1(node.lastChild):node}function hasNonTextChild(node){return node.children&&node.children.some(function(child){return"text"!==child.type})}function inferScriptParser$1(node){if("script"===node.name&&!node.attrMap.src){if(!node.attrMap.lang&&!node.attrMap.type||"module"===node.attrMap.type||"text/javascript"===node.attrMap.type||"text/babel"===node.attrMap.type||"application/javascript"===node.attrMap.type){return"babel"}if("application/x-typescript"===node.attrMap.type||"ts"===node.attrMap.lang||"tsx"===node.attrMap.lang){return"typescript"}if("text/markdown"===node.attrMap.type){return"markdown"}if("application/ld+json"===node.attrMap.type){return"json"}}if("style"===node.name){if(!node.attrMap.lang||"postcss"===node.attrMap.lang){return"css"}if("scss"===node.attrMap.lang){return"scss"}if("less"===node.attrMap.lang){return"less"}}return null}function isBlockLikeCssDisplay(cssDisplay){return"block"===cssDisplay||"list-item"===cssDisplay||cssDisplay.startsWith("table")}function isFirstChildLeadingSpaceSensitiveCssDisplay(cssDisplay){return!isBlockLikeCssDisplay(cssDisplay)&&"inline-block"!==cssDisplay}function isLastChildTrailingSpaceSensitiveCssDisplay(cssDisplay){return!isBlockLikeCssDisplay(cssDisplay)&&"inline-block"!==cssDisplay}function isPrevTrailingSpaceSensitiveCssDisplay(cssDisplay){return!isBlockLikeCssDisplay(cssDisplay)}function isNextLeadingSpaceSensitiveCssDisplay(cssDisplay){return!isBlockLikeCssDisplay(cssDisplay)}function isDanglingSpaceSensitiveCssDisplay(cssDisplay){return!isBlockLikeCssDisplay(cssDisplay)&&"inline-block"!==cssDisplay}function isPreLikeNode(node){return getNodeCssStyleWhiteSpace(node).startsWith("pre")}function countParents$1(path){for(var predicate=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(){return!0},counter=0,i=path.stack.length-1,value;0<=i;i--){value=path.stack[i];if(value&&"object"===_typeof(value)&&!Array.isArray(value)&&predicate(value)){counter++}}return counter}function hasParent(node,fn){var current=node;while(current){if(fn(current)){return!0}current=current.parent}return!1}function getNodeCssStyleDisplay(node,options){if(node.prev&&"comment"===node.prev.type){var match=node.prev.value.match(/^\s*display:\s*([a-z]+)\s*$/);if(match){return match[1]}}var isInSvgForeignObject=!1;if("element"===node.type&&"svg"===node.namespace){if(hasParent(node,function(parent){return"svg:foreignObject"===parent.fullName})){isInSvgForeignObject=!0}else{return"svg"===node.name?"inline-block":"block"}}switch(options.htmlWhitespaceSensitivity){case"strict":return"inline";case"ignore":return"block";default:return"element"===node.type&&(!node.namespace||isInSvgForeignObject)&&CSS_DISPLAY_TAGS[node.name]||CSS_DISPLAY_DEFAULT;}}function getNodeCssStyleWhiteSpace(node){return"element"===node.type&&!node.namespace&&CSS_WHITE_SPACE_TAGS[node.name]||CSS_WHITE_SPACE_DEFAULT}function getMinIndentation(text){var minIndentation=1/0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=text.split("\n")[Symbol.iterator](),_step2,lineText;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){lineText=_step2.value;if(0===lineText.length){continue}if(/\S/.test(lineText[0])){return 0}var indentation=lineText.match(/^\s*/)[0].length;if(lineText.length===indentation){continue}if(indentation<minIndentation){minIndentation=indentation}}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return minIndentation===1/0?0:minIndentation}function dedentString$1(text){var minIndent=1<arguments.length&&arguments[1]!==void 0?arguments[1]:getMinIndentation(text);return 0===minIndent?text:text.split("\n").map(function(lineText){return lineText.slice(minIndent)}).join("\n")}function normalizeParts$1(parts){var newParts=[],restParts=parts.slice();while(0!==restParts.length){var part=restParts.shift();if(!part){continue}if("concat"===part.type){Array.prototype.unshift.apply(restParts,part.parts);continue}if(0!==newParts.length&&"string"===typeof newParts[newParts.length-1]&&"string"===typeof part){newParts.push(newParts.pop()+part);continue}newParts.push(part)}return newParts}function identity(x){return x}function shouldNotPrintClosingTag$1(node,options){return!node.isSelfClosing&&!node.endSourceSpan&&(hasPrettierIgnore$1(node)||shouldPreserveContent$1(node.parent,options))}function countChars$1(text,char){for(var counter=0,i=0;i<text.length;i++){if(text[i]===char){counter++}}return counter}function unescapeQuoteEntities$1(text){return text.replace(/&apos;/g,"'").replace(/&quot;/g,"\"")}var utils$6={HTML_ELEMENT_ATTRIBUTES:HTML_ELEMENT_ATTRIBUTES,HTML_TAGS:HTML_TAGS,canHaveInterpolation:canHaveInterpolation,countChars:countChars$1,countParents:countParents$1,dedentString:dedentString$1,forceBreakChildren:forceBreakChildren$1,forceBreakContent:forceBreakContent$1,forceNextEmptyLine:forceNextEmptyLine$1,getLastDescendant:getLastDescendant$1,getNodeCssStyleDisplay:getNodeCssStyleDisplay,getNodeCssStyleWhiteSpace:getNodeCssStyleWhiteSpace,getPrettierIgnoreAttributeCommentData:getPrettierIgnoreAttributeCommentData$1,hasPrettierIgnore:hasPrettierIgnore$1,identity:identity,inferScriptParser:inferScriptParser$1,isDanglingSpaceSensitiveNode:isDanglingSpaceSensitiveNode,isFrontMatterNode:isFrontMatterNode,isIndentationSensitiveNode:isIndentationSensitiveNode,isLeadingSpaceSensitiveNode:isLeadingSpaceSensitiveNode,isPreLikeNode:isPreLikeNode,isScriptLikeTag:isScriptLikeTag$1,isTextLikeNode:isTextLikeNode$1,isTrailingSpaceSensitiveNode:isTrailingSpaceSensitiveNode,isWhitespaceSensitiveNode:isWhitespaceSensitiveNode,normalizeParts:normalizeParts$1,preferHardlineAsLeadingSpaces:preferHardlineAsLeadingSpaces$1,preferHardlineAsTrailingSpaces:preferHardlineAsTrailingSpaces,shouldNotPrintClosingTag:shouldNotPrintClosingTag$1,shouldPreserveContent:shouldPreserveContent$1,unescapeQuoteEntities:unescapeQuoteEntities$1},canHaveInterpolation$1=utils$6.canHaveInterpolation,getNodeCssStyleDisplay$1=utils$6.getNodeCssStyleDisplay,isDanglingSpaceSensitiveNode$1=utils$6.isDanglingSpaceSensitiveNode,isIndentationSensitiveNode$1=utils$6.isIndentationSensitiveNode,isLeadingSpaceSensitiveNode$1=utils$6.isLeadingSpaceSensitiveNode,isTrailingSpaceSensitiveNode$1=utils$6.isTrailingSpaceSensitiveNode,isWhitespaceSensitiveNode$1=utils$6.isWhitespaceSensitiveNode,PREPROCESS_PIPELINE=[removeIgnorableFirstLf,mergeIeConditonalStartEndCommentIntoElementOpeningTag,mergeCdataIntoText,extractInterpolation,extractWhitespaces,addCssDisplay,addIsSelfClosing,addHasHtmComponentClosingTag,addIsSpaceSensitive,mergeSimpleElementIntoText];function preprocess(ast,options){for(var _i=0,fn;_i<PREPROCESS_PIPELINE.length;_i++){fn=PREPROCESS_PIPELINE[_i];ast=fn(ast,options)}return ast}function removeIgnorableFirstLf(ast){return ast.map(function(node){if("element"===node.type&&node.tagDefinition.ignoreFirstLf&&0!==node.children.length&&"text"===node.children[0].type&&"\n"===node.children[0].value[0]){var text=node.children[0];return node.clone({children:1===text.value.length?node.children.slice(1):[].concat(text.clone({value:text.value.slice(1)}),node.children.slice(1))})}return node})}function mergeIeConditonalStartEndCommentIntoElementOpeningTag(ast){var isTarget=function isTarget(node){return"element"===node.type&&node.prev&&"ieConditionalStartComment"===node.prev.type&&node.prev.sourceSpan.end.offset===node.startSourceSpan.start.offset&&node.firstChild&&"ieConditionalEndComment"===node.firstChild.type&&node.firstChild.sourceSpan.start.offset===node.startSourceSpan.end.offset};return ast.map(function(node){if(node.children){var isTargetResults=node.children.map(isTarget);if(isTargetResults.some(Boolean)){for(var newChildren=[],i=0,child;i<node.children.length;i++){child=node.children[i];if(isTargetResults[i+1]){continue}if(isTargetResults[i]){var ieConditionalStartComment=child.prev,ieConditionalEndComment=child.firstChild,ParseSourceSpan=child.sourceSpan.constructor,startSourceSpan=new ParseSourceSpan(ieConditionalStartComment.sourceSpan.start,ieConditionalEndComment.sourceSpan.end),sourceSpan=new ParseSourceSpan(startSourceSpan.start,child.sourceSpan.end);newChildren.push(child.clone({condition:ieConditionalStartComment.condition,sourceSpan:sourceSpan,startSourceSpan:startSourceSpan,children:child.children.slice(1)}));continue}newChildren.push(child)}return node.clone({children:newChildren})}}return node})}function mergeNodeIntoText(ast,shouldMerge,getValue){return ast.map(function(node){if(node.children){var shouldMergeResults=node.children.map(shouldMerge);if(shouldMergeResults.some(Boolean)){for(var newChildren=[],i=0,child;i<node.children.length;i++){child=node.children[i];if("text"!==child.type&&!shouldMergeResults[i]){newChildren.push(child);continue}var newChild="text"===child.type?child:child.clone({type:"text",value:getValue(child)});if(0===newChildren.length||"text"!==newChildren[newChildren.length-1].type){newChildren.push(newChild);continue}var lastChild=newChildren.pop(),ParseSourceSpan=lastChild.sourceSpan.constructor;newChildren.push(lastChild.clone({value:lastChild.value+newChild.value,sourceSpan:new ParseSourceSpan(lastChild.sourceSpan.start,newChild.sourceSpan.end)}))}return node.clone({children:newChildren})}}return node})}function mergeCdataIntoText(ast){return mergeNodeIntoText(ast,function(node){return"cdata"===node.type},function(node){return"<![CDATA[".concat(node.value,"]]>")})}function mergeSimpleElementIntoText(ast){var isSimpleElement=function isSimpleElement(node){return"element"===node.type&&0===node.attrs.length&&1===node.children.length&&"text"===node.firstChild.type&&!/[^\S\xA0]/.test(node.children[0].value)&&!node.firstChild.hasLeadingSpaces&&!node.firstChild.hasTrailingSpaces&&node.isLeadingSpaceSensitive&&!node.hasLeadingSpaces&&node.isTrailingSpaceSensitive&&!node.hasTrailingSpaces&&node.prev&&"text"===node.prev.type&&node.next&&"text"===node.next.type};return ast.map(function(node){if(node.children){var isSimpleElementResults=node.children.map(isSimpleElement);if(isSimpleElementResults.some(Boolean)){for(var newChildren=[],i=0,child;i<node.children.length;i++){child=node.children[i];if(isSimpleElementResults[i]){var lastChild=newChildren.pop(),nextChild=node.children[++i],ParseSourceSpan=node.sourceSpan.constructor,isTrailingSpaceSensitive=nextChild.isTrailingSpaceSensitive,hasTrailingSpaces=nextChild.hasTrailingSpaces;newChildren.push(lastChild.clone({value:lastChild.value+"<".concat(child.rawName,">")+child.firstChild.value+"</".concat(child.rawName,">")+nextChild.value,sourceSpan:new ParseSourceSpan(lastChild.sourceSpan.start,nextChild.sourceSpan.end),isTrailingSpaceSensitive:isTrailingSpaceSensitive,hasTrailingSpaces:hasTrailingSpaces}))}else{newChildren.push(child)}}return node.clone({children:newChildren})}}return node})}function extractInterpolation(ast,options){if("html"===options.parser){return ast}var interpolationRegex=/\{\{([\s\S]+?)\}\}/g;return ast.map(function(node){if(!canHaveInterpolation$1(node)){return node}var newChildren=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=node.children[Symbol.iterator](),_step,child;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){child=_step.value;if("text"!==child.type){newChildren.push(child);continue}for(var ParseSourceSpan=child.sourceSpan.constructor,startSourceSpan=child.sourceSpan.start,endSourceSpan=null,components=child.value.split(interpolationRegex),i=0,value;i<components.length;i++,startSourceSpan=endSourceSpan){value=components[i];if(0===i%2){endSourceSpan=startSourceSpan.moveBy(value.length);if(0!==value.length){newChildren.push({type:"text",value:value,sourceSpan:new ParseSourceSpan(startSourceSpan,endSourceSpan)})}continue}endSourceSpan=startSourceSpan.moveBy(value.length+4);newChildren.push({type:"interpolation",sourceSpan:new ParseSourceSpan(startSourceSpan,endSourceSpan),children:0===value.length?[]:[{type:"text",value:value,sourceSpan:new ParseSourceSpan(startSourceSpan.moveBy(2),endSourceSpan.moveBy(-2))}]})}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return node.clone({children:newChildren})})}function extractWhitespaces(ast){var TYPE_WHITESPACE="whitespace";return ast.map(function(node){if(!node.children){return node}if(0===node.children.length||1===node.children.length&&"text"===node.children[0].type&&0===node.children[0].value.trim().length){return node.clone({children:[],hasDanglingSpaces:0!==node.children.length})}var isWhitespaceSensitive=isWhitespaceSensitiveNode$1(node),isIndentationSensitive=isIndentationSensitiveNode$1(node);return node.clone({isWhitespaceSensitive:isWhitespaceSensitive,isIndentationSensitive:isIndentationSensitive,children:node.children.reduce(function(newChildren,child){if("text"!==child.type||isWhitespaceSensitive){return newChildren.concat(child)}var localChildren=[],_child$value$match=child.value.match(/^(\s*)([\s\S]*?)(\s*)$/),_child$value$match2=_slicedToArray(_child$value$match,4),leadingSpaces=_child$value$match2[1],text=_child$value$match2[2],trailingSpaces=_child$value$match2[3];if(leadingSpaces){localChildren.push({type:TYPE_WHITESPACE})}var ParseSourceSpan=child.sourceSpan.constructor;if(text){localChildren.push({type:"text",value:text,sourceSpan:new ParseSourceSpan(child.sourceSpan.start.moveBy(leadingSpaces.length),child.sourceSpan.end.moveBy(-trailingSpaces.length))})}if(trailingSpaces){localChildren.push({type:TYPE_WHITESPACE})}return newChildren.concat(localChildren)},[]).reduce(function(newChildren,child,i,children){if(child.type===TYPE_WHITESPACE){return newChildren}var hasLeadingSpaces=0!==i&&children[i-1].type===TYPE_WHITESPACE,hasTrailingSpaces=i!==children.length-1&&children[i+1].type===TYPE_WHITESPACE;return newChildren.concat(Object.assign({},child,{hasLeadingSpaces:hasLeadingSpaces,hasTrailingSpaces:hasTrailingSpaces}))},[])})})}function addIsSelfClosing(ast){return ast.map(function(node){return Object.assign(node,{isSelfClosing:!node.children||"element"===node.type&&(node.tagDefinition.isVoid||node.startSourceSpan===node.endSourceSpan)})})}function addHasHtmComponentClosingTag(ast,options){return ast.map(function(node){return"element"!==node.type?node:Object.assign(node,{hasHtmComponentClosingTag:node.endSourceSpan&&/^<\s*\/\s*\/\s*>$/.test(options.originalText.slice(node.endSourceSpan.start.offset,node.endSourceSpan.end.offset))})})}function addCssDisplay(ast,options){return ast.map(function(node){return Object.assign(node,{cssDisplay:getNodeCssStyleDisplay$1(node,options)})})}function addIsSpaceSensitive(ast){return ast.map(function(node){if(!node.children){return node}if(0===node.children.length){return node.clone({isDanglingSpaceSensitive:isDanglingSpaceSensitiveNode$1(node)})}return node.clone({children:node.children.map(function(child){return Object.assign({},child,{isLeadingSpaceSensitive:isLeadingSpaceSensitiveNode$1(child),isTrailingSpaceSensitive:isTrailingSpaceSensitiveNode$1(child)})}).map(function(child,index,children){return Object.assign({},child,{isLeadingSpaceSensitive:0===index?child.isLeadingSpaceSensitive:children[index-1].isTrailingSpaceSensitive&&child.isLeadingSpaceSensitive,isTrailingSpaceSensitive:index===children.length-1?child.isTrailingSpaceSensitive:children[index+1].isLeadingSpaceSensitive&&child.isTrailingSpaceSensitive})})})})}var preprocess_1=preprocess;function hasPragma$3(text){return /^\s*\x3c!--\s*@(format|prettier)\s*--\x3e/.test(text)}function insertPragma$6(text){return"<!-- @format -->\n\n"+text.replace(/^\s*\n/,"")}var pragma$6={hasPragma:hasPragma$3,insertPragma:insertPragma$6},_require$$0$builders$4=doc.builders,concat$9=_require$$0$builders$4.concat,group$9=_require$$0$builders$4.group;function printVueFor$1(value,textToDoc){var _parseVueFor=parseVueFor(value),left=_parseVueFor.left,operator=_parseVueFor.operator,right=_parseVueFor.right;return concat$9([group$9(textToDoc("function _(".concat(left,") {}"),{parser:"babel",__isVueForBindingLeft:!0}))," ",operator," ",textToDoc(right,{parser:"__js_expression"})])}function parseVueFor(value){var forAliasRE=/([^]*?)\s+(in|of)\s+([^]*)/,forIteratorRE=/,([^,}\]]*)(?:,([^,}\]]*))?$/,stripParensRE=/^\(|\)$/g,inMatch=value.match(forAliasRE);if(!inMatch){return}var res={for:inMatch[3].trim()},alias=inMatch[1].trim().replace(stripParensRE,""),iteratorMatch=alias.match(forIteratorRE);if(iteratorMatch){res.alias=alias.replace(forIteratorRE,"");res.iterator1=iteratorMatch[1].trim();if(iteratorMatch[2]){res.iterator2=iteratorMatch[2].trim()}}else{res.alias=alias}return{left:"".concat([res.alias,res.iterator1,res.iterator2].filter(Boolean).join(",")),operator:inMatch[2],right:res.for}}function printVueSlotScope$1(value,textToDoc){return textToDoc("function _(".concat(value,") {}"),{parser:"babel",__isVueSlotScope:!0})}function isVueEventBindingExpression$1(eventBindingValue){var fnExpRE=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,simplePathRE=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,value=eventBindingValue.trim();return fnExpRE.test(value)||simplePathRE.test(value)}var syntaxVue={isVueEventBindingExpression:isVueEventBindingExpression$1,printVueFor:printVueFor$1,printVueSlotScope:printVueSlotScope$1},parseSrcset=createCommonjsModule(function(module){(function(root,factory){if("function"===typeof void 0){(void 0)([],factory)}else if(module.exports){module.exports=factory()}else{root.parseSrcset=factory()}})(commonjsGlobal,function(){return function(input,options){var logger=options&&options.logger||console;function isSpace(c){return" "===c||"\t"===c||"\n"===c||"\f"===c||"\r"===c}function collectCharacters(regEx){var chars,match=regEx.exec(input.substring(pos));if(match){chars=match[0];pos+=chars.length;return chars}}var inputLength=input.length,regexLeadingSpaces=/^[ \t\n\r\u000c]+/,regexLeadingCommasOrSpaces=/^[, \t\n\r\u000c]+/,regexLeadingNotSpaces=/^[^ \t\n\r\u000c]+/,regexTrailingCommas=/[,]+$/,regexNonNegativeInteger=/^\d+$/,regexFloatingPoint=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,url,descriptors,currentDescriptor,state,c,pos=0,candidates=[];while(!0){collectCharacters(regexLeadingCommasOrSpaces);if(pos>=inputLength){return candidates}url=collectCharacters(regexLeadingNotSpaces);descriptors=[];if(","===url.slice(-1)){url=url.replace(regexTrailingCommas,"");parseDescriptors()}else{tokenize()}}function tokenize(){collectCharacters(regexLeadingSpaces);currentDescriptor="";state="in descriptor";while(!0){c=input.charAt(pos);if("in descriptor"===state){if(isSpace(c)){if(currentDescriptor){descriptors.push(currentDescriptor);currentDescriptor="";state="after descriptor"}}else if(","===c){pos+=1;if(currentDescriptor){descriptors.push(currentDescriptor)}parseDescriptors();return}else if("("===c){currentDescriptor=currentDescriptor+c;state="in parens"}else if(""===c){if(currentDescriptor){descriptors.push(currentDescriptor)}parseDescriptors();return}else{currentDescriptor=currentDescriptor+c}}else if("in parens"===state){if(")"===c){currentDescriptor=currentDescriptor+c;state="in descriptor"}else if(""===c){descriptors.push(currentDescriptor);parseDescriptors();return}else{currentDescriptor=currentDescriptor+c}}else if("after descriptor"===state){if(isSpace(c)){}else if(""===c){parseDescriptors();return}else{state="in descriptor";pos-=1}}pos+=1}}function parseDescriptors(){var pError=!1,w,d,h,i,candidate={},desc,lastChar,value,intVal,floatVal;for(i=0;i<descriptors.length;i++){desc=descriptors[i];lastChar=desc[desc.length-1];value=desc.substring(0,desc.length-1);intVal=parseInt(value,10);floatVal=parseFloat(value);if(regexNonNegativeInteger.test(value)&&"w"===lastChar){if(w||d){pError=!0}if(0===intVal){pError=!0}else{w=intVal}}else if(regexFloatingPoint.test(value)&&"x"===lastChar){if(w||d||h){pError=!0}if(0>floatVal){pError=!0}else{d=floatVal}}else if(regexNonNegativeInteger.test(value)&&"h"===lastChar){if(h||d){pError=!0}if(0===intVal){pError=!0}else{h=intVal}}else{pError=!0}}if(!pError){candidate.url=url;if(w){candidate.w=w}if(d){candidate.d=d}if(h){candidate.h=h}candidates.push(candidate)}else if(logger&&logger.error){logger.error("Invalid srcset descriptor found in '"+input+"' at '"+desc+"'.")}}}})}),_require$$0$builders$5=doc.builders,concat$10=_require$$0$builders$5.concat,ifBreak$5=_require$$0$builders$5.ifBreak,join$6=_require$$0$builders$5.join,line$7=_require$$0$builders$5.line;function printImgSrcset$1(value){var srcset=parseSrcset(value,{logger:{error:function error(message){throw new Error(message)}}}),hasW=srcset.some(function(src){return src.w}),hasH=srcset.some(function(src){return src.h}),hasX=srcset.some(function(src){return src.d});if(1!==hasW+hasH+hasX){throw new Error("Mixed descriptor in srcset is not supported")}var key=hasW?"w":hasH?"h":"d",unit=hasW?"w":hasH?"h":"x",getMax=function getMax(values){return _Mathmax.apply(Math,values)},urls=srcset.map(function(src){return src.url}),maxUrlLength=getMax(urls.map(function(url){return url.length})),descriptors=srcset.map(function(src){return src[key]}).map(function(descriptor){return descriptor?descriptor.toString():""}),descriptorLeftLengths=descriptors.map(function(descriptor){var index=descriptor.indexOf(".");return-1===index?descriptor.length:index}),maxDescriptorLeftLength=getMax(descriptorLeftLengths);return join$6(concat$10([",",line$7]),urls.map(function(url,index){var parts=[url],descriptor=descriptors[index];if(descriptor){var urlPadding=maxUrlLength-url.length+1,descriptorPadding=maxDescriptorLeftLength-descriptorLeftLengths[index],alignment=" ".repeat(urlPadding+descriptorPadding);parts.push(ifBreak$5(alignment," "),descriptor+unit)}return concat$10(parts)}))}var syntaxAttribute={printImgSrcset:printImgSrcset$1},builders=doc.builders,_require$$0$utils=doc.utils,stripTrailingHardline$1=_require$$0$utils.stripTrailingHardline,mapDoc$4=_require$$0$utils.mapDoc,breakParent$2=builders.breakParent,dedentToRoot$1=builders.dedentToRoot,fill$3=builders.fill,group$8=builders.group,hardline$7=builders.hardline,ifBreak$4=builders.ifBreak,indent$5=builders.indent,join$5=builders.join,line$6=builders.line,literalline$2=builders.literalline,markAsRoot$2=builders.markAsRoot,softline$4=builders.softline,countChars=utils$6.countChars,countParents=utils$6.countParents,dedentString=utils$6.dedentString,forceBreakChildren=utils$6.forceBreakChildren,forceBreakContent=utils$6.forceBreakContent,forceNextEmptyLine=utils$6.forceNextEmptyLine,getLastDescendant=utils$6.getLastDescendant,getPrettierIgnoreAttributeCommentData=utils$6.getPrettierIgnoreAttributeCommentData,hasPrettierIgnore=utils$6.hasPrettierIgnore,inferScriptParser=utils$6.inferScriptParser,isScriptLikeTag=utils$6.isScriptLikeTag,isTextLikeNode=utils$6.isTextLikeNode,normalizeParts=utils$6.normalizeParts,preferHardlineAsLeadingSpaces=utils$6.preferHardlineAsLeadingSpaces,shouldNotPrintClosingTag=utils$6.shouldNotPrintClosingTag,shouldPreserveContent=utils$6.shouldPreserveContent,unescapeQuoteEntities=utils$6.unescapeQuoteEntities,replaceEndOfLineWith$1=util.replaceEndOfLineWith,insertPragma$5=pragma$6.insertPragma,printVueFor=syntaxVue.printVueFor,printVueSlotScope=syntaxVue.printVueSlotScope,isVueEventBindingExpression=syntaxVue.isVueEventBindingExpression,printImgSrcset=syntaxAttribute.printImgSrcset;function concat$8(parts){var newParts=normalizeParts(parts);return 0===newParts.length?"":1===newParts.length?newParts[0]:builders.concat(newParts)}function embed$2(path,print,textToDoc,options){var node=path.getValue();switch(node.type){case"text":{if(isScriptLikeTag(node.parent)){var parser=inferScriptParser(node.parent);if(parser){var value="markdown"===parser?dedentString(node.value.replace(/^[^\S\n]*?\n/,"")):node.value;return builders.concat([concat$8([breakParent$2,printOpeningTagPrefix(node,options),stripTrailingHardline$1(textToDoc(value,{parser:parser})),printClosingTagSuffix(node,options)])])}}else if("interpolation"===node.parent.type){return concat$8([indent$5(concat$8([line$6,textToDoc(node.value,Object.assign({__isInHtmlInterpolation:!0},"angular"===options.parser?{parser:"__ng_interpolation",trailingComma:"none"}:"vue"===options.parser?{parser:"__vue_expression"}:{parser:"__js_expression"}))])),node.parent.next&&needsToBorrowPrevClosingTagEndMarker(node.parent.next)?" ":line$6])}break}case"attribute":{if(!node.value){break}if(/^PRETTIER_HTML_PLACEHOLDER_\d+_IN_JS$/.test(options.originalText.slice(node.valueSpan.start.offset,node.valueSpan.end.offset))){return concat$8([node.rawName,"=",node.value])}var embeddedAttributeValueDoc=printEmbeddedAttributeValue(node,function(code,opts){return textToDoc(code,Object.assign({__isInHtmlAttribute:!0},opts))},options);if(embeddedAttributeValueDoc){return concat$8([node.rawName,"=\"",group$8(mapDoc$4(embeddedAttributeValueDoc,function(doc$$2){return"string"===typeof doc$$2?doc$$2.replace(/"/g,"&quot;"):doc$$2})),"\""])}break}case"yaml":return markAsRoot$2(concat$8(["---",hardline$7,0===node.value.trim().length?"":textToDoc(node.value,{parser:"yaml"}),"---"]));}}function genericPrint$2(path,options,print){var node=path.getValue();switch(node.type){case"root":return builders.concat([group$8(printChildren(path,options,print)),hardline$7]);case"element":case"ieConditionalComment":{var shouldHugContent=1===node.children.length&&"interpolation"===node.firstChild.type&&node.firstChild.isLeadingSpaceSensitive&&!node.firstChild.hasLeadingSpaces&&node.lastChild.isTrailingSpaceSensitive&&!node.lastChild.hasTrailingSpaces,attrGroupId=Symbol("element-attr-group-id");return concat$8([group$8(concat$8([group$8(printOpeningTag(path,options,print),{id:attrGroupId}),0===node.children.length?node.hasDanglingSpaces&&node.isDanglingSpaceSensitive?line$6:"":concat$8([forceBreakContent(node)?breakParent$2:"",function(childrenDoc){return shouldHugContent?ifBreak$4(indent$5(childrenDoc),childrenDoc,{groupId:attrGroupId}):isScriptLikeTag(node)&&"root"===node.parent.type&&"vue"===options.parser?childrenDoc:indent$5(childrenDoc)}(concat$8([shouldHugContent?ifBreak$4(softline$4,"",{groupId:attrGroupId}):node.firstChild.hasLeadingSpaces&&node.firstChild.isLeadingSpaceSensitive?line$6:"text"===node.firstChild.type&&node.isWhitespaceSensitive&&node.isIndentationSensitive?dedentToRoot$1(softline$4):softline$4,printChildren(path,options,print)])),(node.next?needsToBorrowPrevClosingTagEndMarker(node.next):needsToBorrowLastChildClosingTagEndMarker(node.parent))?node.lastChild.hasTrailingSpaces&&node.lastChild.isTrailingSpaceSensitive?" ":"":shouldHugContent?ifBreak$4(softline$4,"",{groupId:attrGroupId}):node.lastChild.hasTrailingSpaces&&node.lastChild.isTrailingSpaceSensitive?line$6:("comment"===node.lastChild.type||"text"===node.lastChild.type&&node.isWhitespaceSensitive&&node.isIndentationSensitive)&&new RegExp("\\n\\s{".concat(options.tabWidth*countParents(path,function(n){return n.parent&&"root"!==n.parent.type}),"}$")).test(node.lastChild.value)?"":softline$4])])),printClosingTag(node,options)])}case"ieConditionalStartComment":case"ieConditionalEndComment":return concat$8([printOpeningTagStart(node),printClosingTagEnd(node)]);case"interpolation":return concat$8([printOpeningTagStart(node,options),concat$8(path.map(print,"children")),printClosingTagEnd(node,options)]);case"text":{if("interpolation"===node.parent.type){var trailingNewlineRegex=/\n[^\S\n]*?$/,hasTrailingNewline=trailingNewlineRegex.test(node.value),value=hasTrailingNewline?node.value.replace(trailingNewlineRegex,""):node.value;return concat$8([concat$8(replaceEndOfLineWith$1(value,literalline$2)),hasTrailingNewline?hardline$7:""])}return fill$3(normalizeParts([].concat(printOpeningTagPrefix(node,options),getTextValueParts(node),printClosingTagSuffix(node,options))))}case"docType":return concat$8([group$8(concat$8([printOpeningTagStart(node,options)," ",node.value.replace(/^html\b/i,"html").replace(/\s+/g," ")])),printClosingTagEnd(node,options)]);case"comment":{return concat$8([printOpeningTagPrefix(node,options),concat$8(replaceEndOfLineWith$1(options.originalText.slice(options.locStart(node),options.locEnd(node)),literalline$2)),printClosingTagSuffix(node,options)])}case"attribute":{if(null===node.value){return node.rawName}var _value=unescapeQuoteEntities(node.value),singleQuoteCount=countChars(_value,"'"),doubleQuoteCount=countChars(_value,"\""),quote=singleQuoteCount<doubleQuoteCount?"'":"\"";return concat$8([node.rawName,concat$8(["=",quote,concat$8(replaceEndOfLineWith$1("\""===quote?_value.replace(/"/g,"&quot;"):_value.replace(/'/g,"&apos;"),literalline$2)),quote])])}case"yaml":case"toml":return concat$8(replaceEndOfLineWith$1(node.raw,literalline$2));default:throw new Error("Unexpected node type ".concat(node.type));}}function printChildren(path,options,print){var node=path.getValue();if(forceBreakChildren(node)){return concat$8([breakParent$2,concat$8(path.map(function(childPath){var childNode=childPath.getValue(),prevBetweenLine=!childNode.prev?"":printBetweenLine(childNode.prev,childNode);return concat$8([!prevBetweenLine?"":concat$8([prevBetweenLine,forceNextEmptyLine(childNode.prev)?hardline$7:""]),printChild(childPath)])},"children"))])}var groupIds=node.children.map(function(){return Symbol("")});return concat$8(path.map(function(childPath,childIndex){var childNode=childPath.getValue();if(isTextLikeNode(childNode)){if(childNode.prev&&isTextLikeNode(childNode.prev)){var _prevBetweenLine=printBetweenLine(childNode.prev,childNode);if(_prevBetweenLine){if(forceNextEmptyLine(childNode.prev)){return concat$8([hardline$7,hardline$7,printChild(childPath)])}return concat$8([_prevBetweenLine,printChild(childPath)])}}return printChild(childPath)}var prevParts=[],leadingParts=[],trailingParts=[],nextParts=[],prevBetweenLine=childNode.prev?printBetweenLine(childNode.prev,childNode):"",nextBetweenLine=childNode.next?printBetweenLine(childNode,childNode.next):"";if(prevBetweenLine){if(forceNextEmptyLine(childNode.prev)){prevParts.push(hardline$7,hardline$7)}else if(prevBetweenLine===hardline$7){prevParts.push(hardline$7)}else{if(isTextLikeNode(childNode.prev)){leadingParts.push(prevBetweenLine)}else{leadingParts.push(ifBreak$4("",softline$4,{groupId:groupIds[childIndex-1]}))}}}if(nextBetweenLine){if(forceNextEmptyLine(childNode)){if(isTextLikeNode(childNode.next)){nextParts.push(hardline$7,hardline$7)}}else if(nextBetweenLine===hardline$7){if(isTextLikeNode(childNode.next)){nextParts.push(hardline$7)}}else{trailingParts.push(nextBetweenLine)}}return concat$8([].concat(prevParts,group$8(concat$8([concat$8(leadingParts),group$8(concat$8([printChild(childPath),concat$8(trailingParts)]),{id:groupIds[childIndex]})])),nextParts))},"children"));function printChild(childPath){var child=childPath.getValue();if(hasPrettierIgnore(child)){return concat$8([].concat(printOpeningTagPrefix(child,options),replaceEndOfLineWith$1(options.originalText.slice(options.locStart(child)+(child.prev&&needsToBorrowNextOpeningTagStartMarker(child.prev)?printOpeningTagStartMarker(child).length:0),options.locEnd(child)-(child.next&&needsToBorrowPrevClosingTagEndMarker(child.next)?printClosingTagEndMarker(child,options).length:0)),literalline$2),printClosingTagSuffix(child,options)))}if(shouldPreserveContent(child,options)){return concat$8([].concat(printOpeningTagPrefix(child,options),group$8(printOpeningTag(childPath,options,print)),replaceEndOfLineWith$1(options.originalText.slice(child.startSourceSpan.end.offset+(child.firstChild&&needsToBorrowParentOpeningTagEndMarker(child.firstChild)?-printOpeningTagEndMarker(child).length:0),child.endSourceSpan.start.offset+(child.lastChild&&needsToBorrowParentClosingTagStartMarker(child.lastChild)?printClosingTagStartMarker(child,options).length:needsToBorrowLastChildClosingTagEndMarker(child)?-printClosingTagEndMarker(child.lastChild,options).length:0)),literalline$2),printClosingTag(child,options),printClosingTagSuffix(child,options)))}return print(childPath)}function printBetweenLine(prevNode,nextNode){return isTextLikeNode(prevNode)&&isTextLikeNode(nextNode)?prevNode.isTrailingSpaceSensitive?prevNode.hasTrailingSpaces?preferHardlineAsLeadingSpaces(nextNode)?hardline$7:line$6:"":preferHardlineAsLeadingSpaces(nextNode)?hardline$7:softline$4:needsToBorrowNextOpeningTagStartMarker(prevNode)&&(nextNode.firstChild||nextNode.isSelfClosing||"element"===nextNode.type&&0!==nextNode.attrs.length)||"element"===prevNode.type&&prevNode.isSelfClosing&&needsToBorrowPrevClosingTagEndMarker(nextNode)?"":!nextNode.isLeadingSpaceSensitive||preferHardlineAsLeadingSpaces(nextNode)||needsToBorrowPrevClosingTagEndMarker(nextNode)&&prevNode.lastChild&&needsToBorrowParentClosingTagStartMarker(prevNode.lastChild)&&prevNode.lastChild.lastChild&&needsToBorrowParentClosingTagStartMarker(prevNode.lastChild.lastChild)?hardline$7:nextNode.hasLeadingSpaces?line$6:softline$4}}function printOpeningTag(path,options,print){var node=path.getValue(),forceNotToBreakAttrContent="element"===node.type&&"script"===node.fullName&&1===node.attrs.length&&"src"===node.attrs[0].fullName&&0===node.children.length;return concat$8([printOpeningTagStart(node,options),!node.attrs||0===node.attrs.length?node.isSelfClosing?" ":"":concat$8([indent$5(concat$8([forceNotToBreakAttrContent?" ":line$6,join$5(line$6,function(ignoreAttributeData){var hasPrettierIgnoreAttribute="boolean"===typeof ignoreAttributeData?function(){return ignoreAttributeData}:Array.isArray(ignoreAttributeData)?function(attr){return-1!==ignoreAttributeData.indexOf(attr.rawName)}:function(){return!1};return path.map(function(attrPath){var attr=attrPath.getValue();return hasPrettierIgnoreAttribute(attr)?concat$8(replaceEndOfLineWith$1(options.originalText.slice(options.locStart(attr),options.locEnd(attr)),literalline$2)):print(attrPath)},"attrs")}(node.prev&&"comment"===node.prev.type&&getPrettierIgnoreAttributeCommentData(node.prev.value)))])),node.firstChild&&needsToBorrowParentOpeningTagEndMarker(node.firstChild)||node.isSelfClosing&&needsToBorrowLastChildClosingTagEndMarker(node.parent)?"":node.isSelfClosing?forceNotToBreakAttrContent?" ":line$6:forceNotToBreakAttrContent?"":softline$4]),node.isSelfClosing?"":printOpeningTagEnd(node)])}function printOpeningTagStart(node,options){return node.prev&&needsToBorrowNextOpeningTagStartMarker(node.prev)?"":concat$8([printOpeningTagPrefix(node,options),printOpeningTagStartMarker(node)])}function printOpeningTagEnd(node){return node.firstChild&&needsToBorrowParentOpeningTagEndMarker(node.firstChild)?"":printOpeningTagEndMarker(node)}function printClosingTag(node,options){return concat$8([node.isSelfClosing?"":printClosingTagStart(node,options),printClosingTagEnd(node,options)])}function printClosingTagStart(node,options){return node.lastChild&&needsToBorrowParentClosingTagStartMarker(node.lastChild)?"":concat$8([printClosingTagPrefix(node,options),printClosingTagStartMarker(node,options)])}function printClosingTagEnd(node,options){return(node.next?needsToBorrowPrevClosingTagEndMarker(node.next):needsToBorrowLastChildClosingTagEndMarker(node.parent))?"":concat$8([printClosingTagEndMarker(node,options),printClosingTagSuffix(node,options)])}function needsToBorrowNextOpeningTagStartMarker(node){return node.next&&!isTextLikeNode(node.next)&&isTextLikeNode(node)&&node.isTrailingSpaceSensitive&&!node.hasTrailingSpaces}function needsToBorrowParentOpeningTagEndMarker(node){return!node.prev&&node.isLeadingSpaceSensitive&&!node.hasLeadingSpaces}function needsToBorrowPrevClosingTagEndMarker(node){return node.prev&&!isTextLikeNode(node.prev)&&node.isLeadingSpaceSensitive&&!node.hasLeadingSpaces}function needsToBorrowLastChildClosingTagEndMarker(node){return node.lastChild&&node.lastChild.isTrailingSpaceSensitive&&!node.lastChild.hasTrailingSpaces&&!isTextLikeNode(getLastDescendant(node.lastChild))}function needsToBorrowParentClosingTagStartMarker(node){return!node.next&&!node.hasTrailingSpaces&&node.isTrailingSpaceSensitive&&isTextLikeNode(getLastDescendant(node))}function printOpeningTagPrefix(node,options){return needsToBorrowParentOpeningTagEndMarker(node)?printOpeningTagEndMarker(node.parent):needsToBorrowPrevClosingTagEndMarker(node)?printClosingTagEndMarker(node.prev,options):""}function printClosingTagPrefix(node,options){return needsToBorrowLastChildClosingTagEndMarker(node)?printClosingTagEndMarker(node.lastChild,options):""}function printClosingTagSuffix(node,options){return needsToBorrowParentClosingTagStartMarker(node)?printClosingTagStartMarker(node.parent,options):needsToBorrowNextOpeningTagStartMarker(node)?printOpeningTagStartMarker(node.next):""}function printOpeningTagStartMarker(node){switch(node.type){case"ieConditionalComment":case"ieConditionalStartComment":return"<!--[if ".concat(node.condition);case"ieConditionalEndComment":return"<!--<!";case"interpolation":return"{{";case"docType":return"<!DOCTYPE";case"element":if(node.condition){return"<!--[if ".concat(node.condition,"]><!--><").concat(node.rawName)}default:return"<".concat(node.rawName);}}function printOpeningTagEndMarker(node){assert$3(!node.isSelfClosing);switch(node.type){case"ieConditionalComment":return"]>";case"element":if(node.condition){return"><!--<![endif]-->"}default:return">";}}function printClosingTagStartMarker(node,options){assert$3(!node.isSelfClosing);if(shouldNotPrintClosingTag(node,options)){return""}switch(node.type){case"ieConditionalComment":return"<!";case"element":if(node.hasHtmComponentClosingTag){return"<//"}default:return"</".concat(node.rawName);}}function printClosingTagEndMarker(node,options){if(shouldNotPrintClosingTag(node,options)){return""}switch(node.type){case"ieConditionalComment":case"ieConditionalEndComment":return"[endif]-->";case"ieConditionalStartComment":return"]><!-->";case"interpolation":return"}}";case"element":if(node.isSelfClosing){return"/>"}default:return">";}}function getTextValueParts(node){var value=1<arguments.length&&arguments[1]!==void 0?arguments[1]:node.value;return node.parent.isWhitespaceSensitive?node.parent.isIndentationSensitive?replaceEndOfLineWith$1(value,literalline$2):replaceEndOfLineWith$1(dedentString(value.replace(/^\s*?\n|\n\s*?$/g,"")),hardline$7):join$5(line$6,value.split(/[\t\n\f\r ]+/)).parts}function printEmbeddedAttributeValue(node,originalTextToDoc,options){var isKeyMatched=function isKeyMatched(patterns){return new RegExp(patterns.join("|")).test(node.fullName)},getValue=function getValue(){return unescapeQuoteEntities(node.value)},shouldHug=!1,__onHtmlBindingRoot=function __onHtmlBindingRoot(root){var rootNode="NGRoot"===root.type?"NGMicrosyntax"===root.node.type&&1===root.node.body.length&&"NGMicrosyntaxExpression"===root.node.body[0].type?root.node.body[0].expression:root.node:"JsExpressionRoot"===root.type?root.node:root;if(rootNode&&("ObjectExpression"===rootNode.type||"ArrayExpression"===rootNode.type)){shouldHug=!0}},printHug=function printHug(doc$$2){return group$8(doc$$2)},printExpand=function printExpand(doc$$2){return group$8(concat$8([indent$5(concat$8([softline$4,doc$$2])),softline$4]))},printMaybeHug=function printMaybeHug(doc$$2){return shouldHug?printHug(doc$$2):printExpand(doc$$2)},textToDoc=function textToDoc(code,opts){return originalTextToDoc(code,Object.assign({__onHtmlBindingRoot:__onHtmlBindingRoot},opts))};if("srcset"===node.fullName&&("img"===node.parent.fullName||"source"===node.parent.fullName)){return printExpand(printImgSrcset(getValue()))}if("vue"===options.parser){if("v-for"===node.fullName){return printVueFor(getValue(),textToDoc)}if("slot-scope"===node.fullName){return printVueSlotScope(getValue(),textToDoc)}var vueEventBindingPatterns=["^@","^v-on:"],vueExpressionBindingPatterns=["^:","^v-bind:"],jsExpressionBindingPatterns=["^v-"];if(isKeyMatched(vueEventBindingPatterns)){var value=getValue();return printMaybeHug(isVueEventBindingExpression(value)?textToDoc(value,{parser:"__js_expression"}):stripTrailingHardline$1(textToDoc(value,{parser:"__vue_event_binding"})))}if(isKeyMatched(vueExpressionBindingPatterns)){return printMaybeHug(textToDoc(getValue(),{parser:"__vue_expression"}))}if(isKeyMatched(jsExpressionBindingPatterns)){return printMaybeHug(textToDoc(getValue(),{parser:"__js_expression"}))}}if("angular"===options.parser){var ngTextToDoc=function ngTextToDoc(code,opts){return textToDoc(code,Object.assign({trailingComma:"none"},opts))},ngDirectiveBindingPatterns=["^\\*"],ngStatementBindingPatterns=["^\\(.+\\)$","^on-"],ngExpressionBindingPatterns=["^\\[.+\\]$","^bind(on)?-"];if(isKeyMatched(ngStatementBindingPatterns)){return printMaybeHug(ngTextToDoc(getValue(),{parser:"__ng_action"}))}if(isKeyMatched(ngExpressionBindingPatterns)){return printMaybeHug(ngTextToDoc(getValue(),{parser:"__ng_binding"}))}if(isKeyMatched(ngDirectiveBindingPatterns)){return printMaybeHug(ngTextToDoc(getValue(),{parser:"__ng_directive"}))}var interpolationRegex=/\{\{([\s\S]+?)\}\}/g,_value2=getValue();if(interpolationRegex.test(_value2)){var parts=[];_value2.split(interpolationRegex).forEach(function(part,index){if(0===index%2){parts.push(concat$8(replaceEndOfLineWith$1(part,literalline$2)))}else{try{parts.push(group$8(concat$8(["{{",indent$5(concat$8([line$6,ngTextToDoc(part,{parser:"__ng_interpolation",__isInHtmlInterpolation:!0})])),line$6,"}}"])))}catch(e){parts.push("{{",concat$8(replaceEndOfLineWith$1(part,literalline$2)),"}}")}}});return group$8(concat$8(parts))}}return null}var printerHtml={preprocess:preprocess_1,print:genericPrint$2,insertPragma:insertPragma$5,massageAstNode:clean$4,embed:embed$2},CATEGORY_HTML="HTML",options$9={htmlWhitespaceSensitivity:{since:"1.15.0",category:CATEGORY_HTML,type:"choice",default:"css",description:"How to handle whitespaces in HTML.",choices:[{value:"css",description:"Respect the default value of CSS display property."},{value:"strict",description:"Whitespaces are considered sensitive."},{value:"ignore",description:"Whitespaces are considered insensitive."}]}},name$7="HTML",type$6="markup",tmScope$6="text.html.basic",aceMode$6="html",codemirrorMode$3="htmlmixed",codemirrorMimeType$3="text/html",color$1="#e34c26",aliases$1=["xhtml"],extensions$6=[".html",".htm",".html.hl",".inc",".st",".xht",".xhtml"],languageId$6=146,html$1={name:name$7,type:type$6,tmScope:tmScope$6,aceMode:aceMode$6,codemirrorMode:codemirrorMode$3,codemirrorMimeType:codemirrorMimeType$3,color:color$1,aliases:aliases$1,extensions:extensions$6,languageId:languageId$6},html$2=Object.freeze({name:name$7,type:type$6,tmScope:tmScope$6,aceMode:aceMode$6,codemirrorMode:codemirrorMode$3,codemirrorMimeType:codemirrorMimeType$3,color:color$1,aliases:aliases$1,extensions:extensions$6,languageId:languageId$6,default:html$1}),name$8="Vue",type$7="markup",color$2="#2c3e50",extensions$7=[".vue"],tmScope$7="text.html.vue",aceMode$7="html",languageId$7=391,vue={name:name$8,type:type$7,color:color$2,extensions:extensions$7,tmScope:tmScope$7,aceMode:aceMode$7,languageId:languageId$7},vue$1=Object.freeze({name:name$8,type:type$7,color:color$2,extensions:extensions$7,tmScope:tmScope$7,aceMode:aceMode$7,languageId:languageId$7,default:vue}),require$$0$22=html$2&&html$1||html$2,require$$1$9=vue$1&&vue||vue$1,languages$3=[createLanguage(require$$0$22,{override:{name:"Angular",since:"1.15.0",parsers:["angular"],vscodeLanguageIds:["html"],extensions:[".component.html"],filenames:[]}}),createLanguage(require$$0$22,{override:{since:"1.15.0",parsers:["html"],vscodeLanguageIds:["html"]},extend:{extensions:[".mjml"]}}),createLanguage(require$$1$9,{override:{since:"1.10.0",parsers:["vue"],vscodeLanguageIds:["vue"]}})],printers$3={html:printerHtml},languageHtml={languages:languages$3,printers:printers$3,options:options$9},addLeadingComment$2=utilShared.addLeadingComment,addTrailingComment$2=utilShared.addTrailingComment,addDanglingComment$2=utilShared.addDanglingComment;function handleOwnLineComment(comment,text,options,ast,isLastComment){var precedingNode=comment.precedingNode,enclosingNode=comment.enclosingNode,followingNode=comment.followingNode;if(handleLastFunctionArgComments(text,precedingNode,enclosingNode,followingNode,comment,options)||handleMemberExpressionComments(enclosingNode,followingNode,comment)||handleIfStatementComments(text,precedingNode,enclosingNode,followingNode,comment,options)||handleWhileComments(text,precedingNode,enclosingNode,followingNode,comment,options)||handleTryStatementComments(enclosingNode,precedingNode,followingNode,comment)||handleClassComments(enclosingNode,precedingNode,followingNode,comment)||handleImportSpecifierComments(enclosingNode,comment)||handleForComments(enclosingNode,precedingNode,comment)||handleUnionTypeComments(precedingNode,enclosingNode,followingNode,comment)||handleOnlyComments(enclosingNode,ast,comment,isLastComment)||handleImportDeclarationComments(text,enclosingNode,precedingNode,comment,options)||handleAssignmentPatternComments(enclosingNode,comment)||handleMethodNameComments(text,enclosingNode,precedingNode,comment,options)){return!0}return!1}function handleEndOfLineComment(comment,text,options,ast,isLastComment){var precedingNode=comment.precedingNode,enclosingNode=comment.enclosingNode,followingNode=comment.followingNode;if(handleLastFunctionArgComments(text,precedingNode,enclosingNode,followingNode,comment,options)||handleConditionalExpressionComments(enclosingNode,precedingNode,followingNode,comment,text,options)||handleImportSpecifierComments(enclosingNode,comment)||handleIfStatementComments(text,precedingNode,enclosingNode,followingNode,comment,options)||handleWhileComments(text,precedingNode,enclosingNode,followingNode,comment,options)||handleTryStatementComments(enclosingNode,precedingNode,followingNode,comment)||handleClassComments(enclosingNode,precedingNode,followingNode,comment)||handleLabeledStatementComments(enclosingNode,comment)||handleCallExpressionComments(precedingNode,enclosingNode,comment)||handlePropertyComments(enclosingNode,comment)||handleOnlyComments(enclosingNode,ast,comment,isLastComment)||handleTypeAliasComments(enclosingNode,followingNode,comment)||handleVariableDeclaratorComments(enclosingNode,followingNode,comment)){return!0}return!1}function handleRemainingComment(comment,text,options,ast,isLastComment){var precedingNode=comment.precedingNode,enclosingNode=comment.enclosingNode,followingNode=comment.followingNode;if(handleIfStatementComments(text,precedingNode,enclosingNode,followingNode,comment,options)||handleWhileComments(text,precedingNode,enclosingNode,followingNode,comment,options)||handleObjectPropertyAssignment(enclosingNode,precedingNode,comment)||handleCommentInEmptyParens(text,enclosingNode,comment,options)||handleMethodNameComments(text,enclosingNode,precedingNode,comment,options)||handleOnlyComments(enclosingNode,ast,comment,isLastComment)||handleCommentAfterArrowParams(text,enclosingNode,comment,options)||handleFunctionNameComments(text,enclosingNode,precedingNode,comment,options)||handleTSMappedTypeComments(text,enclosingNode,precedingNode,followingNode,comment)||handleBreakAndContinueStatementComments(enclosingNode,comment)){return!0}return!1}function addBlockStatementFirstComment(node,comment){var body=node.body.filter(function(n){return"EmptyStatement"!==n.type});if(0===body.length){addDanglingComment$2(node,comment)}else{addLeadingComment$2(body[0],comment)}}function addBlockOrNotComment(node,comment){if("BlockStatement"===node.type){addBlockStatementFirstComment(node,comment)}else{addLeadingComment$2(node,comment)}}function handleIfStatementComments(text,precedingNode,enclosingNode,followingNode,comment,options){if(!enclosingNode||"IfStatement"!==enclosingNode.type||!followingNode){return!1}var nextCharacter=util.getNextNonSpaceNonCommentCharacter(text,comment,options.locEnd);if(")"===nextCharacter){addTrailingComment$2(precedingNode,comment);return!0}if(precedingNode===enclosingNode.consequent&&followingNode===enclosingNode.alternate){if("BlockStatement"===precedingNode.type){addTrailingComment$2(precedingNode,comment)}else{addDanglingComment$2(enclosingNode,comment)}return!0}if("BlockStatement"===followingNode.type){addBlockStatementFirstComment(followingNode,comment);return!0}if("IfStatement"===followingNode.type){addBlockOrNotComment(followingNode.consequent,comment);return!0}if(enclosingNode.consequent===followingNode){addLeadingComment$2(followingNode,comment);return!0}return!1}function handleWhileComments(text,precedingNode,enclosingNode,followingNode,comment,options){if(!enclosingNode||"WhileStatement"!==enclosingNode.type||!followingNode){return!1}var nextCharacter=util.getNextNonSpaceNonCommentCharacter(text,comment,options.locEnd);if(")"===nextCharacter){addTrailingComment$2(precedingNode,comment);return!0}if("BlockStatement"===followingNode.type){addBlockStatementFirstComment(followingNode,comment);return!0}return!1}function handleTryStatementComments(enclosingNode,precedingNode,followingNode,comment){if(!enclosingNode||"TryStatement"!==enclosingNode.type&&"CatchClause"!==enclosingNode.type||!followingNode){return!1}if("CatchClause"===enclosingNode.type&&precedingNode){addTrailingComment$2(precedingNode,comment);return!0}if("BlockStatement"===followingNode.type){addBlockStatementFirstComment(followingNode,comment);return!0}if("TryStatement"===followingNode.type){addBlockOrNotComment(followingNode.finalizer,comment);return!0}if("CatchClause"===followingNode.type){addBlockOrNotComment(followingNode.body,comment);return!0}return!1}function handleMemberExpressionComments(enclosingNode,followingNode,comment){if(enclosingNode&&"MemberExpression"===enclosingNode.type&&followingNode&&"Identifier"===followingNode.type){addLeadingComment$2(enclosingNode,comment);return!0}return!1}function handleConditionalExpressionComments(enclosingNode,precedingNode,followingNode,comment,text,options){var isSameLineAsPrecedingNode=precedingNode&&!util.hasNewlineInRange(text,options.locEnd(precedingNode),options.locStart(comment));if((!precedingNode||!isSameLineAsPrecedingNode)&&enclosingNode&&"ConditionalExpression"===enclosingNode.type&&followingNode){addLeadingComment$2(followingNode,comment);return!0}return!1}function handleObjectPropertyAssignment(enclosingNode,precedingNode,comment){if(enclosingNode&&("ObjectProperty"===enclosingNode.type||"Property"===enclosingNode.type)&&enclosingNode.shorthand&&enclosingNode.key===precedingNode&&"AssignmentPattern"===enclosingNode.value.type){addTrailingComment$2(enclosingNode.value.left,comment);return!0}return!1}function handleClassComments(enclosingNode,precedingNode,followingNode,comment){if(enclosingNode&&("ClassDeclaration"===enclosingNode.type||"ClassExpression"===enclosingNode.type)&&enclosingNode.decorators&&0<enclosingNode.decorators.length&&!(followingNode&&"Decorator"===followingNode.type)){if(!enclosingNode.decorators||0===enclosingNode.decorators.length){addLeadingComment$2(enclosingNode,comment)}else{addTrailingComment$2(enclosingNode.decorators[enclosingNode.decorators.length-1],comment)}return!0}return!1}function handleMethodNameComments(text,enclosingNode,precedingNode,comment,options){if(enclosingNode&&precedingNode&&("Property"===enclosingNode.type||"MethodDefinition"===enclosingNode.type)&&"Identifier"===precedingNode.type&&enclosingNode.key===precedingNode&&":"!==util.getNextNonSpaceNonCommentCharacter(text,precedingNode,options.locEnd)){addTrailingComment$2(precedingNode,comment);return!0}if(precedingNode&&enclosingNode&&"Decorator"===precedingNode.type&&("ClassMethod"===enclosingNode.type||"ClassProperty"===enclosingNode.type||"TSAbstractClassProperty"===enclosingNode.type||"TSAbstractMethodDefinition"===enclosingNode.type||"MethodDefinition"===enclosingNode.type)){addTrailingComment$2(precedingNode,comment);return!0}return!1}function handleFunctionNameComments(text,enclosingNode,precedingNode,comment,options){if("("!==util.getNextNonSpaceNonCommentCharacter(text,comment,options.locEnd)){return!1}if(precedingNode&&enclosingNode&&("FunctionDeclaration"===enclosingNode.type||"FunctionExpression"===enclosingNode.type||"ClassMethod"===enclosingNode.type||"MethodDefinition"===enclosingNode.type||"ObjectMethod"===enclosingNode.type)){addTrailingComment$2(precedingNode,comment);return!0}return!1}function handleCommentAfterArrowParams(text,enclosingNode,comment,options){if(!(enclosingNode&&"ArrowFunctionExpression"===enclosingNode.type)){return!1}var index=utilShared.getNextNonSpaceNonCommentCharacterIndex(text,comment,options);if("=>"===text.substr(index,2)){addDanglingComment$2(enclosingNode,comment);return!0}return!1}function handleCommentInEmptyParens(text,enclosingNode,comment,options){if(")"!==util.getNextNonSpaceNonCommentCharacter(text,comment,options.locEnd)){return!1}if(enclosingNode&&(("FunctionDeclaration"===enclosingNode.type||"FunctionExpression"===enclosingNode.type||"ArrowFunctionExpression"===enclosingNode.type&&("CallExpression"!==enclosingNode.body.type||0===enclosingNode.body.arguments.length)||"ClassMethod"===enclosingNode.type||"ObjectMethod"===enclosingNode.type)&&0===enclosingNode.params.length||("CallExpression"===enclosingNode.type||"NewExpression"===enclosingNode.type)&&0===enclosingNode.arguments.length)){addDanglingComment$2(enclosingNode,comment);return!0}if(enclosingNode&&"MethodDefinition"===enclosingNode.type&&0===enclosingNode.value.params.length){addDanglingComment$2(enclosingNode.value,comment);return!0}return!1}function handleLastFunctionArgComments(text,precedingNode,enclosingNode,followingNode,comment,options){if(precedingNode&&"FunctionTypeParam"===precedingNode.type&&enclosingNode&&"FunctionTypeAnnotation"===enclosingNode.type&&followingNode&&"FunctionTypeParam"!==followingNode.type){addTrailingComment$2(precedingNode,comment);return!0}if(precedingNode&&("Identifier"===precedingNode.type||"AssignmentPattern"===precedingNode.type)&&enclosingNode&&("ArrowFunctionExpression"===enclosingNode.type||"FunctionExpression"===enclosingNode.type||"FunctionDeclaration"===enclosingNode.type||"ObjectMethod"===enclosingNode.type||"ClassMethod"===enclosingNode.type)&&")"===util.getNextNonSpaceNonCommentCharacter(text,comment,options.locEnd)){addTrailingComment$2(precedingNode,comment);return!0}if(enclosingNode&&"FunctionDeclaration"===enclosingNode.type&&followingNode&&"BlockStatement"===followingNode.type){var functionParamRightParenIndex=function(){if(0!==enclosingNode.params.length){return util.getNextNonSpaceNonCommentCharacterIndexWithStartIndex(text,options.locEnd(util.getLast(enclosingNode.params)))}var functionParamLeftParenIndex=util.getNextNonSpaceNonCommentCharacterIndexWithStartIndex(text,options.locEnd(enclosingNode.id));return util.getNextNonSpaceNonCommentCharacterIndexWithStartIndex(text,functionParamLeftParenIndex+1)}();if(options.locStart(comment)>functionParamRightParenIndex){addBlockStatementFirstComment(followingNode,comment);return!0}}return!1}function handleImportSpecifierComments(enclosingNode,comment){if(enclosingNode&&"ImportSpecifier"===enclosingNode.type){addLeadingComment$2(enclosingNode,comment);return!0}return!1}function handleLabeledStatementComments(enclosingNode,comment){if(enclosingNode&&"LabeledStatement"===enclosingNode.type){addLeadingComment$2(enclosingNode,comment);return!0}return!1}function handleBreakAndContinueStatementComments(enclosingNode,comment){if(enclosingNode&&("ContinueStatement"===enclosingNode.type||"BreakStatement"===enclosingNode.type)&&!enclosingNode.label){addTrailingComment$2(enclosingNode,comment);return!0}return!1}function handleCallExpressionComments(precedingNode,enclosingNode,comment){if(enclosingNode&&"CallExpression"===enclosingNode.type&&precedingNode&&enclosingNode.callee===precedingNode&&0<enclosingNode.arguments.length){addLeadingComment$2(enclosingNode.arguments[0],comment);return!0}return!1}function handleUnionTypeComments(precedingNode,enclosingNode,followingNode,comment){if(enclosingNode&&("UnionTypeAnnotation"===enclosingNode.type||"TSUnionType"===enclosingNode.type)){addTrailingComment$2(precedingNode,comment);return!0}return!1}function handlePropertyComments(enclosingNode,comment){if(enclosingNode&&("Property"===enclosingNode.type||"ObjectProperty"===enclosingNode.type)){addLeadingComment$2(enclosingNode,comment);return!0}return!1}function handleOnlyComments(enclosingNode,ast,comment,isLastComment){if(ast&&ast.body&&0===ast.body.length){if(isLastComment){addDanglingComment$2(ast,comment)}else{addLeadingComment$2(ast,comment)}return!0}else if(enclosingNode&&"Program"===enclosingNode.type&&0===enclosingNode.body.length&&enclosingNode.directives&&0===enclosingNode.directives.length){if(isLastComment){addDanglingComment$2(enclosingNode,comment)}else{addLeadingComment$2(enclosingNode,comment)}return!0}return!1}function handleForComments(enclosingNode,precedingNode,comment){if(enclosingNode&&("ForInStatement"===enclosingNode.type||"ForOfStatement"===enclosingNode.type)){addLeadingComment$2(enclosingNode,comment);return!0}return!1}function handleImportDeclarationComments(text,enclosingNode,precedingNode,comment,options){if(precedingNode&&"ImportSpecifier"===precedingNode.type&&enclosingNode&&"ImportDeclaration"===enclosingNode.type&&util.hasNewline(text,options.locEnd(comment))){addTrailingComment$2(precedingNode,comment);return!0}return!1}function handleAssignmentPatternComments(enclosingNode,comment){if(enclosingNode&&"AssignmentPattern"===enclosingNode.type){addLeadingComment$2(enclosingNode,comment);return!0}return!1}function handleTypeAliasComments(enclosingNode,followingNode,comment){if(enclosingNode&&"TypeAlias"===enclosingNode.type){addLeadingComment$2(enclosingNode,comment);return!0}return!1}function handleVariableDeclaratorComments(enclosingNode,followingNode,comment){if(enclosingNode&&("VariableDeclarator"===enclosingNode.type||"AssignmentExpression"===enclosingNode.type)&&followingNode&&("ObjectExpression"===followingNode.type||"ArrayExpression"===followingNode.type||"TemplateLiteral"===followingNode.type||"TaggedTemplateExpression"===followingNode.type)){addLeadingComment$2(followingNode,comment);return!0}return!1}function handleTSMappedTypeComments(text,enclosingNode,precedingNode,followingNode,comment){if(!enclosingNode||"TSMappedType"!==enclosingNode.type){return!1}if(followingNode&&"TSTypeParameter"===followingNode.type&&followingNode.name){addLeadingComment$2(followingNode.name,comment);return!0}if(precedingNode&&"TSTypeParameter"===precedingNode.type&&precedingNode.constraint){addTrailingComment$2(precedingNode.constraint,comment);return!0}return!1}function isBlockComment$1(comment){return"Block"===comment.type||"CommentBlock"===comment.type}function hasLeadingComment$2(node){var fn=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(node.leadingComments){return node.leadingComments.some(fn)}if(node.comments){return node.comments.some(function(comment){return comment.leading&&fn(comment)})}return!1}var comments$3={handleOwnLineComment:handleOwnLineComment,handleEndOfLineComment:handleEndOfLineComment,handleRemainingComment:handleRemainingComment,hasLeadingComment:hasLeadingComment$2,isBlockComment:isBlockComment$1},isBlockComment=comments$3.isBlockComment,hasLeadingComment$1=comments$3.hasLeadingComment,_require$$1$builders=doc.builders,indent$7=_require$$1$builders.indent,join$8=_require$$1$builders.join,hardline$9=_require$$1$builders.hardline,softline$6=_require$$1$builders.softline,literalline$4=_require$$1$builders.literalline,concat$12=_require$$1$builders.concat,group$11=_require$$1$builders.group,dedentToRoot$2=_require$$1$builders.dedentToRoot,_require$$1$utils=doc.utils,mapDoc$5=_require$$1$utils.mapDoc,stripTrailingHardline$2=_require$$1$utils.stripTrailingHardline;function embed$4(path,print,textToDoc){var node=path.getValue(),parent=path.getParentNode(),parentParent=path.getParentNode(1);switch(node.type){case"TemplateLiteral":{var isCss=[isStyledJsx,isStyledComponents,isCssProp,isAngularComponentStyles].some(function(isIt){return isIt(path)});if(isCss){var rawQuasis=node.quasis.map(function(q){return q.value.raw}),placeholderID=0,text=rawQuasis.reduce(function(prevVal,currVal,idx){return 0==idx?currVal:prevVal+"@prettier-placeholder-"+placeholderID++ +"-id"+currVal},""),doc$$2=textToDoc(text,{parser:"css"});return transformCssDoc(doc$$2,path,print)}if(isGraphQL(path)){var expressionDocs=node.expressions?path.map(print,"expressions"):[],numQuasis=node.quasis.length;if(1===numQuasis&&""===node.quasis[0].value.raw.trim()){return"``"}for(var parts=[],i=0;i<numQuasis;i++){var templateElement=node.quasis[i],isFirst=0===i,isLast=i===numQuasis-1,_text=templateElement.value.cooked;if("string"!==typeof _text){return null}var lines=_text.split("\n"),numLines=lines.length,expressionDoc=expressionDocs[i],startsWithBlankLine=2<numLines&&""===lines[0].trim()&&""===lines[1].trim(),endsWithBlankLine=2<numLines&&""===lines[numLines-1].trim()&&""===lines[numLines-2].trim(),commentsAndWhitespaceOnly=lines.every(function(line){return /^\s*(?:#[^\r\n]*)?$/.test(line)});if(!isLast&&/#[^\r\n]*$/.test(lines[numLines-1])){return null}var _doc=null;if(commentsAndWhitespaceOnly){_doc=printGraphqlComments(lines)}else{_doc=stripTrailingHardline$2(textToDoc(_text,{parser:"graphql"}))}if(_doc){_doc=escapeTemplateCharacters(_doc,!1);if(!isFirst&&startsWithBlankLine){parts.push("")}parts.push(_doc);if(!isLast&&endsWithBlankLine){parts.push("")}}else if(!isFirst&&!isLast&&startsWithBlankLine){parts.push("")}if(expressionDoc){parts.push(concat$12(["${",expressionDoc,"}"]))}}return concat$12(["`",indent$7(concat$12([hardline$9,join$8(hardline$9,parts)])),hardline$9,"`"])}if(isHtml(path)){return printHtmlTemplateLiteral(path,print,textToDoc,"html")}if(isAngularComponentTemplate(path)){return printHtmlTemplateLiteral(path,print,textToDoc,"angular")}break}case"TemplateElement":{if(parentParent&&"TaggedTemplateExpression"===parentParent.type&&1===parent.quasis.length&&"Identifier"===parentParent.tag.type&&("md"===parentParent.tag.name||"markdown"===parentParent.tag.name)){var _text2=parent.quasis[0].value.raw.replace(/((?:\\\\)*)\\`/g,function(_,backslashes){return"\\".repeat(backslashes.length/2)+"`"}),indentation=getIndentation(_text2),hasIndent=""!==indentation;return concat$12([hasIndent?indent$7(concat$12([softline$6,printMarkdown(_text2.replace(new RegExp("^".concat(indentation),"gm"),""))])):concat$12([literalline$4,dedentToRoot$2(printMarkdown(_text2))]),softline$6])}break}}function printMarkdown(text){var doc$$2=textToDoc(text,{parser:"markdown",__inJsTemplate:!0});return stripTrailingHardline$2(escapeTemplateCharacters(doc$$2,!0))}}function getIndentation(str){var firstMatchedIndent=str.match(/^([^\S\n]*)\S/m);return null===firstMatchedIndent?"":firstMatchedIndent[1]}function escapeTemplateCharacters(doc$$2,raw){return mapDoc$5(doc$$2,function(currentDoc){if(!currentDoc.parts){return currentDoc}var parts=[];currentDoc.parts.forEach(function(part){if("string"===typeof part){parts.push(raw?part.replace(/(\\*)`/g,"$1$1\\`"):part.replace(/([\\`]|\$\{)/g,"\\$1"))}else{parts.push(part)}});return Object.assign({},currentDoc,{parts:parts})})}function transformCssDoc(quasisDoc,path,print){var parentNode=path.getValue(),isEmpty=1===parentNode.quasis.length&&!parentNode.quasis[0].value.raw.trim();if(isEmpty){return"``"}var expressionDocs=parentNode.expressions?path.map(print,"expressions"):[],newDoc=replacePlaceholders(quasisDoc,expressionDocs);if(!newDoc){throw new Error("Couldn't insert all the expressions")}return concat$12(["`",indent$7(concat$12([hardline$9,stripTrailingHardline$2(newDoc)])),softline$6,"`"])}function replacePlaceholders(quasisDoc,expressionDocs){if(!expressionDocs||!expressionDocs.length){return quasisDoc}var expressions=expressionDocs.slice(),replaceCounter=0,newDoc=mapDoc$5(quasisDoc,function(doc$$2){if(!doc$$2||!doc$$2.parts||!doc$$2.parts.length){return doc$$2}var parts=doc$$2.parts,atIndex=parts.indexOf("@"),placeholderIndex=atIndex+1;if(-1<atIndex&&"string"===typeof parts[placeholderIndex]&&parts[placeholderIndex].startsWith("prettier-placeholder")){var at=parts[atIndex],placeholder=parts[placeholderIndex],rest=parts.slice(placeholderIndex+1);parts=parts.slice(0,atIndex).concat([at+placeholder]).concat(rest)}var atPlaceholderIndex=parts.findIndex(function(part){return"string"===typeof part&&part.startsWith("@prettier-placeholder")});if(-1<atPlaceholderIndex){var _placeholder=parts[atPlaceholderIndex],_rest=parts.slice(atPlaceholderIndex+1),placeholderMatch=_placeholder.match(/@prettier-placeholder-(.+)-id([\s\S]*)/),placeholderID=placeholderMatch[1],suffix=placeholderMatch[2],expression=expressions[placeholderID];replaceCounter++;parts=parts.slice(0,atPlaceholderIndex).concat(["${",expression,"}"+suffix]).concat(_rest)}return Object.assign({},doc$$2,{parts:parts})});return expressions.length===replaceCounter?newDoc:null}function printGraphqlComments(lines){var parts=[],seenComment=!1;lines.map(function(textLine){return textLine.trim()}).forEach(function(textLine,i,array){if(""===textLine){return}if(""===array[i-1]&&seenComment){parts.push(concat$12([hardline$9,textLine]))}else{parts.push(textLine)}seenComment=!0});return 0===parts.length?null:join$8(hardline$9,parts)}function isStyledJsx(path){var node=path.getValue(),parent=path.getParentNode(),parentParent=path.getParentNode(1);return parentParent&&node.quasis&&"JSXExpressionContainer"===parent.type&&"JSXElement"===parentParent.type&&"style"===parentParent.openingElement.name.name&&parentParent.openingElement.attributes.some(function(attribute){return"jsx"===attribute.name.name})}function isAngularComponentStyles(path){return isPathMatch(path,[function(node){return"TemplateLiteral"===node.type},function(node,name){return"ArrayExpression"===node.type&&"elements"===name},function(node,name){return"Property"===node.type&&"Identifier"===node.key.type&&"styles"===node.key.name&&"value"===name}].concat(getAngularComponentObjectExpressionPredicates()))}function isAngularComponentTemplate(path){return isPathMatch(path,[function(node){return"TemplateLiteral"===node.type},function(node,name){return"Property"===node.type&&"Identifier"===node.key.type&&"template"===node.key.name&&"value"===name}].concat(getAngularComponentObjectExpressionPredicates()))}function getAngularComponentObjectExpressionPredicates(){return[function(node,name){return"ObjectExpression"===node.type&&"properties"===name},function(node,name){return"CallExpression"===node.type&&"Identifier"===node.callee.type&&"Component"===node.callee.name&&"arguments"===name},function(node,name){return"Decorator"===node.type&&"expression"===name}]}function isStyledComponents(path){var parent=path.getParentNode();if(!parent||"TaggedTemplateExpression"!==parent.type){return!1}var tag=parent.tag;switch(tag.type){case"MemberExpression":return isStyledIdentifier(tag.object)||isStyledExtend(tag);case"CallExpression":return isStyledIdentifier(tag.callee)||"MemberExpression"===tag.callee.type&&("MemberExpression"===tag.callee.object.type&&(isStyledIdentifier(tag.callee.object.object)||isStyledExtend(tag.callee.object))||"CallExpression"===tag.callee.object.type&&isStyledIdentifier(tag.callee.object.callee));case"Identifier":return"css"===tag.name;default:return!1;}}function isCssProp(path){var parent=path.getParentNode(),parentParent=path.getParentNode(1);return parentParent&&"JSXExpressionContainer"===parent.type&&"JSXAttribute"===parentParent.type&&"JSXIdentifier"===parentParent.name.type&&"css"===parentParent.name.name}function isStyledIdentifier(node){return"Identifier"===node.type&&"styled"===node.name}function isStyledExtend(node){return /^[A-Z]/.test(node.object.name)&&"extend"===node.property.name}function isGraphQL(path){var node=path.getValue(),parent=path.getParentNode();return hasLanguageComment(node,"GraphQL")||parent&&("TaggedTemplateExpression"===parent.type&&("MemberExpression"===parent.tag.type&&"graphql"===parent.tag.object.name&&"experimental"===parent.tag.property.name||"Identifier"===parent.tag.type&&("gql"===parent.tag.name||"graphql"===parent.tag.name))||"CallExpression"===parent.type&&"Identifier"===parent.callee.type&&"graphql"===parent.callee.name)}function hasLanguageComment(node,languageName){return hasLeadingComment$1(node,function(comment){return isBlockComment(comment)&&comment.value===" ".concat(languageName," ")})}function isPathMatch(path,predicateStack){var stack=path.stack.slice(),name=null,node=stack.pop(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=predicateStack[Symbol.iterator](),_step,predicate;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){predicate=_step.value;if(node===void 0){return!1}if("number"===typeof name){name=stack.pop();node=stack.pop()}if(!predicate(node,name)){return!1}name=stack.pop();node=stack.pop()}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return!0}function isHtml(path){var node=path.getValue();return hasLanguageComment(node,"HTML")||isPathMatch(path,[function(node){return"TemplateLiteral"===node.type},function(node,name){return"TaggedTemplateExpression"===node.type&&"Identifier"===node.tag.type&&"html"===node.tag.name&&"quasi"===name}])}function printHtmlTemplateLiteral(path,print,textToDoc,parser){var node=path.getValue(),placeholderPattern="PRETTIER_HTML_PLACEHOLDER_(\\d+)_IN_JS",placeholders=node.expressions.map(function(_,i){return"PRETTIER_HTML_PLACEHOLDER_".concat(i,"_IN_JS")}),text=node.quasis.map(function(quasi,index,quasis){return index===quasis.length-1?quasi.value.raw:quasi.value.raw+placeholders[index]}).join(""),expressionDocs=path.map(print,"expressions");if(0===expressionDocs.length&&0===text.trim().length){return"``"}var contentDoc=mapDoc$5(stripTrailingHardline$2(textToDoc(text,{parser:parser})),function(doc$$2){var placeholderRegex=new RegExp(placeholderPattern,"g"),hasPlaceholder="string"===typeof doc$$2&&placeholderRegex.test(doc$$2);if(!hasPlaceholder){return doc$$2}for(var parts=[],components=doc$$2.split(placeholderRegex),i=0,component;i<components.length;i++){component=components[i];if(0===i%2){if(component){parts.push(component)}continue}var placeholderIndex=+component;parts.push(concat$12(["${",group$11(expressionDocs[placeholderIndex]),"}"]))}return concat$12(parts)});return group$11(concat$12(["`",indent$7(concat$12([hardline$9,group$11(contentDoc)])),softline$6,"`"]))}var embed_1$2=embed$4;function clean$7(ast,newObj,parent){["range","raw","comments","leadingComments","trailingComments","extra","start","end","flags"].forEach(function(name){delete newObj[name]});if("BigIntLiteral"===ast.type){newObj.value=newObj.value.toLowerCase()}if("EmptyStatement"===ast.type){return null}if("JSXText"===ast.type){return null}if("JSXExpressionContainer"===ast.type&&"Literal"===ast.expression.type&&" "===ast.expression.value){return null}if("TSParameterProperty"===ast.type&&null===ast.accessibility&&!ast.readonly){return{type:"Identifier",name:ast.parameter.name,typeAnnotation:newObj.parameter.typeAnnotation,decorators:newObj.decorators}}if("TSNamespaceExportDeclaration"===ast.type&&ast.specifiers&&0===ast.specifiers.length){delete newObj.specifiers}if("TSParenthesizedType"===ast.type){return newObj.typeAnnotation}if("JSXOpeningElement"===ast.type){delete newObj.selfClosing}if("JSXElement"===ast.type){delete newObj.closingElement}if(("Property"===ast.type||"ObjectProperty"===ast.type||"MethodDefinition"===ast.type||"ClassProperty"===ast.type||"TSPropertySignature"===ast.type||"ObjectTypeProperty"===ast.type)&&"object"===_typeof(ast.key)&&ast.key&&("Literal"===ast.key.type||"StringLiteral"===ast.key.type||"Identifier"===ast.key.type)){delete newObj.key}if("OptionalMemberExpression"===ast.type&&!1===ast.optional){newObj.type="MemberExpression";delete newObj.optional}if("JSXElement"===ast.type&&"style"===ast.openingElement.name.name&&ast.openingElement.attributes.some(function(attr){return"jsx"===attr.name.name})){var templateLiterals=newObj.children.filter(function(child){return"JSXExpressionContainer"===child.type&&"TemplateLiteral"===child.expression.type}).map(function(container){return container.expression}),quasis=templateLiterals.reduce(function(quasis,templateLiteral){return quasis.concat(templateLiteral.quasis)},[]);quasis.forEach(function(q){return delete q.value})}if("JSXAttribute"===ast.type&&"css"===ast.name.name&&"JSXExpressionContainer"===ast.value.type&&"TemplateLiteral"===ast.value.expression.type){newObj.value.expression.quasis.forEach(function(q){return delete q.value})}var expression=ast.expression||ast.callee;if("Decorator"===ast.type&&"CallExpression"===expression.type&&"Component"===expression.callee.name&&1===expression.arguments.length){var astProps=ast.expression.arguments[0].properties;newObj.expression.arguments[0].properties.forEach(function(prop,index){var templateLiteral=null;switch(astProps[index].key.name){case"styles":if("ArrayExpression"===prop.value.type){templateLiteral=prop.value.elements[0]}break;case"template":if("TemplateLiteral"===prop.value.type){templateLiteral=prop.value}break;}if(templateLiteral){templateLiteral.quasis.forEach(function(q){return delete q.value})}})}if("TaggedTemplateExpression"===ast.type&&("MemberExpression"===ast.tag.type||"Identifier"===ast.tag.type&&("gql"===ast.tag.name||"graphql"===ast.tag.name||"css"===ast.tag.name||"md"===ast.tag.name||"markdown"===ast.tag.name||"html"===ast.tag.name)||"CallExpression"===ast.tag.type)){newObj.quasi.quasis.forEach(function(quasi){return delete quasi.value})}if("TemplateLiteral"===ast.type){var hasLanguageComment=ast.leadingComments&&ast.leadingComments.some(function(comment){return"CommentBlock"===comment.type&&["GraphQL","HTML"].some(function(languageName){return comment.value===" ".concat(languageName," ")})});if(hasLanguageComment||"CallExpression"===parent.type&&"graphql"===parent.callee.name){newObj.quasis.forEach(function(quasi){return delete quasi.value})}}}var clean_1$2=clean$7,NON_LINE_TERMINATING_WHITE_SPACE="(?:(?=.)\\s)",FLOW_SHORTHAND_ANNOTATION=new RegExp("^".concat(NON_LINE_TERMINATING_WHITE_SPACE,"*:")),FLOW_ANNOTATION=new RegExp("^".concat(NON_LINE_TERMINATING_WHITE_SPACE,"*::"));function hasFlowShorthandAnnotationComment$2(node){return node.extra&&node.extra.parenthesized&&node.trailingComments&&node.trailingComments[0].value.match(FLOW_SHORTHAND_ANNOTATION)}function hasFlowAnnotationComment$1(comments){return comments&&comments[0].value.match(FLOW_ANNOTATION)}function hasNode$1(node,fn){if(!node||"object"!==_typeof(node)){return!1}if(Array.isArray(node)){return node.some(function(value){return hasNode$1(value,fn)})}var result=fn(node);return"boolean"===typeof result?result:Object.keys(node).some(function(key){return hasNode$1(node[key],fn)})}var utils$8={hasNode:hasNode$1,hasFlowShorthandAnnotationComment:hasFlowShorthandAnnotationComment$2,hasFlowAnnotationComment:hasFlowAnnotationComment$1},hasFlowShorthandAnnotationComment$1=utils$8.hasFlowShorthandAnnotationComment;function hasClosureCompilerTypeCastComment(text,path,locStart,locEnd){var n=path.getValue();return")"===util.getNextNonSpaceNonCommentCharacter(text,n,locEnd)&&(hasTypeCastComment(n)||hasAncestorTypeCastComment(0));function hasAncestorTypeCastComment(index){var ancestor=path.getParentNode(index);return ancestor&&")"!==util.getNextNonSpaceNonCommentCharacter(text,ancestor,locEnd)&&/^[\s(]*$/.test(text.slice(locStart(ancestor),locStart(n)))?hasTypeCastComment(ancestor)||hasAncestorTypeCastComment(index+1):!1}function hasTypeCastComment(node){return node.comments&&node.comments.some(function(comment){return comment.leading&&comments$3.isBlockComment(comment)&&isTypeCastComment(comment.value)&&"("===util.getNextNonSpaceNonCommentCharacter(text,comment,locEnd)})}function isTypeCastComment(comment){var trimmed=comment.trim();if(!/^\*\s*@type\s*\{[^]+\}$/.test(trimmed)){return!1}var isCompletelyClosed=!1,unpairedBracketCount=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=trimmed[Symbol.iterator](),_step,char;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){char=_step.value;if("{"===char){if(isCompletelyClosed){return!1}unpairedBracketCount++}else if("}"===char){if(0===unpairedBracketCount){return!1}unpairedBracketCount--;if(0===unpairedBracketCount){isCompletelyClosed=!0}}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return 0===unpairedBracketCount}}function needsParens(path,options){var parent=path.getParentNode();if(!parent){return!1}var name=path.getName(),node=path.getNode();if(path.getValue()!==node){return!1}if(options.__isInHtmlInterpolation&&!options.bracketSpacing&&endsWithRightBracket(node)&&isFollowedByRightBracket(path)){return!0}if(isStatement(node)){return!1}if(hasClosureCompilerTypeCastComment(options.originalText,path,options.locStart,options.locEnd)){return!0}if("flow"!==options.parser&&hasFlowShorthandAnnotationComment$1(path.getValue())){return!0}if("Identifier"===node.type){return!1}if("ParenthesizedExpression"===parent.type){return!1}if(("ClassDeclaration"===parent.type||"ClassExpression"===parent.type)&&parent.superClass===node&&("ArrowFunctionExpression"===node.type||"AssignmentExpression"===node.type||"AwaitExpression"===node.type||"BinaryExpression"===node.type||"ConditionalExpression"===node.type||"LogicalExpression"===node.type||"NewExpression"===node.type||"ObjectExpression"===node.type||"ParenthesizedExpression"===node.type||"SequenceExpression"===node.type||"TaggedTemplateExpression"===node.type||"UnaryExpression"===node.type||"UpdateExpression"===node.type||"YieldExpression"===node.type)){return!0}if("Decorator"===parent.type&&parent.expression===node){var hasCallExpression=!1,hasMemberExpression=!1,current=node;while(current){switch(current.type){case"MemberExpression":hasMemberExpression=!0;current=current.object;break;case"CallExpression":if(hasMemberExpression||hasCallExpression){return!0}hasCallExpression=!0;current=current.callee;break;case"Identifier":return!1;default:return!0;}}return!0}if("ArrowFunctionExpression"===parent.type&&parent.body===node&&"SequenceExpression"!==node.type&&util.startsWithNoLookaheadToken(node,!1)||"ExpressionStatement"===parent.type&&util.startsWithNoLookaheadToken(node,!0)){return!0}switch(node.type){case"CallExpression":{var firstParentNotMemberExpression=parent,i=0;while(firstParentNotMemberExpression&&"MemberExpression"===firstParentNotMemberExpression.type){firstParentNotMemberExpression=path.getParentNode(++i)}if("NewExpression"===firstParentNotMemberExpression.type&&firstParentNotMemberExpression.callee===path.getParentNode(i-1)){return!0}if("BindExpression"===parent.type&&parent.callee===node){return!0}return!1}case"SpreadElement":case"SpreadProperty":return"MemberExpression"===parent.type&&"object"===name&&parent.object===node;case"UpdateExpression":if("UnaryExpression"===parent.type){return node.prefix&&("++"===node.operator&&"+"===parent.operator||"--"===node.operator&&"-"===parent.operator)}case"UnaryExpression":switch(parent.type){case"UnaryExpression":return node.operator===parent.operator&&("+"===node.operator||"-"===node.operator);case"BindExpression":return!0;case"MemberExpression":return"object"===name&&parent.object===node;case"TaggedTemplateExpression":return!0;case"NewExpression":case"CallExpression":return"callee"===name&&parent.callee===node;case"BinaryExpression":return"**"===parent.operator&&"left"===name;case"TSNonNullExpression":return!0;default:return!1;}case"BinaryExpression":{if("UpdateExpression"===parent.type){return!0}var isLeftOfAForStatement=function isLeftOfAForStatement(node){var i=0;while(node){var _parent=path.getParentNode(i++);if(!_parent){return!1}if("ForStatement"===_parent.type&&_parent.init===node){return!0}node=_parent}return!1};if("in"===node.operator&&isLeftOfAForStatement(node)){return!0}}case"TSTypeAssertion":case"TSAsExpression":case"LogicalExpression":switch(parent.type){case"ConditionalExpression":return"TSAsExpression"===node.type;case"CallExpression":case"NewExpression":return"callee"===name&&parent.callee===node;case"ClassExpression":case"ClassDeclaration":case"TSAbstractClassDeclaration":return"superClass"===name&&parent.superClass===node;case"TSTypeAssertion":case"TaggedTemplateExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BindExpression":case"AwaitExpression":case"TSAsExpression":case"TSNonNullExpression":case"UpdateExpression":return!0;case"MemberExpression":case"OptionalMemberExpression":return"object"===name&&parent.object===node;case"AssignmentExpression":return parent.left===node&&("TSTypeAssertion"===node.type||"TSAsExpression"===node.type);case"BinaryExpression":case"LogicalExpression":{if(!node.operator&&"TSTypeAssertion"!==node.type){return!0}var po=parent.operator,pp=util.getPrecedence(po),no=node.operator,np=util.getPrecedence(no);if(pp>np){return!0}if(("||"===po||"??"===po)&&"&&"===no){return!0}if(pp===np&&"right"===name){assert$3.strictEqual(parent.right,node);return!0}if(pp===np&&!util.shouldFlatten(po,no)){return!0}if(pp<np&&"%"===no){return"+"===po||"-"===po}if(util.isBitwiseOperator(po)){return!0}return!1}default:return!1;}case"TSParenthesizedType":{var grandParent=path.getParentNode(1);if("TSFunctionType"===getUnparenthesizedNode(node).type&&"TSTypeAnnotation"===parent.type&&"ArrowFunctionExpression"===grandParent.type&&grandParent.returnType===parent){return!0}if(("TSTypeParameter"===parent.type||"TypeParameter"===parent.type||"TSTypeAliasDeclaration"===parent.type||"TSTypeAnnotation"===parent.type||"TSParenthesizedType"===parent.type||"TSTypeParameterInstantiation"===parent.type)&&"TSTypeOperator"!==grandParent.type&&"TSOptionalType"!==grandParent.type){return!1}if("TSParenthesizedType"===node.typeAnnotation.type){return!1}return!0}case"SequenceExpression":switch(parent.type){case"ReturnStatement":return!1;case"ForStatement":return!1;case"ExpressionStatement":return"expression"!==name;case"ArrowFunctionExpression":return"body"!==name;default:return!0;}case"YieldExpression":if("UnaryExpression"===parent.type||"AwaitExpression"===parent.type||"TSAsExpression"===parent.type||"TSNonNullExpression"===parent.type){return!0}case"AwaitExpression":switch(parent.type){case"TaggedTemplateExpression":case"UnaryExpression":case"BinaryExpression":case"LogicalExpression":case"SpreadElement":case"SpreadProperty":case"TSAsExpression":case"TSNonNullExpression":case"BindExpression":return!0;case"MemberExpression":return parent.object===node;case"NewExpression":case"CallExpression":return parent.callee===node;case"ConditionalExpression":return parent.test===node;default:return!1;}case"ArrayTypeAnnotation":return"NullableTypeAnnotation"===parent.type;case"IntersectionTypeAnnotation":case"UnionTypeAnnotation":return"ArrayTypeAnnotation"===parent.type||"NullableTypeAnnotation"===parent.type||"IntersectionTypeAnnotation"===parent.type||"UnionTypeAnnotation"===parent.type;case"NullableTypeAnnotation":return"ArrayTypeAnnotation"===parent.type;case"FunctionTypeAnnotation":{var ancestor="NullableTypeAnnotation"===parent.type?path.getParentNode(1):parent;return"UnionTypeAnnotation"===ancestor.type||"IntersectionTypeAnnotation"===ancestor.type||"ArrayTypeAnnotation"===ancestor.type||"NullableTypeAnnotation"===ancestor.type}case"StringLiteral":case"NumericLiteral":case"Literal":if("string"===typeof node.value&&"ExpressionStatement"===parent.type&&("typescript"!==options.parser&&!parent.directive||"typescript"===options.parser&&"("===options.originalText.substr(options.locStart(node)-1,1))){var _grandParent=path.getParentNode(1);return"Program"===_grandParent.type||"BlockStatement"===_grandParent.type}return"MemberExpression"===parent.type&&"number"===typeof node.value&&"object"===name&&parent.object===node;case"AssignmentExpression":{var _grandParent2=path.getParentNode(1);if("ArrowFunctionExpression"===parent.type&&parent.body===node){return!0}else if("ClassProperty"===parent.type&&parent.key===node&&parent.computed){return!1}else if("TSPropertySignature"===parent.type&&parent.name===node){return!1}else if("ForStatement"===parent.type&&(parent.init===node||parent.update===node)){return!1}else if("ExpressionStatement"===parent.type){return"ObjectPattern"===node.left.type}else if("TSPropertySignature"===parent.type&&parent.key===node){return!1}else if("AssignmentExpression"===parent.type){return!1}else if("SequenceExpression"===parent.type&&_grandParent2&&"ForStatement"===_grandParent2.type&&(_grandParent2.init===parent||_grandParent2.update===parent)){return!1}else if("Property"===parent.type&&parent.value===node){return!1}else if("NGChainedExpression"===parent.type){return!1}return!0}case"ConditionalExpression":switch(parent.type){case"TaggedTemplateExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":case"NGPipeExpression":case"ExportDefaultDeclaration":case"AwaitExpression":case"JSXSpreadAttribute":case"TSTypeAssertion":case"TypeCastExpression":case"TSAsExpression":case"TSNonNullExpression":case"OptionalMemberExpression":return!0;case"NewExpression":case"CallExpression":return"callee"===name&&parent.callee===node;case"ConditionalExpression":return"test"===name&&parent.test===node;case"MemberExpression":return"object"===name&&parent.object===node;default:return!1;}case"FunctionExpression":switch(parent.type){case"CallExpression":return"callee"===name;case"TaggedTemplateExpression":return!0;case"ExportDefaultDeclaration":return!0;default:return!1;}case"ArrowFunctionExpression":switch(parent.type){case"CallExpression":return"callee"===name;case"NewExpression":return"callee"===name;case"MemberExpression":return"object"===name;case"TSAsExpression":case"BindExpression":case"TaggedTemplateExpression":case"UnaryExpression":case"LogicalExpression":case"BinaryExpression":case"AwaitExpression":case"TSTypeAssertion":return!0;case"ConditionalExpression":return"test"===name;default:return!1;}case"ClassExpression":return"ExportDefaultDeclaration"===parent.type;case"OptionalMemberExpression":return"MemberExpression"===parent.type;case"MemberExpression":if("BindExpression"===parent.type&&"callee"===name&&parent.callee===node){var object=node.object;while(object){if("CallExpression"===object.type){return!0}if("MemberExpression"!==object.type&&"BindExpression"!==object.type){break}object=object.object}}return!1;case"BindExpression":if("BindExpression"===parent.type&&"callee"===name&&parent.callee===node||"MemberExpression"===parent.type){return!0}return!1;case"NGPipeExpression":if("NGRoot"===parent.type||"ObjectProperty"===parent.type||"ArrayExpression"===parent.type||("CallExpression"===parent.type||"OptionalCallExpression"===parent.type)&&parent.arguments[name]===node||"NGPipeExpression"===parent.type&&"right"===name||"MemberExpression"===parent.type&&"property"===name||"AssignmentExpression"===parent.type){return!1}return!0;}return!1}function isStatement(node){return"BlockStatement"===node.type||"BreakStatement"===node.type||"ClassBody"===node.type||"ClassDeclaration"===node.type||"ClassMethod"===node.type||"ClassProperty"===node.type||"ClassPrivateProperty"===node.type||"ContinueStatement"===node.type||"DebuggerStatement"===node.type||"DeclareClass"===node.type||"DeclareExportAllDeclaration"===node.type||"DeclareExportDeclaration"===node.type||"DeclareFunction"===node.type||"DeclareInterface"===node.type||"DeclareModule"===node.type||"DeclareModuleExports"===node.type||"DeclareVariable"===node.type||"DoWhileStatement"===node.type||"ExportAllDeclaration"===node.type||"ExportDefaultDeclaration"===node.type||"ExportNamedDeclaration"===node.type||"ExpressionStatement"===node.type||"ForAwaitStatement"===node.type||"ForInStatement"===node.type||"ForOfStatement"===node.type||"ForStatement"===node.type||"FunctionDeclaration"===node.type||"IfStatement"===node.type||"ImportDeclaration"===node.type||"InterfaceDeclaration"===node.type||"LabeledStatement"===node.type||"MethodDefinition"===node.type||"ReturnStatement"===node.type||"SwitchStatement"===node.type||"ThrowStatement"===node.type||"TryStatement"===node.type||"TSAbstractClassDeclaration"===node.type||"TSDeclareFunction"===node.type||"TSEnumDeclaration"===node.type||"TSImportEqualsDeclaration"===node.type||"TSInterfaceDeclaration"===node.type||"TSModuleDeclaration"===node.type||"TSNamespaceExportDeclaration"===node.type||"TypeAlias"===node.type||"VariableDeclaration"===node.type||"WhileStatement"===node.type||"WithStatement"===node.type}function getUnparenthesizedNode(node){return"TSParenthesizedType"===node.type?getUnparenthesizedNode(node.typeAnnotation):node}function endsWithRightBracket(node){switch(node.type){case"ObjectExpression":return!0;default:return!1;}}function isFollowedByRightBracket(path){var node=path.getValue(),parent=path.getParentNode(),name=path.getName();switch(parent.type){case"NGPipeExpression":if("number"===typeof name&&parent.arguments[name]===node&&parent.arguments.length-1===name){return path.callParent(isFollowedByRightBracket)}break;case"ObjectProperty":if("value"===name){var parentParent=path.getParentNode(1);return parentParent.properties[parentParent.properties.length-1]===parent}break;case"BinaryExpression":case"LogicalExpression":if("right"===name){return path.callParent(isFollowedByRightBracket)}break;case"ConditionalExpression":if("alternate"===name){return path.callParent(isFollowedByRightBracket)}break;case"UnaryExpression":if(parent.prefix){return path.callParent(isFollowedByRightBracket)}break;}return!1}var needsParens_1=needsParens,_require$$0$builders$6=doc.builders,concat$13=_require$$0$builders$6.concat,join$9=_require$$0$builders$6.join,line$9=_require$$0$builders$6.line;function printHtmlBinding$1(path,options,print){var node=path.getValue();if(options.__onHtmlBindingRoot&&null===path.getName()){options.__onHtmlBindingRoot(node)}if("File"!==node.type){return}if(options.__isVueForBindingLeft){return path.call(function(functionDeclarationPath){var _functionDeclarationP=functionDeclarationPath.getValue(),params=_functionDeclarationP.params;return concat$13([1<params.length?"(":"",join$9(concat$13([",",line$9]),functionDeclarationPath.map(print,"params")),1<params.length?")":""])},"program","body",0)}if(options.__isVueSlotScope){return path.call(function(functionDeclarationPath){return join$9(concat$13([",",line$9]),functionDeclarationPath.map(print,"params"))},"program","body",0)}}function isVueEventBindingExpression$3(node){switch(node.type){case"MemberExpression":switch(node.property.type){case"Identifier":case"NumericLiteral":case"StringLiteral":return isVueEventBindingExpression$3(node.object);}return!1;case"Identifier":return!0;default:return!1;}}var htmlBinding={isVueEventBindingExpression:isVueEventBindingExpression$3,printHtmlBinding:printHtmlBinding$1};function preprocess$2(ast,options){switch(options.parser){case"json":case"json5":case"json-stringify":case"__js_expression":case"__vue_expression":return Object.assign({},ast,{type:options.parser.startsWith("__")?"JsExpressionRoot":"JsonRoot",node:ast,comments:[]});default:return ast;}}var preprocess_1$2=preprocess$2,getParentExportDeclaration$1=util.getParentExportDeclaration,isExportDeclaration$1=util.isExportDeclaration,shouldFlatten$1=util.shouldFlatten,getNextNonSpaceNonCommentCharacter$1=util.getNextNonSpaceNonCommentCharacter,hasNewline$3=util.hasNewline,hasNewlineInRange$1=util.hasNewlineInRange,getLast$4=util.getLast,getStringWidth$2=util.getStringWidth,printString$2=util.printString,printNumber$2=util.printNumber,hasIgnoreComment$3=util.hasIgnoreComment,skipWhitespace$1=util.skipWhitespace,hasNodeIgnoreComment$1=util.hasNodeIgnoreComment,getPenultimate$1=util.getPenultimate,startsWithNoLookaheadToken$1=util.startsWithNoLookaheadToken,getIndentSize$1=util.getIndentSize,matchAncestorTypes$1=util.matchAncestorTypes,getPreferredQuote$1=util.getPreferredQuote,isNextLineEmpty$4=utilShared.isNextLineEmpty,isNextLineEmptyAfterIndex$1=utilShared.isNextLineEmptyAfterIndex,getNextNonSpaceNonCommentCharacterIndex$2=utilShared.getNextNonSpaceNonCommentCharacterIndex,isIdentifierName=utils$2.keyword.isIdentifierNameES5,insertPragma$7=pragma$2.insertPragma,printHtmlBinding=htmlBinding.printHtmlBinding,isVueEventBindingExpression$2=htmlBinding.isVueEventBindingExpression,hasNode=utils$8.hasNode,hasFlowAnnotationComment=utils$8.hasFlowAnnotationComment,hasFlowShorthandAnnotationComment=utils$8.hasFlowShorthandAnnotationComment,_require$$6$builders=doc.builders,concat$11=_require$$6$builders.concat,join$7=_require$$6$builders.join,line$8=_require$$6$builders.line,hardline$8=_require$$6$builders.hardline,softline$5=_require$$6$builders.softline,literalline$3=_require$$6$builders.literalline,group$10=_require$$6$builders.group,indent$6=_require$$6$builders.indent,align$1=_require$$6$builders.align,conditionalGroup$1=_require$$6$builders.conditionalGroup,fill$4=_require$$6$builders.fill,ifBreak$6=_require$$6$builders.ifBreak,breakParent$3=_require$$6$builders.breakParent,lineSuffixBoundary$1=_require$$6$builders.lineSuffixBoundary,addAlignmentToDoc$2=_require$$6$builders.addAlignmentToDoc,dedent$3=_require$$6$builders.dedent,_require$$6$utils=doc.utils,willBreak$1=_require$$6$utils.willBreak,isLineNext$1=_require$$6$utils.isLineNext,isEmpty$1=_require$$6$utils.isEmpty,removeLines$2=_require$$6$utils.removeLines,printDocToString$1=doc.printer.printDocToString,uid=0;function shouldPrintComma$1(options,level){level=level||"es5";switch(options.trailingComma){case"all":if("all"===level){return!0}case"es5":if("es5"===level){return!0}case"none":default:return!1;}}function genericPrint$3(path,options,printPath,args){var node=path.getValue(),needsParens=!1,linesWithoutParens=printPathNoParens(path,options,printPath,args);if(!node||isEmpty$1(linesWithoutParens)){return linesWithoutParens}var parentExportDecl=getParentExportDeclaration$1(path),decorators=[];if("ClassMethod"===node.type||"ClassPrivateMethod"===node.type||"ClassProperty"===node.type||"TSAbstractClassProperty"===node.type||"ClassPrivateProperty"===node.type||"MethodDefinition"===node.type||"TSAbstractMethodDefinition"===node.type){}else if(node.decorators&&0<node.decorators.length&&!(parentExportDecl&&options.locStart(parentExportDecl,{ignoreDecorators:!0})>options.locStart(node.decorators[0]))){var shouldBreak="ClassExpression"===node.type||"ClassDeclaration"===node.type||hasNewlineBetweenOrAfterDecorators(node,options),separator=shouldBreak?hardline$8:line$8;path.each(function(decoratorPath){var decorator=decoratorPath.getValue();if(decorator.expression){decorator=decorator.expression}else{decorator=decorator.callee}decorators.push(printPath(decoratorPath),separator)},"decorators");if(parentExportDecl){decorators.unshift(hardline$8)}}else if(isExportDeclaration$1(node)&&node.declaration&&node.declaration.decorators&&0<node.declaration.decorators.length&&options.locStart(node,{ignoreDecorators:!0})>options.locStart(node.declaration.decorators[0])){path.each(function(decoratorPath){var decorator=decoratorPath.getValue(),prefix="Decorator"===decorator.type?"":"@";decorators.push(prefix,printPath(decoratorPath),hardline$8)},"declaration","decorators")}else{needsParens=needsParens_1(path,options)}var parts=[];if(needsParens){parts.unshift("(")}parts.push(linesWithoutParens);if(needsParens){var _node=path.getValue();if(hasFlowShorthandAnnotationComment(_node)){parts.push(" /*");parts.push(_node.trailingComments[0].value.trimLeft());parts.push("*/");_node.trailingComments[0].printed=!0}parts.push(")")}if(0<decorators.length){return group$10(concat$11(decorators.concat(parts)))}return concat$11(parts)}function hasNewlineBetweenOrAfterDecorators(node,options){return hasNewlineInRange$1(options.originalText,options.locStart(node.decorators[0]),options.locEnd(getLast$4(node.decorators)))||hasNewline$3(options.originalText,options.locEnd(getLast$4(node.decorators)))}function printDecorators(path,options,print){var node=path.getValue();return group$10(concat$11([join$7(line$8,path.map(print,"decorators")),hasNewlineBetweenOrAfterDecorators(node,options)?hardline$8:line$8]))}function hasPrettierIgnore$2(path){return hasIgnoreComment$3(path)||hasJsxIgnoreComment(path)}function hasJsxIgnoreComment(path){var node=path.getValue(),parent=path.getParentNode();if(!parent||!node||!isJSXNode(node)||!isJSXNode(parent)){return!1}for(var index=parent.children.indexOf(node),prevSibling=null,i=index,candidate;0<i;i--){candidate=parent.children[i-1];if("JSXText"===candidate.type&&!isMeaningfulJSXText(candidate)){continue}prevSibling=candidate;break}return prevSibling&&"JSXExpressionContainer"===prevSibling.type&&"JSXEmptyExpression"===prevSibling.expression.type&&prevSibling.expression.comments&&prevSibling.expression.comments.find(function(comment){return"prettier-ignore"===comment.value.trim()})}function printTernaryOperator(path,options,print,operatorOptions){var node=path.getValue(),testNode=node[operatorOptions.testNodePropertyName],consequentNode=node[operatorOptions.consequentNodePropertyName],alternateNode=node[operatorOptions.alternateNodePropertyName],parts=[],jsxMode=!1,parent=path.getParentNode(),forceNoIndent=parent.type===operatorOptions.conditionalNodeType,currentParent,previousParent,i=0;do{previousParent=currentParent||node;currentParent=path.getParentNode(i);i++}while(currentParent&&currentParent.type===operatorOptions.conditionalNodeType);var firstNonConditionalParent=currentParent||parent,lastConditionalParent=previousParent;if(operatorOptions.shouldCheckJsx&&(isJSXNode(testNode)||isJSXNode(consequentNode)||isJSXNode(alternateNode)||conditionalExpressionChainContainsJSX(lastConditionalParent))){jsxMode=!0;forceNoIndent=!0;var wrap=function wrap(doc$$2){return concat$11([ifBreak$6("(",""),indent$6(concat$11([softline$5,doc$$2])),softline$5,ifBreak$6(")","")])},isNull=function isNull(node){return"NullLiteral"===node.type||"Literal"===node.type&&null===node.value};parts.push(" ? ",isNull(consequentNode)?path.call(print,operatorOptions.consequentNodePropertyName):wrap(path.call(print,operatorOptions.consequentNodePropertyName))," : ",alternateNode.type===operatorOptions.conditionalNodeType||isNull(alternateNode)?path.call(print,operatorOptions.alternateNodePropertyName):wrap(path.call(print,operatorOptions.alternateNodePropertyName)))}else{var part=concat$11([line$8,"? ",consequentNode.type===operatorOptions.conditionalNodeType?ifBreak$6("","("):"",align$1(2,path.call(print,operatorOptions.consequentNodePropertyName)),consequentNode.type===operatorOptions.conditionalNodeType?ifBreak$6("",")"):"",line$8,": ",alternateNode.type===operatorOptions.conditionalNodeType?path.call(print,operatorOptions.alternateNodePropertyName):align$1(2,path.call(print,operatorOptions.alternateNodePropertyName))]);parts.push(parent.type!==operatorOptions.conditionalNodeType||parent[operatorOptions.alternateNodePropertyName]===node?part:options.useTabs?dedent$3(indent$6(part)):align$1(_Mathmax(0,options.tabWidth-2),part))}var maybeGroup=function maybeGroup(doc$$2){return operatorOptions.breakNested?parent===firstNonConditionalParent?group$10(doc$$2):doc$$2:group$10(doc$$2)},breakClosingParen=!jsxMode&&("MemberExpression"===parent.type||"OptionalMemberExpression"===parent.type)&&!parent.computed;return maybeGroup(concat$11([].concat(function(testDoc){return parent.type===operatorOptions.conditionalNodeType&&parent[operatorOptions.alternateNodePropertyName]===node?align$1(2,testDoc):testDoc}(concat$11(operatorOptions.beforeParts())),forceNoIndent?concat$11(parts):indent$6(concat$11(parts)),operatorOptions.afterParts(breakClosingParen))))}function getTypeScriptMappedTypeModifier(tokenNode,keyword){if("+"===tokenNode){return"+"+keyword}else if("-"===tokenNode){return"-"+keyword}return keyword}function printPathNoParens(path,options,print,args){var n=path.getValue(),semi=options.semi?";":"";if(!n){return""}if("string"===typeof n){return n}var htmlBinding$$1=printHtmlBinding(path,options,print);if(htmlBinding$$1){return htmlBinding$$1}var parts=[];switch(n.type){case"JsExpressionRoot":return path.call(print,"node");case"JsonRoot":return concat$11([path.call(print,"node"),hardline$8]);case"File":if(n.program&&n.program.interpreter){parts.push(path.call(function(programPath){return programPath.call(print,"interpreter")},"program"))}parts.push(path.call(print,"program"));return concat$11(parts);case"Program":if(n.directives){path.each(function(childPath){parts.push(print(childPath),semi,hardline$8);if(isNextLineEmpty$4(options.originalText,childPath.getValue(),options)){parts.push(hardline$8)}},"directives")}parts.push(path.call(function(bodyPath){return printStatementSequence(bodyPath,options,print)},"body"));parts.push(comments.printDanglingComments(path,options,!0));if(n.body.length||n.comments){parts.push(hardline$8)}return concat$11(parts);case"EmptyStatement":return"";case"ExpressionStatement":if(n.directive){return concat$11([nodeStr(n.expression,options,!0),semi])}if("__vue_event_binding"===options.parser){var parent=path.getParentNode();if("Program"===parent.type&&1===parent.body.length&&parent.body[0]===n){return concat$11([path.call(print,"expression"),isVueEventBindingExpression$2(n.expression)?";":""])}}return concat$11([path.call(print,"expression"),isTheOnlyJSXElementInMarkdown(options,path)?"":semi]);case"ParenthesizedExpression":return concat$11(["(",path.call(print,"expression"),")"]);case"AssignmentExpression":return printAssignment(n.left,path.call(print,"left"),concat$11([" ",n.operator]),n.right,path.call(print,"right"),options);case"BinaryExpression":case"LogicalExpression":case"NGPipeExpression":{var _parent=path.getParentNode(),parentParent=path.getParentNode(1),isInsideParenthesis=n!==_parent.body&&("IfStatement"===_parent.type||"WhileStatement"===_parent.type||"DoWhileStatement"===_parent.type),_parts=printBinaryishExpressions(path,print,options,!1,isInsideParenthesis);if(isInsideParenthesis){return concat$11(_parts)}if("UnaryExpression"===_parent.type||("MemberExpression"===_parent.type||"OptionalMemberExpression"===_parent.type)&&!_parent.computed){return group$10(concat$11([indent$6(concat$11([softline$5,concat$11(_parts)])),softline$5]))}var shouldNotIndent="ReturnStatement"===_parent.type||"JSXExpressionContainer"===_parent.type&&"JSXAttribute"===parentParent.type||"NGPipeExpression"!==n.type&&("NGRoot"===_parent.type&&"__ng_binding"===options.parser||"NGMicrosyntaxExpression"===_parent.type&&"NGMicrosyntax"===parentParent.type&&1===parentParent.body.length)||n===_parent.body&&"ArrowFunctionExpression"===_parent.type||n!==_parent.body&&"ForStatement"===_parent.type||"ConditionalExpression"===_parent.type&&"ReturnStatement"!==parentParent.type&&"CallExpression"!==parentParent.type,shouldIndentIfInlining="AssignmentExpression"===_parent.type||"VariableDeclarator"===_parent.type||"ClassProperty"===_parent.type||"TSAbstractClassProperty"===_parent.type||"ClassPrivateProperty"===_parent.type||"ObjectProperty"===_parent.type||"Property"===_parent.type,samePrecedenceSubExpression=isBinaryish(n.left)&&shouldFlatten$1(n.operator,n.left.operator);if(shouldNotIndent||shouldInlineLogicalExpression(n)&&!samePrecedenceSubExpression||!shouldInlineLogicalExpression(n)&&shouldIndentIfInlining){return group$10(concat$11(_parts))}if(0===_parts.length){return""}var hasJSX=isJSXNode(n.right),rest=concat$11(hasJSX?_parts.slice(1,-1):_parts.slice(1)),groupId=Symbol("logicalChain-"+ ++uid),chain=group$10(concat$11([0<_parts.length?_parts[0]:"",indent$6(rest)]),{id:groupId});if(!hasJSX){return chain}var jsxPart=getLast$4(_parts);return group$10(concat$11([chain,ifBreak$6(indent$6(jsxPart),jsxPart,{groupId:groupId})]))}case"AssignmentPattern":return concat$11([path.call(print,"left")," = ",path.call(print,"right")]);case"TSTypeAssertion":{var shouldBreakAfterCast=!("ArrayExpression"===n.expression.type||"ObjectExpression"===n.expression.type),castGroup=group$10(concat$11(["<",indent$6(concat$11([softline$5,path.call(print,"typeAnnotation")])),softline$5,">"])),exprContents=concat$11([ifBreak$6("("),indent$6(concat$11([softline$5,path.call(print,"expression")])),softline$5,ifBreak$6(")")]);if(shouldBreakAfterCast){return conditionalGroup$1([concat$11([castGroup,path.call(print,"expression")]),concat$11([castGroup,group$10(exprContents,{shouldBreak:!0})]),concat$11([castGroup,path.call(print,"expression")])])}return group$10(concat$11([castGroup,path.call(print,"expression")]))}case"OptionalMemberExpression":case"MemberExpression":{var _parent2=path.getParentNode(),firstNonMemberParent,i=0;do{firstNonMemberParent=path.getParentNode(i);i++}while(firstNonMemberParent&&("MemberExpression"===firstNonMemberParent.type||"OptionalMemberExpression"===firstNonMemberParent.type||"TSNonNullExpression"===firstNonMemberParent.type));var shouldInline=firstNonMemberParent&&("NewExpression"===firstNonMemberParent.type||"BindExpression"===firstNonMemberParent.type||"VariableDeclarator"===firstNonMemberParent.type&&"Identifier"!==firstNonMemberParent.id.type||"AssignmentExpression"===firstNonMemberParent.type&&"Identifier"!==firstNonMemberParent.left.type)||n.computed||"Identifier"===n.object.type&&"Identifier"===n.property.type&&"MemberExpression"!==_parent2.type&&"OptionalMemberExpression"!==_parent2.type;return concat$11([path.call(print,"object"),shouldInline?printMemberLookup(path,options,print):group$10(indent$6(concat$11([softline$5,printMemberLookup(path,options,print)])))])}case"MetaProperty":return concat$11([path.call(print,"meta"),".",path.call(print,"property")]);case"BindExpression":if(n.object){parts.push(path.call(print,"object"))}parts.push(group$10(indent$6(concat$11([softline$5,printBindExpressionCallee(path,options,print)]))));return concat$11(parts);case"Identifier":{return concat$11([n.name,printOptionalToken(path),printTypeAnnotation(path,options,print)])}case"SpreadElement":case"SpreadElementPattern":case"RestProperty":case"SpreadProperty":case"SpreadPropertyPattern":case"RestElement":case"ObjectTypeSpreadProperty":return concat$11(["...",path.call(print,"argument"),printTypeAnnotation(path,options,print)]);case"FunctionDeclaration":case"FunctionExpression":parts.push(printFunctionDeclaration(path,print,options));if(!n.body){parts.push(semi)}return concat$11(parts);case"ArrowFunctionExpression":{if(n.async){parts.push("async ")}if(shouldPrintParamsWithoutParens(path,options)){parts.push(path.call(print,"params",0))}else{parts.push(group$10(concat$11([printFunctionParams(path,print,options,args&&(args.expandLastArg||args.expandFirstArg),!0),printReturnType(path,print,options)])))}var dangling=comments.printDanglingComments(path,options,!0,function(comment){var nextCharacter=getNextNonSpaceNonCommentCharacterIndex$2(options.originalText,comment,options);return"=>"===options.originalText.substr(nextCharacter,2)});if(dangling){parts.push(" ",dangling)}parts.push(" =>");var body=path.call(function(bodyPath){return print(bodyPath,args)},"body");if(!hasLeadingOwnLineComment(options.originalText,n.body,options)&&("ArrayExpression"===n.body.type||"ObjectExpression"===n.body.type||"BlockStatement"===n.body.type||isJSXNode(n.body)||isTemplateOnItsOwnLine(n.body,options.originalText,options)||"ArrowFunctionExpression"===n.body.type||"DoExpression"===n.body.type)){return group$10(concat$11([concat$11(parts)," ",body]))}if("SequenceExpression"===n.body.type){return group$10(concat$11([concat$11(parts),group$10(concat$11([" (",indent$6(concat$11([softline$5,body])),softline$5,")"]))]))}var shouldAddSoftLine=(args&&args.expandLastArg||"JSXExpressionContainer"===path.getParentNode().type)&&!(n.comments&&n.comments.length),printTrailingComma=args&&args.expandLastArg&&shouldPrintComma$1(options,"all"),shouldAddParens="ConditionalExpression"===n.body.type&&!startsWithNoLookaheadToken$1(n.body,!1);return group$10(concat$11([concat$11(parts),group$10(concat$11([indent$6(concat$11([line$8,shouldAddParens?ifBreak$6("","("):"",body,shouldAddParens?ifBreak$6("",")"):""])),shouldAddSoftLine?concat$11([ifBreak$6(printTrailingComma?",":""),softline$5]):""]))]))}case"MethodDefinition":case"TSAbstractMethodDefinition":if(n.decorators&&0!==n.decorators.length){parts.push(printDecorators(path,options,print))}if(n.accessibility){parts.push(n.accessibility+" ")}if(n.static){parts.push("static ")}if("TSAbstractMethodDefinition"===n.type){parts.push("abstract ")}parts.push(printMethod(path,options,print));return concat$11(parts);case"YieldExpression":parts.push("yield");if(n.delegate){parts.push("*")}if(n.argument){parts.push(" ",path.call(print,"argument"))}return concat$11(parts);case"AwaitExpression":return concat$11(["await ",path.call(print,"argument")]);case"ImportSpecifier":if(n.importKind){parts.push(path.call(print,"importKind")," ")}parts.push(path.call(print,"imported"));if(n.local&&n.local.name!==n.imported.name){parts.push(" as ",path.call(print,"local"))}return concat$11(parts);case"ExportSpecifier":parts.push(path.call(print,"local"));if(n.exported&&n.exported.name!==n.local.name){parts.push(" as ",path.call(print,"exported"))}return concat$11(parts);case"ImportNamespaceSpecifier":parts.push("* as ");parts.push(path.call(print,"local"));return concat$11(parts);case"ImportDefaultSpecifier":return path.call(print,"local");case"TSExportAssignment":return concat$11(["export = ",path.call(print,"expression"),semi]);case"ExportDefaultDeclaration":case"ExportNamedDeclaration":return printExportDeclaration(path,options,print);case"ExportAllDeclaration":parts.push("export ");if("type"===n.exportKind){parts.push("type ")}parts.push("* from ",path.call(print,"source"),semi);return concat$11(parts);case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":return path.call(print,"exported");case"ImportDeclaration":{parts.push("import ");if(n.importKind&&"value"!==n.importKind){parts.push(n.importKind+" ")}var standalones=[],grouped=[];if(n.specifiers&&0<n.specifiers.length){path.each(function(specifierPath){var value=specifierPath.getValue();if("ImportDefaultSpecifier"===value.type||"ImportNamespaceSpecifier"===value.type){standalones.push(print(specifierPath))}else{grouped.push(print(specifierPath))}},"specifiers");if(0<standalones.length){parts.push(join$7(", ",standalones))}if(0<standalones.length&&0<grouped.length){parts.push(", ")}if(1===grouped.length&&0===standalones.length&&n.specifiers&&!n.specifiers.some(function(node){return node.comments})){parts.push(concat$11(["{",options.bracketSpacing?" ":"",concat$11(grouped),options.bracketSpacing?" ":"","}"]))}else if(1<=grouped.length){parts.push(group$10(concat$11(["{",indent$6(concat$11([options.bracketSpacing?line$8:softline$5,join$7(concat$11([",",line$8]),grouped)])),ifBreak$6(shouldPrintComma$1(options)?",":""),options.bracketSpacing?line$8:softline$5,"}"])))}parts.push(" from ")}else if(n.importKind&&"type"===n.importKind||/{\s*}/.test(options.originalText.slice(options.locStart(n),options.locStart(n.source)))){parts.push("{} from ")}parts.push(path.call(print,"source"),semi);return concat$11(parts)}case"Import":return"import";case"TSModuleBlock":case"BlockStatement":{var naked=path.call(function(bodyPath){return printStatementSequence(bodyPath,options,print)},"body"),hasContent=n.body.find(function(node){return"EmptyStatement"!==node.type}),hasDirectives=n.directives&&0<n.directives.length,_parent3=path.getParentNode(),_parentParent=path.getParentNode(1);if(!hasContent&&!hasDirectives&&!hasDanglingComments(n)&&("ArrowFunctionExpression"===_parent3.type||"FunctionExpression"===_parent3.type||"FunctionDeclaration"===_parent3.type||"ObjectMethod"===_parent3.type||"ClassMethod"===_parent3.type||"ClassPrivateMethod"===_parent3.type||"ForStatement"===_parent3.type||"WhileStatement"===_parent3.type||"DoWhileStatement"===_parent3.type||"DoExpression"===_parent3.type||"CatchClause"===_parent3.type&&!_parentParent.finalizer||"TSModuleDeclaration"===_parent3.type)){return"{}"}parts.push("{");if(hasDirectives){path.each(function(childPath){parts.push(indent$6(concat$11([hardline$8,print(childPath),semi])));if(isNextLineEmpty$4(options.originalText,childPath.getValue(),options)){parts.push(hardline$8)}},"directives")}if(hasContent){parts.push(indent$6(concat$11([hardline$8,naked])))}parts.push(comments.printDanglingComments(path,options));parts.push(hardline$8,"}");return concat$11(parts)}case"ReturnStatement":parts.push("return");if(n.argument){if(returnArgumentHasLeadingComment(options,n.argument)){parts.push(concat$11([" (",indent$6(concat$11([hardline$8,path.call(print,"argument")])),hardline$8,")"]))}else if("LogicalExpression"===n.argument.type||"BinaryExpression"===n.argument.type||"SequenceExpression"===n.argument.type){parts.push(group$10(concat$11([ifBreak$6(" ("," "),indent$6(concat$11([softline$5,path.call(print,"argument")])),softline$5,ifBreak$6(")")])))}else{parts.push(" ",path.call(print,"argument"))}}if(hasDanglingComments(n)){parts.push(" ",comments.printDanglingComments(path,options,!0))}parts.push(semi);return concat$11(parts);case"NewExpression":case"OptionalCallExpression":case"CallExpression":{var isNew="NewExpression"===n.type,optional=printOptionalToken(path);if(!isNew&&"Identifier"===n.callee.type&&("require"===n.callee.name||"define"===n.callee.name)||"Import"===n.callee.type||1===n.arguments.length&&isTemplateOnItsOwnLine(n.arguments[0],options.originalText,options)||!isNew&&isTestCall(n,path.getParentNode())){return concat$11([isNew?"new ":"",path.call(print,"callee"),optional,printFunctionTypeParameters(path,options,print),concat$11(["(",join$7(", ",path.map(print,"arguments")),")"])])}var isIdentifierWithFlowAnnotation="Identifier"===n.callee.type&&hasFlowAnnotationComment(n.callee.trailingComments);if(isIdentifierWithFlowAnnotation){n.callee.trailingComments[0].printed=!0}if(!isNew&&isMemberish(n.callee)){return printMemberChain(path,options,print)}return concat$11([isNew?"new ":"",path.call(print,"callee"),optional,isIdentifierWithFlowAnnotation?"/*:: ".concat(n.callee.trailingComments[0].value.substring(2).trim()," */"):"",printFunctionTypeParameters(path,options,print),printArgumentsList(path,options,print)])}case"TSInterfaceDeclaration":if(isNodeStartingWithDeclare(n,options)){parts.push("declare ")}parts.push(n.abstract?"abstract ":"",printTypeScriptModifiers(path,options,print),"interface ",path.call(print,"id"),n.typeParameters?path.call(print,"typeParameters"):""," ");if(n.extends&&n.extends.length){parts.push(group$10(indent$6(concat$11([softline$5,"extends ",(1===n.extends.length?identity$1:indent$6)(join$7(concat$11([",",line$8]),path.map(print,"extends")))," "]))))}parts.push(path.call(print,"body"));return concat$11(parts);case"ObjectTypeInternalSlot":return concat$11([n.static?"static ":"","[[",path.call(print,"id"),"]]",printOptionalToken(path),n.method?"":": ",path.call(print,"value")]);case"ObjectExpression":case"ObjectPattern":case"ObjectTypeAnnotation":case"TSInterfaceBody":case"TSTypeLiteral":{var propertiesField;if("TSTypeLiteral"===n.type){propertiesField="members"}else if("TSInterfaceBody"===n.type){propertiesField="body"}else{propertiesField="properties"}var isTypeAnnotation="ObjectTypeAnnotation"===n.type,fields=[];if(isTypeAnnotation){fields.push("indexers","callProperties","internalSlots")}fields.push(propertiesField);var firstProperty=fields.map(function(field){return n[field][0]}).sort(function(a,b){return options.locStart(a)-options.locStart(b)})[0],_parent4=path.getParentNode(0),isFlowInterfaceLikeBody=isTypeAnnotation&&_parent4&&("InterfaceDeclaration"===_parent4.type||"DeclareInterface"===_parent4.type||"DeclareClass"===_parent4.type)&&"body"===path.getName(),shouldBreak="TSInterfaceBody"===n.type||isFlowInterfaceLikeBody||"ObjectPattern"===n.type&&"FunctionDeclaration"!==_parent4.type&&"FunctionExpression"!==_parent4.type&&"ArrowFunctionExpression"!==_parent4.type&&"AssignmentPattern"!==_parent4.type&&"CatchClause"!==_parent4.type&&n.properties.some(function(property){return property.value&&("ObjectPattern"===property.value.type||"ArrayPattern"===property.value.type)})||"ObjectPattern"!==n.type&&firstProperty&&hasNewlineInRange$1(options.originalText,options.locStart(n),options.locStart(firstProperty)),separator=isFlowInterfaceLikeBody?";":"TSInterfaceBody"===n.type||"TSTypeLiteral"===n.type?ifBreak$6(semi,";"):",",leftBrace=n.exact?"{|":"{",rightBrace=n.exact?"|}":"}",propsAndLoc=[];fields.forEach(function(field){path.each(function(childPath){var node=childPath.getValue();propsAndLoc.push({node:node,printed:print(childPath),loc:options.locStart(node)})},field)});var separatorParts=[],props=propsAndLoc.sort(function(a,b){return a.loc-b.loc}).map(function(prop){var result=concat$11(separatorParts.concat(group$10(prop.printed)));separatorParts=[separator,line$8];if(("TSPropertySignature"===prop.node.type||"TSMethodSignature"===prop.node.type||"TSConstructSignatureDeclaration"===prop.node.type)&&hasNodeIgnoreComment$1(prop.node)){separatorParts.shift()}if(isNextLineEmpty$4(options.originalText,prop.node,options)){separatorParts.push(hardline$8)}return result});if(n.inexact){props.push(concat$11(separatorParts.concat(group$10("..."))))}var lastElem=getLast$4(n[propertiesField]),canHaveTrailingSeparator=!(lastElem&&("RestProperty"===lastElem.type||"RestElement"===lastElem.type||hasNodeIgnoreComment$1(lastElem)||n.inexact)),content;if(0===props.length&&!n.typeAnnotation){if(!hasDanglingComments(n)){return concat$11([leftBrace,rightBrace])}content=group$10(concat$11([leftBrace,comments.printDanglingComments(path,options),softline$5,rightBrace,printOptionalToken(path)]))}else{content=concat$11([leftBrace,indent$6(concat$11([options.bracketSpacing?line$8:softline$5,concat$11(props)])),ifBreak$6(canHaveTrailingSeparator&&(","!==separator||shouldPrintComma$1(options))?separator:""),concat$11([options.bracketSpacing?line$8:softline$5,rightBrace]),printOptionalToken(path),printTypeAnnotation(path,options,print)])}var parentParentParent=path.getParentNode(2);if("ObjectPattern"===n.type&&_parent4&&shouldHugArguments(_parent4)&&_parent4.params[0]===n||shouldHugType(n)&&parentParentParent&&shouldHugArguments(parentParentParent)&&parentParentParent.params[0].typeAnnotation&&parentParentParent.params[0].typeAnnotation.typeAnnotation===n){return content}return group$10(content,{shouldBreak:shouldBreak})}case"ObjectProperty":case"Property":if(n.method||"get"===n.kind||"set"===n.kind){return printMethod(path,options,print)}if(n.shorthand){parts.push(path.call(print,"value"))}else{var printedLeft;if(n.computed){printedLeft=concat$11(["[",path.call(print,"key"),"]"])}else{printedLeft=printPropertyKey(path,options,print)}parts.push(printAssignment(n.key,printedLeft,":",n.value,path.call(print,"value"),options))}return concat$11(parts);case"ClassMethod":case"ClassPrivateMethod":if(n.decorators&&0!==n.decorators.length){parts.push(printDecorators(path,options,print))}if(n.static){parts.push("static ")}parts=parts.concat(printObjectMethod(path,options,print));return concat$11(parts);case"ObjectMethod":return printObjectMethod(path,options,print);case"Decorator":return concat$11(["@",path.call(print,"expression"),path.call(print,"callee")]);case"ArrayExpression":case"ArrayPattern":if(0===n.elements.length){if(!hasDanglingComments(n)){parts.push("[]")}else{parts.push(group$10(concat$11(["[",comments.printDanglingComments(path,options),softline$5,"]"])))}}else{var _lastElem=getLast$4(n.elements),canHaveTrailingComma=!(_lastElem&&"RestElement"===_lastElem.type),needsForcedTrailingComma=canHaveTrailingComma&&null===_lastElem;parts.push(group$10(concat$11(["[",indent$6(concat$11([softline$5,printArrayItems(path,options,"elements",print)])),needsForcedTrailingComma?",":"",ifBreak$6(canHaveTrailingComma&&!needsForcedTrailingComma&&shouldPrintComma$1(options)?",":""),comments.printDanglingComments(path,options,!0),softline$5,"]"])))}parts.push(printOptionalToken(path),printTypeAnnotation(path,options,print));return concat$11(parts);case"SequenceExpression":{var _parent5=path.getParentNode(0);if("ExpressionStatement"===_parent5.type||"ForStatement"===_parent5.type){var _parts2=[];path.each(function(p){if(0===p.getName()){_parts2.push(print(p))}else{_parts2.push(",",indent$6(concat$11([line$8,print(p)])))}},"expressions");return group$10(concat$11(_parts2))}return group$10(concat$11([join$7(concat$11([",",line$8]),path.map(print,"expressions"))]))}case"ThisExpression":return"this";case"Super":return"super";case"NullLiteral":return"null";case"RegExpLiteral":return printRegex(n);case"NumericLiteral":return printNumber$2(n.extra.raw);case"BigIntLiteral":return concat$11([printNumber$2(n.extra?n.extra.rawValue:n.value),"n"]);case"BooleanLiteral":case"StringLiteral":case"Literal":{if(n.regex){return printRegex(n.regex)}if("number"===typeof n.value){return printNumber$2(n.raw)}if("string"!==typeof n.value){return""+n.value}var grandParent=path.getParentNode(1),isTypeScriptDirective="typescript"===options.parser&&"string"===typeof n.value&&grandParent&&("Program"===grandParent.type||"BlockStatement"===grandParent.type);return nodeStr(n,options,isTypeScriptDirective)}case"Directive":return path.call(print,"value");case"DirectiveLiteral":return nodeStr(n,options);case"UnaryExpression":parts.push(n.operator);if(/[a-z]$/.test(n.operator)){parts.push(" ")}parts.push(path.call(print,"argument"));return concat$11(parts);case"UpdateExpression":parts.push(path.call(print,"argument"),n.operator);if(n.prefix){parts.reverse()}return concat$11(parts);case"ConditionalExpression":return printTernaryOperator(path,options,print,{beforeParts:function beforeParts(){return[path.call(print,"test")]},afterParts:function afterParts(breakClosingParen){return[breakClosingParen?softline$5:""]},shouldCheckJsx:!0,conditionalNodeType:"ConditionalExpression",consequentNodePropertyName:"consequent",alternateNodePropertyName:"alternate",testNodePropertyName:"test",breakNested:!0});case"VariableDeclaration":{var printed=path.map(function(childPath){return print(childPath)},"declarations"),parentNode=path.getParentNode(),isParentForLoop="ForStatement"===parentNode.type||"ForInStatement"===parentNode.type||"ForOfStatement"===parentNode.type||"ForAwaitStatement"===parentNode.type,hasValue=n.declarations.some(function(decl){return decl.init}),firstVariable;if(1===printed.length&&!n.declarations[0].comments){firstVariable=printed[0]}else if(0<printed.length){firstVariable=indent$6(printed[0])}parts=[isNodeStartingWithDeclare(n,options)?"declare ":"",n.kind,firstVariable?concat$11([" ",firstVariable]):"",indent$6(concat$11(printed.slice(1).map(function(p){return concat$11([",",hasValue&&!isParentForLoop?hardline$8:line$8,p])})))];if(!(isParentForLoop&&parentNode.body!==n)){parts.push(semi)}return group$10(concat$11(parts))}case"TSTypeAliasDeclaration":{if(n.declare){parts.push("declare ")}var _printed=printAssignmentRight(n.id,n.typeAnnotation,n.typeAnnotation&&path.call(print,"typeAnnotation"),options);parts.push("type ",path.call(print,"id"),path.call(print,"typeParameters")," =",_printed,semi);return group$10(concat$11(parts))}case"VariableDeclarator":return printAssignment(n.id,path.call(print,"id")," =",n.init,n.init&&path.call(print,"init"),options);case"WithStatement":return group$10(concat$11(["with (",path.call(print,"object"),")",adjustClause(n.body,path.call(print,"body"))]));case"IfStatement":{var con=adjustClause(n.consequent,path.call(print,"consequent")),opening=group$10(concat$11(["if (",group$10(concat$11([indent$6(concat$11([softline$5,path.call(print,"test")])),softline$5])),")",con]));parts.push(opening);if(n.alternate){var commentOnOwnLine=hasTrailingComment(n.consequent)&&n.consequent.comments.some(function(comment){return comment.trailing&&!comments$3.isBlockComment(comment)})||needsHardlineAfterDanglingComment(n),elseOnSameLine="BlockStatement"===n.consequent.type&&!commentOnOwnLine;parts.push(elseOnSameLine?" ":hardline$8);if(hasDanglingComments(n)){parts.push(comments.printDanglingComments(path,options,!0),commentOnOwnLine?hardline$8:" ")}parts.push("else",group$10(adjustClause(n.alternate,path.call(print,"alternate"),"IfStatement"===n.alternate.type)))}return concat$11(parts)}case"ForStatement":{var _body=adjustClause(n.body,path.call(print,"body")),_dangling=comments.printDanglingComments(path,options,!0),printedComments=_dangling?concat$11([_dangling,softline$5]):"";if(!n.init&&!n.test&&!n.update){return concat$11([printedComments,group$10(concat$11(["for (;;)",_body]))])}return concat$11([printedComments,group$10(concat$11(["for (",group$10(concat$11([indent$6(concat$11([softline$5,path.call(print,"init"),";",line$8,path.call(print,"test"),";",line$8,path.call(print,"update")])),softline$5])),")",_body]))])}case"WhileStatement":return group$10(concat$11(["while (",group$10(concat$11([indent$6(concat$11([softline$5,path.call(print,"test")])),softline$5])),")",adjustClause(n.body,path.call(print,"body"))]));case"ForInStatement":return group$10(concat$11([n.each?"for each (":"for (",path.call(print,"left")," in ",path.call(print,"right"),")",adjustClause(n.body,path.call(print,"body"))]));case"ForOfStatement":case"ForAwaitStatement":{var isAwait="ForAwaitStatement"===n.type||n.await;return group$10(concat$11(["for",isAwait?" await":""," (",path.call(print,"left")," of ",path.call(print,"right"),")",adjustClause(n.body,path.call(print,"body"))]))}case"DoWhileStatement":{var clause=adjustClause(n.body,path.call(print,"body")),doBody=group$10(concat$11(["do",clause]));parts=[doBody];if("BlockStatement"===n.body.type){parts.push(" ")}else{parts.push(hardline$8)}parts.push("while (");parts.push(group$10(concat$11([indent$6(concat$11([softline$5,path.call(print,"test")])),softline$5])),")",semi);return concat$11(parts)}case"DoExpression":return concat$11(["do ",path.call(print,"body")]);case"BreakStatement":parts.push("break");if(n.label){parts.push(" ",path.call(print,"label"))}parts.push(semi);return concat$11(parts);case"ContinueStatement":parts.push("continue");if(n.label){parts.push(" ",path.call(print,"label"))}parts.push(semi);return concat$11(parts);case"LabeledStatement":if("EmptyStatement"===n.body.type){return concat$11([path.call(print,"label"),":;"])}return concat$11([path.call(print,"label"),": ",path.call(print,"body")]);case"TryStatement":return concat$11(["try ",path.call(print,"block"),n.handler?concat$11([" ",path.call(print,"handler")]):"",n.finalizer?concat$11([" finally ",path.call(print,"finalizer")]):""]);case"CatchClause":if(n.param){var hasComments=n.param.comments&&n.param.comments.some(function(comment){return!comments$3.isBlockComment(comment)||comment.leading&&hasNewline$3(options.originalText,options.locEnd(comment))||comment.trailing&&hasNewline$3(options.originalText,options.locStart(comment),{backwards:!0})}),param=path.call(print,"param");return concat$11(["catch ",hasComments?concat$11(["(",indent$6(concat$11([softline$5,param])),softline$5,") "]):concat$11(["(",param,") "]),path.call(print,"body")])}return concat$11(["catch ",path.call(print,"body")]);case"ThrowStatement":return concat$11(["throw ",path.call(print,"argument"),semi]);case"SwitchStatement":return concat$11([group$10(concat$11(["switch (",indent$6(concat$11([softline$5,path.call(print,"discriminant")])),softline$5,")"]))," {",0<n.cases.length?indent$6(concat$11([hardline$8,join$7(hardline$8,path.map(function(casePath){var caseNode=casePath.getValue();return concat$11([casePath.call(print),n.cases.indexOf(caseNode)!==n.cases.length-1&&isNextLineEmpty$4(options.originalText,caseNode,options)?hardline$8:""])},"cases"))])):"",hardline$8,"}"]);case"SwitchCase":{if(n.test){parts.push("case ",path.call(print,"test"),":")}else{parts.push("default:")}var consequent=n.consequent.filter(function(node){return"EmptyStatement"!==node.type});if(0<consequent.length){var cons=path.call(function(consequentPath){return printStatementSequence(consequentPath,options,print)},"consequent");parts.push(1===consequent.length&&"BlockStatement"===consequent[0].type?concat$11([" ",cons]):indent$6(concat$11([hardline$8,cons])))}return concat$11(parts)}case"DebuggerStatement":return concat$11(["debugger",semi]);case"JSXAttribute":parts.push(path.call(print,"name"));if(n.value){var res;if(isStringLiteral(n.value)){var raw=rawText(n.value),final=raw.replace(/&apos;/g,"'").replace(/&quot;/g,"\""),quote=getPreferredQuote$1(final,options.jsxSingleQuote?"'":"\""),_escape="'"===quote?"&apos;":"&quot;";final=final.slice(1,-1).replace(new RegExp(quote,"g"),_escape);res=concat$11([quote,final,quote])}else{res=path.call(print,"value")}parts.push("=",res)}return concat$11(parts);case"JSXIdentifier":return""+n.name;case"JSXNamespacedName":return join$7(":",[path.call(print,"namespace"),path.call(print,"name")]);case"JSXMemberExpression":return join$7(".",[path.call(print,"object"),path.call(print,"property")]);case"TSQualifiedName":return join$7(".",[path.call(print,"left"),path.call(print,"right")]);case"JSXSpreadAttribute":case"JSXSpreadChild":{return concat$11(["{",path.call(function(p){var printed=concat$11(["...",print(p)]),n=p.getValue();if(!n.comments||!n.comments.length){return printed}return concat$11([indent$6(concat$11([softline$5,comments.printComments(p,function(){return printed},options)])),softline$5])},"JSXSpreadAttribute"===n.type?"argument":"expression"),"}"])}case"JSXExpressionContainer":{var _parent6=path.getParentNode(0),preventInline="JSXAttribute"===_parent6.type&&n.expression.comments&&0<n.expression.comments.length,_shouldInline=!preventInline&&("ArrayExpression"===n.expression.type||"ObjectExpression"===n.expression.type||"ArrowFunctionExpression"===n.expression.type||"CallExpression"===n.expression.type||"OptionalCallExpression"===n.expression.type||"FunctionExpression"===n.expression.type||"JSXEmptyExpression"===n.expression.type||"TemplateLiteral"===n.expression.type||"TaggedTemplateExpression"===n.expression.type||"DoExpression"===n.expression.type||isJSXNode(_parent6)&&("ConditionalExpression"===n.expression.type||isBinaryish(n.expression)));if(_shouldInline){return group$10(concat$11(["{",path.call(print,"expression"),lineSuffixBoundary$1,"}"]))}return group$10(concat$11(["{",indent$6(concat$11([softline$5,path.call(print,"expression")])),softline$5,lineSuffixBoundary$1,"}"]))}case"JSXFragment":case"JSXElement":{var elem=comments.printComments(path,function(){return printJSXElement(path,options,print)},options);return maybeWrapJSXElementInParens(path,elem)}case"JSXOpeningElement":{var _n=path.getValue(),nameHasComments=_n.name&&_n.name.comments&&0<_n.name.comments.length;if(_n.selfClosing&&!_n.attributes.length&&!nameHasComments){return concat$11(["<",path.call(print,"name"),path.call(print,"typeParameters")," />"])}if(_n.attributes&&1===_n.attributes.length&&_n.attributes[0].value&&isStringLiteral(_n.attributes[0].value)&&!_n.attributes[0].value.value.includes("\n")&&!nameHasComments&&(!_n.attributes[0].comments||!_n.attributes[0].comments.length)){return group$10(concat$11(["<",path.call(print,"name"),path.call(print,"typeParameters")," ",concat$11(path.map(print,"attributes")),_n.selfClosing?" />":">"]))}var lastAttrHasTrailingComments=_n.attributes.length&&hasTrailingComment(getLast$4(_n.attributes)),bracketSameLine=!_n.attributes.length&&!nameHasComments||options.jsxBracketSameLine&&(!nameHasComments||_n.attributes.length)&&!lastAttrHasTrailingComments,_shouldBreak=_n.attributes&&_n.attributes.some(function(attr){return attr.value&&isStringLiteral(attr.value)&&attr.value.value.includes("\n")});return group$10(concat$11(["<",path.call(print,"name"),path.call(print,"typeParameters"),concat$11([indent$6(concat$11(path.map(function(attr){return concat$11([line$8,print(attr)])},"attributes"))),_n.selfClosing?line$8:bracketSameLine?">":softline$5]),_n.selfClosing?"/>":bracketSameLine?"":">"]),{shouldBreak:_shouldBreak})}case"JSXClosingElement":return concat$11(["</",path.call(print,"name"),">"]);case"JSXOpeningFragment":case"JSXClosingFragment":{var hasComment=n.comments&&n.comments.length,hasOwnLineComment=hasComment&&!n.comments.every(comments$3.isBlockComment),isOpeningFragment="JSXOpeningFragment"===n.type;return concat$11([isOpeningFragment?"<":"</",indent$6(concat$11([hasOwnLineComment?hardline$8:hasComment&&!isOpeningFragment?" ":"",comments.printDanglingComments(path,options,!0)])),hasOwnLineComment?hardline$8:"",">"])}case"JSXText":throw new Error("JSXTest should be handled by JSXElement");case"JSXEmptyExpression":{var requiresHardline=n.comments&&!n.comments.every(comments$3.isBlockComment);return concat$11([comments.printDanglingComments(path,options,!requiresHardline),requiresHardline?hardline$8:""])}case"ClassBody":if(!n.comments&&0===n.body.length){return"{}"}return concat$11(["{",0<n.body.length?indent$6(concat$11([hardline$8,path.call(function(bodyPath){return printStatementSequence(bodyPath,options,print)},"body")])):comments.printDanglingComments(path,options),hardline$8,"}"]);case"ClassProperty":case"TSAbstractClassProperty":case"ClassPrivateProperty":{if(n.decorators&&0!==n.decorators.length){parts.push(printDecorators(path,options,print))}if(n.accessibility){parts.push(n.accessibility+" ")}if(n.static){parts.push("static ")}if("TSAbstractClassProperty"===n.type){parts.push("abstract ")}if(n.readonly){parts.push("readonly ")}var variance=getFlowVariance(n);if(variance){parts.push(variance)}if(n.computed){parts.push("[",path.call(print,"key"),"]")}else{parts.push(printPropertyKey(path,options,print))}parts.push(printOptionalToken(path));parts.push(printTypeAnnotation(path,options,print));if(n.value){parts.push(" =",printAssignmentRight(n.key,n.value,path.call(print,"value"),options))}parts.push(semi);return group$10(concat$11(parts))}case"ClassDeclaration":case"ClassExpression":case"TSAbstractClassDeclaration":if(isNodeStartingWithDeclare(n,options)){parts.push("declare ")}parts.push(concat$11(printClass(path,options,print)));return concat$11(parts);case"TSInterfaceHeritage":parts.push(path.call(print,"expression"));if(n.typeParameters){parts.push(path.call(print,"typeParameters"))}return concat$11(parts);case"TemplateElement":return join$7(literalline$3,n.value.raw.split(/\r?\n/g));case"TemplateLiteral":{var expressions=path.map(print,"expressions"),_parentNode=path.getParentNode(),jestEachTriggerRegex=/^[xf]?(describe|it|test)$/;if("TaggedTemplateExpression"===_parentNode.type&&_parentNode.quasi===n&&"MemberExpression"===_parentNode.tag.type&&"Identifier"===_parentNode.tag.property.type&&"each"===_parentNode.tag.property.name&&("Identifier"===_parentNode.tag.object.type&&jestEachTriggerRegex.test(_parentNode.tag.object.name)||"MemberExpression"===_parentNode.tag.object.type&&"Identifier"===_parentNode.tag.object.property.type&&("only"===_parentNode.tag.object.property.name||"skip"===_parentNode.tag.object.property.name)&&"Identifier"===_parentNode.tag.object.object.type&&jestEachTriggerRegex.test(_parentNode.tag.object.object.name))){var headerNames=n.quasis[0].value.raw.trim().split(/\s*\|\s*/);if(1<headerNames.length||headerNames.some(function(headerName){return 0!==headerName.length})){for(var stringifiedExpressions=expressions.map(function(doc$$2){return"${"+printDocToString$1(doc$$2,Object.assign({},options,{printWidth:1/0,endOfLine:"lf"})).formatted+"}"}),tableBody=[{hasLineBreak:!1,cells:[]}],_i=1;_i<n.quasis.length;_i++){var row=tableBody[tableBody.length-1],correspondingExpression=stringifiedExpressions[_i-1];row.cells.push(correspondingExpression);if(-1!==correspondingExpression.indexOf("\n")){row.hasLineBreak=!0}if(-1!==n.quasis[_i].value.raw.indexOf("\n")){tableBody.push({hasLineBreak:!1,cells:[]})}}var maxColumnCount=tableBody.reduce(function(maxColumnCount,row){return _Mathmax(maxColumnCount,row.cells.length)},headerNames.length),maxColumnWidths=Array.from(Array(maxColumnCount),function(){return 0}),table=[{cells:headerNames}].concat(tableBody.filter(function(row){return 0!==row.cells.length}));table.filter(function(row){return!row.hasLineBreak}).forEach(function(row){row.cells.forEach(function(cell,index){maxColumnWidths[index]=_Mathmax(maxColumnWidths[index],getStringWidth$2(cell))})});parts.push("`",indent$6(concat$11([hardline$8,join$7(hardline$8,table.map(function(row){return join$7(" | ",row.cells.map(function(cell,index){return row.hasLineBreak?cell:cell+" ".repeat(maxColumnWidths[index]-getStringWidth$2(cell))}))}))])),hardline$8,"`");return concat$11(parts)}}parts.push("`");path.each(function(childPath){var i=childPath.getName();parts.push(print(childPath));if(i<expressions.length){var tabWidth=options.tabWidth,quasi=childPath.getValue(),indentSize=getIndentSize$1(quasi.value.raw,tabWidth),_printed2=expressions[i];if(n.expressions[i].comments&&n.expressions[i].comments.length||"MemberExpression"===n.expressions[i].type||"OptionalMemberExpression"===n.expressions[i].type||"ConditionalExpression"===n.expressions[i].type){_printed2=concat$11([indent$6(concat$11([softline$5,_printed2])),softline$5])}var aligned=0===indentSize&&quasi.value.raw.endsWith("\n")?align$1(-Infinity,_printed2):addAlignmentToDoc$2(_printed2,indentSize,tabWidth);parts.push(group$10(concat$11(["${",aligned,lineSuffixBoundary$1,"}"])))}},"quasis");parts.push("`");return concat$11(parts)}case"TaggedTemplateExpression":return concat$11([path.call(print,"tag"),path.call(print,"typeParameters"),path.call(print,"quasi")]);case"Node":case"Printable":case"SourceLocation":case"Position":case"Statement":case"Function":case"Pattern":case"Expression":case"Declaration":case"Specifier":case"NamedSpecifier":case"Comment":case"MemberTypeAnnotation":case"Type":throw new Error("unprintable type: "+JSON.stringify(n.type));case"TypeAnnotation":case"TSTypeAnnotation":if(n.typeAnnotation){return path.call(print,"typeAnnotation")}return"";case"TSTupleType":case"TupleTypeAnnotation":{var typesField="TSTupleType"===n.type?"elementTypes":"types";return group$10(concat$11(["[",indent$6(concat$11([softline$5,printArrayItems(path,options,typesField,print)])),"TSTupleType"===n.type?"":ifBreak$6(shouldPrintComma$1(options)?",":""),comments.printDanglingComments(path,options,!0),softline$5,"]"]))}case"ExistsTypeAnnotation":return"*";case"EmptyTypeAnnotation":return"empty";case"AnyTypeAnnotation":return"any";case"MixedTypeAnnotation":return"mixed";case"ArrayTypeAnnotation":return concat$11([path.call(print,"elementType"),"[]"]);case"BooleanTypeAnnotation":return"boolean";case"BooleanLiteralTypeAnnotation":return""+n.value;case"DeclareClass":return printFlowDeclaration(path,printClass(path,options,print));case"TSDeclareFunction":return concat$11([n.declare?"declare ":"",printFunctionDeclaration(path,print,options),semi]);case"DeclareFunction":return printFlowDeclaration(path,["function ",path.call(print,"id"),n.predicate?" ":"",path.call(print,"predicate"),semi]);case"DeclareModule":return printFlowDeclaration(path,["module ",path.call(print,"id")," ",path.call(print,"body")]);case"DeclareModuleExports":return printFlowDeclaration(path,["module.exports",": ",path.call(print,"typeAnnotation"),semi]);case"DeclareVariable":return printFlowDeclaration(path,["var ",path.call(print,"id"),semi]);case"DeclareExportAllDeclaration":return concat$11(["declare export * from ",path.call(print,"source")]);case"DeclareExportDeclaration":return concat$11(["declare ",printExportDeclaration(path,options,print)]);case"DeclareOpaqueType":case"OpaqueType":{parts.push("opaque type ",path.call(print,"id"),path.call(print,"typeParameters"));if(n.supertype){parts.push(": ",path.call(print,"supertype"))}if(n.impltype){parts.push(" = ",path.call(print,"impltype"))}parts.push(semi);if("DeclareOpaqueType"===n.type){return printFlowDeclaration(path,parts)}return concat$11(parts)}case"FunctionTypeAnnotation":case"TSFunctionType":{var _parent7=path.getParentNode(0),_parentParent2=path.getParentNode(1),_parentParentParent=path.getParentNode(2),isArrowFunctionTypeAnnotation="TSFunctionType"===n.type||!(("ObjectTypeProperty"===_parent7.type||"ObjectTypeInternalSlot"===_parent7.type)&&!getFlowVariance(_parent7)&&!_parent7.optional&&options.locStart(_parent7)===options.locStart(n)||"ObjectTypeCallProperty"===_parent7.type||_parentParentParent&&"DeclareFunction"===_parentParentParent.type),needsColon=isArrowFunctionTypeAnnotation&&("TypeAnnotation"===_parent7.type||"TSTypeAnnotation"===_parent7.type),needsParens=needsColon&&isArrowFunctionTypeAnnotation&&("TypeAnnotation"===_parent7.type||"TSTypeAnnotation"===_parent7.type)&&"ArrowFunctionExpression"===_parentParent2.type;if(isObjectTypePropertyAFunction(_parent7,options)){isArrowFunctionTypeAnnotation=!0;needsColon=!0}if(needsParens){parts.push("(")}parts.push(printFunctionParams(path,print,options,!1,!0));if(n.returnType||n.predicate||n.typeAnnotation){parts.push(isArrowFunctionTypeAnnotation?" => ":": ",path.call(print,"returnType"),path.call(print,"predicate"),path.call(print,"typeAnnotation"))}if(needsParens){parts.push(")")}return group$10(concat$11(parts))}case"TSRestType":return concat$11(["...",path.call(print,"typeAnnotation")]);case"TSOptionalType":return concat$11([path.call(print,"typeAnnotation"),"?"]);case"FunctionTypeParam":return concat$11([path.call(print,"name"),printOptionalToken(path),n.name?": ":"",path.call(print,"typeAnnotation")]);case"GenericTypeAnnotation":return concat$11([path.call(print,"id"),path.call(print,"typeParameters")]);case"DeclareInterface":case"InterfaceDeclaration":case"InterfaceTypeAnnotation":{if("DeclareInterface"===n.type||isNodeStartingWithDeclare(n,options)){parts.push("declare ")}parts.push("interface");if("DeclareInterface"===n.type||"InterfaceDeclaration"===n.type){parts.push(" ",path.call(print,"id"),path.call(print,"typeParameters"))}if(0<n["extends"].length){parts.push(group$10(indent$6(concat$11([line$8,"extends ",(1===n.extends.length?identity$1:indent$6)(join$7(concat$11([",",line$8]),path.map(print,"extends")))]))))}parts.push(" ",path.call(print,"body"));return group$10(concat$11(parts))}case"ClassImplements":case"InterfaceExtends":return concat$11([path.call(print,"id"),path.call(print,"typeParameters")]);case"TSClassImplements":return concat$11([path.call(print,"expression"),path.call(print,"typeParameters")]);case"TSIntersectionType":case"IntersectionTypeAnnotation":{for(var types=path.map(print,"types"),result=[],wasIndented=!1,_i2=0;_i2<types.length;++_i2){if(0===_i2){result.push(types[_i2])}else if(isObjectType(n.types[_i2-1])&&isObjectType(n.types[_i2])){result.push(concat$11([" & ",wasIndented?indent$6(types[_i2]):types[_i2]]))}else if(!isObjectType(n.types[_i2-1])&&!isObjectType(n.types[_i2])){result.push(indent$6(concat$11([" &",line$8,types[_i2]])))}else{if(1<_i2){wasIndented=!0}result.push(" & ",1<_i2?indent$6(types[_i2]):types[_i2])}}return group$10(concat$11(result))}case"TSUnionType":case"UnionTypeAnnotation":{var _parent8=path.getParentNode(),shouldIndent="TypeParameterInstantiation"!==_parent8.type&&"TSTypeParameterInstantiation"!==_parent8.type&&"GenericTypeAnnotation"!==_parent8.type&&"TSTypeReference"!==_parent8.type&&"TSTypeAssertion"!==_parent8.type&&!("FunctionTypeParam"===_parent8.type&&!_parent8.name)&&!(("TypeAlias"===_parent8.type||"VariableDeclarator"===_parent8.type||"TSTypeAliasDeclaration"===_parent8.type)&&hasLeadingOwnLineComment(options.originalText,n,options)),shouldHug=shouldHugType(n),_printed3=path.map(function(typePath){var printedType=typePath.call(print);if(!shouldHug){printedType=align$1(2,printedType)}return comments.printComments(typePath,function(){return printedType},options)},"types");if(shouldHug){return join$7(" | ",_printed3)}var shouldAddStartLine=shouldIndent&&!hasLeadingOwnLineComment(options.originalText,n,options),code=concat$11([ifBreak$6(concat$11([shouldAddStartLine?line$8:"","| "])),join$7(concat$11([line$8,"| "]),_printed3)]),hasParens;if("TSUnionType"===n.type){var greatGrandParent=path.getParentNode(2),greatGreatGrandParent=path.getParentNode(3);hasParens=greatGrandParent&&"TSParenthesizedType"===greatGrandParent.type&&greatGreatGrandParent&&("TSUnionType"===greatGreatGrandParent.type||"TSIntersectionType"===greatGreatGrandParent.type)}else{hasParens=needsParens_1(path,options)}if(hasParens){return group$10(concat$11([indent$6(code),softline$5]))}return group$10(shouldIndent?indent$6(code):code)}case"NullableTypeAnnotation":return concat$11(["?",path.call(print,"typeAnnotation")]);case"TSNullKeyword":case"NullLiteralTypeAnnotation":return"null";case"ThisTypeAnnotation":return"this";case"NumberTypeAnnotation":return"number";case"ObjectTypeCallProperty":if(n.static){parts.push("static ")}parts.push(path.call(print,"value"));return concat$11(parts);case"ObjectTypeIndexer":{var _variance=getFlowVariance(n);return concat$11([_variance||"","[",path.call(print,"id"),n.id?": ":"",path.call(print,"key"),"]: ",path.call(print,"value")])}case"ObjectTypeProperty":{var _variance2=getFlowVariance(n),modifier="";if(n.proto){modifier="proto "}else if(n.static){modifier="static "}return concat$11([modifier,isGetterOrSetter(n)?n.kind+" ":"",_variance2||"",printPropertyKey(path,options,print),printOptionalToken(path),isFunctionNotation(n,options)?"":": ",path.call(print,"value")])}case"QualifiedTypeIdentifier":return concat$11([path.call(print,"qualification"),".",path.call(print,"id")]);case"StringLiteralTypeAnnotation":return nodeStr(n,options);case"NumberLiteralTypeAnnotation":assert$3.strictEqual(_typeof(n.value),"number");if(null!=n.extra){return printNumber$2(n.extra.raw)}return printNumber$2(n.raw);case"StringTypeAnnotation":return"string";case"DeclareTypeAlias":case"TypeAlias":{if("DeclareTypeAlias"===n.type||isNodeStartingWithDeclare(n,options)){parts.push("declare ")}var _printed4=printAssignmentRight(n.id,n.right,path.call(print,"right"),options);parts.push("type ",path.call(print,"id"),path.call(print,"typeParameters")," =",_printed4,semi);return group$10(concat$11(parts))}case"TypeCastExpression":{var value=path.getValue(),commentSyntax=value&&value.typeAnnotation&&value.typeAnnotation.range&&options.originalText.substring(value.typeAnnotation.range[0]).match(/^\/\*\s*:/);return concat$11(["(",path.call(print,"expression"),commentSyntax?" /*":"",": ",path.call(print,"typeAnnotation"),commentSyntax?" */":"",")"])}case"TypeParameterDeclaration":case"TypeParameterInstantiation":{var _value=path.getValue(),commentStart=_value.range?options.originalText.substring(0,_value.range[0]).lastIndexOf("/*"):-1,_commentSyntax=0<=commentStart&&options.originalText.substring(commentStart).match(/^\/\*\s*::/);if(_commentSyntax){return concat$11(["/*:: ",printTypeParameters(path,options,print,"params")," */"])}return printTypeParameters(path,options,print,"params")}case"TSTypeParameterDeclaration":case"TSTypeParameterInstantiation":return printTypeParameters(path,options,print,"params");case"TSTypeParameter":case"TypeParameter":{var _parent9=path.getParentNode();if("TSMappedType"===_parent9.type){parts.push("[",path.call(print,"name"));if(n.constraint){parts.push(" in ",path.call(print,"constraint"))}parts.push("]");return concat$11(parts)}var _variance3=getFlowVariance(n);if(_variance3){parts.push(_variance3)}parts.push(path.call(print,"name"));if(n.bound){parts.push(": ");parts.push(path.call(print,"bound"))}if(n.constraint){parts.push(" extends ",path.call(print,"constraint"))}if(n["default"]){parts.push(" = ",path.call(print,"default"))}return concat$11(parts)}case"TypeofTypeAnnotation":return concat$11(["typeof ",path.call(print,"argument")]);case"VoidTypeAnnotation":return"void";case"InferredPredicate":return"%checks";case"DeclaredPredicate":return concat$11(["%checks(",path.call(print,"value"),")"]);case"TSAbstractKeyword":return"abstract";case"TSAnyKeyword":return"any";case"TSAsyncKeyword":return"async";case"TSBooleanKeyword":return"boolean";case"TSBigIntKeyword":return"bigint";case"TSConstKeyword":return"const";case"TSDeclareKeyword":return"declare";case"TSExportKeyword":return"export";case"TSNeverKeyword":return"never";case"TSNumberKeyword":return"number";case"TSObjectKeyword":return"object";case"TSProtectedKeyword":return"protected";case"TSPrivateKeyword":return"private";case"TSPublicKeyword":return"public";case"TSReadonlyKeyword":return"readonly";case"TSSymbolKeyword":return"symbol";case"TSStaticKeyword":return"static";case"TSStringKeyword":return"string";case"TSUndefinedKeyword":return"undefined";case"TSUnknownKeyword":return"unknown";case"TSVoidKeyword":return"void";case"TSAsExpression":return concat$11([path.call(print,"expression")," as ",path.call(print,"typeAnnotation")]);case"TSArrayType":return concat$11([path.call(print,"elementType"),"[]"]);case"TSPropertySignature":{if(n.export){parts.push("export ")}if(n.accessibility){parts.push(n.accessibility+" ")}if(n.static){parts.push("static ")}if(n.readonly){parts.push("readonly ")}if(n.computed){parts.push("[")}parts.push(printPropertyKey(path,options,print));if(n.computed){parts.push("]")}parts.push(printOptionalToken(path));if(n.typeAnnotation){parts.push(": ");parts.push(path.call(print,"typeAnnotation"))}if(n.initializer){parts.push(" = ",path.call(print,"initializer"))}return concat$11(parts)}case"TSParameterProperty":if(n.accessibility){parts.push(n.accessibility+" ")}if(n.export){parts.push("export ")}if(n.static){parts.push("static ")}if(n.readonly){parts.push("readonly ")}parts.push(path.call(print,"parameter"));return concat$11(parts);case"TSTypeReference":return concat$11([path.call(print,"typeName"),printTypeParameters(path,options,print,"typeParameters")]);case"TSTypeQuery":return concat$11(["typeof ",path.call(print,"exprName")]);case"TSParenthesizedType":{return path.call(print,"typeAnnotation")}case"TSIndexSignature":{var _parent10=path.getParentNode();return concat$11([n.export?"export ":"",n.accessibility?concat$11([n.accessibility," "]):"",n.static?"static ":"",n.readonly?"readonly ":"","[",n.parameters?concat$11(path.map(print,"parameters")):"","]: ",path.call(print,"typeAnnotation"),"ClassBody"===_parent10.type?semi:""])}case"TSTypePredicate":return concat$11([path.call(print,"parameterName")," is ",path.call(print,"typeAnnotation")]);case"TSNonNullExpression":return concat$11([path.call(print,"expression"),"!"]);case"TSThisType":return"this";case"TSImportType":return concat$11([!n.isTypeOf?"":"typeof ","import(",path.call(print,"parameter"),")",!n.qualifier?"":concat$11([".",path.call(print,"qualifier")]),printTypeParameters(path,options,print,"typeParameters")]);case"TSLiteralType":return path.call(print,"literal");case"TSIndexedAccessType":return concat$11([path.call(print,"objectType"),"[",path.call(print,"indexType"),"]"]);case"TSConstructSignatureDeclaration":case"TSCallSignatureDeclaration":case"TSConstructorType":{if("TSCallSignatureDeclaration"!==n.type){parts.push("new ")}parts.push(group$10(printFunctionParams(path,print,options,!1,!0)));if(n.returnType){var isType="TSConstructorType"===n.type;parts.push(isType?" => ":": ",path.call(print,"returnType"))}return concat$11(parts)}case"TSTypeOperator":return concat$11([n.operator," ",path.call(print,"typeAnnotation")]);case"TSMappedType":return group$10(concat$11(["{",indent$6(concat$11([options.bracketSpacing?line$8:softline$5,n.readonly?concat$11([getTypeScriptMappedTypeModifier(n.readonly,"readonly")," "]):"",printTypeScriptModifiers(path,options,print),path.call(print,"typeParameter"),n.optional?getTypeScriptMappedTypeModifier(n.optional,"?"):"",": ",path.call(print,"typeAnnotation")])),comments.printDanglingComments(path,options,!0),options.bracketSpacing?line$8:softline$5,"}"]));case"TSMethodSignature":parts.push(n.accessibility?concat$11([n.accessibility," "]):"",n.export?"export ":"",n.static?"static ":"",n.readonly?"readonly ":"",n.computed?"[":"",path.call(print,"key"),n.computed?"]":"",printOptionalToken(path),printFunctionParams(path,print,options,!1,!0));if(n.returnType){parts.push(": ",path.call(print,"returnType"))}return group$10(concat$11(parts));case"TSNamespaceExportDeclaration":parts.push("export as namespace ",path.call(print,"id"));if(options.semi){parts.push(";")}return group$10(concat$11(parts));case"TSEnumDeclaration":if(isNodeStartingWithDeclare(n,options)){parts.push("declare ")}if(n.modifiers){parts.push(printTypeScriptModifiers(path,options,print))}if(n.const){parts.push("const ")}parts.push("enum ",path.call(print,"id")," ");if(0===n.members.length){parts.push(group$10(concat$11(["{",comments.printDanglingComments(path,options),softline$5,"}"])))}else{parts.push(group$10(concat$11(["{",indent$6(concat$11([hardline$8,printArrayItems(path,options,"members",print),shouldPrintComma$1(options,"es5")?",":""])),comments.printDanglingComments(path,options,!0),hardline$8,"}"])))}return concat$11(parts);case"TSEnumMember":parts.push(path.call(print,"id"));if(n.initializer){parts.push(" = ",path.call(print,"initializer"))}return concat$11(parts);case"TSImportEqualsDeclaration":if(n.isExport){parts.push("export ")}parts.push("import ",path.call(print,"id")," = ",path.call(print,"moduleReference"));if(options.semi){parts.push(";")}return group$10(concat$11(parts));case"TSExternalModuleReference":return concat$11(["require(",path.call(print,"expression"),")"]);case"TSModuleDeclaration":{var _parent11=path.getParentNode(),isExternalModule=isLiteral(n.id),parentIsDeclaration="TSModuleDeclaration"===_parent11.type,bodyIsDeclaration=n.body&&"TSModuleDeclaration"===n.body.type;if(parentIsDeclaration){parts.push(".")}else{if(!0===n.declare){parts.push("declare ")}parts.push(printTypeScriptModifiers(path,options,print));var textBetweenNodeAndItsId=options.originalText.slice(options.locStart(n),options.locStart(n.id)),isGlobalDeclaration="Identifier"===n.id.type&&"global"===n.id.name&&!/namespace|module/.test(textBetweenNodeAndItsId);if(!isGlobalDeclaration){parts.push(isExternalModule||/(^|\s)module(\s|$)/.test(textBetweenNodeAndItsId)?"module ":"namespace ")}}parts.push(path.call(print,"id"));if(bodyIsDeclaration){parts.push(path.call(print,"body"))}else if(n.body){parts.push(" ",group$10(path.call(print,"body")))}else{parts.push(semi)}return concat$11(parts)}case"PrivateName":return concat$11(["#",path.call(print,"id")]);case"TSConditionalType":return printTernaryOperator(path,options,print,{beforeParts:function beforeParts(){return[path.call(print,"checkType")," ","extends"," ",path.call(print,"extendsType")]},afterParts:function afterParts(){return[]},shouldCheckJsx:!1,conditionalNodeType:"TSConditionalType",consequentNodePropertyName:"trueType",alternateNodePropertyName:"falseType",testNodePropertyName:"checkType",breakNested:!0});case"TSInferType":return concat$11(["infer"," ",path.call(print,"typeParameter")]);case"InterpreterDirective":parts.push("#!",n.value,hardline$8);if(isNextLineEmpty$4(options.originalText,n,options)){parts.push(hardline$8)}return concat$11(parts);case"NGRoot":return concat$11([].concat(path.call(print,"node"),!n.node.comments||0===n.node.comments.length?[]:concat$11([" //",n.node.comments[0].value.trimRight()])));case"NGChainedExpression":return group$10(join$7(concat$11([";",line$8]),path.map(function(childPath){return hasNgSideEffect(childPath)?print(childPath):concat$11(["(",print(childPath),")"])},"expressions")));case"NGEmptyExpression":return"";case"NGQuotedExpression":return concat$11([n.prefix,":",n.value]);case"NGMicrosyntax":return concat$11(path.map(function(childPath,index){return concat$11([0===index?"":isNgForOf(childPath.getValue(),index,n)?" ":concat$11([";",line$8]),print(childPath)])},"body"));case"NGMicrosyntaxKey":return /^[a-z_$][a-z0-9_$]*(-[a-z_$][a-z0-9_$])*$/i.test(n.name)?n.name:JSON.stringify(n.name);case"NGMicrosyntaxExpression":return concat$11([path.call(print,"expression"),null===n.alias?"":concat$11([" as ",path.call(print,"alias")])]);case"NGMicrosyntaxKeyedExpression":{var index=path.getName(),_parentNode2=path.getParentNode(),shouldNotPrintColon=isNgForOf(n,index,_parentNode2)||(1===index&&("then"===n.key.name||"else"===n.key.name)||2===index&&"else"===n.key.name&&"NGMicrosyntaxKeyedExpression"===_parentNode2.body[index-1].type&&"then"===_parentNode2.body[index-1].key.name)&&"NGMicrosyntaxExpression"===_parentNode2.body[0].type;return concat$11([path.call(print,"key"),shouldNotPrintColon?" ":": ",path.call(print,"expression")])}case"NGMicrosyntaxLet":return concat$11(["let ",path.call(print,"key"),null===n.value?"":concat$11([" = ",path.call(print,"value")])]);case"NGMicrosyntaxAs":return concat$11([path.call(print,"key")," as ",path.call(print,"alias")]);default:throw new Error("unknown type: "+JSON.stringify(n.type));}}function isNgForOf(node,index,parentNode){return"NGMicrosyntaxKeyedExpression"===node.type&&"of"===node.key.name&&1===index&&"NGMicrosyntaxLet"===parentNode.body[0].type&&null===parentNode.body[0].value}function hasNgSideEffect(path){return hasNode(path.getValue(),function(node){switch(node.type){case void 0:return!1;case"CallExpression":case"OptionalCallExpression":case"AssignmentExpression":return!0;}})}function printStatementSequence(path,options,print){var printed=[],bodyNode=path.getNode(),isClass="ClassBody"===bodyNode.type;path.map(function(stmtPath,i){var stmt=stmtPath.getValue();if(!stmt){return}if("EmptyStatement"===stmt.type){return}var stmtPrinted=print(stmtPath),text=options.originalText,parts=[];if(!options.semi&&!isClass&&!isTheOnlyJSXElementInMarkdown(options,stmtPath)&&stmtNeedsASIProtection(stmtPath,options)){if(stmt.comments&&stmt.comments.some(function(comment){return comment.leading})){parts.push(print(stmtPath,{needsSemi:!0}))}else{parts.push(";",stmtPrinted)}}else{parts.push(stmtPrinted)}if(!options.semi&&isClass){if(classPropMayCauseASIProblems(stmtPath)){parts.push(";")}else if("ClassProperty"===stmt.type){var nextChild=bodyNode.body[i+1];if(classChildNeedsASIProtection(nextChild)){parts.push(";")}}}if(isNextLineEmpty$4(text,stmt,options)&&!isLastStatement(stmtPath)){parts.push(hardline$8)}printed.push(concat$11(parts))});return join$7(hardline$8,printed)}function printPropertyKey(path,options,print){var node=path.getNode(),key=node.key;if("Identifier"===key.type&&!node.computed&&"json"===options.parser){return path.call(function(keyPath){return comments.printComments(keyPath,function(){return JSON.stringify(key.name)},options)},"key")}if(isStringLiteral(key)&&isIdentifierName(key.value)&&!node.computed&&"json"!==options.parser&&!("typescript"===options.parser&&"ClassProperty"===node.type)){return path.call(function(keyPath){return comments.printComments(keyPath,function(){return key.value},options)},"key")}return path.call(print,"key")}function printMethod(path,options,print){var node=path.getNode(),semi=options.semi?";":"",kind=node.kind,parts=[];if("ObjectMethod"===node.type||"ClassMethod"===node.type||"ClassPrivateMethod"===node.type){node.value=node}if(node.value.async){parts.push("async ")}if(!kind||"init"===kind||"method"===kind||"constructor"===kind){if(node.value.generator){parts.push("*")}}else{assert$3.ok("get"===kind||"set"===kind);parts.push(kind," ")}var key=printPropertyKey(path,options,print);if(node.computed){key=concat$11(["[",key,"]"])}parts.push(key,concat$11(path.call(function(valuePath){return[printFunctionTypeParameters(valuePath,options,print),group$10(concat$11([printFunctionParams(valuePath,print,options),printReturnType(valuePath,print,options)]))]},"value")));if(!node.value.body||0===node.value.body.length){parts.push(semi)}else{parts.push(" ",path.call(print,"value","body"))}return concat$11(parts)}function couldGroupArg(arg){return"ObjectExpression"===arg.type&&(0<arg.properties.length||arg.comments)||"ArrayExpression"===arg.type&&(0<arg.elements.length||arg.comments)||"TSTypeAssertion"===arg.type||"TSAsExpression"===arg.type||"FunctionExpression"===arg.type||"ArrowFunctionExpression"===arg.type&&!arg.returnType&&("BlockStatement"===arg.body.type||"ArrowFunctionExpression"===arg.body.type||"ObjectExpression"===arg.body.type||"ArrayExpression"===arg.body.type||"CallExpression"===arg.body.type||"OptionalCallExpression"===arg.body.type||"ConditionalExpression"===arg.body.type||isJSXNode(arg.body))}function shouldGroupLastArg(args){var lastArg=getLast$4(args),penultimateArg=getPenultimate$1(args);return!hasLeadingComment(lastArg)&&!hasTrailingComment(lastArg)&&couldGroupArg(lastArg)&&(!penultimateArg||penultimateArg.type!==lastArg.type)}function shouldGroupFirstArg(args){if(2!==args.length){return!1}var firstArg=args[0],secondArg=args[1];return(!firstArg.comments||!firstArg.comments.length)&&("FunctionExpression"===firstArg.type||"ArrowFunctionExpression"===firstArg.type&&"BlockStatement"===firstArg.body.type)&&"FunctionExpression"!==secondArg.type&&"ArrowFunctionExpression"!==secondArg.type&&"ConditionalExpression"!==secondArg.type&&!couldGroupArg(secondArg)}function isSimpleFlowType(node){var flowTypeAnnotations=["AnyTypeAnnotation","NullLiteralTypeAnnotation","GenericTypeAnnotation","ThisTypeAnnotation","NumberTypeAnnotation","VoidTypeAnnotation","EmptyTypeAnnotation","MixedTypeAnnotation","BooleanTypeAnnotation","BooleanLiteralTypeAnnotation","StringTypeAnnotation"];return node&&-1!==flowTypeAnnotations.indexOf(node.type)&&!("GenericTypeAnnotation"===node.type&&node.typeParameters)}var functionCompositionFunctionNames=new Set(["pipe","pipeP","pipeK","compose","composeFlipped","composeP","composeK","flow","flowRight","connect","createSelector"]),ordinaryMethodNames=new Set(["connect"]);function isFunctionCompositionFunction(node){switch(node.type){case"OptionalMemberExpression":case"MemberExpression":{return isFunctionCompositionFunction(node.property)&&!ordinaryMethodNames.has(node.property.name)}case"Identifier":{return functionCompositionFunctionNames.has(node.name)}case"StringLiteral":case"Literal":{return functionCompositionFunctionNames.has(node.value)}}}function printArgumentsList(path,options,print){var node=path.getValue(),args=node.arguments;if(0===args.length){return concat$11(["(",comments.printDanglingComments(path,options,!0),")"])}if(2===args.length&&"ArrowFunctionExpression"===args[0].type&&0===args[0].params.length&&"BlockStatement"===args[0].body.type&&"ArrayExpression"===args[1].type&&!args.find(function(arg){return arg.leadingComments||arg.trailingComments})){return concat$11(["(",path.call(print,"arguments",0),", ",path.call(print,"arguments",1),")"])}var anyArgEmptyLine=!1,hasEmptyLineFollowingFirstArg=!1,lastArgIndex=args.length-1,printedArguments=path.map(function(argPath,index){var arg=argPath.getNode(),parts=[print(argPath)];if(index===lastArgIndex){}else if(isNextLineEmpty$4(options.originalText,arg,options)){if(0===index){hasEmptyLineFollowingFirstArg=!0}anyArgEmptyLine=!0;parts.push(",",hardline$8,hardline$8)}else{parts.push(",",line$8)}return concat$11(parts)},"arguments"),maybeTrailingComma=shouldPrintComma$1(options,"all")?",":"";function allArgsBrokenOut(){return group$10(concat$11(["(",indent$6(concat$11([line$8,concat$11(printedArguments)])),maybeTrailingComma,line$8,")"]),{shouldBreak:!0})}if(isFunctionCompositionFunction(node.callee)&&1<args.length){return allArgsBrokenOut()}var shouldGroupFirst=shouldGroupFirstArg(args),shouldGroupLast=shouldGroupLastArg(args);if(shouldGroupFirst||shouldGroupLast){var shouldBreak=(shouldGroupFirst?printedArguments.slice(1).some(willBreak$1):printedArguments.slice(0,-1).some(willBreak$1))||anyArgEmptyLine,printedExpanded,i=0;path.each(function(argPath){if(shouldGroupFirst&&0===i){printedExpanded=[concat$11([argPath.call(function(p){return print(p,{expandFirstArg:!0})}),1<printedArguments.length?",":"",hasEmptyLineFollowingFirstArg?hardline$8:line$8,hasEmptyLineFollowingFirstArg?hardline$8:""])].concat(printedArguments.slice(1))}if(shouldGroupLast&&i===args.length-1){printedExpanded=printedArguments.slice(0,-1).concat(argPath.call(function(p){return print(p,{expandLastArg:!0})}))}i++},"arguments");var somePrintedArgumentsWillBreak=printedArguments.some(willBreak$1);return concat$11([somePrintedArgumentsWillBreak?breakParent$3:"",conditionalGroup$1([concat$11([ifBreak$6(indent$6(concat$11(["(",softline$5,concat$11(printedExpanded)])),concat$11(["(",concat$11(printedExpanded)])),somePrintedArgumentsWillBreak?concat$11([ifBreak$6(maybeTrailingComma),softline$5]):"",")"]),shouldGroupFirst?concat$11(["(",group$10(printedExpanded[0],{shouldBreak:!0}),concat$11(printedExpanded.slice(1)),")"]):concat$11(["(",concat$11(printedArguments.slice(0,-1)),group$10(getLast$4(printedExpanded),{shouldBreak:!0}),")"]),allArgsBrokenOut()],{shouldBreak:shouldBreak})])}return group$10(concat$11(["(",indent$6(concat$11([softline$5,concat$11(printedArguments)])),ifBreak$6(shouldPrintComma$1(options,"all")?",":""),softline$5,")"]),{shouldBreak:printedArguments.some(willBreak$1)||anyArgEmptyLine})}function printTypeAnnotation(path,options,print){var node=path.getValue();if(!node.typeAnnotation){return""}var parentNode=path.getParentNode(),isDefinite=node.definite||parentNode&&"VariableDeclarator"===parentNode.type&&parentNode.definite,isFunctionDeclarationIdentifier="DeclareFunction"===parentNode.type&&parentNode.id===node;if(isFlowAnnotationComment(options.originalText,node.typeAnnotation,options)){return concat$11([" /*: ",path.call(print,"typeAnnotation")," */"])}return concat$11([isFunctionDeclarationIdentifier?"":isDefinite?"!: ":": ",path.call(print,"typeAnnotation")])}function printFunctionTypeParameters(path,options,print){var fun=path.getValue();if(fun.typeArguments){return path.call(print,"typeArguments")}if(fun.typeParameters){return path.call(print,"typeParameters")}return""}function printFunctionParams(path,print,options,expandArg,printTypeParams){var fun=path.getValue(),paramsField=fun.parameters?"parameters":"params",typeParams=printTypeParams?printFunctionTypeParameters(path,options,print):"",printed=[];if(fun[paramsField]){printed=path.map(print,paramsField)}if(fun.rest){printed.push(concat$11(["...",path.call(print,"rest")]))}if(0===printed.length){return concat$11([typeParams,"(",comments.printDanglingComments(path,options,!0,function(comment){return")"===getNextNonSpaceNonCommentCharacter$1(options.originalText,comment,options.locEnd)}),")"])}var lastParam=getLast$4(fun[paramsField]);if(expandArg&&!(fun[paramsField]&&fun[paramsField].some(function(n){return n.comments}))){return group$10(concat$11([removeLines$2(typeParams),"(",join$7(", ",printed.map(removeLines$2)),")"]))}if(shouldHugArguments(fun)){return concat$11([typeParams,"(",join$7(", ",printed),")"])}var parent=path.getParentNode();if(isTestCall(parent)){return concat$11([typeParams,"(",join$7(", ",printed),")"])}var isFlowShorthandWithOneArg=(isObjectTypePropertyAFunction(parent,options)||isTypeAnnotationAFunction(parent,options)||"TypeAlias"===parent.type||"UnionTypeAnnotation"===parent.type||"TSUnionType"===parent.type||"IntersectionTypeAnnotation"===parent.type||"FunctionTypeAnnotation"===parent.type&&parent.returnType===fun)&&1===fun[paramsField].length&&null===fun[paramsField][0].name&&fun[paramsField][0].typeAnnotation&&null===fun.typeParameters&&isSimpleFlowType(fun[paramsField][0].typeAnnotation)&&!fun.rest;if(isFlowShorthandWithOneArg){if("always"===options.arrowParens){return concat$11(["(",concat$11(printed),")"])}return concat$11(printed)}var canHaveTrailingComma=!(lastParam&&"RestElement"===lastParam.type)&&!fun.rest;return concat$11([typeParams,"(",indent$6(concat$11([softline$5,join$7(concat$11([",",line$8]),printed)])),ifBreak$6(canHaveTrailingComma&&shouldPrintComma$1(options,"all")?",":""),softline$5,")"])}function shouldPrintParamsWithoutParens(path,options){if("always"===options.arrowParens){return!1}if("avoid"===options.arrowParens){var node=path.getValue();return canPrintParamsWithoutParens(node)}return!1}function canPrintParamsWithoutParens(node){return 1===node.params.length&&!node.rest&&!node.typeParameters&&!hasDanglingComments(node)&&"Identifier"===node.params[0].type&&!node.params[0].typeAnnotation&&!node.params[0].comments&&!node.params[0].optional&&!node.predicate&&!node.returnType}function printFunctionDeclaration(path,print,options){var n=path.getValue(),parts=[];if(n.async){parts.push("async ")}parts.push("function");if(n.generator){parts.push("*")}if(n.id){parts.push(" ",path.call(print,"id"))}parts.push(printFunctionTypeParameters(path,options,print),group$10(concat$11([printFunctionParams(path,print,options),printReturnType(path,print,options)])),n.body?" ":"",path.call(print,"body"));return concat$11(parts)}function printObjectMethod(path,options,print){var objMethod=path.getValue(),parts=[];if(objMethod.async){parts.push("async ")}if(objMethod.generator){parts.push("*")}if(objMethod.method||"get"===objMethod.kind||"set"===objMethod.kind){return printMethod(path,options,print)}var key=printPropertyKey(path,options,print);if(objMethod.computed){parts.push("[",key,"]")}else{parts.push(key)}parts.push(printFunctionTypeParameters(path,options,print),group$10(concat$11([printFunctionParams(path,print,options),printReturnType(path,print,options)]))," ",path.call(print,"body"));return concat$11(parts)}function printReturnType(path,print,options){var n=path.getValue(),returnType=path.call(print,"returnType");if(n.returnType&&isFlowAnnotationComment(options.originalText,n.returnType,options)){return concat$11([" /*: ",returnType," */"])}var parts=[returnType];if(n.returnType&&n.returnType.typeAnnotation){parts.unshift(": ")}if(n.predicate){parts.push(n.returnType?" ":": ",path.call(print,"predicate"))}return concat$11(parts)}function printExportDeclaration(path,options,print){var decl=path.getValue(),semi=options.semi?";":"",parts=["export "],isDefault=decl["default"]||"ExportDefaultDeclaration"===decl.type;if(isDefault){parts.push("default ")}parts.push(comments.printDanglingComments(path,options,!0));if(needsHardlineAfterDanglingComment(decl)){parts.push(hardline$8)}if(decl.declaration){parts.push(path.call(print,"declaration"));if(isDefault&&"ClassDeclaration"!==decl.declaration.type&&"FunctionDeclaration"!==decl.declaration.type&&"TSAbstractClassDeclaration"!==decl.declaration.type&&"TSInterfaceDeclaration"!==decl.declaration.type&&"DeclareClass"!==decl.declaration.type&&"DeclareFunction"!==decl.declaration.type&&"TSDeclareFunction"!==decl.declaration.type){parts.push(semi)}}else{if(decl.specifiers&&0<decl.specifiers.length){var specifiers=[],defaultSpecifiers=[],namespaceSpecifiers=[];path.each(function(specifierPath){var specifierType=path.getValue().type;if("ExportSpecifier"===specifierType){specifiers.push(print(specifierPath))}else if("ExportDefaultSpecifier"===specifierType){defaultSpecifiers.push(print(specifierPath))}else if("ExportNamespaceSpecifier"===specifierType){namespaceSpecifiers.push(concat$11(["* as ",print(specifierPath)]))}},"specifiers");var isNamespaceFollowed=0!==namespaceSpecifiers.length&&0!==specifiers.length,isDefaultFollowed=0!==defaultSpecifiers.length&&(0!==namespaceSpecifiers.length||0!==specifiers.length);parts.push("type"===decl.exportKind?"type ":"",concat$11(defaultSpecifiers),concat$11([isDefaultFollowed?", ":""]),concat$11(namespaceSpecifiers),concat$11([isNamespaceFollowed?", ":""]),0!==specifiers.length?group$10(concat$11(["{",indent$6(concat$11([options.bracketSpacing?line$8:softline$5,join$7(concat$11([",",line$8]),specifiers)])),ifBreak$6(shouldPrintComma$1(options)?",":""),options.bracketSpacing?line$8:softline$5,"}"])):"")}else{parts.push("{}")}if(decl.source){parts.push(" from ",path.call(print,"source"))}parts.push(semi)}return concat$11(parts)}function printFlowDeclaration(path,parts){var parentExportDecl=getParentExportDeclaration$1(path);if(parentExportDecl){assert$3.strictEqual(parentExportDecl.type,"DeclareExportDeclaration")}else{parts.unshift("declare ")}return concat$11(parts)}function getFlowVariance(path){if(!path.variance){return null}var variance=path.variance.kind||path.variance;switch(variance){case"plus":return"+";case"minus":return"-";default:return variance;}}function printTypeScriptModifiers(path,options,print){var n=path.getValue();if(!n.modifiers||!n.modifiers.length){return""}return concat$11([join$7(" ",path.map(print,"modifiers"))," "])}function printTypeParameters(path,options,print,paramsKey){var n=path.getValue();if(!n[paramsKey]){return""}if(!Array.isArray(n[paramsKey])){return path.call(print,paramsKey)}var grandparent=path.getNode(2),isParameterInTestCall=null!=grandparent&&isTestCall(grandparent),shouldInline=isParameterInTestCall||0===n[paramsKey].length||1===n[paramsKey].length&&(shouldHugType(n[paramsKey][0])||"GenericTypeAnnotation"===n[paramsKey][0].type&&shouldHugType(n[paramsKey][0].id)||"TSTypeReference"===n[paramsKey][0].type&&shouldHugType(n[paramsKey][0].typeName)||"NullableTypeAnnotation"===n[paramsKey][0].type);if(shouldInline){return concat$11(["<",join$7(", ",path.map(print,paramsKey)),">"])}return group$10(concat$11(["<",indent$6(concat$11([softline$5,join$7(concat$11([",",line$8]),path.map(print,paramsKey))])),ifBreak$6("typescript"!==options.parser&&shouldPrintComma$1(options,"all")?",":""),softline$5,">"]))}function printClass(path,options,print){var n=path.getValue(),parts=[];if("TSAbstractClassDeclaration"===n.type){parts.push("abstract ")}parts.push("class");if(n.id){parts.push(" ",path.call(print,"id"))}parts.push(path.call(print,"typeParameters"));var partsGroup=[];if(n.superClass){var printed=concat$11(["extends ",path.call(print,"superClass"),path.call(print,"superTypeParameters")]);if((!n.implements||0===n.implements.length)&&(!n.superClass.comments||0===n.superClass.comments.length)){parts.push(concat$11([" ",path.call(function(superClass){return comments.printComments(superClass,function(){return printed},options)},"superClass")]))}else{partsGroup.push(group$10(concat$11([line$8,path.call(function(superClass){return comments.printComments(superClass,function(){return printed},options)},"superClass")])))}}else if(n.extends&&0<n.extends.length){parts.push(" extends ",join$7(", ",path.map(print,"extends")))}if(n.mixins&&0<n.mixins.length){partsGroup.push(line$8,"mixins ",group$10(indent$6(join$7(concat$11([",",line$8]),path.map(print,"mixins")))))}if(n["implements"]&&0<n["implements"].length){partsGroup.push(line$8,"implements",group$10(indent$6(concat$11([line$8,join$7(concat$11([",",line$8]),path.map(print,"implements"))]))))}if(0<partsGroup.length){parts.push(group$10(indent$6(concat$11(partsGroup))))}if(n.body&&n.body.comments&&hasLeadingOwnLineComment(options.originalText,n.body,options)){parts.push(hardline$8)}else{parts.push(" ")}parts.push(path.call(print,"body"));return parts}function printOptionalToken(path){var node=path.getValue();if(!node.optional){return""}if("OptionalCallExpression"===node.type||"OptionalMemberExpression"===node.type&&node.computed){return"?."}return"?"}function printMemberLookup(path,options,print){var property=path.call(print,"property"),n=path.getValue(),optional=printOptionalToken(path);if(!n.computed){return concat$11([optional,".",property])}if(!n.property||isNumericLiteral(n.property)){return concat$11([optional,"[",property,"]"])}return group$10(concat$11([optional,"[",indent$6(concat$11([softline$5,property])),softline$5,"]"]))}function printBindExpressionCallee(path,options,print){return concat$11(["::",path.call(print,"callee")])}function printMemberChain(path,options,print){var printedNodes=[];function shouldInsertEmptyLineAfter(node){var originalText=options.originalText,nextCharIndex=getNextNonSpaceNonCommentCharacterIndex$2(originalText,node,options),nextChar=originalText.charAt(nextCharIndex);if(")"==nextChar){return isNextLineEmptyAfterIndex$1(originalText,nextCharIndex+1,options)}return isNextLineEmpty$4(originalText,node,options)}function rec(path){var node=path.getValue();if(("CallExpression"===node.type||"OptionalCallExpression"===node.type)&&(isMemberish(node.callee)||"CallExpression"===node.callee.type||"OptionalCallExpression"===node.callee.type)){printedNodes.unshift({node:node,printed:concat$11([comments.printComments(path,function(){return concat$11([printOptionalToken(path),printFunctionTypeParameters(path,options,print),printArgumentsList(path,options,print)])},options),shouldInsertEmptyLineAfter(node)?hardline$8:""])});path.call(function(callee){return rec(callee)},"callee")}else if(isMemberish(node)){printedNodes.unshift({node:node,needsParens:needsParens_1(path,options),printed:comments.printComments(path,function(){return"OptionalMemberExpression"===node.type||"MemberExpression"===node.type?printMemberLookup(path,options,print):printBindExpressionCallee(path,options,print)},options)});path.call(function(object){return rec(object)},"object")}else if("TSNonNullExpression"===node.type){printedNodes.unshift({node:node,printed:comments.printComments(path,function(){return"!"},options)});path.call(function(expression){return rec(expression)},"expression")}else{printedNodes.unshift({node:node,printed:path.call(print)})}}var node=path.getValue();printedNodes.unshift({node:node,printed:concat$11([printOptionalToken(path),printFunctionTypeParameters(path,options,print),printArgumentsList(path,options,print)])});path.call(function(callee){return rec(callee)},"callee");var groups=[],currentGroup=[printedNodes[0]],i=1;for(;i<printedNodes.length;++i){if("TSNonNullExpression"===printedNodes[i].node.type||"OptionalCallExpression"===printedNodes[i].node.type||"CallExpression"===printedNodes[i].node.type||("MemberExpression"===printedNodes[i].node.type||"OptionalMemberExpression"===printedNodes[i].node.type)&&printedNodes[i].node.computed&&isNumericLiteral(printedNodes[i].node.property)){currentGroup.push(printedNodes[i])}else{break}}if("CallExpression"!==printedNodes[0].node.type&&"OptionalCallExpression"!==printedNodes[0].node.type){for(;i+1<printedNodes.length;++i){if(isMemberish(printedNodes[i].node)&&isMemberish(printedNodes[i+1].node)){currentGroup.push(printedNodes[i])}else{break}}}groups.push(currentGroup);currentGroup=[];var hasSeenCallExpression=!1;for(;i<printedNodes.length;++i){if(hasSeenCallExpression&&isMemberish(printedNodes[i].node)){if(printedNodes[i].node.computed&&isNumericLiteral(printedNodes[i].node.property)){currentGroup.push(printedNodes[i]);continue}groups.push(currentGroup);currentGroup=[];hasSeenCallExpression=!1}if("CallExpression"===printedNodes[i].node.type||"OptionalCallExpression"===printedNodes[i].node.type){hasSeenCallExpression=!0}currentGroup.push(printedNodes[i]);if(printedNodes[i].node.comments&&printedNodes[i].node.comments.some(function(comment){return comment.trailing})){groups.push(currentGroup);currentGroup=[];hasSeenCallExpression=!1}}if(0<currentGroup.length){groups.push(currentGroup)}function isFactory(name){return /^[A-Z]|^[_$]+$/.test(name)}function isShort(name){return name.length<=options.tabWidth}function shouldNotWrap(groups){var parent=path.getParentNode(),isExpression=parent&&"ExpressionStatement"===parent.type,hasComputed=groups[1].length&&groups[1][0].node.computed;if(1===groups[0].length){var firstNode=groups[0][0].node;return"ThisExpression"===firstNode.type||"Identifier"===firstNode.type&&(isFactory(firstNode.name)||isExpression&&isShort(firstNode.name)||hasComputed)}var lastNode=getLast$4(groups[0]).node;return("MemberExpression"===lastNode.type||"OptionalMemberExpression"===lastNode.type)&&"Identifier"===lastNode.property.type&&(isFactory(lastNode.property.name)||hasComputed)}var shouldMerge=2<=groups.length&&!groups[1][0].node.comments&&shouldNotWrap(groups);function printGroup(printedGroup){for(var result=[],_i3=0;_i3<printedGroup.length;_i3++){if(printedGroup[_i3+1]&&printedGroup[_i3+1].needsParens){result.push("(",printedGroup[_i3].printed,printedGroup[_i3+1].printed,")");_i3++}else{result.push(printedGroup[_i3].printed)}}return concat$11(result)}function printIndentedGroup(groups){if(0===groups.length){return""}return indent$6(group$10(concat$11([hardline$8,join$7(hardline$8,groups.map(printGroup))])))}var printedGroups=groups.map(printGroup),oneLine=concat$11(printedGroups),cutoff=shouldMerge?3:2,flatGroups=groups.slice(0,cutoff).reduce(function(res,group){return res.concat(group)},[]),hasComment=flatGroups.slice(1,-1).some(function(node){return hasLeadingComment(node.node)})||flatGroups.slice(0,-1).some(function(node){return hasTrailingComment(node.node)})||groups[cutoff]&&hasLeadingComment(groups[cutoff][0].node);if(groups.length<=cutoff&&!hasComment){return group$10(oneLine)}var lastNodeBeforeIndent=getLast$4(shouldMerge?groups.slice(1,2)[0]:groups[0]).node,shouldHaveEmptyLineBeforeIndent="CallExpression"!==lastNodeBeforeIndent.type&&"OptionalCallExpression"!==lastNodeBeforeIndent.type&&shouldInsertEmptyLineAfter(lastNodeBeforeIndent),expanded=concat$11([printGroup(groups[0]),shouldMerge?concat$11(groups.slice(1,2).map(printGroup)):"",shouldHaveEmptyLineBeforeIndent?hardline$8:"",printIndentedGroup(groups.slice(shouldMerge?2:1))]),callExpressions=printedNodes.map(function(_ref){var node=_ref.node;return node}).filter(isCallOrOptionalCallExpression);if(hasComment||3<=callExpressions.length||printedGroups.slice(0,-1).some(willBreak$1)||function(lastGroupDoc,lastGroupNode){return isCallOrOptionalCallExpression(lastGroupNode)&&willBreak$1(lastGroupDoc)}(getLast$4(printedGroups),getLast$4(getLast$4(groups)).node)&&callExpressions.slice(0,-1).some(function(n){return n.arguments.some(isFunctionOrArrowExpression)})){return group$10(expanded)}return concat$11([willBreak$1(oneLine)||shouldHaveEmptyLineBeforeIndent?breakParent$3:"",conditionalGroup$1([oneLine,expanded])])}function isCallOrOptionalCallExpression(node){return"CallExpression"===node.type||"OptionalCallExpression"===node.type}function isJSXNode(node){return"JSXElement"===node.type||"JSXFragment"===node.type}function isEmptyJSXElement(node){if(0===node.children.length){return!0}if(1<node.children.length){return!1}var child=node.children[0];return isLiteral(child)&&!isMeaningfulJSXText(child)}var jsxWhitespaceChars=" \n\r\t",containsNonJsxWhitespaceRegex=/[^ \n\r	]/,matchJsxWhitespaceRegex=/([ \n\r	]+)/;function isMeaningfulJSXText(node){return isLiteral(node)&&(containsNonJsxWhitespaceRegex.test(rawText(node))||!/\n/.test(rawText(node)))}function conditionalExpressionChainContainsJSX(node){return!!getConditionalChainContents(node).find(isJSXNode)}function getConditionalChainContents(node){var nonConditionalExpressions=[];function recurse(node){if("ConditionalExpression"===node.type){recurse(node.test);recurse(node.consequent);recurse(node.alternate)}else{nonConditionalExpressions.push(node)}}recurse(node);return nonConditionalExpressions}function isJSXWhitespaceExpression(node){return"JSXExpressionContainer"===node.type&&isLiteral(node.expression)&&" "===node.expression.value&&!node.expression.comments}function separatorNoWhitespace(isFacebookTranslationTag,child,childNode,nextNode){if(isFacebookTranslationTag){return""}if("JSXElement"===childNode.type&&!childNode.closingElement||nextNode&&"JSXElement"===nextNode.type&&!nextNode.closingElement){return 1===child.length?softline$5:hardline$8}return softline$5}function separatorWithWhitespace(isFacebookTranslationTag,child,childNode,nextNode){if(isFacebookTranslationTag){return hardline$8}if(1===child.length){return"JSXElement"===childNode.type&&!childNode.closingElement||nextNode&&"JSXElement"===nextNode.type&&!nextNode.closingElement?hardline$8:softline$5}return hardline$8}function printJSXChildren(path,options,print,jsxWhitespace,isFacebookTranslationTag){var n=path.getValue(),children=[];path.map(function(childPath,i){var child=childPath.getValue();if(isLiteral(child)){var text=rawText(child);if(isMeaningfulJSXText(child)){var words=text.split(matchJsxWhitespaceRegex);if(""===words[0]){children.push("");words.shift();if(/\n/.test(words[0])){var next=n.children[i+1];children.push(separatorWithWhitespace(isFacebookTranslationTag,words[1],child,next))}else{children.push(jsxWhitespace)}words.shift()}var endWhitespace;if(""===getLast$4(words)){words.pop();endWhitespace=words.pop()}if(0===words.length){return}words.forEach(function(word,i){if(1===i%2){children.push(line$8)}else{children.push(word)}});if(endWhitespace!==void 0){if(/\n/.test(endWhitespace)){var _next=n.children[i+1];children.push(separatorWithWhitespace(isFacebookTranslationTag,getLast$4(children),child,_next))}else{children.push(jsxWhitespace)}}else{var _next2=n.children[i+1];children.push(separatorNoWhitespace(isFacebookTranslationTag,getLast$4(children),child,_next2))}}else if(/\n/.test(text)){if(1<text.match(/\n/g).length){children.push("");children.push(hardline$8)}}else{children.push("");children.push(jsxWhitespace)}}else{var printedChild=print(childPath);children.push(printedChild);var _next3=n.children[i+1],directlyFollowedByMeaningfulText=_next3&&isMeaningfulJSXText(_next3);if(directlyFollowedByMeaningfulText){var firstWord=rawText(_next3).trim().split(matchJsxWhitespaceRegex)[0];children.push(separatorNoWhitespace(isFacebookTranslationTag,firstWord,child,_next3))}else{children.push(hardline$8)}}},"children");return children}function printJSXElement(path,options,print){var n=path.getValue();if("JSXElement"===n.type&&isEmptyJSXElement(n)){n.openingElement.selfClosing=!0;return path.call(print,"openingElement")}var openingLines="JSXElement"===n.type?path.call(print,"openingElement"):path.call(print,"openingFragment"),closingLines="JSXElement"===n.type?path.call(print,"closingElement"):path.call(print,"closingFragment");if(1===n.children.length&&"JSXExpressionContainer"===n.children[0].type&&("TemplateLiteral"===n.children[0].expression.type||"TaggedTemplateExpression"===n.children[0].expression.type)){return concat$11([openingLines,concat$11(path.map(print,"children")),closingLines])}n.children=n.children.map(function(child){if(isJSXWhitespaceExpression(child)){return{type:"JSXText",value:" ",raw:" "}}return child});for(var containsTag=0<n.children.filter(isJSXNode).length,containsMultipleExpressions=1<n.children.filter(function(child){return"JSXExpressionContainer"===child.type}).length,containsMultipleAttributes="JSXElement"===n.type&&1<n.openingElement.attributes.length,forcedBreak=willBreak$1(openingLines)||containsTag||containsMultipleAttributes||containsMultipleExpressions,rawJsxWhitespace=options.singleQuote?"{' '}":"{\" \"}",jsxWhitespace=ifBreak$6(concat$11([rawJsxWhitespace,softline$5])," "),isFacebookTranslationTag=n.openingElement&&n.openingElement.name&&"fbt"===n.openingElement.name.name,children=printJSXChildren(path,options,print,jsxWhitespace,isFacebookTranslationTag),containsText=0<n.children.filter(function(child){return isMeaningfulJSXText(child)}).length,i=children.length-2;0<=i;i--){var isPairOfEmptyStrings=""===children[i]&&""===children[i+1],isPairOfHardlines=children[i]===hardline$8&&""===children[i+1]&&children[i+2]===hardline$8,isLineFollowedByJSXWhitespace=(children[i]===softline$5||children[i]===hardline$8)&&""===children[i+1]&&children[i+2]===jsxWhitespace,isJSXWhitespaceFollowedByLine=children[i]===jsxWhitespace&&""===children[i+1]&&(children[i+2]===softline$5||children[i+2]===hardline$8),isDoubleJSXWhitespace=children[i]===jsxWhitespace&&""===children[i+1]&&children[i+2]===jsxWhitespace,isPairOfHardOrSoftLines=children[i]===softline$5&&""===children[i+1]&&children[i+2]===hardline$8||children[i]===hardline$8&&""===children[i+1]&&children[i+2]===softline$5;if(isPairOfHardlines&&containsText||isPairOfEmptyStrings||isLineFollowedByJSXWhitespace||isDoubleJSXWhitespace||isPairOfHardOrSoftLines){children.splice(i,2)}else if(isJSXWhitespaceFollowedByLine){children.splice(i+1,2)}}while(children.length&&(isLineNext$1(getLast$4(children))||isEmpty$1(getLast$4(children)))){children.pop()}while(children.length&&(isLineNext$1(children[0])||isEmpty$1(children[0]))&&(isLineNext$1(children[1])||isEmpty$1(children[1]))){children.shift();children.shift()}var multilineChildren=[];children.forEach(function(child,i){if(child===jsxWhitespace){if(1===i&&""===children[i-1]){if(2===children.length){multilineChildren.push(rawJsxWhitespace);return}multilineChildren.push(concat$11([rawJsxWhitespace,hardline$8]));return}else if(i===children.length-1){multilineChildren.push(rawJsxWhitespace);return}else if(""===children[i-1]&&children[i-2]===hardline$8){multilineChildren.push(rawJsxWhitespace);return}}multilineChildren.push(child);if(willBreak$1(child)){forcedBreak=!0}});var content=containsText?fill$4(multilineChildren):group$10(concat$11(multilineChildren),{shouldBreak:!0}),multiLineElem=group$10(concat$11([openingLines,indent$6(concat$11([hardline$8,content])),hardline$8,closingLines]));if(forcedBreak){return multiLineElem}return conditionalGroup$1([group$10(concat$11([openingLines,concat$11(children),closingLines])),multiLineElem])}function maybeWrapJSXElementInParens(path,elem){var parent=path.getParentNode();if(!parent){return elem}var NO_WRAP_PARENTS={ArrayExpression:!0,JSXAttribute:!0,JSXElement:!0,JSXExpressionContainer:!0,JSXFragment:!0,ExpressionStatement:!0,CallExpression:!0,OptionalCallExpression:!0,ConditionalExpression:!0,JsExpressionRoot:!0};if(NO_WRAP_PARENTS[parent.type]){return elem}var shouldBreak=matchAncestorTypes$1(path,["ArrowFunctionExpression","CallExpression","JSXExpressionContainer"]);return group$10(concat$11([ifBreak$6("("),indent$6(concat$11([softline$5,elem])),softline$5,ifBreak$6(")")]),{shouldBreak:shouldBreak})}function isBinaryish(node){return"BinaryExpression"===node.type||"LogicalExpression"===node.type||"NGPipeExpression"===node.type}function isMemberish(node){return"MemberExpression"===node.type||"OptionalMemberExpression"===node.type||"BindExpression"===node.type&&node.object}function shouldInlineLogicalExpression(node){if("LogicalExpression"!==node.type){return!1}if("ObjectExpression"===node.right.type&&0!==node.right.properties.length){return!0}if("ArrayExpression"===node.right.type&&0!==node.right.elements.length){return!0}if(isJSXNode(node.right)){return!0}return!1}function printBinaryishExpressions(path,print,options,isNested,isInsideParenthesis){var parts=[],node=path.getValue();if(isBinaryish(node)){if(shouldFlatten$1(node.operator,node.left.operator)){parts=parts.concat(path.call(function(left){return printBinaryishExpressions(left,print,options,!0,isInsideParenthesis)},"left"))}else{parts.push(path.call(print,"left"))}var shouldInline=shouldInlineLogicalExpression(node),lineBeforeOperator=("|>"===node.operator||"NGPipeExpression"===node.type||"|"===node.operator&&"__vue_expression"===options.parser)&&!hasLeadingOwnLineComment(options.originalText,node.right,options),operator="NGPipeExpression"===node.type?"|":node.operator,rightSuffix="NGPipeExpression"===node.type&&0!==node.arguments.length?group$10(indent$6(concat$11([softline$5,": ",join$7(concat$11([softline$5,":",ifBreak$6(" ")]),path.map(print,"arguments").map(function(arg){return align$1(2,group$10(arg))}))]))):"",right=shouldInline?concat$11([operator," ",path.call(print,"right"),rightSuffix]):concat$11([lineBeforeOperator?softline$5:"",operator,lineBeforeOperator?" ":line$8,path.call(print,"right"),rightSuffix]),parent=path.getParentNode(),shouldGroup=!(isInsideParenthesis&&"LogicalExpression"===node.type)&&parent.type!==node.type&&node.left.type!==node.type&&node.right.type!==node.type;parts.push(" ",shouldGroup?group$10(right):right);if(isNested&&node.comments){parts=comments.printComments(path,function(){return concat$11(parts)},options)}}else{parts.push(path.call(print))}return parts}function printAssignmentRight(leftNode,rightNode,printedRight,options){if(hasLeadingOwnLineComment(options.originalText,rightNode,options)){return indent$6(concat$11([hardline$8,printedRight]))}var canBreak=isBinaryish(rightNode)&&!shouldInlineLogicalExpression(rightNode)||"ConditionalExpression"===rightNode.type&&isBinaryish(rightNode.test)&&!shouldInlineLogicalExpression(rightNode.test)||"StringLiteralTypeAnnotation"===rightNode.type||"ClassExpression"===rightNode.type&&rightNode.decorators&&rightNode.decorators.length||("Identifier"===leftNode.type||isStringLiteral(leftNode)||"MemberExpression"===leftNode.type)&&(isStringLiteral(rightNode)||isMemberExpressionChain(rightNode))&&"json"!==options.parser&&"json5"!==options.parser;if(canBreak){return group$10(indent$6(concat$11([line$8,printedRight])))}return concat$11([" ",printedRight])}function printAssignment(leftNode,printedLeft,operator,rightNode,printedRight,options){if(!rightNode){return printedLeft}var printed=printAssignmentRight(leftNode,rightNode,printedRight,options);return group$10(concat$11([printedLeft,operator,printed]))}function adjustClause(node,clause,forceSpace){if("EmptyStatement"===node.type){return";"}if("BlockStatement"===node.type||forceSpace){return concat$11([" ",clause])}return indent$6(concat$11([line$8,clause]))}function nodeStr(node,options,isFlowOrTypeScriptDirectiveLiteral){var raw=rawText(node),isDirectiveLiteral=isFlowOrTypeScriptDirectiveLiteral||"DirectiveLiteral"===node.type;return printString$2(raw,options,isDirectiveLiteral)}function printRegex(node){var flags=node.flags.split("").sort().join("");return"/".concat(node.pattern,"/").concat(flags)}function isLastStatement(path){var parent=path.getParentNode();if(!parent){return!0}var node=path.getValue(),body=(parent.body||parent.consequent).filter(function(stmt){return"EmptyStatement"!==stmt.type});return body&&body[body.length-1]===node}function hasLeadingComment(node){return node.comments&&node.comments.some(function(comment){return comment.leading})}function hasTrailingComment(node){return node.comments&&node.comments.some(function(comment){return comment.trailing})}function hasLeadingOwnLineComment(text,node,options){if(isJSXNode(node)){return hasNodeIgnoreComment$1(node)}var res=node.comments&&node.comments.some(function(comment){return comment.leading&&hasNewline$3(text,options.locEnd(comment))});return res}function hasNakedLeftSide(node){return"AssignmentExpression"===node.type||"BinaryExpression"===node.type||"LogicalExpression"===node.type||"NGPipeExpression"===node.type||"ConditionalExpression"===node.type||"CallExpression"===node.type||"OptionalCallExpression"===node.type||"MemberExpression"===node.type||"OptionalMemberExpression"===node.type||"SequenceExpression"===node.type||"TaggedTemplateExpression"===node.type||"BindExpression"===node.type||"UpdateExpression"===node.type&&!node.prefix||"TSNonNullExpression"===node.type}function isFlowAnnotationComment(text,typeAnnotation,options){var start=options.locStart(typeAnnotation),end=skipWhitespace$1(text,options.locEnd(typeAnnotation));return"/*"===text.substr(start,2)&&"*/"===text.substr(end,2)}function getLeftSide(node){if(node.expressions){return node.expressions[0]}return node.left||node.test||node.callee||node.object||node.tag||node.argument||node.expression}function getLeftSidePathName(path,node){if(node.expressions){return["expressions",0]}if(node.left){return["left"]}if(node.test){return["test"]}if(node.object){return["object"]}if(node.callee){return["callee"]}if(node.tag){return["tag"]}if(node.argument){return["argument"]}if(node.expression){return["expression"]}throw new Error("Unexpected node has no left side",node)}function exprNeedsASIProtection(path,options){var node=path.getValue(),maybeASIProblem=needsParens_1(path,options)||"ParenthesizedExpression"===node.type||"TypeCastExpression"===node.type||"ArrowFunctionExpression"===node.type&&!shouldPrintParamsWithoutParens(path,options)||"ArrayExpression"===node.type||"ArrayPattern"===node.type||"UnaryExpression"===node.type&&node.prefix&&("+"===node.operator||"-"===node.operator)||"TemplateLiteral"===node.type||"TemplateElement"===node.type||isJSXNode(node)||"BindExpression"===node.type&&!node.object||"RegExpLiteral"===node.type||"Literal"===node.type&&node.pattern||"Literal"===node.type&&node.regex;if(maybeASIProblem){return!0}if(!hasNakedLeftSide(node)){return!1}return path.call.apply(path,[function(childPath){return exprNeedsASIProtection(childPath,options)}].concat(getLeftSidePathName(path,node)))}function stmtNeedsASIProtection(path,options){var node=path.getNode();if("ExpressionStatement"!==node.type){return!1}return path.call(function(childPath){return exprNeedsASIProtection(childPath,options)},"expression")}function classPropMayCauseASIProblems(path){var node=path.getNode();if("ClassProperty"!==node.type){return!1}var name=node.key&&node.key.name;if(("static"===name||"get"===name||"set"===name)&&!node.value&&!node.typeAnnotation){return!0}}function classChildNeedsASIProtection(node){if(!node){return}if(node.static||node.accessibility){return!1}if(!node.computed){var name=node.key&&node.key.name;if("in"===name||"instanceof"===name){return!0}}switch(node.type){case"ClassProperty":case"TSAbstractClassProperty":return node.computed;case"MethodDefinition":case"TSAbstractMethodDefinition":case"ClassMethod":case"ClassPrivateMethod":{var isAsync=node.value?node.value.async:node.async,isGenerator=node.value?node.value.generator:node.generator;if(isAsync||"get"===node.kind||"set"===node.kind){return!1}if(node.computed||isGenerator){return!0}return!1}default:return!1;}}function returnArgumentHasLeadingComment(options,argument){if(hasLeadingOwnLineComment(options.originalText,argument,options)){return!0}if(hasNakedLeftSide(argument)){var leftMost=argument,newLeftMost;while(newLeftMost=getLeftSide(leftMost)){leftMost=newLeftMost;if(hasLeadingOwnLineComment(options.originalText,leftMost,options)){return!0}}}return!1}function isMemberExpressionChain(node){if("MemberExpression"!==node.type&&"OptionalMemberExpression"!==node.type){return!1}if("Identifier"===node.object.type){return!0}return isMemberExpressionChain(node.object)}function isObjectTypePropertyAFunction(node,options){return("ObjectTypeProperty"===node.type||"ObjectTypeInternalSlot"===node.type)&&"FunctionTypeAnnotation"===node.value.type&&!node.static&&!isFunctionNotation(node,options)}function isFunctionNotation(node,options){return isGetterOrSetter(node)||sameLocStart(node,node.value,options)}function isGetterOrSetter(node){return"get"===node.kind||"set"===node.kind}function sameLocStart(nodeA,nodeB,options){return options.locStart(nodeA)===options.locStart(nodeB)}function isTypeAnnotationAFunction(node,options){return("TypeAnnotation"===node.type||"TSTypeAnnotation"===node.type)&&"FunctionTypeAnnotation"===node.typeAnnotation.type&&!node.static&&!sameLocStart(node,node.typeAnnotation,options)}function isNodeStartingWithDeclare(node,options){if(!("flow"===options.parser||"typescript"===options.parser)){return!1}return options.originalText.slice(0,options.locStart(node)).match(/declare[ \t]*$/)||options.originalText.slice(node.range[0],node.range[1]).startsWith("declare ")}function shouldHugType(node){if(isSimpleFlowType(node)||isObjectType(node)){return!0}if("UnionTypeAnnotation"===node.type||"TSUnionType"===node.type){var voidCount=node.types.filter(function(n){return"VoidTypeAnnotation"===n.type||"TSVoidKeyword"===n.type||"NullLiteralTypeAnnotation"===n.type||"TSNullKeyword"===n.type}).length,objectCount=node.types.filter(function(n){return"ObjectTypeAnnotation"===n.type||"TSTypeLiteral"===n.type||"GenericTypeAnnotation"===n.type||"TSTypeReference"===n.type}).length;if(node.types.length-1===voidCount&&0<objectCount){return!0}}return!1}function shouldHugArguments(fun){return fun&&fun.params&&1===fun.params.length&&!fun.params[0].comments&&("ObjectPattern"===fun.params[0].type||"ArrayPattern"===fun.params[0].type||"Identifier"===fun.params[0].type&&fun.params[0].typeAnnotation&&("TypeAnnotation"===fun.params[0].typeAnnotation.type||"TSTypeAnnotation"===fun.params[0].typeAnnotation.type)&&isObjectType(fun.params[0].typeAnnotation.typeAnnotation)||"FunctionTypeParam"===fun.params[0].type&&isObjectType(fun.params[0].typeAnnotation)||"AssignmentPattern"===fun.params[0].type&&("ObjectPattern"===fun.params[0].left.type||"ArrayPattern"===fun.params[0].left.type)&&("Identifier"===fun.params[0].right.type||"ObjectExpression"===fun.params[0].right.type&&0===fun.params[0].right.properties.length||"ArrayExpression"===fun.params[0].right.type&&0===fun.params[0].right.elements.length))&&!fun.rest}function templateLiteralHasNewLines(template){return template.quasis.some(function(quasi){return quasi.value.raw.includes("\n")})}function isTemplateOnItsOwnLine(n,text,options){return("TemplateLiteral"===n.type&&templateLiteralHasNewLines(n)||"TaggedTemplateExpression"===n.type&&templateLiteralHasNewLines(n.quasi))&&!hasNewline$3(text,options.locStart(n),{backwards:!0})}function printArrayItems(path,options,printPath,print){var printedElements=[],separatorParts=[];path.each(function(childPath){printedElements.push(concat$11(separatorParts));printedElements.push(group$10(print(childPath)));separatorParts=[",",line$8];if(childPath.getValue()&&isNextLineEmpty$4(options.originalText,childPath.getValue(),options)){separatorParts.push(softline$5)}},printPath);return concat$11(printedElements)}function hasDanglingComments(node){return node.comments&&node.comments.some(function(comment){return!comment.leading&&!comment.trailing})}function needsHardlineAfterDanglingComment(node){if(!node.comments){return!1}var lastDanglingComment=getLast$4(node.comments.filter(function(comment){return!comment.leading&&!comment.trailing}));return lastDanglingComment&&!comments$3.isBlockComment(lastDanglingComment)}function isLiteral(node){return"BooleanLiteral"===node.type||"DirectiveLiteral"===node.type||"Literal"===node.type||"NullLiteral"===node.type||"NumericLiteral"===node.type||"RegExpLiteral"===node.type||"StringLiteral"===node.type||"TemplateLiteral"===node.type||"TSTypeLiteral"===node.type||"JSXText"===node.type}function isNumericLiteral(node){return"NumericLiteral"===node.type||"Literal"===node.type&&"number"===typeof node.value}function isStringLiteral(node){return"StringLiteral"===node.type||"Literal"===node.type&&"string"===typeof node.value}function isObjectType(n){return"ObjectTypeAnnotation"===n.type||"TSTypeLiteral"===n.type}var unitTestRe=/^(skip|[fx]?(it|describe|test))$/;function isTestCall(n,parent){if("CallExpression"!==n.type){return!1}if(1===n.arguments.length){if(isAngularTestWrapper(n)&&parent&&isTestCall(parent)){return isFunctionOrArrowExpression(n.arguments[0])}if(isUnitTestSetUp(n)){return isAngularTestWrapper(n.arguments[0])}}else if(2===n.arguments.length||3===n.arguments.length){if(("Identifier"===n.callee.type&&unitTestRe.test(n.callee.name)||isSkipOrOnlyBlock(n))&&(isTemplateLiteral(n.arguments[0])||isStringLiteral(n.arguments[0]))){if(n.arguments[2]&&!isNumericLiteral(n.arguments[2])){return!1}return(2===n.arguments.length?isFunctionOrArrowExpression(n.arguments[1]):isFunctionOrArrowExpressionWithBody(n.arguments[1])&&1>=n.arguments[1].params.length)||isAngularTestWrapper(n.arguments[1])}}return!1}function isSkipOrOnlyBlock(node){return("MemberExpression"===node.callee.type||"OptionalMemberExpression"===node.callee.type)&&"Identifier"===node.callee.object.type&&"Identifier"===node.callee.property.type&&unitTestRe.test(node.callee.object.name)&&("only"===node.callee.property.name||"skip"===node.callee.property.name)}function isTemplateLiteral(node){return"TemplateLiteral"===node.type}function isAngularTestWrapper(node){return("CallExpression"===node.type||"OptionalCallExpression"===node.type)&&"Identifier"===node.callee.type&&("async"===node.callee.name||"inject"===node.callee.name||"fakeAsync"===node.callee.name)}function isFunctionOrArrowExpression(node){return"FunctionExpression"===node.type||"ArrowFunctionExpression"===node.type}function isFunctionOrArrowExpressionWithBody(node){return"FunctionExpression"===node.type||"ArrowFunctionExpression"===node.type&&"BlockStatement"===node.body.type}function isUnitTestSetUp(n){var unitTestSetUpRe=/^(before|after)(Each|All)$/;return"Identifier"===n.callee.type&&unitTestSetUpRe.test(n.callee.name)&&1===n.arguments.length}function isTheOnlyJSXElementInMarkdown(options,path){if("markdown"!==options.parentParser&&"mdx"!==options.parentParser){return!1}var node=path.getNode();if(!node.expression||!isJSXNode(node.expression)){return!1}var parent=path.getParentNode();return"Program"===parent.type&&1==parent.body.length}function willPrintOwnComments(path){var node=path.getValue(),parent=path.getParentNode();return(node&&(isJSXNode(node)||hasFlowShorthandAnnotationComment(node)||parent&&"CallExpression"===parent.type&&(hasFlowAnnotationComment(node.leadingComments)||hasFlowAnnotationComment(node.trailingComments)))||parent&&("JSXSpreadAttribute"===parent.type||"JSXSpreadChild"===parent.type||"UnionTypeAnnotation"===parent.type||"TSUnionType"===parent.type||("ClassDeclaration"===parent.type||"ClassExpression"===parent.type)&&parent.superClass===node))&&!hasIgnoreComment$3(path)}function canAttachComment$1(node){return node.type&&"CommentBlock"!==node.type&&"CommentLine"!==node.type&&"Line"!==node.type&&"Block"!==node.type&&"EmptyStatement"!==node.type&&"TemplateElement"!==node.type&&"Import"!==node.type&&!(node.callee&&"Import"===node.callee.type)}function printComment$2(commentPath,options){var comment=commentPath.getValue();switch(comment.type){case"CommentBlock":case"Block":{if(isIndentableBlockComment(comment)){var printed=printIndentableBlockComment(comment);if(comment.trailing&&!hasNewline$3(options.originalText,options.locStart(comment),{backwards:!0})){return concat$11([hardline$8,printed])}return printed}var isInsideFlowComment="*-/"===options.originalText.substr(options.locEnd(comment)-3,3);return"/*"+comment.value+(isInsideFlowComment?"*-/":"*/")}case"CommentLine":case"Line":if(options.originalText.slice(options.locStart(comment)).startsWith("#!")){return"#!"+comment.value.trimRight()}return"//"+comment.value.trimRight();default:throw new Error("Not a comment: "+JSON.stringify(comment));}}function isIndentableBlockComment(comment){var lines="*".concat(comment.value,"*").split("\n");return 1<lines.length&&lines.every(function(line){return"*"===line.trim()[0]})}function printIndentableBlockComment(comment){var lines=comment.value.split("\n");return concat$11(["/*",join$7(hardline$8,lines.map(function(line,index){return 0===index?line.trimRight():" "+(index<lines.length-1?line.trim():line.trimLeft())})),"*/"])}function rawText(node){return node.extra?node.extra.raw:node.raw}function identity$1(x){return x}var printerEstree={preprocess:preprocess_1$2,print:genericPrint$3,embed:embed_1$2,insertPragma:insertPragma$7,massageAstNode:clean_1$2,hasPrettierIgnore:hasPrettierIgnore$2,willPrintOwnComments:willPrintOwnComments,canAttachComment:canAttachComment$1,printComment:printComment$2,isBlockComment:comments$3.isBlockComment,handleComments:{ownLine:comments$3.handleOwnLineComment,endOfLine:comments$3.handleEndOfLineComment,remaining:comments$3.handleRemainingComment}},_require$$0$builders$7=doc.builders,concat$14=_require$$0$builders$7.concat,hardline$10=_require$$0$builders$7.hardline,indent$8=_require$$0$builders$7.indent,join$10=_require$$0$builders$7.join;function genericPrint$4(path,options,print){var node=path.getValue();switch(node.type){case"JsonRoot":return concat$14([path.call(print,"node"),hardline$10]);case"ArrayExpression":return 0===node.elements.length?"[]":concat$14(["[",indent$8(concat$14([hardline$10,join$10(concat$14([",",hardline$10]),path.map(print,"elements"))])),hardline$10,"]"]);case"ObjectExpression":return 0===node.properties.length?"{}":concat$14(["{",indent$8(concat$14([hardline$10,join$10(concat$14([",",hardline$10]),path.map(print,"properties"))])),hardline$10,"}"]);case"ObjectProperty":return concat$14([path.call(print,"key"),": ",path.call(print,"value")]);case"UnaryExpression":return concat$14(["+"===node.operator?"":node.operator,path.call(print,"argument")]);case"NullLiteral":return"null";case"BooleanLiteral":return node.value?"true":"false";case"StringLiteral":case"NumericLiteral":return JSON.stringify(node.value);case"Identifier":return JSON.stringify(node.name);default:throw new Error("unknown type: "+JSON.stringify(node.type));}}function clean$9(node,newNode){delete newNode.start;delete newNode.end;delete newNode.extra;delete newNode.loc;delete newNode.comments;if("Identifier"===node.type){return{type:"StringLiteral",value:node.name}}if("UnaryExpression"===node.type&&"+"===node.operator){return newNode.argument}}var printerEstreeJson={preprocess:preprocess_1$2,print:genericPrint$4,massageAstNode:clean$9},CATEGORY_JAVASCRIPT="JavaScript",options$12={arrowParens:{since:"1.9.0",category:CATEGORY_JAVASCRIPT,type:"choice",default:"avoid",description:"Include parentheses around a sole arrow function parameter.",choices:[{value:"avoid",description:"Omit parens when possible. Example: `x => x`"},{value:"always",description:"Always include parens. Example: `(x) => x`"}]},bracketSpacing:commonOptions.bracketSpacing,jsxBracketSameLine:{since:"0.17.0",category:CATEGORY_JAVASCRIPT,type:"boolean",default:!1,description:"Put > on the last line instead of at a new line."},semi:{since:"1.0.0",category:CATEGORY_JAVASCRIPT,type:"boolean",default:!0,description:"Print semicolons.",oppositeDescription:"Do not print semicolons, except at the beginning of lines which may need them."},singleQuote:commonOptions.singleQuote,jsxSingleQuote:{since:"1.15.0",category:CATEGORY_JAVASCRIPT,type:"boolean",default:!1,description:"Use single quotes in JSX."},trailingComma:{since:"0.0.0",category:CATEGORY_JAVASCRIPT,type:"choice",default:[{since:"0.0.0",value:!1},{since:"0.19.0",value:"none"}],description:"Print trailing commas wherever possible when multi-line.",choices:[{value:"none",description:"No trailing commas."},{value:"es5",description:"Trailing commas where valid in ES5 (objects, arrays, etc.)"},{value:"all",description:"Trailing commas wherever possible (including function arguments)."},{value:!0,deprecated:"0.19.0",redirect:"es5"},{value:!1,deprecated:"0.19.0",redirect:"none"}]}},name$9="JavaScript",type$8="programming",tmScope$8="source.js",aceMode$8="javascript",codemirrorMode$4="javascript",codemirrorMimeType$4="text/javascript",color$3="#f1e05a",aliases$2=["js","node"],extensions$8=[".js","._js",".bones",".es",".es6",".frag",".gs",".jake",".jsb",".jscad",".jsfl",".jsm",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames=["Jakefile"],interpreters=["node"],languageId$8=183,javascript={name:name$9,type:type$8,tmScope:tmScope$8,aceMode:aceMode$8,codemirrorMode:codemirrorMode$4,codemirrorMimeType:codemirrorMimeType$4,color:color$3,aliases:aliases$2,extensions:extensions$8,filenames:filenames,interpreters:interpreters,languageId:languageId$8},javascript$1=Object.freeze({name:name$9,type:type$8,tmScope:tmScope$8,aceMode:aceMode$8,codemirrorMode:codemirrorMode$4,codemirrorMimeType:codemirrorMimeType$4,color:color$3,aliases:aliases$2,extensions:extensions$8,filenames:filenames,interpreters:interpreters,languageId:languageId$8,default:javascript}),name$10="JSX",type$9="programming",group$12="JavaScript",extensions$9=[".jsx"],tmScope$9="source.js.jsx",aceMode$9="javascript",codemirrorMode$5="jsx",codemirrorMimeType$5="text/jsx",languageId$9=178,jsx={name:name$10,type:type$9,group:group$12,extensions:extensions$9,tmScope:tmScope$9,aceMode:aceMode$9,codemirrorMode:codemirrorMode$5,codemirrorMimeType:codemirrorMimeType$5,languageId:languageId$9},jsx$1=Object.freeze({name:name$10,type:type$9,group:group$12,extensions:extensions$9,tmScope:tmScope$9,aceMode:aceMode$9,codemirrorMode:codemirrorMode$5,codemirrorMimeType:codemirrorMimeType$5,languageId:languageId$9,default:jsx}),name$11="TypeScript",type$10="programming",color$4="#2b7489",aliases$3=["ts"],extensions$10=[".ts",".tsx"],tmScope$10="source.ts",aceMode$10="typescript",codemirrorMode$6="javascript",codemirrorMimeType$6="application/typescript",languageId$10=378,typescript={name:name$11,type:type$10,color:color$4,aliases:aliases$3,extensions:extensions$10,tmScope:tmScope$10,aceMode:aceMode$10,codemirrorMode:codemirrorMode$6,codemirrorMimeType:codemirrorMimeType$6,languageId:languageId$10},typescript$1=Object.freeze({name:name$11,type:type$10,color:color$4,aliases:aliases$3,extensions:extensions$10,tmScope:tmScope$10,aceMode:aceMode$10,codemirrorMode:codemirrorMode$6,codemirrorMimeType:codemirrorMimeType$6,languageId:languageId$10,default:typescript}),name$12="JSON",type$11="data",tmScope$11="source.json",group$13="JavaScript",aceMode$11="json",codemirrorMode$7="javascript",codemirrorMimeType$7="application/json",searchable=!1,extensions$11=[".json",".avsc",".geojson",".gltf",".JSON-tmLanguage",".jsonl",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest"],filenames$1=[".arcconfig",".htmlhintrc",".tern-config",".tern-project","composer.lock","mcmod.info"],languageId$11=174,json$5={name:name$12,type:type$11,tmScope:tmScope$11,group:group$13,aceMode:aceMode$11,codemirrorMode:codemirrorMode$7,codemirrorMimeType:codemirrorMimeType$7,searchable:searchable,extensions:extensions$11,filenames:filenames$1,languageId:languageId$11},json$6=Object.freeze({name:name$12,type:type$11,tmScope:tmScope$11,group:group$13,aceMode:aceMode$11,codemirrorMode:codemirrorMode$7,codemirrorMimeType:codemirrorMimeType$7,searchable:searchable,extensions:extensions$11,filenames:filenames$1,languageId:languageId$11,default:json$5}),name$13="JSON with Comments",type$12="data",group$14="JSON",tmScope$12="source.js",aceMode$12="javascript",codemirrorMode$8="javascript",codemirrorMimeType$8="text/javascript",aliases$4=["jsonc"],extensions$12=[".sublime-build",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames$2=[".babelrc",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc","tsconfig.json"],languageId$12=423,jsonWithComments={name:name$13,type:type$12,group:group$14,tmScope:tmScope$12,aceMode:aceMode$12,codemirrorMode:codemirrorMode$8,codemirrorMimeType:codemirrorMimeType$8,aliases:aliases$4,extensions:extensions$12,filenames:filenames$2,languageId:languageId$12},jsonWithComments$1=Object.freeze({name:name$13,type:type$12,group:group$14,tmScope:tmScope$12,aceMode:aceMode$12,codemirrorMode:codemirrorMode$8,codemirrorMimeType:codemirrorMimeType$8,aliases:aliases$4,extensions:extensions$12,filenames:filenames$2,languageId:languageId$12,default:jsonWithComments}),name$14="JSON5",type$13="data",extensions$13=[".json5"],tmScope$13="source.js",aceMode$13="javascript",codemirrorMode$9="javascript",codemirrorMimeType$9="application/json",languageId$13=175,json5={name:name$14,type:type$13,extensions:extensions$13,tmScope:tmScope$13,aceMode:aceMode$13,codemirrorMode:codemirrorMode$9,codemirrorMimeType:codemirrorMimeType$9,languageId:languageId$13},json5$1=Object.freeze({name:name$14,type:type$13,extensions:extensions$13,tmScope:tmScope$13,aceMode:aceMode$13,codemirrorMode:codemirrorMode$9,codemirrorMimeType:codemirrorMimeType$9,languageId:languageId$13,default:json5}),require$$0$24=javascript$1&&javascript||javascript$1,require$$1$10=jsx$1&&jsx||jsx$1,require$$2$10=typescript$1&&typescript||typescript$1,require$$3$7=json$6&&json$5||json$6,require$$4$4=jsonWithComments$1&&jsonWithComments||jsonWithComments$1,require$$5$2=json5$1&&json5||json5$1,languages$4=[createLanguage(require$$0$24,{override:{since:"0.0.0",parsers:["babel","flow"],vscodeLanguageIds:["javascript"]},extend:{interpreters:["nodejs"]}}),createLanguage(require$$0$24,{override:{name:"Flow",since:"0.0.0",parsers:["babel","flow"],vscodeLanguageIds:["javascript"],aliases:[],filenames:[],extensions:[".js.flow"]}}),createLanguage(require$$1$10,{override:{since:"0.0.0",parsers:["babel","flow"],vscodeLanguageIds:["javascriptreact"]}}),createLanguage(require$$2$10,{override:{since:"1.4.0",parsers:["typescript"],vscodeLanguageIds:["typescript","typescriptreact"]}}),createLanguage(require$$3$7,{override:{name:"JSON.stringify",since:"1.13.0",parsers:["json-stringify"],vscodeLanguageIds:["json"],extensions:[],filenames:["package.json","package-lock.json","composer.json"]}}),createLanguage(require$$3$7,{override:{since:"1.5.0",parsers:["json"],vscodeLanguageIds:["json"]},extend:{filenames:[".prettierrc"]}}),createLanguage(require$$4$4,{override:{since:"1.5.0",parsers:["json"],vscodeLanguageIds:["jsonc"]},extend:{filenames:[".eslintrc"]}}),createLanguage(require$$5$2,{override:{since:"1.13.0",parsers:["json5"],vscodeLanguageIds:["json5"]}})],printers$4={estree:printerEstree,"estree-json":printerEstreeJson},languageJs={languages:languages$4,options:options$12,printers:printers$4},json$9={cjkPattern:"[\\u02ea-\\u02eb\\u1100-\\u11ff\\u2e80-\\u2e99\\u2e9b-\\u2ef3\\u2f00-\\u2fd5\\u3000-\\u303f\\u3041-\\u3096\\u3099-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312e\\u3131-\\u318e\\u3190-\\u3191\\u3196-\\u31ba\\u31c0-\\u31e3\\u31f0-\\u321e\\u322a-\\u3247\\u3260-\\u327e\\u328a-\\u32b0\\u32c0-\\u32cb\\u32d0-\\u32fe\\u3300-\\u3370\\u337b-\\u337f\\u33e0-\\u33fe\\u3400-\\u4db5\\u4e00-\\u9fea\\ua960-\\ua97c\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufe10-\\ufe1f\\ufe30-\\ufe6f\\uff00-\\uffef]|[\\ud840-\\ud868\\ud86a-\\ud86c\\ud86f-\\ud872\\ud874-\\ud879][\\udc00-\\udfff]|\\ud82c[\\udc00-\\udd1e]|\\ud83c[\\ude00\\ude50-\\ude51]|\\ud869[\\udc00-\\uded6\\udf00-\\udfff]|\\ud86d[\\udc00-\\udf34\\udf40-\\udfff]|\\ud86e[\\udc00-\\udc1d\\udc20-\\udfff]|\\ud873[\\udc00-\\udea1\\udeb0-\\udfff]|\\ud87a[\\udc00-\\udfe0]|\\ud87e[\\udc00-\\ude1d]",kPattern:"[\\u1100-\\u11ff\\u3001-\\u3003\\u3008-\\u3011\\u3013-\\u301f\\u302e-\\u3030\\u3037\\u30fb\\u3131-\\u318e\\u3200-\\u321e\\u3260-\\u327e\\ua960-\\ua97c\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\ufe45-\\ufe46\\uff61-\\uff65\\uffa0-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc]",punctuationPattern:"[\\u0021-\\u002f\\u003a-\\u0040\\u005b-\\u0060\\u007b-\\u007e\\u00a1\\u00a7\\u00ab\\u00b6-\\u00b7\\u00bb\\u00bf\\u037e\\u0387\\u055a-\\u055f\\u0589-\\u058a\\u05be\\u05c0\\u05c3\\u05c6\\u05f3-\\u05f4\\u0609-\\u060a\\u060c-\\u060d\\u061b\\u061e-\\u061f\\u066a-\\u066d\\u06d4\\u0700-\\u070d\\u07f7-\\u07f9\\u0830-\\u083e\\u085e\\u0964-\\u0965\\u0970\\u09fd\\u0af0\\u0df4\\u0e4f\\u0e5a-\\u0e5b\\u0f04-\\u0f12\\u0f14\\u0f3a-\\u0f3d\\u0f85\\u0fd0-\\u0fd4\\u0fd9-\\u0fda\\u104a-\\u104f\\u10fb\\u1360-\\u1368\\u1400\\u166d-\\u166e\\u169b-\\u169c\\u16eb-\\u16ed\\u1735-\\u1736\\u17d4-\\u17d6\\u17d8-\\u17da\\u1800-\\u180a\\u1944-\\u1945\\u1a1e-\\u1a1f\\u1aa0-\\u1aa6\\u1aa8-\\u1aad\\u1b5a-\\u1b60\\u1bfc-\\u1bff\\u1c3b-\\u1c3f\\u1c7e-\\u1c7f\\u1cc0-\\u1cc7\\u1cd3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205e\\u207d-\\u207e\\u208d-\\u208e\\u2308-\\u230b\\u2329-\\u232a\\u2768-\\u2775\\u27c5-\\u27c6\\u27e6-\\u27ef\\u2983-\\u2998\\u29d8-\\u29db\\u29fc-\\u29fd\\u2cf9-\\u2cfc\\u2cfe-\\u2cff\\u2d70\\u2e00-\\u2e2e\\u2e30-\\u2e49\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301f\\u3030\\u303d\\u30a0\\u30fb\\ua4fe-\\ua4ff\\ua60d-\\ua60f\\ua673\\ua67e\\ua6f2-\\ua6f7\\ua874-\\ua877\\ua8ce-\\ua8cf\\ua8f8-\\ua8fa\\ua8fc\\ua92e-\\ua92f\\ua95f\\ua9c1-\\ua9cd\\ua9de-\\ua9df\\uaa5c-\\uaa5f\\uaade-\\uaadf\\uaaf0-\\uaaf1\\uabeb\\ufd3e-\\ufd3f\\ufe10-\\ufe19\\ufe30-\\ufe52\\ufe54-\\ufe61\\ufe63\\ufe68\\ufe6a-\\ufe6b\\uff01-\\uff03\\uff05-\\uff0a\\uff0c-\\uff0f\\uff1a-\\uff1b\\uff1f-\\uff20\\uff3b-\\uff3d\\uff3f\\uff5b\\uff5d\\uff5f-\\uff65]|\\ud800[\\udd00-\\udd02\\udf9f\\udfd0]|\\ud801[\\udd6f]|\\ud802[\\udc57\\udd1f\\udd3f\\ude50-\\ude58\\ude7f\\udef0-\\udef6\\udf39-\\udf3f\\udf99-\\udf9c]|\\ud804[\\udc47-\\udc4d\\udcbb-\\udcbc\\udcbe-\\udcc1\\udd40-\\udd43\\udd74-\\udd75\\uddc5-\\uddc9\\uddcd\\udddb\\udddd-\\udddf\\ude38-\\ude3d\\udea9]|\\ud805[\\udc4b-\\udc4f\\udc5b\\udc5d\\udcc6\\uddc1-\\uddd7\\ude41-\\ude43\\ude60-\\ude6c\\udf3c-\\udf3e]|\\ud806[\\ude3f-\\ude46\\ude9a-\\ude9c\\ude9e-\\udea2]|\\ud807[\\udc41-\\udc45\\udc70-\\udc71]|\\ud809[\\udc70-\\udc74]|\\ud81a[\\ude6e-\\ude6f\\udef5\\udf37-\\udf3b\\udf44]|\\ud82f[\\udc9f]|\\ud836[\\ude87-\\ude8b]|\\ud83a[\\udd5e-\\udd5f]"},cjkPattern=json$9.cjkPattern,kPattern=json$9.kPattern,punctuationPattern$1=json$9.punctuationPattern,getLast$5=util.getLast,INLINE_NODE_TYPES$1=["liquidNode","inlineCode","emphasis","strong","delete","link","linkReference","image","imageReference","footnote","footnoteReference","sentence","whitespace","word","break","inlineMath"],INLINE_NODE_WRAPPER_TYPES$1=INLINE_NODE_TYPES$1.concat(["tableCell","paragraph","heading"]),kRegex=new RegExp(kPattern),punctuationRegex=new RegExp(punctuationPattern$1);function splitText$1(text,options){var KIND_NON_CJK="non-cjk",KIND_CJ_LETTER="cj-letter",KIND_K_LETTER="k-letter",KIND_CJK_PUNCTUATION="cjk-punctuation",nodes=[];("preserve"===options.proseWrap?text:text.replace(new RegExp("(".concat(cjkPattern,")\n(").concat(cjkPattern,")"),"g"),"$1$2")).split(/([ \t\n]+)/).forEach(function(token,index,tokens){if(1===index%2){nodes.push({type:"whitespace",value:/\n/.test(token)?"\n":" "});return}if((0===index||index===tokens.length-1)&&""===token){return}token.split(new RegExp("(".concat(cjkPattern,")"))).forEach(function(innerToken,innerIndex,innerTokens){if((0===innerIndex||innerIndex===innerTokens.length-1)&&""===innerToken){return}if(0===innerIndex%2){if(""!==innerToken){appendNode({type:"word",value:innerToken,kind:KIND_NON_CJK,hasLeadingPunctuation:punctuationRegex.test(innerToken[0]),hasTrailingPunctuation:punctuationRegex.test(getLast$5(innerToken))})}return}appendNode(punctuationRegex.test(innerToken)?{type:"word",value:innerToken,kind:KIND_CJK_PUNCTUATION,hasLeadingPunctuation:!0,hasTrailingPunctuation:!0}:{type:"word",value:innerToken,kind:kRegex.test(innerToken)?KIND_K_LETTER:KIND_CJ_LETTER,hasLeadingPunctuation:!1,hasTrailingPunctuation:!1})})});return nodes;function appendNode(node){var lastNode=getLast$5(nodes);if(lastNode&&"word"===lastNode.type){if(lastNode.kind===KIND_NON_CJK&&node.kind===KIND_CJ_LETTER&&!lastNode.hasTrailingPunctuation||lastNode.kind===KIND_CJ_LETTER&&node.kind===KIND_NON_CJK&&!node.hasLeadingPunctuation){nodes.push({type:"whitespace",value:" "})}else if(!isBetween(KIND_NON_CJK,KIND_CJK_PUNCTUATION)&&![lastNode.value,node.value].some(function(value){return /\u3000/.test(value)})){nodes.push({type:"whitespace",value:""})}}nodes.push(node);function isBetween(kind1,kind2){return lastNode.kind===kind1&&node.kind===kind2||lastNode.kind===kind2&&node.kind===kind1}}}function getOrderedListItemInfo$1(orderListItem,originalText){var _originalText$slice$m=originalText.slice(orderListItem.position.start.offset,orderListItem.position.end.offset).match(/^\s*(\d+)(\.|\))(\s*)/),_originalText$slice$m2=_slicedToArray(_originalText$slice$m,4),numberText=_originalText$slice$m2[1],marker=_originalText$slice$m2[2],leadingSpaces=_originalText$slice$m2[3];return{numberText:numberText,marker:marker,leadingSpaces:leadingSpaces}}function getFencedCodeBlockValue$2(node,originalText){var text=originalText.slice(node.position.start.offset,node.position.end.offset),leadingSpaceCount=text.match(/^\s*/)[0].length,replaceRegex=new RegExp("^\\s{0,".concat(leadingSpaceCount,"}")),lineContents=text.split("\n"),markerStyle=text[leadingSpaceCount],marker=text.slice(leadingSpaceCount).match(new RegExp("^[".concat(markerStyle,"]+")))[0],hasEndMarker=new RegExp("^\\s{0,3}".concat(marker)).test(lineContents[lineContents.length-1].slice(getIndent(lineContents.length-1)));return lineContents.slice(1,hasEndMarker?-1:void 0).map(function(x,i){return x.slice(getIndent(i+1)).replace(replaceRegex,"")}).join("\n");function getIndent(lineIndex){return node.position.indent[lineIndex-1]-1}}function mapAst(ast,handler){return function preorder(node,index,parentStack){parentStack=parentStack||[];var newNode=Object.assign({},handler(node,index,parentStack));if(newNode.children){newNode.children=newNode.children.map(function(child,index){return preorder(child,index,[newNode].concat(parentStack))})}return newNode}(ast,null,null)}var utils$10={mapAst:mapAst,splitText:splitText$1,punctuationPattern:punctuationPattern$1,getFencedCodeBlockValue:getFencedCodeBlockValue$2,getOrderedListItemInfo:getOrderedListItemInfo$1,INLINE_NODE_TYPES:INLINE_NODE_TYPES$1,INLINE_NODE_WRAPPER_TYPES:INLINE_NODE_WRAPPER_TYPES$1},_require$$0$builders$9=doc.builders,hardline$12=_require$$0$builders$9.hardline,literalline$6=_require$$0$builders$9.literalline,concat$16=_require$$0$builders$9.concat,markAsRoot$4=_require$$0$builders$9.markAsRoot,mapDoc$7=doc.utils.mapDoc,getFencedCodeBlockValue$1=utils$10.getFencedCodeBlockValue;function embed$6(path,print,textToDoc,options){var node=path.getValue();if("code"===node.type&&null!==node.lang){var langMatch=node.lang.match(/^[A-Za-z0-9_-]+/),lang=langMatch?langMatch[0]:"",parser=getParserName(lang);if(parser){var styleUnit=options.__inJsTemplate?"~":"`",style=styleUnit.repeat(_Mathmax(3,util.getMaxContinuousCount(node.value,styleUnit)+1)),doc$$2=textToDoc(getFencedCodeBlockValue$1(node,options.originalText),{parser:parser});return markAsRoot$4(concat$16([style,node.lang,hardline$12,replaceNewlinesWithLiterallines(doc$$2),style]))}}if("yaml"===node.type){return markAsRoot$4(concat$16(["---",hardline$12,node.value&&node.value.trim()?replaceNewlinesWithLiterallines(textToDoc(node.value,{parser:"yaml"})):"","---"]))}switch(node.type){case"importExport":return textToDoc(node.value,{parser:"babel"});case"jsx":return textToDoc(node.value,{parser:"__js_expression"});}return null;function getParserName(lang){var supportInfo=support.getSupportInfo(null,{plugins:options.plugins}),language=supportInfo.languages.find(function(language){return language.name.toLowerCase()===lang||language.aliases&&-1!==language.aliases.indexOf(lang)||language.extensions&&language.extensions.find(function(ext){return ext.substring(1)===lang})});if(language){return language.parsers[0]}return null}function replaceNewlinesWithLiterallines(doc$$2){return mapDoc$7(doc$$2,function(currentDoc){return"string"===typeof currentDoc&&currentDoc.includes("\n")?concat$16(currentDoc.split(/(\n)/g).map(function(v,i){return 0===i%2?v:literalline$6})):currentDoc})}}var embed_1$4=embed$6,pragma$8=createCommonjsModule(function(module){"use strict";var pragmas=["format","prettier"];function startWithPragma(text){var pragma="@(".concat(pragmas.join("|"),")"),regex=new RegExp(["<!--\\s*".concat(pragma,"\\s*-->"),"<!--.*\r?\n[\\s\\S]*(^|\n)[^\\S\n]*".concat(pragma,"[^\\S\n]*($|\n)[\\s\\S]*\n.*-->")].join("|"),"m"),matched=text.match(regex);return matched&&0===matched.index}module.exports={startWithPragma:startWithPragma,hasPragma:function hasPragma(text){return startWithPragma(frontMatter(text).content.trimLeft())},insertPragma:function insertPragma(text){var extracted=frontMatter(text),pragma="<!-- @".concat(pragmas[0]," -->");return extracted.frontMatter?"".concat(extracted.frontMatter.raw,"\n\n").concat(pragma,"\n\n").concat(extracted.content):"".concat(pragma,"\n\n").concat(extracted.content)}}}),getOrderedListItemInfo$2=utils$10.getOrderedListItemInfo,mapAst$1=utils$10.mapAst,splitText$2=utils$10.splitText,isSingleCharRegex=/^([\u0000-\uffff]|[\ud800-\udbff][\udc00-\udfff])$/;function preprocess$4(ast,options){ast=restoreUnescapedCharacter(ast,options);ast=mergeContinuousTexts(ast);ast=transformInlineCode(ast);ast=transformIndentedCodeblockAndMarkItsParentList(ast,options);ast=markAlignedList(ast,options);ast=splitTextIntoSentences(ast,options);ast=transformImportExport(ast);ast=mergeContinuousImportExport(ast);return ast}function transformImportExport(ast){return mapAst$1(ast,function(node){if("import"!==node.type&&"export"!==node.type){return node}return Object.assign({},node,{type:"importExport"})})}function transformInlineCode(ast){return mapAst$1(ast,function(node){if("inlineCode"!==node.type){return node}return Object.assign({},node,{value:node.value.replace(/\s+/g," ")})})}function restoreUnescapedCharacter(ast,options){return mapAst$1(ast,function(node){return"text"!==node.type?node:Object.assign({},node,{value:"*"!==node.value&&"_"!==node.value&&"$"!==node.value&&isSingleCharRegex.test(node.value)&&node.position.end.offset-node.position.start.offset!==node.value.length?options.originalText.slice(node.position.start.offset,node.position.end.offset):node.value})})}function mergeContinuousImportExport(ast){return mergeChildren(ast,function(prevNode,node){return"importExport"===prevNode.type&&"importExport"===node.type},function(prevNode,node){return{type:"importExport",value:prevNode.value+"\n\n"+node.value,position:{start:prevNode.position.start,end:node.position.end}}})}function mergeChildren(ast,shouldMerge,mergeNode){return mapAst$1(ast,function(node){if(!node.children){return node}var children=node.children.reduce(function(current,child){var lastChild=current[current.length-1];if(lastChild&&shouldMerge(lastChild,child)){current.splice(-1,1,mergeNode(lastChild,child))}else{current.push(child)}return current},[]);return Object.assign({},node,{children:children})})}function mergeContinuousTexts(ast){return mergeChildren(ast,function(prevNode,node){return"text"===prevNode.type&&"text"===node.type},function(prevNode,node){return{type:"text",value:prevNode.value+node.value,position:{start:prevNode.position.start,end:node.position.end}}})}function splitTextIntoSentences(ast,options){return mapAst$1(ast,function(node,index,_ref){var _ref2=_slicedToArray(_ref,1),parentNode=_ref2[0];if("text"!==node.type){return node}var value=node.value;if("paragraph"===parentNode.type){if(0===index){value=value.trimLeft()}if(index===parentNode.children.length-1){value=value.trimRight()}}return{type:"sentence",position:node.position,children:splitText$2(value,options)}})}function transformIndentedCodeblockAndMarkItsParentList(ast,options){return mapAst$1(ast,function(node,index,parentStack){if("code"===node.type){var isIndented=/^\n?( {4,}|\t)/.test(options.originalText.slice(node.position.start.offset,node.position.end.offset));node.isIndented=isIndented;if(isIndented){for(var i=0,parent;i<parentStack.length;i++){parent=parentStack[i];if(parent.hasIndentedCodeblock){break}if("list"===parent.type){parent.hasIndentedCodeblock=!0}}}}return node})}function markAlignedList(ast,options){return mapAst$1(ast,function(node,index,parentStack){if("list"===node.type&&0!==node.children.length){for(var i=0,parent;i<parentStack.length;i++){parent=parentStack[i];if("list"===parent.type&&!parent.isAligned){node.isAligned=!1;return node}}node.isAligned=isAligned(node)}return node});function getListItemStart(listItem){return 0===listItem.children.length?-1:listItem.children[0].position.start.column-1}function isAligned(list){if(!list.ordered){return!0}var _list$children=_slicedToArray(list.children,2),firstItem=_list$children[0],secondItem=_list$children[1],firstInfo=getOrderedListItemInfo$2(firstItem,options.originalText);if(1<firstInfo.leadingSpaces.length){return!0}var firstStart=getListItemStart(firstItem);if(-1===firstStart){return!1}if(1===list.children.length){return 0===firstStart%options.tabWidth}var secondStart=getListItemStart(secondItem);if(firstStart!==secondStart){return!1}if(0===firstStart%options.tabWidth){return!0}var secondInfo=getOrderedListItemInfo$2(secondItem,options.originalText);return 1<secondInfo.leadingSpaces.length}}var preprocess_1$4=preprocess$4,_require$$0$builders$8=doc.builders,concat$15=_require$$0$builders$8.concat,join$11=_require$$0$builders$8.join,line$10=_require$$0$builders$8.line,literalline$5=_require$$0$builders$8.literalline,markAsRoot$3=_require$$0$builders$8.markAsRoot,hardline$11=_require$$0$builders$8.hardline,softline$7=_require$$0$builders$8.softline,fill$5=_require$$0$builders$8.fill,align$2=_require$$0$builders$8.align,indent$9=_require$$0$builders$8.indent,group$15=_require$$0$builders$8.group,mapDoc$6=doc.utils.mapDoc,printDocToString$2=doc.printer.printDocToString,getFencedCodeBlockValue=utils$10.getFencedCodeBlockValue,getOrderedListItemInfo=utils$10.getOrderedListItemInfo,splitText=utils$10.splitText,punctuationPattern=utils$10.punctuationPattern,INLINE_NODE_TYPES=utils$10.INLINE_NODE_TYPES,INLINE_NODE_WRAPPER_TYPES=utils$10.INLINE_NODE_WRAPPER_TYPES,replaceEndOfLineWith$2=util.replaceEndOfLineWith,TRAILING_HARDLINE_NODES=["importExport"],SINGLE_LINE_NODE_TYPES=["heading","tableCell","link"],SIBLING_NODE_TYPES=["listItem","definition","footnoteDefinition"];function genericPrint$5(path,options,print){var node=path.getValue();if(shouldRemainTheSameContent(path)){return concat$15(splitText(options.originalText.slice(node.position.start.offset,node.position.end.offset),options).map(function(node){return"word"===node.type?node.value:""===node.value?"":printLine(path,node.value,options)}))}switch(node.type){case"root":if(0===node.children.length){return""}return concat$15([normalizeDoc(printRoot(path,options,print)),-1===TRAILING_HARDLINE_NODES.indexOf(getLastDescendantNode(node).type)?hardline$11:""]);case"paragraph":return printChildren$1(path,options,print,{postprocessor:fill$5});case"sentence":return printChildren$1(path,options,print);case"word":return node.value.replace(/[*$]/g,"\\$&").replace(new RegExp(["(^|".concat(punctuationPattern,")(_+)"),"(_+)(".concat(punctuationPattern,"|$)")].join("|"),"g"),function(_,text1,underscore1,underscore2,text2){return(underscore1?"".concat(text1).concat(underscore1):"".concat(underscore2).concat(text2)).replace(/_/g,"\\_")});case"whitespace":{var parentNode=path.getParentNode(),index=parentNode.children.indexOf(node),nextNode=parentNode.children[index+1],proseWrap=nextNode&&/^>|^([-+*]|#{1,6}|[0-9]+[.)])$/.test(nextNode.value)?"never":options.proseWrap;return printLine(path,node.value,{proseWrap:proseWrap})}case"emphasis":{var _parentNode=path.getParentNode(),_index=_parentNode.children.indexOf(node),prevNode=_parentNode.children[_index-1],_nextNode=_parentNode.children[_index+1],hasPrevOrNextWord=prevNode&&"sentence"===prevNode.type&&0<prevNode.children.length&&"word"===util.getLast(prevNode.children).type&&!util.getLast(prevNode.children).hasTrailingPunctuation||_nextNode&&"sentence"===_nextNode.type&&0<_nextNode.children.length&&"word"===_nextNode.children[0].type&&!_nextNode.children[0].hasLeadingPunctuation,style=hasPrevOrNextWord||getAncestorNode$2(path,"emphasis")?"*":"_";return concat$15([style,printChildren$1(path,options,print),style])}case"strong":return concat$15(["**",printChildren$1(path,options,print),"**"]);case"delete":return concat$15(["~~",printChildren$1(path,options,print),"~~"]);case"inlineCode":{var backtickCount=util.getMaxContinuousCount(node.value,"`"),_style=1===backtickCount?"``":"`",gap=backtickCount?" ":"";return concat$15([_style,gap,node.value,gap,_style])}case"link":switch(options.originalText[node.position.start.offset]){case"<":{var mailto="mailto:",url=node.url.startsWith(mailto)&&options.originalText.slice(node.position.start.offset+1,node.position.start.offset+1+mailto.length)!==mailto?node.url.slice(mailto.length):node.url;return concat$15(["<",url,">"])}case"[":return concat$15(["[",printChildren$1(path,options,print),"](",printUrl(node.url,")"),printTitle(node.title,options),")"]);default:return options.originalText.slice(node.position.start.offset,node.position.end.offset);}case"image":return concat$15(["![",node.alt||"","](",printUrl(node.url,")"),printTitle(node.title,options),")"]);case"blockquote":return concat$15(["> ",align$2("> ",printChildren$1(path,options,print))]);case"heading":return concat$15(["#".repeat(node.depth)+" ",printChildren$1(path,options,print)]);case"code":{if(node.isIndented){var alignment=" ".repeat(4);return align$2(alignment,concat$15([alignment,concat$15(replaceEndOfLineWith$2(node.value,hardline$11))]))}var styleUnit=options.__inJsTemplate?"~":"`",_style2=styleUnit.repeat(_Mathmax(3,util.getMaxContinuousCount(node.value,styleUnit)+1));return concat$15([_style2,node.lang||"",hardline$11,concat$15(replaceEndOfLineWith$2(getFencedCodeBlockValue(node,options.originalText),hardline$11)),hardline$11,_style2])}case"yaml":case"toml":return options.originalText.slice(node.position.start.offset,node.position.end.offset);case"html":{var _parentNode2=path.getParentNode(),value="root"===_parentNode2.type&&util.getLast(_parentNode2.children)===node?node.value.trimRight():node.value,isHtmlComment=/^\x3c!--[\s\S]*--\x3e$/.test(value);return concat$15(replaceEndOfLineWith$2(value,isHtmlComment?hardline$11:markAsRoot$3(literalline$5)))}case"list":{var nthSiblingIndex=getNthListSiblingIndex(node,path.getParentNode()),isGitDiffFriendlyOrderedList=node.ordered&&1<node.children.length&&1===+getOrderedListItemInfo(node.children[1],options.originalText).numberText;return printChildren$1(path,options,print,{processor:function processor(childPath,index){var prefix=getPrefix();return concat$15([prefix,align$2(" ".repeat(prefix.length),printListItem(childPath,options,print,prefix))]);function getPrefix(){var rawPrefix=node.ordered?(0===index?node.start:isGitDiffFriendlyOrderedList?1:node.start+index)+(0===nthSiblingIndex%2?". ":") "):0===nthSiblingIndex%2?"- ":"* ";return node.isAligned||node.hasIndentedCodeblock?alignListPrefix(rawPrefix,options):rawPrefix}}})}case"thematicBreak":{var counter=getAncestorCounter$1(path,"list");if(-1===counter){return"---"}var _nthSiblingIndex=getNthListSiblingIndex(path.getParentNode(counter),path.getParentNode(counter+1));return 0===_nthSiblingIndex%2?"***":"---"}case"linkReference":return concat$15(["[",printChildren$1(path,options,print),"]","full"===node.referenceType?concat$15(["[",node.identifier,"]"]):"collapsed"===node.referenceType?"[]":""]);case"imageReference":switch(node.referenceType){case"full":return concat$15(["![",node.alt||"","][",node.identifier,"]"]);default:return concat$15(["![",node.alt,"]","collapsed"===node.referenceType?"[]":""]);}case"definition":{var lineOrSpace="always"===options.proseWrap?line$10:" ";return group$15(concat$15([concat$15(["[",node.identifier,"]:"]),indent$9(concat$15([lineOrSpace,printUrl(node.url),null===node.title?"":concat$15([lineOrSpace,printTitle(node.title,options,!1)])]))]))}case"footnote":return concat$15(["[^",printChildren$1(path,options,print),"]"]);case"footnoteReference":return concat$15(["[^",node.identifier,"]"]);case"footnoteDefinition":{var _nextNode2=path.getParentNode().children[path.getName()+1],shouldInlineFootnote=1===node.children.length&&"paragraph"===node.children[0].type&&("never"===options.proseWrap||"preserve"===options.proseWrap&&node.children[0].position.start.line===node.children[0].position.end.line);return concat$15(["[^",node.identifier,"]: ",shouldInlineFootnote?printChildren$1(path,options,print):group$15(concat$15([align$2(" ".repeat(options.tabWidth),printChildren$1(path,options,print,{processor:function processor(childPath,index){return 0===index?group$15(concat$15([softline$7,softline$7,childPath.call(print)])):childPath.call(print)}})),_nextNode2&&"footnoteDefinition"===_nextNode2.type?softline$7:""]))])}case"table":return printTable(path,options,print);case"tableCell":return printChildren$1(path,options,print);case"break":return /\s/.test(options.originalText[node.position.start.offset])?concat$15(["  ",markAsRoot$3(literalline$5)]):concat$15(["\\",hardline$11]);case"liquidNode":return concat$15(replaceEndOfLineWith$2(node.value,hardline$11));case"importExport":case"jsx":return node.value;case"math":return concat$15(["$$",hardline$11,node.value?concat$15([concat$15(replaceEndOfLineWith$2(node.value,hardline$11)),hardline$11]):"","$$"]);case"inlineMath":{return options.originalText.slice(options.locStart(node),options.locEnd(node))}case"tableRow":case"listItem":default:throw new Error("Unknown markdown type ".concat(JSON.stringify(node.type)));}}function printListItem(path,options,print,listPrefix){var node=path.getValue(),prefix=null===node.checked?"":node.checked?"[x] ":"[ ] ";return concat$15([prefix,printChildren$1(path,options,print,{processor:function processor(childPath,index){if(0===index&&"list"!==childPath.getValue().type){return align$2(" ".repeat(prefix.length),childPath.call(print))}var alignment=" ".repeat(clamp(options.tabWidth-listPrefix.length,0,3));return concat$15([alignment,align$2(alignment,childPath.call(print))])}})])}function alignListPrefix(prefix,options){var additionalSpaces=getAdditionalSpaces();return prefix+" ".repeat(4<=additionalSpaces?0:additionalSpaces);function getAdditionalSpaces(){var restSpaces=prefix.length%options.tabWidth;return 0===restSpaces?0:options.tabWidth-restSpaces}}function getNthListSiblingIndex(node,parentNode){return getNthSiblingIndex(node,parentNode,function(siblingNode){return siblingNode.ordered===node.ordered})}function getNthSiblingIndex(node,parentNode,condition){condition=condition||function(){return!0};var index=-1,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=parentNode.children[Symbol.iterator](),_step,childNode;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){childNode=_step.value;if(childNode.type===node.type&&condition(childNode)){index++}else{index=-1}if(childNode===node){return index}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}function getAncestorCounter$1(path,typeOrTypes){var types=[].concat(typeOrTypes),counter=-1,ancestorNode;while(ancestorNode=path.getParentNode(++counter)){if(-1!==types.indexOf(ancestorNode.type)){return counter}}return-1}function getAncestorNode$2(path,typeOrTypes){var counter=getAncestorCounter$1(path,typeOrTypes);return-1===counter?null:path.getParentNode(counter)}function printLine(path,value,options){if("preserve"===options.proseWrap&&"\n"===value){return hardline$11}var isBreakable="always"===options.proseWrap&&!getAncestorNode$2(path,SINGLE_LINE_NODE_TYPES);return""!==value?isBreakable?line$10:" ":isBreakable?softline$7:""}function printTable(path,options,print){var node=path.getValue(),contents=[];path.map(function(rowPath){var rowContents=[];rowPath.map(function(cellPath){rowContents.push(printDocToString$2(cellPath.call(print),options).formatted)},"children");contents.push(rowContents)},"children");var columnMaxWidths=contents.reduce(function(currentWidths,rowContents){return currentWidths.map(function(width,columnIndex){return _Mathmax(width,util.getStringWidth(rowContents[columnIndex]))})},contents[0].map(function(){return 3}));return join$11(hardline$11,[printRow(contents[0]),printSeparator(),join$11(hardline$11,contents.slice(1).map(printRow))]);function printSeparator(){return concat$15(["| ",join$11(" | ",columnMaxWidths.map(function(width,index){switch(node.align[index]){case"left":return":"+"-".repeat(width-1);case"right":return"-".repeat(width-1)+":";case"center":return":"+"-".repeat(width-2)+":";default:return"-".repeat(width);}}))," |"])}function printRow(rowContents){return concat$15(["| ",join$11(" | ",rowContents.map(function(rowContent,columnIndex){switch(node.align[columnIndex]){case"right":return alignRight(rowContent,columnMaxWidths[columnIndex]);case"center":return alignCenter(rowContent,columnMaxWidths[columnIndex]);default:return alignLeft(rowContent,columnMaxWidths[columnIndex]);}}))," |"])}function alignLeft(text,width){return concat$15([text," ".repeat(width-util.getStringWidth(text))])}function alignRight(text,width){return concat$15([" ".repeat(width-util.getStringWidth(text)),text])}function alignCenter(text,width){var spaces=width-util.getStringWidth(text),left=_Mathfloor(spaces/2),right=spaces-left;return concat$15([" ".repeat(left),text," ".repeat(right)])}}function printRoot(path,options,print){var ignoreRanges=[],ignoreStart=null,children=path.getValue().children;children.forEach(function(childNode,index){switch(isPrettierIgnore$1(childNode)){case"start":if(null===ignoreStart){ignoreStart={index:index,offset:childNode.position.end.offset}}break;case"end":if(null!==ignoreStart){ignoreRanges.push({start:ignoreStart,end:{index:index,offset:childNode.position.start.offset}});ignoreStart=null}break;default:break;}});return printChildren$1(path,options,print,{processor:function processor(childPath,index){if(0!==ignoreRanges.length){var ignoreRange=ignoreRanges[0];if(index===ignoreRange.start.index){return concat$15([children[ignoreRange.start.index].value,options.originalText.slice(ignoreRange.start.offset,ignoreRange.end.offset),children[ignoreRange.end.index].value])}if(ignoreRange.start.index<index&&index<ignoreRange.end.index){return!1}if(index===ignoreRange.end.index){ignoreRanges.shift();return!1}}return childPath.call(print)}})}function printChildren$1(path,options,print,events){events=events||{};var postprocessor=events.postprocessor||concat$15,processor=events.processor||function(childPath){return childPath.call(print)},node=path.getValue(),parts=[],lastChildNode;path.map(function(childPath,index){var childNode=childPath.getValue(),result=processor(childPath,index);if(!1!==result){var data={parts:parts,prevNode:lastChildNode,parentNode:node,options:options};if(!shouldNotPrePrintHardline(childNode,data)){parts.push(hardline$11);if(lastChildNode&&-1!==TRAILING_HARDLINE_NODES.indexOf(lastChildNode.type)){if(shouldPrePrintTripleHardline(childNode,data)){parts.push(hardline$11)}}else{if(shouldPrePrintDoubleHardline(childNode,data)||shouldPrePrintTripleHardline(childNode,data)){parts.push(hardline$11)}if(shouldPrePrintTripleHardline(childNode,data)){parts.push(hardline$11)}}}parts.push(result);lastChildNode=childNode}},"children");return postprocessor(parts)}function getLastDescendantNode(node){var current=node;while(current.children&&0!==current.children.length){current=current.children[current.children.length-1]}return current}function isPrettierIgnore$1(node){if("html"!==node.type){return!1}var match=node.value.match(/^\x3c!--\s*prettier-ignore(?:-(start|end))?\s*--\x3e$/);return null===match?!1:match[1]?match[1]:"next"}function shouldNotPrePrintHardline(node,data){var isFirstNode=0===data.parts.length,isInlineNode=-1!==INLINE_NODE_TYPES.indexOf(node.type),isInlineHTML="html"===node.type&&-1!==INLINE_NODE_WRAPPER_TYPES.indexOf(data.parentNode.type);return isFirstNode||isInlineNode||isInlineHTML}function shouldPrePrintDoubleHardline(node,data){var isSequence=(data.prevNode&&data.prevNode.type)===node.type,isSiblingNode=isSequence&&-1!==SIBLING_NODE_TYPES.indexOf(node.type),isInTightListItem="listItem"===data.parentNode.type&&!data.parentNode.loose,isPrevNodeLooseListItem=data.prevNode&&"listItem"===data.prevNode.type&&data.prevNode.loose,isPrevNodePrettierIgnore="next"===isPrettierIgnore$1(data.prevNode),isBlockHtmlWithoutBlankLineBetweenPrevHtml="html"===node.type&&data.prevNode&&"html"===data.prevNode.type&&data.prevNode.position.end.line+1===node.position.start.line;return isPrevNodeLooseListItem||!(isSiblingNode||isInTightListItem||isPrevNodePrettierIgnore||isBlockHtmlWithoutBlankLineBetweenPrevHtml)}function shouldPrePrintTripleHardline(node,data){var isPrevNodeList=data.prevNode&&"list"===data.prevNode.type,isIndentedCode="code"===node.type&&node.isIndented;return isPrevNodeList&&isIndentedCode}function shouldRemainTheSameContent(path){var ancestorNode=getAncestorNode$2(path,["linkReference","imageReference"]);return ancestorNode&&("linkReference"!==ancestorNode.type||"full"!==ancestorNode.referenceType)}function normalizeDoc(doc$$2){return mapDoc$6(doc$$2,function(currentDoc){if(!currentDoc.parts){return currentDoc}if("concat"===currentDoc.type&&1===currentDoc.parts.length){return currentDoc.parts[0]}var parts=[];currentDoc.parts.forEach(function(part){if("concat"===part.type){parts.push.apply(parts,part.parts)}else if(""!==part){parts.push(part)}});return Object.assign({},currentDoc,{parts:normalizeParts$2(parts)})})}function printUrl(url,dangerousCharOrChars){var dangerousChars=[" "].concat(dangerousCharOrChars||[]);return new RegExp(dangerousChars.map(function(x){return"\\".concat(x)}).join("|")).test(url)?"<".concat(url,">"):url}function printTitle(title,options,printSpace){if(null==printSpace){printSpace=!0}if(!title){return""}if(printSpace){return" "+printTitle(title,options,!1)}if(title.includes("\"")&&title.includes("'")&&!title.includes(")")){return"(".concat(title,")")}var singleCount=title.split("'").length-1,doubleCount=title.split("\"").length-1,quote=singleCount>doubleCount?"\"":doubleCount>singleCount?"'":options.singleQuote?"'":"\"";title=title.replace(new RegExp("(".concat(quote,")"),"g"),"\\$1");return"".concat(quote).concat(title).concat(quote)}function normalizeParts$2(parts){return parts.reduce(function(current,part){var lastPart=util.getLast(current);if("string"===typeof lastPart&&"string"===typeof part){current.splice(-1,1,lastPart+part)}else{current.push(part)}return current},[])}function clamp(value,min,max){return value<min?min:value>max?max:value}function clean$10(ast,newObj,parent){delete newObj.position;delete newObj.raw;if("code"===ast.type||"yaml"===ast.type||"import"===ast.type||"export"===ast.type||"jsx"===ast.type){delete newObj.value}if("list"===ast.type){delete newObj.isAligned}if("text"===ast.type){return null}if("inlineCode"===ast.type){newObj.value=ast.value.replace(/[ \t\n]+/g," ")}if(parent&&"root"===parent.type&&0<parent.children.length&&(parent.children[0]===ast||("yaml"===parent.children[0].type||"toml"===parent.children[0].type)&&parent.children[1]===ast)&&"html"===ast.type&&pragma$8.startWithPragma(ast.value)){return null}}function hasPrettierIgnore$3(path){var index=+path.getName();if(0===index){return!1}var prevNode=path.getParentNode().children[index-1];return"next"===isPrettierIgnore$1(prevNode)}var printerMarkdown={preprocess:preprocess_1$4,print:genericPrint$5,embed:embed_1$4,massageAstNode:clean$10,hasPrettierIgnore:hasPrettierIgnore$3,insertPragma:pragma$8.insertPragma},options$15={proseWrap:commonOptions.proseWrap,singleQuote:commonOptions.singleQuote},name$15="Markdown",type$14="prose",aliases$5=["pandoc"],aceMode$14="markdown",codemirrorMode$10="gfm",codemirrorMimeType$10="text/x-gfm",wrap=!0,extensions$14=[".md",".markdown",".mdown",".mdwn",".mkd",".mkdn",".mkdown",".ronn",".workbook"],tmScope$14="source.gfm",languageId$14=222,markdown={name:name$15,type:type$14,aliases:aliases$5,aceMode:aceMode$14,codemirrorMode:codemirrorMode$10,codemirrorMimeType:codemirrorMimeType$10,wrap:wrap,extensions:extensions$14,tmScope:tmScope$14,languageId:languageId$14},markdown$1=Object.freeze({name:name$15,type:type$14,aliases:aliases$5,aceMode:aceMode$14,codemirrorMode:codemirrorMode$10,codemirrorMimeType:codemirrorMimeType$10,wrap:wrap,extensions:extensions$14,tmScope:tmScope$14,languageId:languageId$14,default:markdown}),require$$0$27=markdown$1&&markdown||markdown$1,languages$5=[createLanguage(require$$0$27,{override:{since:"1.8.0",parsers:["remark"],vscodeLanguageIds:["markdown"]},extend:{filenames:["README"]}}),createLanguage({name:"MDX",extensions:[".mdx"]},{override:{since:"1.15.0",parsers:["mdx"],vscodeLanguageIds:["mdx"]}})],printers$5={mdast:printerMarkdown},languageMarkdown={languages:languages$5,options:options$15,printers:printers$5};function isPragma$1(text){return /^\s*@(prettier|format)\s*$/.test(text)}function hasPragma$4(text){return /^\s*#[^\n\S]*@(prettier|format)\s*?(\n|$)/.test(text)}function insertPragma$9(text){return"# @format\n\n".concat(text)}var pragma$11={isPragma:isPragma$1,hasPragma:hasPragma$4,insertPragma:insertPragma$9},getLast$7=util.getLast;function getAncestorCount$1(path,filter){for(var counter=0,pathStackLength=path.stack.length-1,i=0,value;i<pathStackLength;i++){value=path.stack[i];if(isNode$1(value)&&filter(value)){counter++}}return counter}function isNode$1(value,types){return value&&"string"===typeof value.type&&(!types||-1!==types.indexOf(value.type))}function mapNode$1(node,callback,parent){return callback("children"in node?Object.assign({},node,{children:node.children.map(function(childNode){return mapNode$1(childNode,callback,node)})}):node,parent)}function defineShortcut$1(x,key,getter){Object.defineProperty(x,key,{get:getter,enumerable:!1})}function isNextLineEmpty$6(node,text){for(var newlineCount=0,textLength=text.length,i=node.position.end.offset-1,char;i<textLength;i++){char=text[i];if("\n"===char){newlineCount++}if(1===newlineCount&&/\S/.test(char)){return!1}if(2===newlineCount){return!0}}return!1}function isLastDescendantNode$1(path){var node=path.getValue();switch(node.type){case"tag":case"anchor":case"comment":return!1;}for(var pathStackLength=path.stack.length,i=1;i<pathStackLength;i++){var item=path.stack[i],parentItem=path.stack[i-1];if(Array.isArray(parentItem)&&"number"===typeof item&&item!==parentItem.length-1){return!1}}return!0}function getLastDescendantNode$2(node){return"children"in node&&0!==node.children.length?getLastDescendantNode$2(getLast$7(node.children)):node}function isPrettierIgnore$2(comment){return"prettier-ignore"===comment.value.trim()}function hasPrettierIgnore$5(path){var node=path.getValue();if("documentBody"===node.type){var document=path.getParentNode();return hasEndComments$1(document.head)&&isPrettierIgnore$2(getLast$7(document.head.endComments))}return hasLeadingComments$1(node)&&isPrettierIgnore$2(getLast$7(node.leadingComments))}function isEmptyNode$1(node){return(!node.children||0===node.children.length)&&!hasComments(node)}function hasComments(node){return hasLeadingComments$1(node)||hasMiddleComments$1(node)||hasIndicatorComment$1(node)||hasTrailingComment$2(node)||hasEndComments$1(node)}function hasLeadingComments$1(node){return node&&node.leadingComments&&0!==node.leadingComments.length}function hasMiddleComments$1(node){return node&&node.middleComments&&0!==node.middleComments.length}function hasIndicatorComment$1(node){return node&&node.indicatorComment}function hasTrailingComment$2(node){return node&&node.trailingComment}function hasEndComments$1(node){return node&&node.endComments&&0!==node.endComments.length}function splitWithSingleSpace(text){var parts=[],lastPart=void 0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=text.split(/( +)/g)[Symbol.iterator](),_step,part;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){part=_step.value;if(" "!==part){if(" "===lastPart){parts.push(part)}else{parts.push((parts.pop()||"")+part)}}else if(lastPart===void 0){parts.unshift("")}lastPart=part}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}if(" "===lastPart){parts.push((parts.pop()||"")+" ")}if(""===parts[0]){parts.shift();parts.unshift(" "+(parts.shift()||""))}return parts}function getFlowScalarLineContents$1(nodeType,content,options){var rawLineContents=content.split("\n").map(function(lineContent,index,lineContents){return 0===index&&index===lineContents.length-1?lineContent:0!==index&&index!==lineContents.length-1?lineContent.trim():0===index?lineContent.trimRight():lineContent.trimLeft()});if("preserve"===options.proseWrap){return rawLineContents.map(function(lineContent){return 0===lineContent.length?[]:[lineContent]})}return rawLineContents.map(function(lineContent){return 0===lineContent.length?[]:splitWithSingleSpace(lineContent)}).reduce(function(reduced,lineContentWords,index){return 0!==index&&0!==rawLineContents[index-1].length&&0!==lineContentWords.length&&!("quoteDouble"===nodeType&&getLast$7(getLast$7(reduced)).endsWith("\\"))?reduced.concat([reduced.pop().concat(lineContentWords)]):reduced.concat([lineContentWords])},[]).map(function(lineContentWords){return"never"===options.proseWrap?[lineContentWords.join(" ")]:lineContentWords})}function getBlockValueLineContents$1(node,_ref){var parentIndent=_ref.parentIndent,isLastDescendant=_ref.isLastDescendant,options=_ref.options,content=node.position.start.line===node.position.end.line?"":options.originalText.slice(node.position.start.offset,node.position.end.offset).match(/^[^\n]*?\n([\s\S]*)$/)[1],leadingSpaceCount=null===node.indent?function(match){return match?match[1].length:1/0}(content.match(/^( *)\S/m)):node.indent-1+parentIndent,rawLineContents=content.split("\n").map(function(lineContent){return lineContent.slice(leadingSpaceCount)});if("preserve"===options.proseWrap||"blockLiteral"===node.type){return removeUnnecessaryTrailingNewlines(rawLineContents.map(function(lineContent){return 0===lineContent.length?[]:[lineContent]}))}return removeUnnecessaryTrailingNewlines(rawLineContents.map(function(lineContent){return 0===lineContent.length?[]:splitWithSingleSpace(lineContent)}).reduce(function(reduced,lineContentWords,index){return 0!==index&&0!==rawLineContents[index-1].length&&0!==lineContentWords.length&&!/^\s/.test(lineContentWords[0])&&!/^\s|\s$/.test(getLast$7(reduced))?reduced.concat([reduced.pop().concat(lineContentWords)]):reduced.concat([lineContentWords])},[]).map(function(lineContentWords){return lineContentWords.reduce(function(reduced,word){return 0!==reduced.length&&/\s$/.test(getLast$7(reduced))?reduced.concat(reduced.pop()+" "+word):reduced.concat(word)},[])}).map(function(lineContentWords){return"never"===options.proseWrap?[lineContentWords.join(" ")]:lineContentWords}));function removeUnnecessaryTrailingNewlines(lineContents){if("keep"===node.chomping){return 0===getLast$7(lineContents).length?lineContents.slice(0,-1):lineContents}for(var trailingNewlineCount=0,i=lineContents.length-1;0<=i;i--){if(0===lineContents[i].length){trailingNewlineCount++}else{break}}return 0===trailingNewlineCount?lineContents:2<=trailingNewlineCount&&!isLastDescendant?lineContents.slice(0,-(trailingNewlineCount-1)):lineContents.slice(0,-trailingNewlineCount)}}var utils$12={getLast:getLast$7,getAncestorCount:getAncestorCount$1,isNode:isNode$1,isEmptyNode:isEmptyNode$1,mapNode:mapNode$1,defineShortcut:defineShortcut$1,isNextLineEmpty:isNextLineEmpty$6,isLastDescendantNode:isLastDescendantNode$1,getBlockValueLineContents:getBlockValueLineContents$1,getFlowScalarLineContents:getFlowScalarLineContents$1,getLastDescendantNode:getLastDescendantNode$2,hasPrettierIgnore:hasPrettierIgnore$5,hasLeadingComments:hasLeadingComments$1,hasMiddleComments:hasMiddleComments$1,hasIndicatorComment:hasIndicatorComment$1,hasTrailingComment:hasTrailingComment$2,hasEndComments:hasEndComments$1},insertPragma$8=pragma$11.insertPragma,isPragma=pragma$11.isPragma,getAncestorCount=utils$12.getAncestorCount,getBlockValueLineContents=utils$12.getBlockValueLineContents,getFlowScalarLineContents=utils$12.getFlowScalarLineContents,getLast$6=utils$12.getLast,getLastDescendantNode$1=utils$12.getLastDescendantNode,hasLeadingComments=utils$12.hasLeadingComments,hasMiddleComments=utils$12.hasMiddleComments,hasIndicatorComment=utils$12.hasIndicatorComment,hasTrailingComment$1=utils$12.hasTrailingComment,hasEndComments=utils$12.hasEndComments,hasPrettierIgnore$4=utils$12.hasPrettierIgnore,isLastDescendantNode=utils$12.isLastDescendantNode,isNextLineEmpty$5=utils$12.isNextLineEmpty,isNode=utils$12.isNode,isEmptyNode=utils$12.isEmptyNode,defineShortcut=utils$12.defineShortcut,mapNode=utils$12.mapNode,docBuilders$3=doc.builders,conditionalGroup$2=docBuilders$3.conditionalGroup,breakParent$4=docBuilders$3.breakParent,concat$17=docBuilders$3.concat,dedent$4=docBuilders$3.dedent,dedentToRoot$3=docBuilders$3.dedentToRoot,fill$6=docBuilders$3.fill,group$16=docBuilders$3.group,hardline$13=docBuilders$3.hardline,ifBreak$7=docBuilders$3.ifBreak,join$12=docBuilders$3.join,line$11=docBuilders$3.line,lineSuffix$2=docBuilders$3.lineSuffix,literalline$7=docBuilders$3.literalline,markAsRoot$5=docBuilders$3.markAsRoot,softline$8=docBuilders$3.softline,replaceEndOfLineWith$3=util.replaceEndOfLineWith;function preprocess$6(ast){return mapNode(ast,defineShortcuts)}function defineShortcuts(node){switch(node.type){case"document":defineShortcut(node,"head",function(){return node.children[0]});defineShortcut(node,"body",function(){return node.children[1]});break;case"documentBody":case"sequenceItem":case"flowSequenceItem":case"mappingKey":case"mappingValue":defineShortcut(node,"content",function(){return node.children[0]});break;case"mappingItem":case"flowMappingItem":defineShortcut(node,"key",function(){return node.children[0]});defineShortcut(node,"value",function(){return node.children[1]});break;}return node}function genericPrint$6(path,options,print){var node=path.getValue(),parentNode=path.getParentNode(),tag=!node.tag?"":path.call(print,"tag"),anchor=!node.anchor?"":path.call(print,"anchor"),nextEmptyLine=isNode(node,["mapping","sequence","comment","directive","mappingItem","sequenceItem"])&&!isLastDescendantNode(path)?printNextEmptyLine(path,options.originalText):"";return concat$17(["mappingValue"!==node.type&&hasLeadingComments(node)?concat$17([join$12(hardline$13,path.map(print,"leadingComments")),hardline$13]):"",tag,tag&&anchor?" ":"",anchor,tag||anchor?isNode(node,["sequence","mapping"])&&!hasMiddleComments(node)?hardline$13:" ":"",hasMiddleComments(node)?concat$17([1===node.middleComments.length?"":hardline$13,join$12(hardline$13,path.map(print,"middleComments")),hardline$13]):"",hasPrettierIgnore$4(path)?concat$17(replaceEndOfLineWith$3(options.originalText.slice(node.position.start.offset,node.position.end.offset),literalline$7)):group$16(_print(node,parentNode,path,options,print)),hasTrailingComment$1(node)&&!isNode(node,["document","documentHead"])?lineSuffix$2(concat$17(["mappingValue"===node.type&&!node.content?"":" ","mappingKey"===parentNode.type&&"mapping"===path.getParentNode(2).type&&isInlineNode(node)?"":breakParent$4,path.call(print,"trailingComment")])):"",nextEmptyLine,hasEndComments(node)&&!isNode(node,["documentHead","documentBody"])?align$3("sequenceItem"===node.type?2:0,concat$17([hardline$13,join$12(hardline$13,path.map(print,"endComments"))])):""])}function _print(node,parentNode,path,options,print){switch(node.type){case"root":return concat$17([join$12(hardline$13,path.map(function(childPath,index){var document=node.children[index],nextDocument=node.children[index+1];return concat$17([print(childPath),shouldPrintDocumentEndMarker(document,nextDocument)?concat$17([hardline$13,"...",hasTrailingComment$1(document)?concat$17([" ",path.call(print,"trailingComment")]):""]):!nextDocument||hasTrailingComment$1(nextDocument.head)?"":concat$17([hardline$13,"---"])])},"children")),0===node.children.length||function(lastDescendantNode){return isNode(lastDescendantNode,["blockLiteral","blockFolded"])&&"keep"===lastDescendantNode.chomping}(getLastDescendantNode$1(node))?"":hardline$13]);case"document":{var nextDocument=parentNode.children[path.getName()+1];return join$12(hardline$13,["head"===shouldPrintDocumentHeadEndMarker(node,nextDocument,parentNode,options)?join$12(hardline$13,[0===node.head.children.length&&0===node.head.endComments.length?"":path.call(print,"head"),concat$17(["---",hasTrailingComment$1(node.head)?concat$17([" ",path.call(print,"head","trailingComment")]):""])].filter(Boolean)):"",shouldPrintDocumentBody(node)?path.call(print,"body"):""].filter(Boolean))}case"documentHead":return join$12(hardline$13,[].concat(path.map(print,"children"),path.map(print,"endComments")));case"documentBody":{var children=join$12(hardline$13,path.map(print,"children")).parts,endComments=join$12(hardline$13,path.map(print,"endComments")).parts,separator=0===children.length||0===endComments.length?"":function(lastDescendantNode){return isNode(lastDescendantNode,["blockFolded","blockLiteral"])?"keep"===lastDescendantNode.chomping?"":concat$17([hardline$13,hardline$13]):hardline$13}(getLastDescendantNode$1(node));return concat$17([].concat(children,separator,endComments))}case"directive":return concat$17(["%",join$12(" ",[node.name].concat(node.parameters))]);case"comment":return concat$17(["#",node.value]);case"alias":return concat$17(["*",node.value]);case"tag":return options.originalText.slice(node.position.start.offset,node.position.end.offset);case"anchor":return concat$17(["&",node.value]);case"plain":return printFlowScalarContent(node.type,options.originalText.slice(node.position.start.offset,node.position.end.offset),options);case"quoteDouble":case"quoteSingle":{var singleQuote="'",doubleQuote="\"",raw=options.originalText.slice(node.position.start.offset+1,node.position.end.offset-1);if("quoteSingle"===node.type&&raw.includes("\\")||"quoteDouble"===node.type&&/\\[^"]/.test(raw)){var originalQuote="quoteDouble"===node.type?doubleQuote:singleQuote;return concat$17([originalQuote,printFlowScalarContent(node.type,raw,options),originalQuote])}else if(raw.includes(doubleQuote)){return concat$17([singleQuote,printFlowScalarContent(node.type,"quoteDouble"===node.type?raw.replace(/\\"/g,doubleQuote).replace(/'/g,singleQuote.repeat(2)):raw,options),singleQuote])}if(raw.includes(singleQuote)){return concat$17([doubleQuote,printFlowScalarContent(node.type,"quoteSingle"===node.type?raw.replace(/''/g,singleQuote):raw,options),doubleQuote])}var quote=options.singleQuote?singleQuote:doubleQuote;return concat$17([quote,printFlowScalarContent(node.type,raw,options),quote])}case"blockFolded":case"blockLiteral":{var parentIndent=getAncestorCount(path,function(ancestorNode){return isNode(ancestorNode,["sequence","mapping"])}),isLastDescendant=isLastDescendantNode(path);return concat$17(["blockFolded"===node.type?">":"|",null===node.indent?"":node.indent.toString(),"clip"===node.chomping?"":"keep"===node.chomping?"+":"-",hasIndicatorComment(node)?concat$17([" ",path.call(print,"indicatorComment")]):"",(null===node.indent?dedent$4:dedentToRoot$3)(align$3(null===node.indent?options.tabWidth:node.indent-1+parentIndent,concat$17(getBlockValueLineContents(node,{parentIndent:parentIndent,isLastDescendant:isLastDescendant,options:options}).reduce(function(reduced,lineWords,index,lineContents){return reduced.concat(0===index?hardline$13:"",fill$6(join$12(line$11,lineWords).parts),index!==lineContents.length-1?0===lineWords.length?hardline$13:markAsRoot$5(literalline$7):"keep"===node.chomping&&isLastDescendant?0===lineWords.length?dedentToRoot$3(hardline$13):dedentToRoot$3(literalline$7):"")},[]))))])}case"sequence":return join$12(hardline$13,path.map(print,"children"));case"sequenceItem":return concat$17(["- ",align$3(2,!node.content?"":path.call(print,"content"))]);case"mappingKey":return!node.content?"":path.call(print,"content");case"mappingValue":return!node.content?"":path.call(print,"content");case"mapping":return join$12(hardline$13,path.map(print,"children"));case"mappingItem":case"flowMappingItem":{var isEmptyMappingKey=isEmptyNode(node.key),isEmptyMappingValue=isEmptyNode(node.value);if(isEmptyMappingKey&&isEmptyMappingValue){return concat$17([": "])}var key=path.call(print,"key"),value=path.call(print,"value");if(isEmptyMappingValue){return"flowMappingItem"===node.type&&"flowMapping"===parentNode.type?key:"mappingItem"===node.type&&isAbsolutelyPrintedAsSingleLineNode(node.key.content,options)&&!hasTrailingComment$1(node.key.content)&&(!parentNode.tag||"tag:yaml.org,2002:set"!==parentNode.tag.value)?concat$17([key,needsSpaceInFrontOfMappingValue(node)?" ":"",":"]):concat$17(["? ",align$3(2,key)])}if(isEmptyMappingKey){return concat$17([": ",align$3(2,value)])}var groupId=Symbol("mappingKey"),forceExplicitKey=hasLeadingComments(node.value)||!isInlineNode(node.key.content);return forceExplicitKey?concat$17(["? ",align$3(2,key),hardline$13,join$12("",path.map(print,"value","leadingComments").map(function(comment){return concat$17([comment,hardline$13])})),": ",align$3(2,value)]):isSingleLineNode(node.key.content)&&!hasLeadingComments(node.key.content)&&!hasMiddleComments(node.key.content)&&!hasTrailingComment$1(node.key.content)&&!hasEndComments(node.key)&&!hasLeadingComments(node.value.content)&&!hasMiddleComments(node.value.content)&&!hasEndComments(node.value)&&isAbsolutelyPrintedAsSingleLineNode(node.value.content,options)?concat$17([key,needsSpaceInFrontOfMappingValue(node)?" ":"",": ",value]):conditionalGroup$2([concat$17([group$16(concat$17([ifBreak$7("? "),group$16(align$3(2,key),{id:groupId})])),ifBreak$7(concat$17([hardline$13,": ",align$3(2,value)]),indent(concat$17([needsSpaceInFrontOfMappingValue(node)?" ":"",":",hasLeadingComments(node.value.content)||hasEndComments(node.value)&&node.value.content&&!isNode(node.value.content,["mapping","sequence"])||"mapping"===parentNode.type&&hasTrailingComment$1(node.key.content)&&isInlineNode(node.value.content)||isNode(node.value.content,["mapping","sequence"])&&null===node.value.content.tag&&null===node.value.content.anchor?hardline$13:!node.value.content?"":line$11,value])),{groupId:groupId})])])}case"flowMapping":case"flowSequence":{var openMarker="flowMapping"===node.type?"{":"[",closeMarker="flowMapping"===node.type?"}":"]",bracketSpacing="flowMapping"===node.type&&0!==node.children.length&&options.bracketSpacing?line$11:softline$8,isLastItemEmptyMappingItem=0!==node.children.length&&function(lastItem){return"flowMappingItem"===lastItem.type&&isEmptyNode(lastItem.key)&&isEmptyNode(lastItem.value)}(getLast$6(node.children));return concat$17([openMarker,indent(concat$17([bracketSpacing,concat$17(path.map(function(childPath,index){return concat$17([print(childPath),index===node.children.length-1?"":concat$17([",",line$11,node.children[index].position.start.line!==node.children[index+1].position.start.line?printNextEmptyLine(childPath,options.originalText):""])])},"children")),ifBreak$7(",","")])),isLastItemEmptyMappingItem?"":bracketSpacing,closeMarker])}case"flowSequenceItem":return path.call(print,"content");default:throw new Error("Unexpected node type ".concat(node.type));}function indent(doc$$2){return docBuilders$3.align(" ".repeat(options.tabWidth),doc$$2)}}function align$3(n,doc$$2){return"number"===typeof n&&0<n?docBuilders$3.align(" ".repeat(n),doc$$2):docBuilders$3.align(n,doc$$2)}function isInlineNode(node){if(!node){return!0}switch(node.type){case"plain":case"quoteDouble":case"quoteSingle":case"alias":case"flowMapping":case"flowSequence":return!0;default:return!1;}}function isSingleLineNode(node){if(!node){return!0}switch(node.type){case"plain":case"quoteDouble":case"quoteSingle":return node.position.start.line===node.position.end.line;case"alias":return!0;default:return!1;}}function shouldPrintDocumentBody(document){return 0!==document.body.children.length||hasEndComments(document.body)}function shouldPrintDocumentEndMarker(document,nextDocument){return hasTrailingComment$1(document)||nextDocument&&(0!==nextDocument.head.children.length||hasEndComments(nextDocument.head))}function shouldPrintDocumentHeadEndMarker(document,nextDocument,root,options){if(root.children[0]===document&&/---(\s|$)/.test(options.originalText.slice(options.locStart(document),options.locStart(document)+4))||0!==document.head.children.length||hasEndComments(document.head)||hasTrailingComment$1(document.head)){return"head"}if(shouldPrintDocumentEndMarker(document,nextDocument)){return!1}return nextDocument?"root":!1}function isAbsolutelyPrintedAsSingleLineNode(node,options){if(!node){return!0}switch(node.type){case"plain":case"quoteSingle":case"quoteDouble":break;case"alias":return!0;default:return!1;}if("preserve"===options.proseWrap){return node.position.start.line===node.position.end.line}if(/\\$/m.test(options.originalText.slice(node.position.start.offset,node.position.end.offset))){return!1}switch(options.proseWrap){case"never":return-1===node.value.indexOf("\n");case"always":return!/[\n ]/.test(node.value);default:return!1;}}function needsSpaceInFrontOfMappingValue(node){return node.key.content&&"alias"===node.key.content.type}function printNextEmptyLine(path,originalText){var node=path.getValue(),root=path.stack[0];root.isNextEmptyLinePrintedChecklist=root.isNextEmptyLinePrintedChecklist||[];if(!root.isNextEmptyLinePrintedChecklist[node.position.end.line]){if(isNextLineEmpty$5(node,originalText)){root.isNextEmptyLinePrintedChecklist[node.position.end.line]=!0;return softline$8}}return""}function printFlowScalarContent(nodeType,content,options){var lineContents=getFlowScalarLineContents(nodeType,content,options);return join$12(hardline$13,lineContents.map(function(lineContentWords){return fill$6(join$12(line$11,lineContentWords).parts)}))}function clean$11(node,newNode){if(isNode(newNode)){delete newNode.position;switch(newNode.type){case"comment":if(isPragma(newNode.value)){return null}break;case"quoteDouble":case"quoteSingle":newNode.type="quote";break;}}}var printerYaml={preprocess:preprocess$6,print:genericPrint$6,massageAstNode:clean$11,insertPragma:insertPragma$8},options$18={bracketSpacing:commonOptions.bracketSpacing,singleQuote:commonOptions.singleQuote,proseWrap:commonOptions.proseWrap},name$16="YAML",type$15="data",tmScope$15="source.yaml",aliases$6=["yml"],extensions$15=[".yml",".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yml.mysql"],filenames$3=[".clang-format",".clang-tidy",".gemrc","glide.lock"],aceMode$15="yaml",codemirrorMode$11="yaml",codemirrorMimeType$11="text/x-yaml",languageId$15=407,yaml={name:name$16,type:type$15,tmScope:tmScope$15,aliases:aliases$6,extensions:extensions$15,filenames:filenames$3,aceMode:aceMode$15,codemirrorMode:codemirrorMode$11,codemirrorMimeType:codemirrorMimeType$11,languageId:languageId$15},yaml$1=Object.freeze({name:name$16,type:type$15,tmScope:tmScope$15,aliases:aliases$6,extensions:extensions$15,filenames:filenames$3,aceMode:aceMode$15,codemirrorMode:codemirrorMode$11,codemirrorMimeType:codemirrorMimeType$11,languageId:languageId$15,default:yaml}),require$$0$29=yaml$1&&yaml||yaml$1,languages$6=[createLanguage(require$$0$29,{override:{since:"1.14.0",parsers:["yaml"],vscodeLanguageIds:["yaml"]}})],languageYaml={languages:languages$6,printers:{yaml:printerYaml},options:options$18},version=require$$0.version,getSupportInfo=support.getSupportInfo,internalPlugins=[languageCss,languageGraphql,languageHandlebars,languageHtml,languageJs,languageMarkdown,languageYaml],isArray=Array.isArray||function(arr){return"[object Array]"===Object.prototype.toString.call(arr)};function withPlugins(fn){return function(){var args=Array.from(arguments),plugins=args[1]&&args[1].plugins||[];if(!isArray(plugins)){plugins=Object.values(plugins)}args[1]=Object.assign({},args[1],{plugins:internalPlugins.concat(plugins)});return fn.apply(null,args)}}var formatWithCursor=withPlugins(core.formatWithCursor),standalone$2={formatWithCursor:formatWithCursor,format:function format(text,opts){return formatWithCursor(text,opts).formatted},check:function check(text,opts){var formatted=formatWithCursor(text,opts).formatted;return formatted===text},doc:doc,getSupportInfo:withPlugins(getSupportInfo),version:version,util:utilShared,__debug:{parse:withPlugins(core.parse),formatAST:withPlugins(core.formatAST),formatDoc:withPlugins(core.formatDoc),printToDoc:withPlugins(core.printToDoc),printDocToString:withPlugins(core.printDocToString)}},standalone=standalone$2;return standalone});</script><script>!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t.prettierPlugins=t.prettierPlugins||{},t.prettierPlugins.babylon=e())}(this,function(){"use strict";var _NumberisNaN=Number.isNaN,t=function(t,e){var s=new SyntaxError(t+" ("+e.start.line+":"+e.start.column+")");return s.loc=e,s};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t,e){return t(e={exports:{}},e.exports),e.exports}var i=s(function(t){t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");var e=t.match(/(?:\r?\n)/g)||[];if(0===e.length)return null;var s=e.filter(function(t){return"\r\n"===t}).length;return s>e.length-s?"\r\n":"\n"},t.exports.graceful=function(e){return t.exports(e)||"\n"}}),r={EOL:"\n"},a=Object.freeze({default:r}),n=a&&r||a,o=s(function(t,e){var s,r;function a(){return s=(t=i)&&t.__esModule?t:{default:t};var t}function o(){return r=n}Object.defineProperty(e,"__esModule",{value:!0}),e.extract=function(t){var e=t.match(u);return e?e[0].trimLeft():""},e.strip=function(t){var e=t.match(u);return e&&e[0]?t.substring(e[0].length):t},e.parse=function(t){return y(t).pragmas},e.parseWithComments=y,e.print=function(t){var e=t.comments,i=void 0===e?"":e,n=t.pragmas,h=void 0===n?{}:n,p=(0,(s||a()).default)(i)||(r||o()).EOL,u=Object.keys(h),c=u.map(function(t){return D(t,h[t])}).reduce(function(t,e){return t.concat(e)},[]).map(function(t){return" * "+t+p}).join("");if(!i){if(0===u.length)return"";if(1===u.length&&!Array.isArray(h[u[0]])){var l=h[u[0]];return"".concat("/**"," ").concat(D(u[0],l)[0]).concat(" */")}}var d=i.split(p).map(function(t){return"".concat(" *"," ").concat(t)}).join(p)+p;return"/**"+p+(i?d:"")+(i&&u.length?" *"+p:"")+c+" */"};var h=/\*\/$/,p=/^\/\*\*/,u=/^\s*(\/\*\*?(.|\r?\n)*?\*\/)/,c=/(^|\s+)\/\/([^\r\n]*)/g,l=/^(\r?\n)+/,d=/(?:^|\r?\n) *(@[^\r\n]*?) *\r?\n *(?![^@\r\n]*\/\/[^]*)([^@\r\n\s][^@\r\n]+?) *\r?\n/g,f=/(?:^|\r?\n) *@(\S+) *([^\r\n]*)/g,m=/(\r?\n|^) *\* ?/g;function y(t){var e=(0,(s||a()).default)(t)||(r||o()).EOL;t=t.replace(p,"").replace(h,"").replace(m,"$1");for(var i="";i!==t;)i=t,t=t.replace(d,"".concat(e,"$1 $2").concat(e));t=t.replace(l,"").trimRight();for(var n,u=Object.create(null),y=t.replace(f,"").replace(l,"").trimRight(),D;n=f.exec(t);){D=n[2].replace(c,"");"string"==typeof u[n[1]]||Array.isArray(u[n[1]])?u[n[1]]=[].concat(u[n[1]],D):u[n[1]]=D}return{comments:y,pragmas:u}}function D(t,e){return[].concat(e).map(function(e){return"@".concat(t," ").concat(e).trim()})}});e(o);var h=function(t){var e=Object.keys(o.parse(o.extract(t)));return-1!==e.indexOf("prettier")||-1!==e.indexOf("format")},p=function(t){return 0<t.length?t[t.length-1]:null},u={locStart:function t(e,s){return!(s=s||{}).ignoreDecorators&&e.declaration&&e.declaration.decorators&&0<e.declaration.decorators.length?t(e.declaration.decorators[0]):!s.ignoreDecorators&&e.decorators&&0<e.decorators.length?t(e.decorators[0]):e.__location?e.__location.startOffset:e.range?e.range[0]:"number"==typeof e.start?e.start:e.loc?e.loc.start:null},locEnd:function t(e){var s=e.nodes&&p(e.nodes);if(s&&e.source&&!e.source.end&&(e=s),e.__location)return e.__location.endOffset;var i=e.range?e.range[1]:"number"==typeof e.end?e.end:null;return e.typeAnnotation?Math.max(i,t(e.typeAnnotation)):e.loc&&!i?e.loc.end:i}};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=s(function(t){t.exports=function(t){t=Object.assign({onlyFirst:!1},t);var e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t.onlyFirst?void 0:"g")}}),d=s(function(t){t.exports=function(t){return!_NumberisNaN(t)&&4352<=t&&(4447>=t||9001===t||9002===t||11904<=t&&12871>=t&&12351!==t||12880<=t&&19903>=t||19968<=t&&42182>=t||43360<=t&&43388>=t||44032<=t&&55203>=t||63744<=t&&64255>=t||65040<=t&&65049>=t||65072<=t&&65131>=t||65281<=t&&65376>=t||65504<=t&&65510>=t||110592<=t&&110593>=t||127488<=t&&127569>=t||131072<=t&&262141>=t)}});s(function(t){var e=/\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g;t.exports=function(t){if("string"!=typeof(t=t.replace(e,"  "))||0===t.length)return 0;t=function(t){return"string"==typeof t?t.replace(l(),""):t}(t);for(var s=0,i=0,r;i<t.length;i++){r=t.codePointAt(i);31>=r||127<=r&&159>=r||768<=r&&879>=r||(65535<r&&i++,s+=d(r)?2:1)}return s}});function f(t){return function(e,s,i){var r=i&&i.backwards;if(!1===s)return!1;for(var a=e.length,n=s,o;0<=n&&n<a;){o=e.charAt(n);if(t instanceof RegExp){if(!t.test(o))return n}else if(-1===t.indexOf(o))return n;r?n--:n++}return(-1===n||n===a)&&n}}f(/\s/),f(" \t"),f(",; \t"),f(/[^\r\n]/);var m={};[["|>"],["||","??"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]].forEach(function(t,e){t.forEach(function(t){m[t]=e})});var y=function(t){return 0<t.length?t[t.length-1]:null},D=function(t,e){return function t(e,s){if(e&&"object"===c(e))if(Array.isArray(e)){var i=!0,r=!1,a;try{for(var n,o=e[Symbol.iterator](),h;!(i=(n=o.next()).done);i=!0){h=n.value;t(h,s)}}catch(t){r=!0,a=t}finally{try{i||null==o.return||o.return()}finally{if(r)throw a}}}else if("string"==typeof e.type){for(var p=Object.keys(e),u=0,l;u<p.length;u++){l=p[u];t(e[l],s)}s(e)}}(t,function(t){switch(t.type){case"VariableDeclaration":var s=y(t.declarations);s&&s.init&&function(t,s){var i;";"!==e.originalText[(i=s,"flow"===e.parser?i.range[1]:i.end)]&&("flow"===e.parser?t.range=[t.range[0],s.range[1]]:t.end=s.end,t.loc=Object.assign({},t.loc,{end:t.loc.end}))}(t,s);}}),t},x=s(function(t,e){var _StringfromCodePoint=String.fromCodePoint,_StringfromCharCode=String.fromCharCode;function s(t){var e,s;function i(e,s){try{var a=t[e](s),n=a.value,o=n instanceof function(t){this.wrapped=t};Promise.resolve(o?n.wrapped:n).then(function(t){o?i("next",t):r(a.done?"return":"normal",t)},function(t){i("throw",t)})}catch(t){r("throw",t)}}function r(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1});}(e=e.next)?i(e.key,e.arg):s=null}this._invoke=function(t,r){return new Promise(function(a,n){var o={key:t,arg:r,resolve:a,reject:n,next:null};s?s=s.next=o:(e=s=o,i(t,r))})},"function"!=typeof t.return&&(this.return=void 0)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}Object.defineProperty(e,"__esModule",{value:!0}),"function"==typeof Symbol&&Symbol.asyncIterator&&(s.prototype[Symbol.asyncIterator]=function(){return this}),s.prototype.next=function(t){return this._invoke("next",t)},s.prototype.throw=function(t){return this._invoke("throw",t)},s.prototype.return=function(t){return this._invoke("return",t)};var r=!0,a=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.rightAssociative=!!e.rightAssociative,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=0===e.binop?0:e.binop||null,this.updateContext=null};function n(t,e){return void 0===e&&(e={}),new a(t,Object.assign({},e,{keyword:t}))}function o(t,e){return new a(t,{beforeExpr:r,binop:e})}var h={num:new a("num",{startsExpr:!0}),bigint:new a("bigint",{startsExpr:!0}),regexp:new a("regexp",{startsExpr:!0}),string:new a("string",{startsExpr:!0}),name:new a("name",{startsExpr:!0}),eof:new a("eof"),bracketL:new a("[",{beforeExpr:r,startsExpr:!0}),bracketR:new a("]"),braceL:new a("{",{beforeExpr:r,startsExpr:!0}),braceBarL:new a("{|",{beforeExpr:r,startsExpr:!0}),braceR:new a("}"),braceBarR:new a("|}"),parenL:new a("(",{beforeExpr:r,startsExpr:!0}),parenR:new a(")"),comma:new a(",",{beforeExpr:r}),semi:new a(";",{beforeExpr:r}),colon:new a(":",{beforeExpr:r}),doubleColon:new a("::",{beforeExpr:r}),dot:new a("."),question:new a("?",{beforeExpr:r}),questionDot:new a("?."),arrow:new a("=>",{beforeExpr:r}),template:new a("template"),ellipsis:new a("...",{beforeExpr:r}),backQuote:new a("`",{startsExpr:!0}),dollarBraceL:new a("${",{beforeExpr:r,startsExpr:!0}),at:new a("@"),hash:new a("#"),interpreterDirective:new a("#!..."),eq:new a("=",{beforeExpr:r,isAssign:!0}),assign:new a("_=",{beforeExpr:r,isAssign:!0}),incDec:new a("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),bang:new a("!",{beforeExpr:r,prefix:!0,startsExpr:!0}),tilde:new a("~",{beforeExpr:r,prefix:!0,startsExpr:!0}),pipeline:new o("|>",0),nullishCoalescing:new o("??",1),logicalOR:new o("||",1),logicalAND:new o("&&",2),bitwiseOR:new o("|",3),bitwiseXOR:new o("^",4),bitwiseAND:new o("&",5),equality:new o("==/!=",6),relational:new o("</>",7),bitShift:new o("<</>>",8),plusMin:new a("+/-",{beforeExpr:r,binop:9,prefix:!0,startsExpr:!0}),modulo:new o("%",10),star:new o("*",10),slash:new o("/",10),exponent:new a("**",{beforeExpr:r,binop:11,rightAssociative:!0})},p={break:new n("break"),case:new n("case",{beforeExpr:r}),catch:new n("catch"),continue:new n("continue"),debugger:new n("debugger"),default:new n("default",{beforeExpr:r}),do:new n("do",{isLoop:!0,beforeExpr:r}),else:new n("else",{beforeExpr:r}),finally:new n("finally"),for:new n("for",{isLoop:!0}),function:new n("function",{startsExpr:!0}),if:new n("if"),return:new n("return",{beforeExpr:r}),switch:new n("switch"),throw:new n("throw",{beforeExpr:r,prefix:!0,startsExpr:!0}),try:new n("try"),var:new n("var"),let:new n("let"),const:new n("const"),while:new n("while",{isLoop:!0}),with:new n("with"),new:new n("new",{beforeExpr:r,startsExpr:!0}),this:new n("this",{startsExpr:!0}),super:new n("super",{startsExpr:!0}),class:new n("class",{startsExpr:!0}),extends:new n("extends",{beforeExpr:r}),export:new n("export"),import:new n("import",{startsExpr:!0}),yield:new n("yield",{beforeExpr:r,startsExpr:!0}),null:new n("null",{startsExpr:!0}),true:new n("true",{startsExpr:!0}),false:new n("false",{startsExpr:!0}),in:new n("in",{beforeExpr:r,binop:7}),instanceof:new n("instanceof",{beforeExpr:r,binop:7}),typeof:new n("typeof",{beforeExpr:r,prefix:!0,startsExpr:!0}),void:new n("void",{beforeExpr:r,prefix:!0,startsExpr:!0}),delete:new n("delete",{beforeExpr:r,prefix:!0,startsExpr:!0})};function u(t){return null!=t&&"Property"===t.type&&"init"===t.kind&&!1===t.method}Object.keys(p).forEach(function(t){h["_"+t]=p[t]});var c=/\r\n?|\n|\u2028|\u2029/,l=new RegExp(c.source,"g");function d(t){switch(t){case 10:case 13:case 8232:case 8233:return!0;default:return!1;}}var f=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g;function m(t){switch(t){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1;}}var y=function(t,e,s,i){this.token=t,this.isExpr=!!e,this.preserveSpace=!!s,this.override=i},D={braceStatement:new y("{",!1),braceExpression:new y("{",!0),templateQuasi:new y("${",!1),parenStatement:new y("(",!1),parenExpression:new y("(",!0),template:new y("`",!0,!0,function(t){return t.readTmplToken()}),functionExpression:new y("function",!0),functionStatement:new y("function",!1)};function x(t){var e=t.split(" ");return function(t){return 0<=e.indexOf(t)}}h.parenR.updateContext=h.braceR.updateContext=function(){if(1!==this.state.context.length){var t=this.state.context.pop();t===D.braceStatement&&"function"===this.curContext().token&&(t=this.state.context.pop()),this.state.exprAllowed=!t.isExpr}else this.state.exprAllowed=!0},h.name.updateContext=function(t){var e=!1;t!==h.dot&&("of"===this.state.value&&!this.state.exprAllowed||"yield"===this.state.value&&this.state.inGenerator)&&(e=!0),this.state.exprAllowed=e,this.state.isIterator&&(this.state.isIterator=!1)},h.braceL.updateContext=function(t){this.state.context.push(this.braceIsBlock(t)?D.braceStatement:D.braceExpression),this.state.exprAllowed=!0},h.dollarBraceL.updateContext=function(){this.state.context.push(D.templateQuasi),this.state.exprAllowed=!0},h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.state.context.push(e?D.parenStatement:D.parenExpression),this.state.exprAllowed=!0},h.incDec.updateContext=function(){},h._function.updateContext=h._class.updateContext=function(t){!t.beforeExpr||t===h.semi||t===h._else||t===h._return&&c.test(this.input.slice(this.state.lastTokEnd,this.state.start))||(t===h.colon||t===h.braceL)&&this.curContext()===D.b_stat?this.state.context.push(D.functionStatement):this.state.context.push(D.functionExpression),this.state.exprAllowed=!1},h.backQuote.updateContext=function(){this.curContext()===D.template?this.state.context.pop():this.state.context.push(D.template),this.state.exprAllowed=!1};var v={6:x("enum await"),strict:x("implements interface let package private protected public static yield"),strictBind:x("eval arguments")},P=x("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this let const class extends export import yield super"),g="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",b="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",C=new RegExp("["+g+"]"),w=new RegExp("["+g+b+"]");g=b=null;var E=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,190,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,26,230,43,117,63,32,0,257,0,11,39,8,0,22,0,12,39,3,3,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,68,12,0,67,12,65,1,31,6129,15,754,9486,286,82,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],A=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,280,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239];function T(t,e){for(var s=65536,i=0;i<e.length;i+=2){if((s+=e[i])>t)return!1;if((s+=e[i+1])>=t)return!0}return!1}function N(t){return 65>t?36===t:90>=t||(97>t?95===t:122>=t||(65535>=t?170<=t&&C.test(_StringfromCharCode(t)):T(t,E)))}function F(t){return 48>t?36===t:58>t||!(65>t)&&(90>=t||(97>t?95===t:122>=t||(65535>=t?170<=t&&w.test(_StringfromCharCode(t)):T(t,E)||T(t,A))))}var k=["any","bool","boolean","empty","false","mixed","null","number","static","string","true","typeof","void","interface","extends","_"];function S(t){return"type"===t.importKind||"typeof"===t.importKind}function I(t){return(t.type===h.name||!!t.type.keyword)&&"from"!==t.value}var L={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"},O=/\*?\s*@((?:no)?flow)\b/,M={quot:"\"",amp:"&",apos:"'",lt:"<",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",lang:"\u2329",rang:"\u232A",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"},R=/^[\da-fA-F]+$/,_=/^\d+$/;function B(t){return!!t&&("JSXOpeningFragment"===t.type||"JSXClosingFragment"===t.type)}function j(t){if("JSXIdentifier"===t.type)return t.name;if("JSXNamespacedName"===t.type)return t.namespace.name+":"+t.name.name;if("JSXMemberExpression"===t.type)return j(t.object)+"."+j(t.property);throw new Error("Node had unexpected type: "+t.type)}D.j_oTag=new y("<tag",!1),D.j_cTag=new y("</tag",!1),D.j_expr=new y("<tag>...</tag>",!0,!0),h.jsxName=new a("jsxName"),h.jsxText=new a("jsxText",{beforeExpr:!0}),h.jsxTagStart=new a("jsxTagStart",{startsExpr:!0}),h.jsxTagEnd=new a("jsxTagEnd"),h.jsxTagStart.updateContext=function(){this.state.context.push(D.j_expr),this.state.context.push(D.j_oTag),this.state.exprAllowed=!1},h.jsxTagEnd.updateContext=function(t){var e=this.state.context.pop();e===D.j_oTag&&t===h.slash||e===D.j_cTag?(this.state.context.pop(),this.state.exprAllowed=this.curContext()===D.j_expr):this.state.exprAllowed=!0};var q={sourceType:"script",sourceFilename:void 0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1},U=function(t,e){this.line=t,this.column=e},V=function(t,e){this.start=t,this.end=e};function K(t){return t[t.length-1]}var W=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.raise=function(t,e,s){var i=void 0===s?{}:s,r=i.missingPluginNames,a=i.code,n=function(t,e){var s,i=1,r=0;for(l.lastIndex=0;(s=l.exec(t))&&s.index<e;)i++,r=l.lastIndex;return new U(i,e-r)}(this.input,t);e+=" ("+n.line+":"+n.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=n,r&&(o.missingPlugin=r),void 0!==a&&(o.code=a),o},e}(function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s.addComment=function(t){this.filename&&(t.loc.filename=this.filename),this.state.trailingComments.push(t),this.state.leadingComments.push(t)},s.processComment=function(t){if(!("Program"===t.type&&0<t.body.length)){var e,s,i,r,a,n=this.state.commentStack;if(0<this.state.trailingComments.length)this.state.trailingComments[0].start>=t.end?(i=this.state.trailingComments,this.state.trailingComments=[]):this.state.trailingComments.length=0;else if(0<n.length){var o=K(n);o.trailingComments&&o.trailingComments[0].start>=t.end&&(i=o.trailingComments,delete o.trailingComments)}for(0<n.length&&K(n).start>=t.start&&(e=n.pop());0<n.length&&K(n).start>=t.start;)s=n.pop();if(!s&&e&&(s=e),e&&0<this.state.leadingComments.length){var h=K(this.state.leadingComments);if("ObjectProperty"===e.type){if(h.start>=t.start&&this.state.commentPreviousNode){for(a=0;a<this.state.leadingComments.length;a++)this.state.leadingComments[a].end<this.state.commentPreviousNode.end&&(this.state.leadingComments.splice(a,1),a--);0<this.state.leadingComments.length&&(e.trailingComments=this.state.leadingComments,this.state.leadingComments=[])}}else if("CallExpression"===t.type&&t.arguments&&t.arguments.length){var p=K(t.arguments);if(p&&h.start>=p.start&&h.end<=t.end&&this.state.commentPreviousNode){for(a=0;a<this.state.leadingComments.length;a++)this.state.leadingComments[a].end<this.state.commentPreviousNode.end&&(this.state.leadingComments.splice(a,1),a--);0<this.state.leadingComments.length&&(p.trailingComments=this.state.leadingComments,this.state.leadingComments=[])}}}if(s){if(s.leadingComments)if(s!==t&&0<s.leadingComments.length&&K(s.leadingComments).end<=t.start)t.leadingComments=s.leadingComments,delete s.leadingComments;else for(r=s.leadingComments.length-2;0<=r;--r)if(s.leadingComments[r].end<=t.start){t.leadingComments=s.leadingComments.splice(0,r+1);break}}else if(0<this.state.leadingComments.length)if(K(this.state.leadingComments).end<=t.start){if(this.state.commentPreviousNode)for(a=0;a<this.state.leadingComments.length;a++)this.state.leadingComments[a].end<this.state.commentPreviousNode.end&&(this.state.leadingComments.splice(a,1),a--);0<this.state.leadingComments.length&&(t.leadingComments=this.state.leadingComments,this.state.leadingComments=[])}else{for(r=0;r<this.state.leadingComments.length&&!(this.state.leadingComments[r].end>t.start);r++);var u=this.state.leadingComments.slice(0,r);u.length&&(t.leadingComments=u),0===(i=this.state.leadingComments.slice(r)).length&&(i=null)}this.state.commentPreviousNode=t,i&&(i.length&&i[0].start>=t.start&&K(i).end<=t.end?t.innerComments=i:t.trailingComments=i),n.push(t)}},e}(function(){function t(){this.sawUnambiguousESM=!1}var e=t.prototype;return e.isReservedWord=function(t){return"await"===t?this.inModule:v[6](t)},e.hasPlugin=function(t){return Object.hasOwnProperty.call(this.plugins,t)},e.getPluginOption=function(t,e){if(this.hasPlugin(t))return this.plugins[t][e]},t}())),G=function(){function t(){}var e=t.prototype;return e.init=function(t,e){this.strict=!1!==t.strictMode&&"module"===t.sourceType,this.input=e,this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.inMethod=!1,this.inFunction=!1,this.inParameters=!1,this.maybeInArrowParameters=!1,this.inGenerator=!1,this.inAsync=!1,this.inPipeline=!1,this.inPropertyName=!1,this.inType=!1,this.inClassProperty=!1,this.noAnonFunctionType=!1,this.hasFlowComment=!1,this.isIterator=!1,this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.classLevel=0,this.labels=[],this.decoratorStack=[[]],this.yieldOrAwaitInPossibleArrowParameters=null,this.tokens=[],this.comments=[],this.trailingComments=[],this.leadingComments=[],this.commentStack=[],this.commentPreviousNode=null,this.pos=this.lineStart=0,this.curLine=t.startLine,this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=[D.braceStatement],this.exprAllowed=!0,this.containsEsc=this.containsOctal=!1,this.octalPosition=null,this.invalidTemplateEscapePosition=null,this.exportedIdentifiers=[]},e.curPosition=function(){return new U(this.curLine,this.pos-this.lineStart)},e.clone=function(e){var s=this,i=new t;return Object.keys(this).forEach(function(t){var r=s[t];e&&"context"!==t||!Array.isArray(r)||(r=r.slice()),i[t]=r}),i},t}(),X=function(t){return 48<=t&&57>=t},J={decBinOct:[46,66,69,79,95,98,101,111],hex:[46,88,95,120]},H={bin:[48,49]};H.oct=H.bin.concat([50,51,52,53,54,55]),H.dec=H.oct.concat([56,57]),H.hex=H.dec.concat([65,66,67,68,69,70,97,98,99,100,101,102]);var z=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s.addExtra=function(t,e,s){t&&((t.extra=t.extra||{})[e]=s)},s.isRelational=function(t){return this.match(h.relational)&&this.state.value===t},s.isLookaheadRelational=function(t){var e=this.lookahead();return e.type==h.relational&&e.value==t},s.expectRelational=function(t){this.isRelational(t)?this.next():this.unexpected(null,h.relational)},s.eatRelational=function(t){return!!this.isRelational(t)&&(this.next(),!0)},s.isContextual=function(t){return this.match(h.name)&&this.state.value===t&&!this.state.containsEsc},s.isLookaheadContextual=function(t){var e=this.lookahead();return e.type===h.name&&e.value===t},s.eatContextual=function(t){return this.isContextual(t)&&this.eat(h.name)},s.expectContextual=function(t,e){this.eatContextual(t)||this.unexpected(null,e)},s.canInsertSemicolon=function(){return this.match(h.eof)||this.match(h.braceR)||this.hasPrecedingLineBreak()},s.hasPrecedingLineBreak=function(){return c.test(this.input.slice(this.state.lastTokEnd,this.state.start))},s.isLineTerminator=function(){return this.eat(h.semi)||this.canInsertSemicolon()},s.semicolon=function(){this.isLineTerminator()||this.unexpected(null,h.semi)},s.expect=function(t,e){this.eat(t)||this.unexpected(e,t)},s.unexpected=function(t,e){throw void 0===e&&(e="Unexpected token"),"string"!=typeof e&&(e="Unexpected token, expected \""+e.label+"\""),this.raise(null!=t?t:this.state.start,e)},s.expectPlugin=function(t,e){if(!this.hasPlugin(t))throw this.raise(null!=e?e:this.state.start,"This experimental syntax requires enabling the parser plugin: '"+t+"'",{missingPluginNames:[t]});return!0},s.expectOnePlugin=function(t,e){var s=this;if(!t.some(function(t){return s.hasPlugin(t)}))throw this.raise(null!=e?e:this.state.start,"This experimental syntax requires enabling one of the following parser plugin(s): '"+t.join(", ")+"'",{missingPluginNames:t})},e}(function(t){function e(e,s){var i;return(i=t.call(this)||this).state=new G,i.state.init(e,s),i.isLookahead=!1,i}i(e,t);var s=e.prototype;return s.next=function(){this.options.tokens&&!this.isLookahead&&this.state.tokens.push(new function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,this.loc=new V(t.startLoc,t.endLoc)}(this.state)),this.state.lastTokEnd=this.state.end,this.state.lastTokStart=this.state.start,this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()},s.eat=function(t){return!!this.match(t)&&(this.next(),!0)},s.match=function(t){return this.state.type===t},s.isKeyword=function(t){return P(t)},s.lookahead=function(){var t=this.state;this.state=t.clone(!0),this.isLookahead=!0,this.next(),this.isLookahead=!1;var e=this.state;return this.state=t,e},s.setStrict=function(t){if(this.state.strict=t,this.match(h.num)||this.match(h.string)){for(this.state.pos=this.state.start;this.state.pos<this.state.lineStart;)this.state.lineStart=this.input.lastIndexOf("\n",this.state.lineStart-2)+1,--this.state.curLine;this.nextToken()}},s.curContext=function(){return this.state.context[this.state.context.length-1]},s.nextToken=function(){var t=this.curContext();t&&t.preserveSpace||this.skipSpace(),this.state.containsOctal=!1,this.state.octalPosition=null,this.state.start=this.state.pos,this.state.startLoc=this.state.curPosition(),this.state.pos>=this.input.length?this.finishToken(h.eof):t.override?t.override(this):this.readToken(this.input.codePointAt(this.state.pos))},s.readToken=function(t){N(t)||92===t?this.readWord():this.getTokenFromCode(t)},s.pushComment=function(t,e,s,i,r,a){var n={type:t?"CommentBlock":"CommentLine",value:e,start:s,end:i,loc:new V(r,a)};this.isLookahead||(this.options.tokens&&this.state.tokens.push(n),this.state.comments.push(n),this.addComment(n))},s.skipBlockComment=function(){var t,e=this.state.curPosition(),s=this.state.pos,i=this.input.indexOf("*/",this.state.pos+=2);for(-1===i&&this.raise(this.state.pos-2,"Unterminated comment"),this.state.pos=i+2,l.lastIndex=s;(t=l.exec(this.input))&&t.index<this.state.pos;)++this.state.curLine,this.state.lineStart=t.index+t[0].length;this.pushComment(!0,this.input.slice(s+2,i),s,this.state.pos,e,this.state.curPosition())},s.skipLineComment=function(t){var e=this.state.pos,s=this.state.curPosition(),i=this.input.charCodeAt(this.state.pos+=t);if(this.state.pos<this.input.length)for(;10!==i&&13!==i&&8232!==i&&8233!==i&&++this.state.pos<this.input.length;)i=this.input.charCodeAt(this.state.pos);this.pushComment(!1,this.input.slice(e+t,this.state.pos),e,this.state.pos,s,this.state.curPosition())},s.skipSpace=function(){t:for(;this.state.pos<this.input.length;){var t=this.input.charCodeAt(this.state.pos);switch(t){case 13:10===this.input.charCodeAt(this.state.pos+1)&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t;}break;default:if(!m(t))break t;++this.state.pos;}}},s.finishToken=function(t,e){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();var s=this.state.type;this.state.type=t,this.state.value=e,this.updateContext(s)},s.readToken_numberSign=function(){if(0!==this.state.pos||!this.readToken_interpreter()){var t=this.state.pos+1,e=this.input.charCodeAt(t);if(48<=e&&57>=e&&this.raise(this.state.pos,"Unexpected digit after hash token"),(this.hasPlugin("classPrivateProperties")||this.hasPlugin("classPrivateMethods"))&&0<this.state.classLevel)return++this.state.pos,void this.finishToken(h.hash);"smart"===this.getPluginOption("pipelineOperator","proposal")?this.finishOp(h.hash,1):this.raise(this.state.pos,"Unexpected character '#'")}},s.readToken_dot=function(){var t=this.input.charCodeAt(this.state.pos+1);if(48<=t&&57>=t)this.readNumber(!0);else{var e=this.input.charCodeAt(this.state.pos+2);46===t&&46===e?(this.state.pos+=3,this.finishToken(h.ellipsis)):(++this.state.pos,this.finishToken(h.dot))}},s.readToken_slash=function(){if(this.state.exprAllowed&&!this.state.inType)return++this.state.pos,void this.readRegexp();61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(h.assign,2):this.finishOp(h.slash,1)},s.readToken_interpreter=function(){if(0!==this.state.pos||2>this.state.input.length)return!1;var t=this.state.pos;this.state.pos+=1;var e=this.input.charCodeAt(this.state.pos);if(33!==e)return!1;for(;10!==e&&13!==e&&8232!==e&&8233!==e&&++this.state.pos<this.input.length;)e=this.input.charCodeAt(this.state.pos);var s=this.input.slice(t+2,this.state.pos);return this.finishToken(h.interpreterDirective,s),!0},s.readToken_mult_modulo=function(t){var e=42===t?h.star:h.modulo,s=1,i=this.input.charCodeAt(this.state.pos+1),r=this.state.exprAllowed;42===t&&42===i&&(s++,i=this.input.charCodeAt(this.state.pos+2),e=h.exponent),61!==i||r||(s++,e=h.assign),this.finishOp(e,s)},s.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.state.pos+1);if(e!==t){if(124===t){if(62===e)return void this.finishOp(h.pipeline,2);if(125===e&&this.hasPlugin("flow"))return void this.finishOp(h.braceBarR,2)}61!==e?this.finishOp(124===t?h.bitwiseOR:h.bitwiseAND,1):this.finishOp(h.assign,2)}else 61===this.input.charCodeAt(this.state.pos+2)?this.finishOp(h.assign,3):this.finishOp(124===t?h.logicalOR:h.logicalAND,2)},s.readToken_caret=function(){61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)},s.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.state.pos+1);if(e===t)return 45===e&&!this.inModule&&62===this.input.charCodeAt(this.state.pos+2)&&c.test(this.input.slice(this.state.lastTokEnd,this.state.pos))?(this.skipLineComment(3),this.skipSpace(),void this.nextToken()):void this.finishOp(h.incDec,2);61===e?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)},s.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.state.pos+1),s=1;return e===t?(s=62===t&&62===this.input.charCodeAt(this.state.pos+2)?3:2,61===this.input.charCodeAt(this.state.pos+s)?void this.finishOp(h.assign,s+1):void this.finishOp(h.bitShift,s)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.state.pos+2)||45!==this.input.charCodeAt(this.state.pos+3)?(61===e&&(s=2),void this.finishOp(h.relational,s)):(this.skipLineComment(4),this.skipSpace(),void this.nextToken())},s.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.state.pos+1);if(61!==e)return 61===t&&62===e?(this.state.pos+=2,void this.finishToken(h.arrow)):void this.finishOp(61===t?h.eq:h.bang,1);this.finishOp(h.equality,61===this.input.charCodeAt(this.state.pos+2)?3:2)},s.readToken_question=function(){var t=this.input.charCodeAt(this.state.pos+1),e=this.input.charCodeAt(this.state.pos+2);63!==t||this.state.inType?46!==t||48<=e&&57>=e?(++this.state.pos,this.finishToken(h.question)):(this.state.pos+=2,this.finishToken(h.questionDot)):61===e?this.finishOp(h.assign,3):this.finishOp(h.nullishCoalescing,2)},s.getTokenFromCode=function(t){switch(t){case 35:return void this.readToken_numberSign();case 46:return void this.readToken_dot();case 40:return++this.state.pos,void this.finishToken(h.parenL);case 41:return++this.state.pos,void this.finishToken(h.parenR);case 59:return++this.state.pos,void this.finishToken(h.semi);case 44:return++this.state.pos,void this.finishToken(h.comma);case 91:return++this.state.pos,void this.finishToken(h.bracketL);case 93:return++this.state.pos,void this.finishToken(h.bracketR);case 123:return void(this.hasPlugin("flow")&&124===this.input.charCodeAt(this.state.pos+1)?this.finishOp(h.braceBarL,2):(++this.state.pos,this.finishToken(h.braceL)));case 125:return++this.state.pos,void this.finishToken(h.braceR);case 58:return void(this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(h.doubleColon,2):(++this.state.pos,this.finishToken(h.colon)));case 63:return void this.readToken_question();case 64:return++this.state.pos,void this.finishToken(h.at);case 96:return++this.state.pos,void this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.state.pos+1);if(120===e||88===e)return void this.readRadixNumber(16);if(111===e||79===e)return void this.readRadixNumber(8);if(98===e||66===e)return void this.readRadixNumber(2);case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return void this.readNumber(!1);case 34:case 39:return void this.readString(t);case 47:return void this.readToken_slash();case 37:case 42:return void this.readToken_mult_modulo(t);case 124:case 38:return void this.readToken_pipe_amp(t);case 94:return void this.readToken_caret();case 43:case 45:return void this.readToken_plus_min(t);case 60:case 62:return void this.readToken_lt_gt(t);case 61:case 33:return void this.readToken_eq_excl(t);case 126:return void this.finishOp(h.tilde,1);}this.raise(this.state.pos,"Unexpected character '"+_StringfromCodePoint(t)+"'")},s.finishOp=function(t,e){var s=this.input.slice(this.state.pos,this.state.pos+e);this.state.pos+=e,this.finishToken(t,s)},s.readRegexp=function(){for(var t,e,s=this.state.pos;;){this.state.pos>=this.input.length&&this.raise(s,"Unterminated regular expression");var i=this.input.charAt(this.state.pos);if(c.test(i)&&this.raise(s,"Unterminated regular expression"),t)t=!1;else{if("["===i)e=!0;else if("]"===i&&e)e=!1;else if("/"===i&&!e)break;t="\\"===i}++this.state.pos}var r=this.input.slice(s,this.state.pos);++this.state.pos;for(var a="";this.state.pos<this.input.length;){var n=this.input[this.state.pos],o=this.input.codePointAt(this.state.pos);if(-1<"gmsiyu".indexOf(n))-1<a.indexOf(n)&&this.raise(this.state.pos+1,"Duplicate regular expression flag"),++this.state.pos,a+=n;else{if(!F(o)&&92!==o)break;this.raise(this.state.pos+1,"Invalid regular expression flag")}}this.finishToken(h.regexp,{pattern:r,flags:a})},s.readInt=function(t,e){for(var s=this.state.pos,i=16===t?J.hex:J.decBinOct,r=16===t?H.hex:10===t?H.dec:8===t?H.oct:H.bin,a=0,n=0,o=null==e?1/0:e;n<o;++n){var h=this.input.charCodeAt(this.state.pos),p=void 0;if(this.hasPlugin("numericSeparator")){var u=this.input.charCodeAt(this.state.pos-1),c=this.input.charCodeAt(this.state.pos+1);if(95===h){-1===r.indexOf(c)&&this.raise(this.state.pos,"Invalid or unexpected token"),(-1<i.indexOf(u)||-1<i.indexOf(c)||_NumberisNaN(c))&&this.raise(this.state.pos,"Invalid or unexpected token"),++this.state.pos;continue}}if((p=97<=h?h-97+10:65<=h?h-65+10:X(h)?h-48:1/0)>=t)break;++this.state.pos,a=a*t+p}return this.state.pos===s||null!=e&&this.state.pos-s!==e?null:a},s.readRadixNumber=function(t){var e=this.state.pos,s=!1;this.state.pos+=2;var i=this.readInt(t);if(null==i&&this.raise(this.state.start+2,"Expected number in radix "+t),this.hasPlugin("bigInt")&&110===this.input.charCodeAt(this.state.pos)&&(++this.state.pos,s=!0),N(this.input.codePointAt(this.state.pos))&&this.raise(this.state.pos,"Identifier directly after number"),s){var r=this.input.slice(e,this.state.pos).replace(/[_n]/g,"");this.finishToken(h.bigint,r)}else this.finishToken(h.num,i)},s.readNumber=function(t){var e=this.state.pos,s=!1,i=!1;t||null!==this.readInt(10)||this.raise(e,"Invalid number");var r=2<=this.state.pos-e&&48===this.input.charCodeAt(e);r&&(this.state.strict&&this.raise(e,"Legacy octal literals are not allowed in strict mode"),/[89]/.test(this.input.slice(e,this.state.pos))&&(r=!1));var a=this.input.charCodeAt(this.state.pos);46!==a||r||(++this.state.pos,this.readInt(10),s=!0,a=this.input.charCodeAt(this.state.pos)),69!==a&&101!==a||r||(43!==(a=this.input.charCodeAt(++this.state.pos))&&45!==a||++this.state.pos,null===this.readInt(10)&&this.raise(e,"Invalid number"),s=!0,a=this.input.charCodeAt(this.state.pos)),this.hasPlugin("bigInt")&&110===a&&((s||r)&&this.raise(e,"Invalid BigIntLiteral"),++this.state.pos,i=!0),N(this.input.codePointAt(this.state.pos))&&this.raise(this.state.pos,"Identifier directly after number");var n=this.input.slice(e,this.state.pos).replace(/[_n]/g,"");if(i)this.finishToken(h.bigint,n);else{var o=r?parseInt(n,8):parseFloat(n);this.finishToken(h.num,o)}},s.readCodePoint=function(t){var e;if(123===this.input.charCodeAt(this.state.pos)){var s=++this.state.pos;if(e=this.readHexChar(this.input.indexOf("}",this.state.pos)-this.state.pos,t),++this.state.pos,null===e)--this.state.invalidTemplateEscapePosition;else if(1114111<e){if(!t)return this.state.invalidTemplateEscapePosition=s-2,null;this.raise(s,"Code point out of bounds")}}else e=this.readHexChar(4,t);return e},s.readString=function(t){for(var e="",s=++this.state.pos;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated string constant");var i=this.input.charCodeAt(this.state.pos);if(i===t)break;92===i?(e+=this.input.slice(s,this.state.pos),e+=this.readEscapedChar(!1),s=this.state.pos):8232===i||8233===i?(++this.state.pos,++this.state.curLine):d(i)?this.raise(this.state.start,"Unterminated string constant"):++this.state.pos}e+=this.input.slice(s,this.state.pos++),this.finishToken(h.string,e)},s.readTmplToken=function(){for(var t="",e=this.state.pos,s=!1;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated template");var i=this.input.charCodeAt(this.state.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.state.pos+1))return this.state.pos===this.state.start&&this.match(h.template)?36===i?(this.state.pos+=2,void this.finishToken(h.dollarBraceL)):(++this.state.pos,void this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.state.pos),void this.finishToken(h.template,s?null:t));if(92===i){t+=this.input.slice(e,this.state.pos);var r=this.readEscapedChar(!0);null===r?s=!0:t+=r,e=this.state.pos}else if(d(i)){switch(t+=this.input.slice(e,this.state.pos),++this.state.pos,i){case 13:10===this.input.charCodeAt(this.state.pos)&&++this.state.pos;case 10:t+="\n";break;default:t+=_StringfromCharCode(i);}++this.state.curLine,this.state.lineStart=this.state.pos,e=this.state.pos}else++this.state.pos}},s.readEscapedChar=function(t){var e=!t,s=this.input.charCodeAt(++this.state.pos);switch(++this.state.pos,s){case 110:return"\n";case 114:return"\r";case 120:var i=this.readHexChar(2,e);return null===i?null:_StringfromCharCode(i);case 117:var r=this.readCodePoint(e);return null===r?null:_StringfromCodePoint(r);case 116:return"\t";case 98:return"\b";case 118:return"\x0B";case 102:return"\f";case 13:10===this.input.charCodeAt(this.state.pos)&&++this.state.pos;case 10:return this.state.lineStart=this.state.pos,++this.state.curLine,"";default:if(48<=s&&55>=s){var a=this.state.pos-1,n=this.input.substr(this.state.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(n,8);if(255<o&&(n=n.slice(0,-1),o=parseInt(n,8)),0<o){if(t)return this.state.invalidTemplateEscapePosition=a,null;this.state.strict?this.raise(a,"Octal literal in strict mode"):this.state.containsOctal||(this.state.containsOctal=!0,this.state.octalPosition=a)}return this.state.pos+=n.length-1,_StringfromCharCode(o)}return _StringfromCharCode(s);}},s.readHexChar=function(t,e){var s=this.state.pos,i=this.readInt(16,t);return null===i&&(e?this.raise(s,"Bad character escape sequence"):(this.state.pos=s-1,this.state.invalidTemplateEscapePosition=s-1)),i},s.readWord1=function(){this.state.containsEsc=!1;for(var t="",e=!0,s=this.state.pos,i;this.state.pos<this.input.length;){i=this.input.codePointAt(this.state.pos);if(F(i))this.state.pos+=65535>=i?1:2;else if(this.state.isIterator&&64===i)this.state.pos+=1;else{if(92!==i)break;this.state.containsEsc=!0,t+=this.input.slice(s,this.state.pos);var r=this.state.pos;117!==this.input.charCodeAt(++this.state.pos)&&this.raise(this.state.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.state.pos;var a=this.readCodePoint(!0);(e?N:F)(a,!0)||this.raise(r,"Invalid Unicode escape"),t+=_StringfromCodePoint(a),s=this.state.pos}e=!1}return t+this.input.slice(s,this.state.pos)},s.isIterator=function(t){return"@@iterator"===t||"@@asyncIterator"===t},s.readWord=function(){var t=this.readWord1(),e=h.name;this.isKeyword(t)&&(this.state.containsEsc&&this.raise(this.state.pos,"Escape sequence in keyword "+t),e=p[t]),!this.state.isIterator||this.isIterator(t)&&this.state.inType||this.raise(this.state.pos,"Invalid identifier "+t),this.finishToken(e,t)},s.braceIsBlock=function(t){var e=this.curContext();return e===D.functionExpression||e===D.functionStatement||(t!==h.colon||e!==D.braceStatement&&e!==D.braceExpression?t===h._return||t===h._yield||t===h.name&&this.state.exprAllowed?c.test(this.input.slice(this.state.lastTokEnd,this.state.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow||(t===h.braceL?e===D.braceStatement:t!==h._var&&t!==h._let&&t!==h._const&&(t===h.relational||!this.state.exprAllowed)):!e.isExpr)},s.updateContext=function(t){var e,s=this.state.type;!s.keyword||t!==h.dot&&t!==h.questionDot?(e=s.updateContext)?e.call(this,t):this.state.exprAllowed=s.beforeExpr:this.state.exprAllowed=!1},e}(W)),Q=["leadingComments","trailingComments","innerComments"],Y=function(){function t(t,e,s){this.type="",this.start=e,this.end=0,this.loc=new V(s),t&&t.options.ranges&&(this.range=[e,0]),t&&t.filename&&(this.loc.filename=t.filename)}return t.prototype.__clone=function(){var e=this,s=new t;return Object.keys(this).forEach(function(t){0>Q.indexOf(t)&&(s[t]=e[t])}),s},t}(),$=[],Z={kind:"loop"},tt={kind:"switch"},et=function(t){function e(e,s){var i;return e=function(t){var e={};for(var s in q)e[s]=t&&null!=t[s]?t[s]:q[s];return e}(e),(i=t.call(this,e,s)||this).options=e,i.inModule="module"===i.options.sourceType,i.input=s,i.plugins=function(t){for(var e=Object.create(null),s=0;s<t.length;s++){var i=t[s],r=Array.isArray(i)?i:[i,{}],a=r[0],n=r[1],o=void 0===n?{}:n;e[a]||(e[a]=o||{})}return e}(i.options.plugins),i.filename=e.sourceFilename,i}return i(e,t),e.prototype.parse=function(){var t=this.startNode(),e=this.startNode();return this.nextToken(),this.parseTopLevel(t,e)},e}(function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s.parseTopLevel=function(t,e){return e.sourceType=this.options.sourceType,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,h.eof),t.program=this.finishNode(e,"Program"),t.comments=this.state.comments,this.options.tokens&&(t.tokens=this.state.tokens),this.finishNode(t,"File")},s.stmtToDirective=function(t){var e=t.expression,s=this.startNodeAt(e.start,e.loc.start),i=this.startNodeAt(t.start,t.loc.start),r=this.input.slice(e.start,e.end),a=s.value=r.slice(1,-1);return this.addExtra(s,"raw",r),this.addExtra(s,"rawValue",a),i.value=this.finishNodeAt(s,"DirectiveLiteral",e.end,e.loc.end),this.finishNodeAt(i,"Directive",t.end,t.loc.end)},s.parseInterpreterDirective=function(){if(!this.match(h.interpreterDirective))return null;var t=this.startNode();return t.value=this.state.value,this.next(),this.finishNode(t,"InterpreterDirective")},s.parseStatement=function(t,e){return this.match(h.at)&&this.parseDecorators(!0),this.parseStatementContent(t,e)},s.parseStatementContent=function(t,e){var s=this.state.type,i=this.startNode();switch(s){case h._break:case h._continue:return this.parseBreakContinueStatement(i,s.keyword);case h._debugger:return this.parseDebuggerStatement(i);case h._do:return this.parseDoStatement(i);case h._for:return this.parseForStatement(i);case h._function:if(this.lookahead().type===h.dot)break;return t||this.unexpected(),this.parseFunctionStatement(i);case h._class:return t||this.unexpected(),this.parseClass(i,!0);case h._if:return this.parseIfStatement(i);case h._return:return this.parseReturnStatement(i);case h._switch:return this.parseSwitchStatement(i);case h._throw:return this.parseThrowStatement(i);case h._try:return this.parseTryStatement(i);case h._let:case h._const:t||this.unexpected();case h._var:return this.parseVarStatement(i,s);case h._while:return this.parseWhileStatement(i);case h._with:return this.parseWithStatement(i);case h.braceL:return this.parseBlock();case h.semi:return this.parseEmptyStatement(i);case h._export:case h._import:var r,a=this.lookahead();if(a.type===h.parenL||a.type===h.dot)break;return this.options.allowImportExportEverywhere||e||this.raise(this.state.start,"'import' and 'export' may only appear at the top level"),this.next(),s==h._import?"ImportDeclaration"!==(r=this.parseImport(i)).type||r.importKind&&"value"!==r.importKind||(this.sawUnambiguousESM=!0):("ExportNamedDeclaration"!==(r=this.parseExport(i)).type||r.exportKind&&"value"!==r.exportKind)&&("ExportAllDeclaration"!==r.type||r.exportKind&&"value"!==r.exportKind)&&"ExportDefaultDeclaration"!==r.type||(this.sawUnambiguousESM=!0),this.assertModuleNodeAllowed(i),r;case h.name:if(this.isContextual("async")){var n=this.state.clone();if(this.next(),this.match(h._function)&&!this.canInsertSemicolon())return this.expect(h._function),this.parseFunction(i,!0,!1,!0);this.state=n}}var o=this.state.value,p=this.parseExpression();return s===h.name&&"Identifier"===p.type&&this.eat(h.colon)?this.parseLabeledStatement(i,o,p):this.parseExpressionStatement(i,p)},s.assertModuleNodeAllowed=function(t){this.options.allowImportExportEverywhere||this.inModule||this.raise(t.start,"'import' and 'export' may appear only with 'sourceType: \"module\"'",{code:"BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"})},s.takeDecorators=function(t){var e=this.state.decoratorStack[this.state.decoratorStack.length-1];e.length&&(t.decorators=e,this.resetStartLocationFromNode(t,e[0]),this.state.decoratorStack[this.state.decoratorStack.length-1]=[])},s.canHaveLeadingDecorator=function(){return this.match(h._class)},s.parseDecorators=function(t){for(var e=this.state.decoratorStack[this.state.decoratorStack.length-1],s;this.match(h.at);){s=this.parseDecorator();e.push(s)}this.match(h._export)?(t||this.unexpected(),this.hasPlugin("decorators")&&!this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(this.state.start,"Using the export keyword between a decorator and a class is not allowed. Please use `export @dec class` instead.")):this.canHaveLeadingDecorator()||this.raise(this.state.start,"Leading decorators must be attached to a class declaration")},s.parseDecorator=function(){this.expectOnePlugin(["decorators-legacy","decorators"]);var t=this.startNode();if(this.next(),this.hasPlugin("decorators")){this.state.decoratorStack.push([]);var e,s=this.state.start,i=this.state.startLoc;if(this.eat(h.parenL))e=this.parseExpression(),this.expect(h.parenR);else for(e=this.parseIdentifier(!1);this.eat(h.dot);){var r=this.startNodeAt(s,i);r.object=e,r.property=this.parseIdentifier(!0),r.computed=!1,e=this.finishNode(r,"MemberExpression")}t.expression=this.parseMaybeDecoratorArguments(e),this.state.decoratorStack.pop()}else t.expression=this.parseMaybeAssign();return this.finishNode(t,"Decorator")},s.parseMaybeDecoratorArguments=function(t){if(this.eat(h.parenL)){var e=this.startNodeAtNode(t);return e.callee=t,e.arguments=this.parseCallExpressionArguments(h.parenR,!1),this.toReferencedList(e.arguments),this.finishNode(e,"CallExpression")}return t},s.parseBreakContinueStatement=function(t,e){var s,i="break"===e;for(this.next(),this.isLineTerminator()?t.label=null:this.match(h.name)?(t.label=this.parseIdentifier(),this.semicolon()):this.unexpected(),s=0;s<this.state.labels.length;++s){var r=this.state.labels[s];if(null==t.label||r.name===t.label.name){if(null!=r.kind&&(i||"loop"===r.kind))break;if(t.label&&i)break}}return s===this.state.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},s.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},s.parseDoStatement=function(t){var e=this;return this.next(),this.state.labels.push(Z),t.body=this.withTopicForbiddingContext(function(){return e.parseStatement(!1)}),this.state.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.eat(h.semi),this.finishNode(t,"DoWhileStatement")},s.parseForStatement=function(t){this.next(),this.state.labels.push(Z);var e=!1;if(this.state.inAsync&&this.isContextual("await")&&(e=!0,this.next()),this.expect(h.parenL),this.match(h.semi))return e&&this.unexpected(),this.parseFor(t,null);if(this.match(h._var)||this.match(h._let)||this.match(h._const)){var s=this.startNode(),i=this.state.type;if(this.next(),this.parseVar(s,!0,i),this.finishNode(s,"VariableDeclaration"),(this.match(h._in)||this.isContextual("of"))&&1===s.declarations.length){var r=s.declarations[0],a=i===h._var&&r.init&&"ObjectPattern"!=r.id.type&&"ArrayPattern"!=r.id.type&&!this.isContextual("of");if(this.state.strict&&a)this.raise(this.state.start,"for-in initializer in strict mode");else if(a||!r.init)return this.parseForIn(t,s,e)}return e&&this.unexpected(),this.parseFor(t,s)}var n={start:0},o=this.parseExpression(!0,n);if(this.match(h._in)||this.isContextual("of")){var p=this.isContextual("of")?"for-of statement":"for-in statement";return this.toAssignable(o,void 0,p),this.checkLVal(o,void 0,void 0,p),this.parseForIn(t,o,e)}return n.start&&this.unexpected(n.start),e&&this.unexpected(),this.parseFor(t,o)},s.parseFunctionStatement=function(t){return this.next(),this.parseFunction(t,!0)},s.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement(!1),t.alternate=this.eat(h._else)?this.parseStatement(!1):null,this.finishNode(t,"IfStatement")},s.parseReturnStatement=function(t){return this.state.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.state.start,"'return' outside of function"),this.next(),this.isLineTerminator()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},s.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression();var e,s,i=t.cases=[];for(this.expect(h.braceL),this.state.labels.push(tt);!this.match(h.braceR);)if(this.match(h._case)||this.match(h._default)){var r=this.match(h._case);e&&this.finishNode(e,"SwitchCase"),i.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(s&&this.raise(this.state.lastTokStart,"Multiple default clauses"),s=!0,e.test=null),this.expect(h.colon)}else e?e.consequent.push(this.parseStatement(!0)):this.unexpected();return e&&this.finishNode(e,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(t,"SwitchStatement")},s.parseThrowStatement=function(t){return this.next(),c.test(this.input.slice(this.state.lastTokEnd,this.state.start))&&this.raise(this.state.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")},s.parseTryStatement=function(t){var e=this;if(this.next(),t.block=this.parseBlock(),t.handler=null,this.match(h._catch)){var s=this.startNode();if(this.next(),this.match(h.parenL)){this.expect(h.parenL),s.param=this.parseBindingAtom();var i=Object.create(null);this.checkLVal(s.param,!0,i,"catch clause"),this.expect(h.parenR)}else s.param=null;s.body=this.withTopicForbiddingContext(function(){return e.parseBlock(!1)}),t.handler=this.finishNode(s,"CatchClause")}return t.guardedHandlers=$,t.finalizer=this.eat(h._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},s.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},s.parseWhileStatement=function(t){var e=this;return this.next(),t.test=this.parseParenExpression(),this.state.labels.push(Z),t.body=this.withTopicForbiddingContext(function(){return e.parseStatement(!1)}),this.state.labels.pop(),this.finishNode(t,"WhileStatement")},s.parseWithStatement=function(t){var e=this;return this.state.strict&&this.raise(this.state.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.withTopicForbiddingContext(function(){return e.parseStatement(!1)}),this.finishNode(t,"WithStatement")},s.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},s.parseLabeledStatement=function(t,e,s){for(var i=0,r=this.state.labels;i<r.length;i++){r[i].name===e&&this.raise(s.start,"Label '"+e+"' is already declared")}for(var a=this.state.type.isLoop?"loop":this.match(h._switch)?"switch":null,n=this.state.labels.length-1,o;0<=n;n--){o=this.state.labels[n];if(o.statementStart!==t.start)break;o.statementStart=this.state.start,o.kind=a}return this.state.labels.push({name:e,kind:a,statementStart:this.state.start}),t.body=this.parseStatement(!0),("ClassDeclaration"==t.body.type||"VariableDeclaration"==t.body.type&&"var"!==t.body.kind||"FunctionDeclaration"==t.body.type&&(this.state.strict||t.body.generator||t.body.async))&&this.raise(t.body.start,"Invalid labeled declaration"),this.state.labels.pop(),t.label=s,this.finishNode(t,"LabeledStatement")},s.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},s.parseBlock=function(t){var e=this.startNode();return this.expect(h.braceL),this.parseBlockBody(e,t,!1,h.braceR),this.finishNode(e,"BlockStatement")},s.isValidDirective=function(t){return"ExpressionStatement"===t.type&&"StringLiteral"===t.expression.type&&!t.expression.extra.parenthesized},s.parseBlockBody=function(t,e,s,i){var r=t.body=[],a=t.directives=[];this.parseBlockOrModuleBlockBody(r,e?a:void 0,s,i)},s.parseBlockOrModuleBlockBody=function(t,e,s,i){for(var r,a,n=!1;!this.eat(i);){n||!this.state.containsOctal||a||(a=this.state.octalPosition);var o=this.parseStatement(!0,s);if(e&&!n&&this.isValidDirective(o)){var h=this.stmtToDirective(o);e.push(h),void 0===r&&"use strict"===h.value.value&&(r=this.state.strict,this.setStrict(!0),a&&this.raise(a,"Octal literal in strict mode"))}else n=!0,t.push(o)}!1===r&&this.setStrict(!1)},s.parseFor=function(t,e){var s=this;return t.init=e,this.expect(h.semi),t.test=this.match(h.semi)?null:this.parseExpression(),this.expect(h.semi),t.update=this.match(h.parenR)?null:this.parseExpression(),this.expect(h.parenR),t.body=this.withTopicForbiddingContext(function(){return s.parseStatement(!1)}),this.state.labels.pop(),this.finishNode(t,"ForStatement")},s.parseForIn=function(t,e,s){var i=this,r=this.match(h._in)?"ForInStatement":"ForOfStatement";return s?this.eatContextual("of"):this.next(),"ForOfStatement"===r&&(t.await=!!s),t.left=e,t.right=this.parseExpression(),this.expect(h.parenR),t.body=this.withTopicForbiddingContext(function(){return i.parseStatement(!1)}),this.state.labels.pop(),this.finishNode(t,r)},s.parseVar=function(t,e,s){var i=t.declarations=[];for(t.kind=s.keyword;;){var r=this.startNode();if(this.parseVarHead(r),this.eat(h.eq)?r.init=this.parseMaybeAssign(e):(s!==h._const||this.match(h._in)||this.isContextual("of")?"Identifier"===r.id.type||e&&(this.match(h._in)||this.isContextual("of"))||this.raise(this.state.lastTokEnd,"Complex binding patterns require an initialization value"):this.hasPlugin("typescript")||this.unexpected(),r.init=null),i.push(this.finishNode(r,"VariableDeclarator")),!this.eat(h.comma))break}return t},s.parseVarHead=function(t){t.id=this.parseBindingAtom(),this.checkLVal(t.id,!0,void 0,"variable declaration")},s.parseFunction=function(t,e,s,i,r){var a=this,n=this.state.inFunction,o=this.state.inMethod,p=this.state.inAsync,u=this.state.inGenerator,c=this.state.inClassProperty;return this.state.inFunction=!0,this.state.inMethod=!1,this.state.inClassProperty=!1,this.initFunction(t,i),this.match(h.star)&&(t.generator=!0,this.next()),!e||r||this.match(h.name)||this.match(h._yield)||this.unexpected(),e||(this.state.inAsync=i,this.state.inGenerator=t.generator),(this.match(h.name)||this.match(h._yield))&&(t.id=this.parseBindingIdentifier()),e&&(this.state.inAsync=i,this.state.inGenerator=t.generator),this.parseFunctionParams(t),this.withTopicForbiddingContext(function(){a.parseFunctionBodyAndFinish(t,e?"FunctionDeclaration":"FunctionExpression",s)}),this.state.inFunction=n,this.state.inMethod=o,this.state.inAsync=p,this.state.inGenerator=u,this.state.inClassProperty=c,t},s.parseFunctionParams=function(t,e){var s=this.state.inParameters;this.state.inParameters=!0,this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,e),this.state.inParameters=s},s.parseClass=function(t,e,s){return this.next(),this.takeDecorators(t),this.parseClassId(t,e,s),this.parseClassSuper(t),this.parseClassBody(t),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},s.isClassProperty=function(){return this.match(h.eq)||this.match(h.semi)||this.match(h.braceR)},s.isClassMethod=function(){return this.match(h.parenL)},s.isNonstaticConstructor=function(t){return!(t.computed||t.static||"constructor"!==t.key.name&&"constructor"!==t.key.value)},s.parseClassBody=function(t){var e=this,s=this.state.strict;this.state.strict=!0,this.state.classLevel++;var i={hadConstructor:!1},r=[],a=this.startNode();a.body=[],this.expect(h.braceL),this.withTopicForbiddingContext(function(){for(;!e.eat(h.braceR);)if(e.eat(h.semi))0<r.length&&e.raise(e.state.lastTokEnd,"Decorators must not be followed by a semicolon");else if(e.match(h.at))r.push(e.parseDecorator());else{var t=e.startNode();r.length&&(t.decorators=r,e.resetStartLocationFromNode(t,r[0]),r=[]),e.parseClassMember(a,t,i),"constructor"===t.kind&&t.decorators&&0<t.decorators.length&&e.raise(t.start,"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?")}}),r.length&&this.raise(this.state.start,"You have trailing decorators with no method"),t.body=this.finishNode(a,"ClassBody"),this.state.classLevel--,this.state.strict=s},s.parseClassMember=function(t,e,s){var i=!1,r=this.state.containsEsc;if(this.match(h.name)&&"static"===this.state.value){var a=this.parseIdentifier(!0);if(this.isClassMethod()){var n=e;return n.kind="method",n.computed=!1,n.key=a,n.static=!1,void this.pushClassMethod(t,n,!1,!1,!1)}if(this.isClassProperty()){var o=e;return o.computed=!1,o.key=a,o.static=!1,void t.body.push(this.parseClassProperty(o))}if(r)throw this.unexpected();i=!0}this.parseClassMemberWithIsStatic(t,e,s,i)},s.parseClassMemberWithIsStatic=function(t,e,s,i){var r=e,a=e,n=e,o=e,p=r,u=r;if(e.static=i,this.eat(h.star))return p.kind="method",this.parseClassPropertyName(p),"PrivateName"===p.key.type?void this.pushClassPrivateMethod(t,a,!0,!1):(this.isNonstaticConstructor(r)&&this.raise(r.key.start,"Constructor can't be a generator"),void this.pushClassMethod(t,r,!0,!1,!1));var c=this.parseClassPropertyName(e),l="PrivateName"===c.type,d="Identifier"===c.type;if(this.parsePostMemberNameModifiers(u),this.isClassMethod()){if(p.kind="method",l)return void this.pushClassPrivateMethod(t,a,!1,!1);var f=this.isNonstaticConstructor(r);f&&(r.kind="constructor",r.decorators&&this.raise(r.start,"You can't attach decorators to a class constructor"),s.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(c.start,"Duplicate constructor in the same class"),s.hadConstructor=!0),this.pushClassMethod(t,r,!1,!1,f)}else if(this.isClassProperty())l?this.pushClassPrivateProperty(t,o):this.pushClassProperty(t,n);else if(d&&"async"===c.name&&!this.isLineTerminator()){var m=this.eat(h.star);p.kind="method",this.parseClassPropertyName(p),"PrivateName"===p.key.type?this.pushClassPrivateMethod(t,a,m,!0):(this.isNonstaticConstructor(r)&&this.raise(r.key.start,"Constructor can't be an async function"),this.pushClassMethod(t,r,m,!0,!1))}else!d||"get"!==c.name&&"set"!==c.name||this.isLineTerminator()&&this.match(h.star)?this.isLineTerminator()?l?this.pushClassPrivateProperty(t,o):this.pushClassProperty(t,n):this.unexpected():(p.kind=c.name,this.parseClassPropertyName(r),"PrivateName"===p.key.type?this.pushClassPrivateMethod(t,a,!1,!1):(this.isNonstaticConstructor(r)&&this.raise(r.key.start,"Constructor can't have get/set modifier"),this.pushClassMethod(t,r,!1,!1,!1)),this.checkGetterSetterParams(r))},s.parseClassPropertyName=function(t){var e=this.parsePropertyName(t);return t.computed||!t.static||"prototype"!==e.name&&"prototype"!==e.value||this.raise(e.start,"Classes may not have static property named prototype"),"PrivateName"===e.type&&"constructor"===e.id.name&&this.raise(e.start,"Classes may not have a private field named '#constructor'"),e},s.pushClassProperty=function(t,e){this.isNonstaticConstructor(e)&&this.raise(e.key.start,"Classes may not have a non-static field named 'constructor'"),t.body.push(this.parseClassProperty(e))},s.pushClassPrivateProperty=function(t,e){this.expectPlugin("classPrivateProperties",e.key.start),t.body.push(this.parseClassPrivateProperty(e))},s.pushClassMethod=function(t,e,s,i,r){t.body.push(this.parseMethod(e,s,i,r,"ClassMethod"))},s.pushClassPrivateMethod=function(t,e,s,i){this.expectPlugin("classPrivateMethods",e.key.start),t.body.push(this.parseMethod(e,s,i,!1,"ClassPrivateMethod"))},s.parsePostMemberNameModifiers=function(t){},s.parseAccessModifier=function(){},s.parseClassPrivateProperty=function(t){var e=this.state.inMethod;return this.state.inMethod=!1,this.state.inClassProperty=!0,t.value=this.eat(h.eq)?this.parseMaybeAssign():null,this.semicolon(),this.state.inClassProperty=!1,this.state.inMethod=e,this.finishNode(t,"ClassPrivateProperty")},s.parseClassProperty=function(t){t.typeAnnotation||this.expectPlugin("classProperties");var e=this.state.inMethod;return this.state.inMethod=!1,this.state.inClassProperty=!0,this.match(h.eq)?(this.expectPlugin("classProperties"),this.next(),t.value=this.parseMaybeAssign()):t.value=null,this.semicolon(),this.state.inClassProperty=!1,this.state.inMethod=e,this.finishNode(t,"ClassProperty")},s.parseClassId=function(t,e,s){this.match(h.name)?t.id=this.parseIdentifier():s||!e?t.id=null:this.unexpected(null,"A class name is required")},s.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts():null},s.parseExport=function(t){if(this.shouldParseExportStar()){if(this.parseExportStar(t),"ExportAllDeclaration"===t.type)return t}else if(this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom");var e=this.startNode();e.exported=this.parseIdentifier(!0);var s=[this.finishNode(e,"ExportDefaultSpecifier")];if(t.specifiers=s,this.match(h.comma)&&this.lookahead().type===h.star){this.expect(h.comma);var i=this.startNode();this.expect(h.star),this.expectContextual("as"),i.exported=this.parseIdentifier(),s.push(this.finishNode(i,"ExportNamespaceSpecifier"))}else this.parseExportSpecifiersMaybe(t);this.parseExportFrom(t,!0)}else{if(this.eat(h._default))return t.declaration=this.parseExportDefaultExpression(),this.checkExport(t,!0,!0),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportDeclaration()){if(this.isContextual("async")){var r=this.lookahead();r.type!==h._function&&this.unexpected(r.start,"Unexpected token, expected \"function\"")}t.specifiers=[],t.source=null,t.declaration=this.parseExportDeclaration(t)}else t.declaration=null,t.specifiers=this.parseExportSpecifiers(),this.parseExportFrom(t)}return this.checkExport(t,!0),this.finishNode(t,"ExportNamedDeclaration")},s.isAsyncFunction=function(){if(!this.isContextual("async"))return!1;var t=this.state,e=t.input,s=t.pos;f.lastIndex=s;var i=f.exec(e);if(!i||!i.length)return!1;var r=s+i[0].length;return!(c.test(e.slice(s,r))||"function"!==e.slice(r,r+8)||r+8!==e.length&&F(e.charAt(r+8)))},s.parseExportDefaultExpression=function(){var t=this.startNode(),e=this.isAsyncFunction();if(this.eat(h._function)||e)return e&&(this.eatContextual("async"),this.expect(h._function)),this.parseFunction(t,!0,!1,e,!0);if(this.match(h._class))return this.parseClass(t,!0,!0);if(this.match(h.at))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")&&this.unexpected(this.state.start,"Decorators must be placed *before* the 'export' keyword. You can set the 'decoratorsBeforeExport' option to false to use the 'export @decorator class {}' syntax"),this.parseDecorators(!1),this.parseClass(t,!0,!0);if(this.match(h._let)||this.match(h._const)||this.match(h._var))return this.raise(this.state.start,"Only expressions, functions or classes are allowed as the `default` export.");var s=this.parseMaybeAssign();return this.semicolon(),s},s.parseExportDeclaration=function(t){return this.parseStatement(!0)},s.isExportDefaultSpecifier=function(){if(this.match(h.name))return"async"!==this.state.value;if(!this.match(h._default))return!1;var t=this.lookahead();return t.type===h.comma||t.type===h.name&&"from"===t.value},s.parseExportSpecifiersMaybe=function(t){this.eat(h.comma)&&(t.specifiers=t.specifiers.concat(this.parseExportSpecifiers()))},s.parseExportFrom=function(t,e){this.eatContextual("from")?(t.source=this.match(h.string)?this.parseExprAtom():this.unexpected(),this.checkExport(t)):e?this.unexpected():t.source=null,this.semicolon()},s.shouldParseExportStar=function(){return this.match(h.star)},s.parseExportStar=function(t){this.expect(h.star),this.isContextual("as")?this.parseExportNamespace(t):(this.parseExportFrom(t,!0),this.finishNode(t,"ExportAllDeclaration"))},s.parseExportNamespace=function(t){this.expectPlugin("exportNamespaceFrom");var e=this.startNodeAt(this.state.lastTokStart,this.state.lastTokStartLoc);this.next(),e.exported=this.parseIdentifier(!0),t.specifiers=[this.finishNode(e,"ExportNamespaceSpecifier")],this.parseExportSpecifiersMaybe(t),this.parseExportFrom(t,!0)},s.shouldParseExportDeclaration=function(){if(this.match(h.at)&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))){if(!this.getPluginOption("decorators","decoratorsBeforeExport"))return!0;this.unexpected(this.state.start,"Decorators must be placed *before* the 'export' keyword. You can set the 'decoratorsBeforeExport' option to false to use the 'export @decorator class {}' syntax")}return"var"===this.state.type.keyword||"const"===this.state.type.keyword||"let"===this.state.type.keyword||"function"===this.state.type.keyword||"class"===this.state.type.keyword||this.isAsyncFunction()},s.checkExport=function(t,e,s){if(e)if(s)this.checkDuplicateExports(t,"default");else if(t.specifiers&&t.specifiers.length)for(var i=0,r=t.specifiers,a;i<r.length;i++){a=r[i];this.checkDuplicateExports(a,a.exported.name)}else if(t.declaration)if("FunctionDeclaration"===t.declaration.type||"ClassDeclaration"===t.declaration.type){var n=t.declaration.id;if(!n)throw new Error("Assertion failure");this.checkDuplicateExports(t,n.name)}else if("VariableDeclaration"===t.declaration.type)for(var o=0,h=t.declaration.declarations,p;o<h.length;o++){p=h[o];this.checkDeclaration(p.id)}if(this.state.decoratorStack[this.state.decoratorStack.length-1].length){var u=t.declaration&&("ClassDeclaration"===t.declaration.type||"ClassExpression"===t.declaration.type);if(!t.declaration||!u)throw this.raise(t.start,"You can only use decorators on an export when exporting a class");this.takeDecorators(t.declaration)}},s.checkDeclaration=function(t){if("ObjectPattern"===t.type)for(var e=0,s=t.properties,i;e<s.length;e++){i=s[e];this.checkDeclaration(i)}else if("ArrayPattern"===t.type)for(var r=0,a=t.elements,n;r<a.length;r++){n=a[r];n&&this.checkDeclaration(n)}else"ObjectProperty"===t.type?this.checkDeclaration(t.value):"RestElement"===t.type?this.checkDeclaration(t.argument):"Identifier"===t.type&&this.checkDuplicateExports(t,t.name)},s.checkDuplicateExports=function(t,e){-1<this.state.exportedIdentifiers.indexOf(e)&&this.raiseDuplicateExportError(t,e),this.state.exportedIdentifiers.push(e)},s.raiseDuplicateExportError=function(t,e){throw this.raise(t.start,"default"===e?"Only one default export allowed per module.":"`"+e+"` has already been exported. Exported identifiers must be unique.")},s.parseExportSpecifiers=function(){var t,e=[],s=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(s)s=!1;else if(this.expect(h.comma),this.eat(h.braceR))break;var i=this.match(h._default);i&&!t&&(t=!0);var r=this.startNode();r.local=this.parseIdentifier(i),r.exported=this.eatContextual("as")?this.parseIdentifier(!0):r.local.__clone(),e.push(this.finishNode(r,"ExportSpecifier"))}return t&&!this.isContextual("from")&&this.unexpected(),e},s.parseImport=function(t){return this.match(h.string)?(t.specifiers=[],t.source=this.parseExprAtom()):(t.specifiers=[],this.parseImportSpecifiers(t),this.expectContextual("from"),t.source=this.match(h.string)?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},s.shouldParseDefaultImport=function(t){return this.match(h.name)},s.parseImportSpecifierLocal=function(t,e,s,i){e.local=this.parseIdentifier(),this.checkLVal(e.local,!0,void 0,i),t.specifiers.push(this.finishNode(e,s))},s.parseImportSpecifiers=function(t){var e=!0;if(!this.shouldParseDefaultImport(t)||(this.parseImportSpecifierLocal(t,this.startNode(),"ImportDefaultSpecifier","default import specifier"),this.eat(h.comma))){if(this.match(h.star)){var s=this.startNode();return this.next(),this.expectContextual("as"),void this.parseImportSpecifierLocal(t,s,"ImportNamespaceSpecifier","import namespace specifier")}for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.eat(h.colon)&&this.unexpected(null,"ES2015 named imports do not destructure. Use another statement for destructuring after the import."),this.expect(h.comma),this.eat(h.braceR))break;this.parseImportSpecifier(t)}}},s.parseImportSpecifier=function(t){var e=this.startNode();e.imported=this.parseIdentifier(!0),this.eatContextual("as")?e.local=this.parseIdentifier():(this.checkReservedWord(e.imported.name,e.start,!0,!0),e.local=e.imported.__clone()),this.checkLVal(e.local,!0,void 0,"import specifier"),t.specifiers.push(this.finishNode(e,"ImportSpecifier"))},e}(function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s.checkPropClash=function(t,e){if(!t.computed&&!t.kind){var s=t.key;"__proto__"===("Identifier"===s.type?s.name:s.value+"")&&(e.proto&&this.raise(s.start,"Redefinition of __proto__ property"),e.proto=!0)}},s.getExpression=function(){this.nextToken();var t=this.parseExpression();return this.match(h.eof)||this.unexpected(),t.comments=this.state.comments,t},s.parseExpression=function(t,e){var s=this.state.start,i=this.state.startLoc,r=this.parseMaybeAssign(t,e);if(this.match(h.comma)){var a=this.startNodeAt(s,i);for(a.expressions=[r];this.eat(h.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.toReferencedList(a.expressions),this.finishNode(a,"SequenceExpression")}return r},s.parseMaybeAssign=function(t,e,s,i){var r,a=this.state.start,n=this.state.startLoc;if(this.match(h._yield)&&this.state.inGenerator){var o=this.parseYield();return s&&(o=s.call(this,o,a,n)),o}e?r=!1:(e={start:0},r=!0),(this.match(h.parenL)||this.match(h.name)||this.match(h._yield))&&(this.state.potentialArrowAt=this.state.start);var p=this.parseMaybeConditional(t,e,i);if(s&&(p=s.call(this,p,a,n)),this.state.type.isAssign){var u,c=this.startNodeAt(a,n),l=this.state.value;if(c.operator=l,"??="===l&&(this.expectPlugin("nullishCoalescingOperator"),this.expectPlugin("logicalAssignment")),"||="!==l&&"&&="!==l||this.expectPlugin("logicalAssignment"),c.left=this.match(h.eq)?this.toAssignable(p,void 0,"assignment expression"):p,e.start=0,this.checkLVal(p,void 0,void 0,"assignment expression"),p.extra&&p.extra.parenthesized)"ObjectPattern"===p.type?u="`({a}) = 0` use `({a} = 0)`":"ArrayPattern"===p.type&&(u="`([a]) = 0` use `([a] = 0)`"),u&&this.raise(p.start,"You're trying to assign to a parenthesized expression, eg. instead of "+u);return this.next(),c.right=this.parseMaybeAssign(t),this.finishNode(c,"AssignmentExpression")}return r&&e.start&&this.unexpected(e.start),p},s.parseMaybeConditional=function(t,e,s){var i=this.state.start,r=this.state.startLoc,a=this.state.potentialArrowAt,n=this.parseExprOps(t,e);return"ArrowFunctionExpression"===n.type&&n.start===a?n:e&&e.start?n:this.parseConditional(n,t,i,r,s)},s.parseConditional=function(t,e,s,i,r){if(this.eat(h.question)){var a=this.startNodeAt(s,i);return a.test=t,a.consequent=this.parseMaybeAssign(),this.expect(h.colon),a.alternate=this.parseMaybeAssign(e),this.finishNode(a,"ConditionalExpression")}return t},s.parseExprOps=function(t,e){var s=this.state.start,i=this.state.startLoc,r=this.state.potentialArrowAt,a=this.parseMaybeUnary(e);return"ArrowFunctionExpression"===a.type&&a.start===r?a:e&&e.start?a:this.parseExprOp(a,s,i,-1,t)},s.parseExprOp=function(t,e,s,i,r){var a=this.state.type.binop;if(!(null==a||r&&this.match(h._in))&&a>i){var n=this.startNodeAt(e,s),o=this.state.value;n.left=t,n.operator=o,"**"!==o||"UnaryExpression"!==t.type||t.extra&&t.extra.parenthesized||this.raise(t.argument.start,"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.");var p=this.state.type;if(p===h.pipeline?(this.expectPlugin("pipelineOperator"),this.state.inPipeline=!0,this.checkPipelineAtInfixOperator(t,e)):p===h.nullishCoalescing&&this.expectPlugin("nullishCoalescingOperator"),this.next(),p===h.pipeline&&"minimal"===this.getPluginOption("pipelineOperator","proposal")&&this.match(h.name)&&"await"===this.state.value&&this.state.inAsync)throw this.raise(this.state.start,"Unexpected \"await\" after pipeline body; await must have parentheses in minimal proposal");return n.right=this.parseExprOpRightExpr(p,a,r),this.finishNode(n,p===h.logicalOR||p===h.logicalAND||p===h.nullishCoalescing?"LogicalExpression":"BinaryExpression"),this.parseExprOp(n,e,s,i,r)}return t},s.parseExprOpRightExpr=function(t,e,s){var i=this;switch(t){case h.pipeline:if("smart"===this.getPluginOption("pipelineOperator","proposal")){var r=this.state.start,a=this.state.startLoc;return this.withTopicPermittingContext(function(){return i.parseSmartPipelineBody(i.parseExprOpBaseRightExpr(t,e,s),r,a)})}default:return this.parseExprOpBaseRightExpr(t,e,s);}},s.parseExprOpBaseRightExpr=function(t,e,s){var i=this.state.start,r=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnary(),i,r,t.rightAssociative?e-1:e,s)},s.parseMaybeUnary=function(t){if(this.state.type.prefix){var e=this.startNode(),s=this.match(h.incDec);if(e.operator=this.state.value,e.prefix=!0,"throw"===e.operator&&this.expectPlugin("throwExpressions"),this.next(),e.argument=this.parseMaybeUnary(),t&&t.start&&this.unexpected(t.start),s)this.checkLVal(e.argument,void 0,void 0,"prefix operation");else if(this.state.strict&&"delete"===e.operator){var i=e.argument;"Identifier"===i.type?this.raise(e.start,"Deleting local variable in strict mode"):"MemberExpression"===i.type&&"PrivateName"===i.property.type&&this.raise(e.start,"Deleting a private field is not allowed")}return this.finishNode(e,s?"UpdateExpression":"UnaryExpression")}var r=this.state.start,a=this.state.startLoc,n=this.parseExprSubscripts(t);if(t&&t.start)return n;for(;this.state.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(r,a);o.operator=this.state.value,o.prefix=!1,o.argument=n,this.checkLVal(n,void 0,void 0,"postfix operation"),this.next(),n=this.finishNode(o,"UpdateExpression")}return n},s.parseExprSubscripts=function(t){var e=this.state.start,s=this.state.startLoc,i=this.state.potentialArrowAt,r=this.parseExprAtom(t);return"ArrowFunctionExpression"===r.type&&r.start===i?r:t&&t.start?r:this.parseSubscripts(r,e,s)},s.parseSubscripts=function(t,e,s,i){var r={optionalChainMember:!1,stop:!1};do{t=this.parseSubscript(t,e,s,i,r)}while(!r.stop);return t},s.parseSubscript=function(t,e,s,i,r){if(!i&&this.eat(h.doubleColon)){var a=this.startNodeAt(e,s);return a.object=t,a.callee=this.parseNoCallExpr(),r.stop=!0,this.parseSubscripts(this.finishNode(a,"BindExpression"),e,s,i)}if(this.match(h.questionDot)){if(this.expectPlugin("optionalChaining"),r.optionalChainMember=!0,i&&this.lookahead().type==h.parenL)return r.stop=!0,t;this.next();var n=this.startNodeAt(e,s);if(this.eat(h.bracketL))return n.object=t,n.property=this.parseExpression(),n.computed=!0,n.optional=!0,this.expect(h.bracketR),this.finishNode(n,"OptionalMemberExpression");if(this.eat(h.parenL)){var o=this.atPossibleAsync(t);return n.callee=t,n.arguments=this.parseCallExpressionArguments(h.parenR,o),n.optional=!0,this.finishNode(n,"OptionalCallExpression")}return n.object=t,n.property=this.parseIdentifier(!0),n.computed=!1,n.optional=!0,this.finishNode(n,"OptionalMemberExpression")}if(this.eat(h.dot)){var p=this.startNodeAt(e,s);return p.object=t,p.property=this.parseMaybePrivateName(),p.computed=!1,r.optionalChainMember?(p.optional=!1,this.finishNode(p,"OptionalMemberExpression")):this.finishNode(p,"MemberExpression")}if(this.eat(h.bracketL)){var u=this.startNodeAt(e,s);return u.object=t,u.property=this.parseExpression(),u.computed=!0,this.expect(h.bracketR),r.optionalChainMember?(u.optional=!1,this.finishNode(u,"OptionalMemberExpression")):this.finishNode(u,"MemberExpression")}if(!i&&this.match(h.parenL)){var c=this.state.maybeInArrowParameters,l=this.state.yieldOrAwaitInPossibleArrowParameters;this.state.maybeInArrowParameters=!0,this.state.yieldOrAwaitInPossibleArrowParameters=null;var d=this.atPossibleAsync(t);this.next();var f=this.startNodeAt(e,s);f.callee=t;var m={start:-1};return f.arguments=this.parseCallExpressionArguments(h.parenR,d,m),r.optionalChainMember?this.finishOptionalCallExpression(f):this.finishCallExpression(f),d&&this.shouldParseAsyncArrow()?(r.stop=!0,-1<m.start&&this.raise(m.start,"A trailing comma is not permitted after the rest element"),f=this.parseAsyncArrowFromCallExpression(this.startNodeAt(e,s),f),this.state.yieldOrAwaitInPossibleArrowParameters=l):(this.toReferencedListDeep(f.arguments),this.state.yieldOrAwaitInPossibleArrowParameters=this.state.yieldOrAwaitInPossibleArrowParameters||l),this.state.maybeInArrowParameters=c,f}return this.match(h.backQuote)?this.parseTaggedTemplateExpression(e,s,t,r):(r.stop=!0,t)},s.parseTaggedTemplateExpression=function(t,e,s,i,r){var a=this.startNodeAt(t,e);return a.tag=s,a.quasi=this.parseTemplate(!0),r&&(a.typeParameters=r),i.optionalChainMember&&this.raise(t,"Tagged Template Literals are not allowed in optionalChain"),this.finishNode(a,"TaggedTemplateExpression")},s.atPossibleAsync=function(t){return!this.state.containsEsc&&this.state.potentialArrowAt===t.start&&"Identifier"===t.type&&"async"===t.name&&!this.canInsertSemicolon()},s.finishCallExpression=function(t){if("Import"===t.callee.type){1!==t.arguments.length&&this.raise(t.start,"import() requires exactly one argument");var e=t.arguments[0];e&&"SpreadElement"===e.type&&this.raise(e.start,"... is not allowed in import()")}return this.finishNode(t,"CallExpression")},s.finishOptionalCallExpression=function(t){if("Import"===t.callee.type){1!==t.arguments.length&&this.raise(t.start,"import() requires exactly one argument");var e=t.arguments[0];e&&"SpreadElement"===e.type&&this.raise(e.start,"... is not allowed in import()")}return this.finishNode(t,"OptionalCallExpression")},s.parseCallExpressionArguments=function(t,e,s){for(var i,r=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(h.comma),this.eat(t))break;this.match(h.parenL)&&!i&&(i=this.state.start),r.push(this.parseExprListItem(!1,e?{start:0}:void 0,e?{start:0}:void 0,e?s:void 0))}return e&&i&&this.shouldParseAsyncArrow()&&this.unexpected(),r},s.shouldParseAsyncArrow=function(){return this.match(h.arrow)},s.parseAsyncArrowFromCallExpression=function(t,e){return this.expect(h.arrow),this.parseArrowExpression(t,e.arguments,!0),t},s.parseNoCallExpr=function(){var t=this.state.start,e=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),t,e,!0)},s.parseExprAtom=function(t){this.state.type===h.slash&&this.readRegexp();var e,s=this.state.potentialArrowAt===this.state.start;switch(this.state.type){case h._super:return this.state.inMethod||this.state.inClassProperty||this.options.allowSuperOutsideMethod||this.raise(this.state.start,"super is only allowed in object methods and classes"),e=this.startNode(),this.next(),this.match(h.parenL)||this.match(h.bracketL)||this.match(h.dot)||this.unexpected(),this.match(h.parenL)&&"constructor"!==this.state.inMethod&&!this.options.allowSuperOutsideMethod&&this.raise(e.start,"super() is only valid inside a class constructor. Make sure the method name is spelled exactly as 'constructor'."),this.finishNode(e,"Super");case h._import:return this.lookahead().type===h.dot?this.parseImportMetaProperty():(this.expectPlugin("dynamicImport"),e=this.startNode(),this.next(),this.match(h.parenL)||this.unexpected(null,h.parenL),this.finishNode(e,"Import"));case h._this:return e=this.startNode(),this.next(),this.finishNode(e,"ThisExpression");case h._yield:this.state.inGenerator&&this.unexpected();case h.name:e=this.startNode();var i="await"===this.state.value&&(this.state.inAsync||!this.state.inFunction&&this.options.allowAwaitOutsideFunction),r=this.state.containsEsc,a=this.shouldAllowYieldIdentifier(),n=this.parseIdentifier(i||a);if("await"===n.name){if(this.state.inAsync||this.inModule||!this.state.inFunction&&this.options.allowAwaitOutsideFunction)return this.parseAwait(e)}else{if(!r&&"async"===n.name&&this.match(h._function)&&!this.canInsertSemicolon())return this.next(),this.parseFunction(e,!1,!1,!0);if(s&&!this.canInsertSemicolon()&&"async"===n.name&&this.match(h.name)){var o=this.state.yieldOrAwaitInPossibleArrowParameters,p=this.state.inAsync;this.state.yieldOrAwaitInPossibleArrowParameters=null,this.state.inAsync=!0;var u=[this.parseIdentifier()];return this.expect(h.arrow),this.parseArrowExpression(e,u,!0),this.state.yieldOrAwaitInPossibleArrowParameters=o,this.state.inAsync=p,e}}if(s&&!this.canInsertSemicolon()&&this.eat(h.arrow)){var c=this.state.yieldOrAwaitInPossibleArrowParameters;return this.state.yieldOrAwaitInPossibleArrowParameters=null,this.parseArrowExpression(e,[n]),this.state.yieldOrAwaitInPossibleArrowParameters=c,e}return n;case h._do:this.expectPlugin("doExpressions");var l=this.startNode();this.next();var d=this.state.inFunction,f=this.state.labels;return this.state.labels=[],this.state.inFunction=!1,l.body=this.parseBlock(!1),this.state.inFunction=d,this.state.labels=f,this.finishNode(l,"DoExpression");case h.regexp:var m=this.state.value;return(e=this.parseLiteral(m.value,"RegExpLiteral")).pattern=m.pattern,e.flags=m.flags,e;case h.num:return this.parseLiteral(this.state.value,"NumericLiteral");case h.bigint:return this.parseLiteral(this.state.value,"BigIntLiteral");case h.string:return this.parseLiteral(this.state.value,"StringLiteral");case h._null:return e=this.startNode(),this.next(),this.finishNode(e,"NullLiteral");case h._true:case h._false:return this.parseBooleanLiteral();case h.parenL:return this.parseParenAndDistinguishExpression(s);case h.bracketL:return e=this.startNode(),this.next(),e.elements=this.parseExprList(h.bracketR,!0,t),this.state.maybeInArrowParameters||this.toReferencedList(e.elements),this.finishNode(e,"ArrayExpression");case h.braceL:return this.parseObj(!1,t);case h._function:return this.parseFunctionExpression();case h.at:this.parseDecorators();case h._class:return e=this.startNode(),this.takeDecorators(e),this.parseClass(e,!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate(!1);case h.doubleColon:e=this.startNode(),this.next(),e.object=null;var y=e.callee=this.parseNoCallExpr();if("MemberExpression"===y.type)return this.finishNode(e,"BindExpression");throw this.raise(y.start,"Binding should be performed on object property.");case h.hash:if(this.state.inPipeline){if(e=this.startNode(),"smart"!==this.getPluginOption("pipelineOperator","proposal")&&this.raise(e.start,"Primary Topic Reference found but pipelineOperator not passed 'smart' for 'proposal' option."),this.next(),this.primaryTopicReferenceIsAllowedInCurrentTopicContext())return this.registerTopicReference(),this.finishNode(e,"PipelinePrimaryTopicReference");throw this.raise(e.start,"Topic reference was used in a lexical context without topic binding")}default:throw this.unexpected();}},s.parseBooleanLiteral=function(){var t=this.startNode();return t.value=this.match(h._true),this.next(),this.finishNode(t,"BooleanLiteral")},s.parseMaybePrivateName=function(){if(this.match(h.hash)){this.expectOnePlugin(["classPrivateProperties","classPrivateMethods"]);var t=this.startNode(),e=this.state.end;this.next();var s=this.state.start;return 0!=s-e&&this.raise(s,"Unexpected space between # and identifier"),t.id=this.parseIdentifier(!0),this.finishNode(t,"PrivateName")}return this.parseIdentifier(!0)},s.parseFunctionExpression=function(){var t=this.startNode(),e=this.startNode();return this.next(),e=this.createIdentifier(e,"function"),this.state.inGenerator&&this.eat(h.dot)?this.parseMetaProperty(t,e,"sent"):this.parseFunction(t,!1)},s.parseMetaProperty=function(t,e,s){t.meta=e,"function"===e.name&&"sent"===s&&(this.isContextual(s)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected());var i=this.state.containsEsc;return t.property=this.parseIdentifier(!0),(t.property.name!==s||i)&&this.raise(t.property.start,"The only valid meta property for "+e.name+" is "+e.name+"."+s),this.finishNode(t,"MetaProperty")},s.parseImportMetaProperty=function(){var t=this.startNode(),e=this.parseIdentifier(!0);return this.expect(h.dot),"import"===e.name&&(this.isContextual("meta")?this.expectPlugin("importMeta"):this.hasPlugin("importMeta")||this.raise(e.start,"Dynamic imports require a parameter: import('a.js')")),this.inModule||this.raise(e.start,"import.meta may appear only with 'sourceType: \"module\"'",{code:"BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"}),this.sawUnambiguousESM=!0,this.parseMetaProperty(t,e,"meta")},s.parseLiteral=function(t,e,s,i){s=s||this.state.start,i=i||this.state.startLoc;var r=this.startNodeAt(s,i);return this.addExtra(r,"rawValue",t),this.addExtra(r,"raw",this.input.slice(s,this.state.end)),r.value=t,this.next(),this.finishNode(r,e)},s.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t},s.parseParenAndDistinguishExpression=function(t){var e,s=this.state.start,i=this.state.startLoc;this.expect(h.parenL);var r=this.state.maybeInArrowParameters,a=this.state.yieldOrAwaitInPossibleArrowParameters;this.state.maybeInArrowParameters=!0,this.state.yieldOrAwaitInPossibleArrowParameters=null;for(var n,o,p=this.state.start,u=this.state.startLoc,c=[],l={start:0},d={start:0},f=!0;!this.match(h.parenR);){if(f)f=!1;else if(this.expect(h.comma,d.start||null),this.match(h.parenR)){o=this.state.start;break}if(this.match(h.ellipsis)){var m=this.state.start,y=this.state.startLoc;if(n=this.state.start,c.push(this.parseParenItem(this.parseRest(),m,y)),this.match(h.comma)){var D=this.lookahead().type===h.parenR?"A trailing comma is not permitted after the rest element":"Rest parameter must be last formal parameter";this.raise(this.state.start,D)}break}c.push(this.parseMaybeAssign(!1,l,this.parseParenItem,d))}var x=this.state.start,v=this.state.startLoc;this.expect(h.parenR),this.state.maybeInArrowParameters=r;var P=this.startNodeAt(s,i);if(t&&this.shouldParseArrow()&&(P=this.parseArrow(P))){for(var g=0,b;g<c.length;g++){b=c[g];b.extra&&b.extra.parenthesized&&this.unexpected(b.extra.parenStart)}return this.parseArrowExpression(P,c),this.state.yieldOrAwaitInPossibleArrowParameters=a,P}return this.state.yieldOrAwaitInPossibleArrowParameters=this.state.yieldOrAwaitInPossibleArrowParameters||a,c.length||this.unexpected(this.state.lastTokStart),o&&this.unexpected(o),n&&this.unexpected(n),l.start&&this.unexpected(l.start),d.start&&this.unexpected(d.start),this.toReferencedListDeep(c,!0),1<c.length?((e=this.startNodeAt(p,u)).expressions=c,this.finishNodeAt(e,"SequenceExpression",x,v)):e=c[0],this.addExtra(e,"parenthesized",!0),this.addExtra(e,"parenStart",s),e},s.shouldParseArrow=function(){return!this.canInsertSemicolon()},s.parseArrow=function(t){if(this.eat(h.arrow))return t},s.parseParenItem=function(t,e,s){return t},s.parseNew=function(){var t=this.startNode(),e=this.parseIdentifier(!0);if(this.eat(h.dot)){var s=this.parseMetaProperty(t,e,"target");if(!this.state.inFunction&&!this.state.inClassProperty){var i="new.target can only be used in functions";this.hasPlugin("classProperties")&&(i+=" or class properties"),this.raise(s.start,i)}return s}return t.callee=this.parseNoCallExpr(),"OptionalMemberExpression"!==t.callee.type&&"OptionalCallExpression"!==t.callee.type||this.raise(this.state.lastTokEnd,"constructors in/after an Optional Chain are not allowed"),this.eat(h.questionDot)&&this.raise(this.state.start,"constructors in/after an Optional Chain are not allowed"),this.parseNewArguments(t),this.finishNode(t,"NewExpression")},s.parseNewArguments=function(t){if(this.eat(h.parenL)){var e=this.parseExprList(h.parenR);this.toReferencedList(e),t.arguments=e}else t.arguments=[]},s.parseTemplateElement=function(t){var e=this.startNode();return null===this.state.value&&(t?this.state.invalidTemplateEscapePosition=null:this.raise(this.state.invalidTemplateEscapePosition||0,"Invalid escape sequence in template")),e.value={raw:this.input.slice(this.state.start,this.state.end).replace(/\r\n?/g,"\n"),cooked:this.state.value},this.next(),e.tail=this.match(h.backQuote),this.finishNode(e,"TemplateElement")},s.parseTemplate=function(t){var e=this.startNode();this.next(),e.expressions=[];var s=this.parseTemplateElement(t);for(e.quasis=[s];!s.tail;)this.expect(h.dollarBraceL),e.expressions.push(this.parseExpression()),this.expect(h.braceR),e.quasis.push(s=this.parseTemplateElement(t));return this.next(),this.finishNode(e,"TemplateLiteral")},s.parseObj=function(t,e){var s=[],i=Object.create(null),r=!0,a=this.startNode();a.properties=[],this.next();for(var n=null;!this.eat(h.braceR);){if(r)r=!1;else if(this.expect(h.comma),this.eat(h.braceR))break;if(this.match(h.at))if(this.hasPlugin("decorators"))this.raise(this.state.start,"Stage 2 decorators disallow object literal property decorators");else for(;this.match(h.at);)s.push(this.parseDecorator());var o=this.startNode(),p=!1,u=!1,c=void 0,l=void 0;if(s.length&&(o.decorators=s,s=[]),this.match(h.ellipsis)){if(o=this.parseSpread(t?{start:0}:void 0),t&&this.toAssignable(o,!0,"object pattern"),a.properties.push(o),!t)continue;var d=this.state.start;if(null!==n)this.unexpected(n,"Cannot have multiple rest elements when destructuring");else{if(this.eat(h.braceR))break;if(!this.match(h.comma)||this.lookahead().type!==h.braceR){n=d;continue}this.unexpected(d,"A trailing comma is not permitted after the rest element")}}o.method=!1,(t||e)&&(c=this.state.start,l=this.state.startLoc),t||(p=this.eat(h.star));var f=this.state.containsEsc;if(!t&&this.isContextual("async")){p&&this.unexpected();var m=this.parseIdentifier();this.match(h.colon)||this.match(h.parenL)||this.match(h.braceR)||this.match(h.eq)||this.match(h.comma)?(o.key=m,o.computed=!1):(u=!0,p=this.eat(h.star),this.parsePropertyName(o))}else this.parsePropertyName(o);this.parseObjPropValue(o,c,l,p,u,t,e,f),this.checkPropClash(o,i),o.shorthand&&this.addExtra(o,"shorthand",!0),a.properties.push(o)}return null!==n&&this.unexpected(n,"The rest element has to be the last element when destructuring"),s.length&&this.raise(this.state.start,"You have trailing decorators with no property"),this.finishNode(a,t?"ObjectPattern":"ObjectExpression")},s.isGetterOrSetterMethod=function(t,e){return!e&&!t.computed&&"Identifier"===t.key.type&&("get"===t.key.name||"set"===t.key.name)&&(this.match(h.string)||this.match(h.num)||this.match(h.bracketL)||this.match(h.name)||!!this.state.type.keyword)},s.checkGetterSetterParams=function(t){var e="get"===t.kind?0:1,s=t.start;t.params.length!==e&&("get"===t.kind?this.raise(s,"getter must not have any formal parameters"):this.raise(s,"setter must have exactly one formal parameter")),"set"===t.kind&&"RestElement"===t.params[0].type&&this.raise(s,"setter function argument must not be a rest parameter")},s.parseObjectMethod=function(t,e,s,i,r){return s||e||this.match(h.parenL)?(i&&this.unexpected(),t.kind="method",t.method=!0,this.parseMethod(t,e,s,!1,"ObjectMethod")):!r&&this.isGetterOrSetterMethod(t,i)?((e||s)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),this.parseMethod(t,!1,!1,!1,"ObjectMethod"),this.checkGetterSetterParams(t),t):void 0},s.parseObjectProperty=function(t,e,s,i,r){return t.shorthand=!1,this.eat(h.colon)?(t.value=i?this.parseMaybeDefault(this.state.start,this.state.startLoc):this.parseMaybeAssign(!1,r),this.finishNode(t,"ObjectProperty")):t.computed||"Identifier"!==t.key.type?void 0:(this.checkReservedWord(t.key.name,t.key.start,!0,!0),i?t.value=this.parseMaybeDefault(e,s,t.key.__clone()):this.match(h.eq)&&r?(r.start||(r.start=this.state.start),t.value=this.parseMaybeDefault(e,s,t.key.__clone())):t.value=t.key.__clone(),t.shorthand=!0,this.finishNode(t,"ObjectProperty"))},s.parseObjPropValue=function(t,e,s,i,r,a,n,o){var h=this.parseObjectMethod(t,i,r,a,o)||this.parseObjectProperty(t,e,s,a,n);return h||this.unexpected(),h},s.parsePropertyName=function(t){if(this.eat(h.bracketL))t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR);else{var e=this.state.inPropertyName;this.state.inPropertyName=!0,t.key=this.match(h.num)||this.match(h.string)?this.parseExprAtom():this.parseMaybePrivateName(),"PrivateName"!==t.key.type&&(t.computed=!1),this.state.inPropertyName=e}return t.key},s.initFunction=function(t,e){t.id=null,t.generator=!1,t.async=!!e},s.parseMethod=function(t,e,s,i,r){var a=this.state.inFunction,n=this.state.inMethod,o=this.state.inAsync,h=this.state.inGenerator;this.state.inFunction=!0,this.state.inMethod=t.kind||!0,this.state.inAsync=s,this.state.inGenerator=e,this.initFunction(t,s),t.generator=!!e;var p=i;return this.parseFunctionParams(t,p),this.parseFunctionBodyAndFinish(t,r),this.state.inFunction=a,this.state.inMethod=n,this.state.inAsync=o,this.state.inGenerator=h,t},s.parseArrowExpression=function(t,e,s){var i=this.state.yieldOrAwaitInPossibleArrowParameters;i&&("YieldExpression"===i.type?this.raise(i.start,"yield is not allowed in the parameters of an arrow function inside a generator"):this.raise(i.start,"await is not allowed in the parameters of an arrow function inside an async function"));var r=this.state.inFunction;this.state.inFunction=!0,this.initFunction(t,s),e&&this.setArrowFunctionParameters(t,e);var a=this.state.inAsync,n=this.state.inGenerator,o=this.state.maybeInArrowParameters;return this.state.inAsync=s,this.state.inGenerator=!1,this.state.maybeInArrowParameters=!1,this.parseFunctionBody(t,!0),this.state.inAsync=a,this.state.inGenerator=n,this.state.inFunction=r,this.state.maybeInArrowParameters=o,this.finishNode(t,"ArrowFunctionExpression")},s.setArrowFunctionParameters=function(t,e){t.params=this.toAssignableList(e,!0,"arrow function parameters")},s.isStrictBody=function(t){if("BlockStatement"===t.body.type&&t.body.directives.length)for(var e=0,s=t.body.directives;e<s.length;e++){if("use strict"===s[e].value.value)return!0}return!1},s.parseFunctionBodyAndFinish=function(t,e,s){this.parseFunctionBody(t,s),this.finishNode(t,e)},s.parseFunctionBody=function(t,e){var s=e&&!this.match(h.braceL),i=this.state.inParameters;if(this.state.inParameters=!1,s)t.body=this.parseMaybeAssign();else{var r=this.state.inGenerator,a=this.state.inFunction,n=this.state.labels;this.state.inGenerator=t.generator,this.state.inFunction=!0,this.state.labels=[],t.body=this.parseBlock(!0),this.state.inFunction=a,this.state.inGenerator=r,this.state.labels=n}this.checkFunctionNameAndParams(t,e),this.state.inParameters=i},s.checkFunctionNameAndParams=function(t,e){var s=this.isStrictBody(t),i=this.state.strict||s||e,r=this.state.strict;if(s&&(this.state.strict=s),i){var a=Object.create(null);t.id&&this.checkLVal(t.id,!0,void 0,"function name");for(var n=0,o=t.params,h;n<o.length;n++){h=o[n];s&&"Identifier"!==h.type&&this.raise(h.start,"Non-simple parameter in strict mode"),this.checkLVal(h,!0,a,"function parameter list")}}this.state.strict=r},s.parseExprList=function(t,e,s){for(var i=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(h.comma),this.eat(t))break;i.push(this.parseExprListItem(e,s))}return i},s.parseExprListItem=function(t,e,s,i){var r;if(t&&this.match(h.comma))r=null;else if(this.match(h.ellipsis)){var a=this.state.start,n=this.state.startLoc;r=this.parseParenItem(this.parseSpread(e,s),a,n),i&&this.match(h.comma)&&(i.start=this.state.start)}else r=this.parseMaybeAssign(!1,e,this.parseParenItem,s);return r},s.parseIdentifier=function(t){var e=this.startNode(),s=this.parseIdentifierName(e.start,t);return this.createIdentifier(e,s)},s.createIdentifier=function(t,e){return t.name=e,t.loc.identifierName=e,this.finishNode(t,"Identifier")},s.parseIdentifierName=function(t,e){var s;if(e||this.checkReservedWord(this.state.value,this.state.start,!!this.state.type.keyword,!1),this.match(h.name))s=this.state.value;else{if(!this.state.type.keyword)throw this.unexpected();"class"!==(s=this.state.type.keyword)&&"function"!==s||this.state.lastTokEnd===this.state.lastTokStart+1&&46===this.input.charCodeAt(this.state.lastTokStart)||this.state.context.pop()}return!e&&"await"===s&&this.state.inAsync&&this.raise(t,"invalid use of await inside of an async function"),this.next(),s},s.checkReservedWord=function(t,e,s,i){this.state.strict&&(v.strict(t)||i&&v.strictBind(t))&&this.raise(e,t+" is a reserved word in strict mode"),this.state.inGenerator&&"yield"===t&&this.raise(e,"yield is a reserved word inside generator functions"),this.state.inClassProperty&&"arguments"===t&&this.raise(e,"'arguments' is not allowed in class field initializer"),(this.isReservedWord(t)||s&&this.isKeyword(t))&&this.raise(e,t+" is a reserved word")},s.parseAwait=function(t){return this.state.inAsync||!this.state.inFunction&&this.options.allowAwaitOutsideFunction||this.unexpected(),this.state.inParameters&&this.raise(t.start,"await is not allowed in async function parameters"),this.match(h.star)&&this.raise(t.start,"await* has been removed from the async functions proposal. Use Promise.all() instead."),this.state.maybeInArrowParameters&&!this.state.yieldOrAwaitInPossibleArrowParameters&&(this.state.yieldOrAwaitInPossibleArrowParameters=t),t.argument=this.parseMaybeUnary(),this.finishNode(t,"AwaitExpression")},s.parseYield=function(){var t=this.startNode();return this.state.inParameters&&this.raise(t.start,"yield is not allowed in generator parameters"),this.state.maybeInArrowParameters&&!this.state.yieldOrAwaitInPossibleArrowParameters&&(this.state.yieldOrAwaitInPossibleArrowParameters=t),this.next(),this.match(h.semi)||this.canInsertSemicolon()||!this.match(h.star)&&!this.state.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(h.star),t.argument=this.parseMaybeAssign()),this.finishNode(t,"YieldExpression")},s.checkPipelineAtInfixOperator=function(t,e){if("smart"===this.getPluginOption("pipelineOperator","proposal")&&"SequenceExpression"===t.type)throw this.raise(e,"Pipeline head should not be a comma-separated sequence expression")},s.parseSmartPipelineBody=function(t,e,s){var i=this.checkSmartPipelineBodyStyle(t);return this.checkSmartPipelineBodyEarlyErrors(t,i,e),this.parseSmartPipelineBodyInStyle(t,i,e,s)},s.checkSmartPipelineBodyEarlyErrors=function(t,e,s){if(this.match(h.arrow))throw this.raise(this.state.start,"Unexpected arrow \"=>\" after pipeline body; arrow function in pipeline body must be parenthesized");if("PipelineTopicExpression"===e&&"SequenceExpression"===t.type)throw this.raise(s,"Pipeline body may not be a comma-separated sequence expression")},s.parseSmartPipelineBodyInStyle=function(t,e,s,i){var r=this.startNodeAt(s,i);switch(e){case"PipelineBareFunction":r.callee=t;break;case"PipelineBareConstructor":r.callee=t.callee;break;case"PipelineBareAwaitedFunction":r.callee=t.argument;break;case"PipelineTopicExpression":if(!this.topicReferenceWasUsedInCurrentTopicContext())throw this.raise(s,"Pipeline is in topic style but does not use topic reference");r.expression=t;break;default:throw this.raise(s,"Unknown pipeline style "+e);}return this.finishNode(r,e)},s.checkSmartPipelineBodyStyle=function(t){return t.type,this.isSimpleReference(t)?"PipelineBareFunction":"PipelineTopicExpression"},s.isSimpleReference=function(t){switch(t.type){case"MemberExpression":return!t.computed&&this.isSimpleReference(t.object);case"Identifier":return!0;default:return!1;}},s.withTopicPermittingContext=function(t){var e=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return t()}finally{this.state.topicContext=e}},s.withTopicForbiddingContext=function(t){var e=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return t()}finally{this.state.topicContext=e}},s.registerTopicReference=function(){this.state.topicContext.maxTopicIndex=0},s.primaryTopicReferenceIsAllowedInCurrentTopicContext=function(){return 1<=this.state.topicContext.maxNumOfResolvableTopics},s.topicReferenceWasUsedInCurrentTopicContext=function(){return null!=this.state.topicContext.maxTopicIndex&&0<=this.state.topicContext.maxTopicIndex},e}(function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s.toAssignable=function(t,e,s){if(t)switch(t.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":break;case"ObjectExpression":t.type="ObjectPattern";for(var i=0;i<t.properties.length;i++){var r=t.properties[i],a=i===t.properties.length-1;this.toAssignableObjectExpressionProp(r,e,a)}break;case"ObjectProperty":this.toAssignable(t.value,e,s);break;case"SpreadElement":this.checkToRestConversion(t),t.type="RestElement";var n=t.argument;this.toAssignable(n,e,s);break;case"ArrayExpression":t.type="ArrayPattern",this.toAssignableList(t.elements,e,s);break;case"AssignmentExpression":"="===t.operator?(t.type="AssignmentPattern",delete t.operator):this.raise(t.left.end,"Only '=' operator can be used for specifying default value.");break;case"MemberExpression":if(!e)break;default:var o="Invalid left-hand side"+(s?" in "+s:"expression");this.raise(t.start,o);}return t},s.toAssignableObjectExpressionProp=function(t,e,s){if("ObjectMethod"===t.type){var i="get"===t.kind||"set"===t.kind?"Object pattern can't contain getter or setter":"Object pattern can't contain methods";this.raise(t.key.start,i)}else"SpreadElement"!==t.type||s?this.toAssignable(t,e,"object destructuring pattern"):this.raise(t.start,"The rest element has to be the last element when destructuring")},s.toAssignableList=function(t,e,s){var i=t.length;if(i){var r=t[i-1];if(r&&"RestElement"===r.type)--i;else if(r&&"SpreadElement"===r.type){r.type="RestElement";var a=r.argument;this.toAssignable(a,e,s),-1===["Identifier","MemberExpression","ArrayPattern","ObjectPattern"].indexOf(a.type)&&this.unexpected(a.start),--i}}for(var n=0,o;n<i;n++){o=t[n];o&&"SpreadElement"===o.type&&this.raise(o.start,"The rest element has to be the last element when destructuring"),o&&this.toAssignable(o,e,s)}return t},s.toReferencedList=function(t,e){return t},s.toReferencedListDeep=function(t,e){this.toReferencedList(t,e);for(var s=0,i;s<t.length;s++){i=t[s];i&&"ArrayExpression"===i.type&&this.toReferencedListDeep(i.elements)}return t},s.parseSpread=function(t,e){var s=this.startNode();return this.next(),s.argument=this.parseMaybeAssign(!1,t,void 0,e),this.finishNode(s,"SpreadElement")},s.parseRest=function(){var t=this.startNode();return this.next(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},s.shouldAllowYieldIdentifier=function(){return this.match(h._yield)&&!this.state.strict&&!this.state.inGenerator},s.parseBindingIdentifier=function(){return this.parseIdentifier(this.shouldAllowYieldIdentifier())},s.parseBindingAtom=function(){switch(this.state.type){case h._yield:case h.name:return this.parseBindingIdentifier();case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0);default:throw this.unexpected();}},s.parseBindingList=function(t,e,s){for(var i=[],r=!0;!this.eat(t);)if(r?r=!1:this.expect(h.comma),e&&this.match(h.comma))i.push(null);else{if(this.eat(t))break;if(this.match(h.ellipsis)){if(i.push(this.parseAssignableListItemTypes(this.parseRest())),this.state.inFunction&&this.state.inParameters&&this.match(h.comma)){var a=this.lookahead().type===h.parenR?"A trailing comma is not permitted after the rest element":"Rest parameter must be last formal parameter";this.raise(this.state.start,a)}else this.expect(t);break}var n=[];for(this.match(h.at)&&this.hasPlugin("decorators")&&this.raise(this.state.start,"Stage 2 decorators cannot be used to decorate parameters");this.match(h.at);)n.push(this.parseDecorator());i.push(this.parseAssignableListItem(s,n))}return i},s.parseAssignableListItem=function(t,e){var s=this.parseMaybeDefault();this.parseAssignableListItemTypes(s);var i=this.parseMaybeDefault(s.start,s.loc.start,s);return e.length&&(s.decorators=e),i},s.parseAssignableListItemTypes=function(t){return t},s.parseMaybeDefault=function(t,e,s){if(e=e||this.state.startLoc,t=t||this.state.start,s=s||this.parseBindingAtom(),!this.eat(h.eq))return s;var i=this.startNodeAt(t,e);return i.left=s,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},s.checkLVal=function(t,e,s,i){switch(t.type){case"Identifier":if(this.checkReservedWord(t.name,t.start,!1,!0),s){var r="_"+t.name;s[r]?this.raise(t.start,"Argument name clash in strict mode"):s[r]=!0}break;case"MemberExpression":e&&this.raise(t.start,"Binding member expression");break;case"ObjectPattern":for(var a=0,n=t.properties,o;a<n.length;a++){o=n[a];"ObjectProperty"===o.type&&(o=o.value),this.checkLVal(o,e,s,"object destructuring pattern")}break;case"ArrayPattern":for(var h=0,p=t.elements,u;h<p.length;h++){u=p[h];u&&this.checkLVal(u,e,s,"array destructuring pattern")}break;case"AssignmentPattern":this.checkLVal(t.left,e,s,"assignment pattern");break;case"RestElement":this.checkLVal(t.argument,e,s,"rest element");break;default:var c=(e?"Binding invalid":"Invalid")+" left-hand side"+(i?" in "+i:"expression");this.raise(t.start,c);}},s.checkToRestConversion=function(t){-1===["Identifier","MemberExpression"].indexOf(t.argument.type)&&this.raise(t.argument.start,"Invalid rest operator's argument")},e}(function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s.startNode=function(){return new Y(this,this.state.start,this.state.startLoc)},s.startNodeAt=function(t,e){return new Y(this,t,e)},s.startNodeAtNode=function(t){return this.startNodeAt(t.start,t.loc.start)},s.finishNode=function(t,e){return this.finishNodeAt(t,e,this.state.lastTokEnd,this.state.lastTokEndLoc)},s.finishNodeAt=function(t,e,s,i){return t.type=e,t.end=s,t.loc.end=i,this.options.ranges&&(t.range[1]=s),this.processComment(t),t},s.resetStartLocationFromNode=function(t,e){t.start=e.start,t.loc.start=e.loc.start,this.options.ranges&&(t.range[0]=e.range[0])},e}(z)))));function st(t){if(null==t)throw new Error("Unexpected "+t+" value.");return t}function it(t){if(!t)throw new Error("Assert fail")}function rt(t,e){return t.some(function(t){return Array.isArray(t)?t[0]===e:t===e})}function at(t,e,s){var i=t.find(function(t){return Array.isArray(t)?t[0]===e:t===e});return i&&Array.isArray(i)?i[1][s]:null}var nt=["minimal","smart"],ot=["estree","jsx","flow","typescript"],ht={estree:function(t){return function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s.estreeParseRegExpLiteral=function(t){var e=t.pattern,s=t.flags,i=null;try{i=new RegExp(e,s)}catch(t){}var r=this.estreeParseLiteral(i);return r.regex={pattern:e,flags:s},r},s.estreeParseLiteral=function(t){return this.parseLiteral(t,"Literal")},s.directiveToStmt=function(t){var e=t.value,s=this.startNodeAt(t.start,t.loc.start),i=this.startNodeAt(e.start,e.loc.start);return i.value=e.value,i.raw=e.extra.raw,s.expression=this.finishNodeAt(i,"Literal",e.end,e.loc.end),s.directive=e.extra.raw.slice(1,-1),this.finishNodeAt(s,"ExpressionStatement",t.end,t.loc.end)},s.initFunction=function(e,s){t.prototype.initFunction.call(this,e,s),e.expression=!1},s.checkDeclaration=function(e){u(e)?this.checkDeclaration(e.value):t.prototype.checkDeclaration.call(this,e)},s.checkGetterSetterParams=function(t){var e=t,s="get"===e.kind?0:1,i=e.start;e.value.params.length!==s&&("get"===e.kind?this.raise(i,"getter must not have any formal parameters"):this.raise(i,"setter must have exactly one formal parameter")),"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raise(i,"setter function argument must not be a rest parameter")},s.checkLVal=function(e,s,i,r){var a=this;switch(e.type){case"ObjectPattern":e.properties.forEach(function(t){a.checkLVal("Property"===t.type?t.value:t,s,i,"object destructuring pattern")});break;default:t.prototype.checkLVal.call(this,e,s,i,r);}},s.checkPropClash=function(t,e){if(!t.computed&&u(t)){var s=t.key;"__proto__"===("Identifier"===s.type?s.name:s.value+"")&&(e.proto&&this.raise(s.start,"Redefinition of __proto__ property"),e.proto=!0)}},s.isStrictBody=function(t){if("BlockStatement"===t.body.type&&0<t.body.body.length)for(var e=0,s=t.body.body,i;e<s.length;e++){i=s[e];if("ExpressionStatement"!==i.type||"Literal"!==i.expression.type)break;if("use strict"===i.expression.value)return!0}return!1},s.isValidDirective=function(t){return!("ExpressionStatement"!==t.type||"Literal"!==t.expression.type||"string"!=typeof t.expression.value||t.expression.extra&&t.expression.extra.parenthesized)},s.stmtToDirective=function(e){var s=t.prototype.stmtToDirective.call(this,e),i=e.expression.value;return s.value.value=i,s},s.parseBlockBody=function(e,s,i,r){var a=this;t.prototype.parseBlockBody.call(this,e,s,i,r);var n=e.directives.map(function(t){return a.directiveToStmt(t)});e.body=n.concat(e.body),delete e.directives},s.pushClassMethod=function(t,e,s,i,r){this.parseMethod(e,s,i,r,"MethodDefinition"),e.typeParameters&&(e.value.typeParameters=e.typeParameters,delete e.typeParameters),t.body.push(e)},s.parseExprAtom=function(e){switch(this.state.type){case h.regexp:return this.estreeParseRegExpLiteral(this.state.value);case h.num:case h.string:return this.estreeParseLiteral(this.state.value);case h._null:return this.estreeParseLiteral(null);case h._true:return this.estreeParseLiteral(!0);case h._false:return this.estreeParseLiteral(!1);default:return t.prototype.parseExprAtom.call(this,e);}},s.parseLiteral=function(e,s,i,r){var a=t.prototype.parseLiteral.call(this,e,s,i,r);return a.raw=a.extra.raw,delete a.extra,a},s.parseFunctionBody=function(e,s){t.prototype.parseFunctionBody.call(this,e,s),e.expression="BlockStatement"!==e.body.type},s.parseMethod=function(e,s,i,r,a){var n=this.startNode();return n.kind=e.kind,delete(n=t.prototype.parseMethod.call(this,n,s,i,r,"FunctionExpression")).kind,e.value=n,this.finishNode(e,a)},s.parseObjectMethod=function(e,s,i,r,a){var n=t.prototype.parseObjectMethod.call(this,e,s,i,r,a);return n&&(n.type="Property","method"===n.kind&&(n.kind="init"),n.shorthand=!1),n},s.parseObjectProperty=function(e,s,i,r,a){var n=t.prototype.parseObjectProperty.call(this,e,s,i,r,a);return n&&(n.kind="init",n.type="Property"),n},s.toAssignable=function(e,s,i){return u(e)?(this.toAssignable(e.value,s,i),e):t.prototype.toAssignable.call(this,e,s,i)},s.toAssignableObjectExpressionProp=function(e,s,i){"get"===e.kind||"set"===e.kind?this.raise(e.key.start,"Object pattern can't contain getter or setter"):e.method?this.raise(e.key.start,"Object pattern can't contain methods"):t.prototype.toAssignableObjectExpressionProp.call(this,e,s,i)},e}(t)},jsx:function(t){return function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s.jsxReadToken=function(){for(var t="",e=this.state.pos;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated JSX contents");var s=this.input.charCodeAt(this.state.pos);switch(s){case 60:case 123:return this.state.pos===this.state.start?60===s&&this.state.exprAllowed?(++this.state.pos,this.finishToken(h.jsxTagStart)):this.getTokenFromCode(s):(t+=this.input.slice(e,this.state.pos),this.finishToken(h.jsxText,t));case 38:t+=this.input.slice(e,this.state.pos),t+=this.jsxReadEntity(),e=this.state.pos;break;default:d(s)?(t+=this.input.slice(e,this.state.pos),t+=this.jsxReadNewLine(!0),e=this.state.pos):++this.state.pos;}}},s.jsxReadNewLine=function(t){var e,s=this.input.charCodeAt(this.state.pos);return++this.state.pos,13===s&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,e=t?"\n":"\r\n"):e=_StringfromCharCode(s),++this.state.curLine,this.state.lineStart=this.state.pos,e},s.jsxReadString=function(t){for(var e="",s=++this.state.pos;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated string constant");var i=this.input.charCodeAt(this.state.pos);if(i===t)break;38===i?(e+=this.input.slice(s,this.state.pos),e+=this.jsxReadEntity(),s=this.state.pos):d(i)?(e+=this.input.slice(s,this.state.pos),e+=this.jsxReadNewLine(!1),s=this.state.pos):++this.state.pos}return e+=this.input.slice(s,this.state.pos++),this.finishToken(h.string,e)},s.jsxReadEntity=function(){for(var t,e="",s=0,i=this.input[this.state.pos],r=++this.state.pos;this.state.pos<this.input.length&&10>s++;){if(";"===(i=this.input[this.state.pos++])){"#"===e[0]?"x"===e[1]?(e=e.substr(2),R.test(e)&&(t=_StringfromCodePoint(parseInt(e,16)))):(e=e.substr(1),_.test(e)&&(t=_StringfromCodePoint(parseInt(e,10)))):t=M[e];break}e+=i}return t||(this.state.pos=r,"&")},s.jsxReadWord=function(){var t,e=this.state.pos;do{t=this.input.charCodeAt(++this.state.pos)}while(F(t)||45===t);return this.finishToken(h.jsxName,this.input.slice(e,this.state.pos))},s.jsxParseIdentifier=function(){var t=this.startNode();return this.match(h.jsxName)?t.name=this.state.value:this.state.type.keyword?t.name=this.state.type.keyword:this.unexpected(),this.next(),this.finishNode(t,"JSXIdentifier")},s.jsxParseNamespacedName=function(){var t=this.state.start,e=this.state.startLoc,s=this.jsxParseIdentifier();if(!this.eat(h.colon))return s;var i=this.startNodeAt(t,e);return i.namespace=s,i.name=this.jsxParseIdentifier(),this.finishNode(i,"JSXNamespacedName")},s.jsxParseElementName=function(){for(var t=this.state.start,e=this.state.startLoc,s=this.jsxParseNamespacedName(),i;this.eat(h.dot);){i=this.startNodeAt(t,e);i.object=s,i.property=this.jsxParseIdentifier(),s=this.finishNode(i,"JSXMemberExpression")}return s},s.jsxParseAttributeValue=function(){var t;switch(this.state.type){case h.braceL:if("JSXEmptyExpression"===(t=this.jsxParseExpressionContainer()).expression.type)throw this.raise(t.start,"JSX attributes must only be assigned a non-empty expression");return t;case h.jsxTagStart:case h.string:return this.parseExprAtom();default:throw this.raise(this.state.start,"JSX value should be either an expression or a quoted JSX text");}},s.jsxParseEmptyExpression=function(){var t=this.startNodeAt(this.state.lastTokEnd,this.state.lastTokEndLoc);return this.finishNodeAt(t,"JSXEmptyExpression",this.state.start,this.state.startLoc)},s.jsxParseSpreadChild=function(){var t=this.startNode();return this.expect(h.braceL),this.expect(h.ellipsis),t.expression=this.parseExpression(),this.expect(h.braceR),this.finishNode(t,"JSXSpreadChild")},s.jsxParseExpressionContainer=function(){var t=this.startNode();return this.next(),this.match(h.braceR)?t.expression=this.jsxParseEmptyExpression():t.expression=this.parseExpression(),this.expect(h.braceR),this.finishNode(t,"JSXExpressionContainer")},s.jsxParseAttribute=function(){var t=this.startNode();return this.eat(h.braceL)?(this.expect(h.ellipsis),t.argument=this.parseMaybeAssign(),this.expect(h.braceR),this.finishNode(t,"JSXSpreadAttribute")):(t.name=this.jsxParseNamespacedName(),t.value=this.eat(h.eq)?this.jsxParseAttributeValue():null,this.finishNode(t,"JSXAttribute"))},s.jsxParseOpeningElementAt=function(t,e){var s=this.startNodeAt(t,e);return this.match(h.jsxTagEnd)?(this.expect(h.jsxTagEnd),this.finishNode(s,"JSXOpeningFragment")):(s.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(s))},s.jsxParseOpeningElementAfterName=function(t){for(var e=[];!this.match(h.slash)&&!this.match(h.jsxTagEnd);)e.push(this.jsxParseAttribute());return t.attributes=e,t.selfClosing=this.eat(h.slash),this.expect(h.jsxTagEnd),this.finishNode(t,"JSXOpeningElement")},s.jsxParseClosingElementAt=function(t,e){var s=this.startNodeAt(t,e);return this.match(h.jsxTagEnd)?(this.expect(h.jsxTagEnd),this.finishNode(s,"JSXClosingFragment")):(s.name=this.jsxParseElementName(),this.expect(h.jsxTagEnd),this.finishNode(s,"JSXClosingElement"))},s.jsxParseElementAt=function(t,e){var s=this.startNodeAt(t,e),i=[],r=this.jsxParseOpeningElementAt(t,e),a=null;if(!r.selfClosing){t:for(;;)switch(this.state.type){case h.jsxTagStart:if(t=this.state.start,e=this.state.startLoc,this.next(),this.eat(h.slash)){a=this.jsxParseClosingElementAt(t,e);break t}i.push(this.jsxParseElementAt(t,e));break;case h.jsxText:i.push(this.parseExprAtom());break;case h.braceL:this.lookahead().type===h.ellipsis?i.push(this.jsxParseSpreadChild()):i.push(this.jsxParseExpressionContainer());break;default:throw this.unexpected();}B(r)&&!B(a)?this.raise(a.start,"Expected corresponding JSX closing tag for <>"):!B(r)&&B(a)?this.raise(a.start,"Expected corresponding JSX closing tag for <"+j(r.name)+">"):B(r)||B(a)||j(a.name)!==j(r.name)&&this.raise(a.start,"Expected corresponding JSX closing tag for <"+j(r.name)+">")}return B(r)?(s.openingFragment=r,s.closingFragment=a):(s.openingElement=r,s.closingElement=a),s.children=i,this.match(h.relational)&&"<"===this.state.value&&this.raise(this.state.start,"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"),B(r)?this.finishNode(s,"JSXFragment"):this.finishNode(s,"JSXElement")},s.jsxParseElement=function(){var t=this.state.start,e=this.state.startLoc;return this.next(),this.jsxParseElementAt(t,e)},s.parseExprAtom=function(e){return this.match(h.jsxText)?this.parseLiteral(this.state.value,"JSXText"):this.match(h.jsxTagStart)?this.jsxParseElement():this.isRelational("<")&&33!==this.state.input.charCodeAt(this.state.pos)?(this.finishToken(h.jsxTagStart),this.jsxParseElement()):t.prototype.parseExprAtom.call(this,e)},s.readToken=function(e){if(this.state.inPropertyName)return t.prototype.readToken.call(this,e);var s=this.curContext();if(s===D.j_expr)return this.jsxReadToken();if(s===D.j_oTag||s===D.j_cTag){if(N(e))return this.jsxReadWord();if(62===e)return++this.state.pos,this.finishToken(h.jsxTagEnd);if((34===e||39===e)&&s===D.j_oTag)return this.jsxReadString(e)}return 60===e&&this.state.exprAllowed&&33!==this.state.input.charCodeAt(this.state.pos+1)?(++this.state.pos,this.finishToken(h.jsxTagStart)):t.prototype.readToken.call(this,e)},s.updateContext=function(e){if(this.match(h.braceL)){var s=this.curContext();s===D.j_oTag?this.state.context.push(D.braceExpression):s===D.j_expr?this.state.context.push(D.templateQuasi):t.prototype.updateContext.call(this,e),this.state.exprAllowed=!0}else{if(!this.match(h.slash)||e!==h.jsxTagStart)return t.prototype.updateContext.call(this,e);this.state.context.length-=2,this.state.context.push(D.j_cTag),this.state.exprAllowed=!1}},e}(t)},flow:function(t){return function(t){function e(e,s){var i;return(i=t.call(this,e,s)||this).flowPragma=void 0,i}i(e,t);var s=e.prototype;return s.shouldParseTypes=function(){return this.getPluginOption("flow","all")||"flow"===this.flowPragma},s.addComment=function(e){if(void 0===this.flowPragma){var s=O.exec(e.value);if(s){if("flow"===s[1])this.flowPragma="flow";else{if("noflow"!==s[1])throw new Error("Unexpected flow pragma");this.flowPragma="noflow"}}else this.flowPragma=null}return t.prototype.addComment.call(this,e)},s.flowParseTypeInitialiser=function(t){var e=this.state.inType;this.state.inType=!0,this.expect(t||h.colon);var s=this.flowParseType();return this.state.inType=e,s},s.flowParsePredicate=function(){var t=this.startNode(),e=this.state.startLoc,s=this.state.start;this.expect(h.modulo);var i=this.state.startLoc;return this.expectContextual("checks"),e.line===i.line&&e.column===i.column-1||this.raise(s,"Spaces between \xB4%\xB4 and \xB4checks\xB4 are not allowed here."),this.eat(h.parenL)?(t.value=this.parseExpression(),this.expect(h.parenR),this.finishNode(t,"DeclaredPredicate")):this.finishNode(t,"InferredPredicate")},s.flowParseTypeAndPredicateInitialiser=function(){var t=this.state.inType;this.state.inType=!0,this.expect(h.colon);var e=null,s=null;return this.match(h.modulo)?(this.state.inType=t,s=this.flowParsePredicate()):(e=this.flowParseType(),this.state.inType=t,this.match(h.modulo)&&(s=this.flowParsePredicate())),[e,s]},s.flowParseDeclareClass=function(t){return this.next(),this.flowParseInterfaceish(t,!0),this.finishNode(t,"DeclareClass")},s.flowParseDeclareFunction=function(t){this.next();var e=t.id=this.parseIdentifier(),s=this.startNode(),i=this.startNode();this.isRelational("<")?s.typeParameters=this.flowParseTypeParameterDeclaration():s.typeParameters=null,this.expect(h.parenL);var r=this.flowParseFunctionTypeParams();s.params=r.params,s.rest=r.rest,this.expect(h.parenR);var a=this.flowParseTypeAndPredicateInitialiser();return s.returnType=a[0],t.predicate=a[1],i.typeAnnotation=this.finishNode(s,"FunctionTypeAnnotation"),e.typeAnnotation=this.finishNode(i,"TypeAnnotation"),this.finishNode(e,e.type),this.semicolon(),this.finishNode(t,"DeclareFunction")},s.flowParseDeclare=function(t,e){if(this.match(h._class))return this.flowParseDeclareClass(t);if(this.match(h._function))return this.flowParseDeclareFunction(t);if(this.match(h._var))return this.flowParseDeclareVariable(t);if(this.isContextual("module"))return this.lookahead().type===h.dot?this.flowParseDeclareModuleExports(t):(e&&this.unexpected(null,"`declare module` cannot be used inside another `declare module`"),this.flowParseDeclareModule(t));if(this.isContextual("type"))return this.flowParseDeclareTypeAlias(t);if(this.isContextual("opaque"))return this.flowParseDeclareOpaqueType(t);if(this.isContextual("interface"))return this.flowParseDeclareInterface(t);if(this.match(h._export))return this.flowParseDeclareExportDeclaration(t,e);throw this.unexpected()},s.flowParseDeclareVariable=function(t){return this.next(),t.id=this.flowParseTypeAnnotatableIdentifier(!0),this.semicolon(),this.finishNode(t,"DeclareVariable")},s.flowParseDeclareModule=function(t){var e=this;this.next(),this.match(h.string)?t.id=this.parseExprAtom():t.id=this.parseIdentifier();var s=t.body=this.startNode(),i=s.body=[];for(this.expect(h.braceL);!this.match(h.braceR);){var r=this.startNode();if(this.match(h._import)){var a=this.lookahead();"type"!==a.value&&"typeof"!==a.value&&this.unexpected(null,"Imports within a `declare module` body must always be `import type` or `import typeof`"),this.next(),this.parseImport(r)}else this.expectContextual("declare","Only declares and type imports are allowed inside declare module"),r=this.flowParseDeclare(r,!0);i.push(r)}this.expect(h.braceR),this.finishNode(s,"BlockStatement");var n=null,o=!1,p="Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module";return i.forEach(function(t){!function(t){return"DeclareExportAllDeclaration"===t.type||"DeclareExportDeclaration"===t.type&&(!t.declaration||"TypeAlias"!==t.declaration.type&&"InterfaceDeclaration"!==t.declaration.type)}(t)?"DeclareModuleExports"===t.type&&(o&&e.unexpected(t.start,"Duplicate `declare module.exports` statement"),"ES"===n&&e.unexpected(t.start,p),n="CommonJS",o=!0):("CommonJS"===n&&e.unexpected(t.start,p),n="ES")}),t.kind=n||"CommonJS",this.finishNode(t,"DeclareModule")},s.flowParseDeclareExportDeclaration=function(t,e){if(this.expect(h._export),this.eat(h._default))return this.match(h._function)||this.match(h._class)?t.declaration=this.flowParseDeclare(this.startNode()):(t.declaration=this.flowParseType(),this.semicolon()),t.default=!0,this.finishNode(t,"DeclareExportDeclaration");if(this.match(h._const)||this.match(h._let)||(this.isContextual("type")||this.isContextual("interface"))&&!e){var s=this.state.value,i=L[s];this.unexpected(this.state.start,"`declare export "+s+"` is not supported. Use `"+i+"` instead")}if(this.match(h._var)||this.match(h._function)||this.match(h._class)||this.isContextual("opaque"))return t.declaration=this.flowParseDeclare(this.startNode()),t.default=!1,this.finishNode(t,"DeclareExportDeclaration");if(this.match(h.star)||this.match(h.braceL)||this.isContextual("interface")||this.isContextual("type")||this.isContextual("opaque"))return"ExportNamedDeclaration"===(t=this.parseExport(t)).type&&(t.type="ExportDeclaration",t.default=!1,delete t.exportKind),t.type="Declare"+t.type,t;throw this.unexpected()},s.flowParseDeclareModuleExports=function(t){return this.expectContextual("module"),this.expect(h.dot),this.expectContextual("exports"),t.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(t,"DeclareModuleExports")},s.flowParseDeclareTypeAlias=function(t){return this.next(),this.flowParseTypeAlias(t),this.finishNode(t,"DeclareTypeAlias")},s.flowParseDeclareOpaqueType=function(t){return this.next(),this.flowParseOpaqueType(t,!0),this.finishNode(t,"DeclareOpaqueType")},s.flowParseDeclareInterface=function(t){return this.next(),this.flowParseInterfaceish(t),this.finishNode(t,"DeclareInterface")},s.flowParseInterfaceish=function(t,e){if(void 0===e&&(e=!1),t.id=this.flowParseRestrictedIdentifier(!e),this.isRelational("<")?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.extends=[],t.implements=[],t.mixins=[],this.eat(h._extends))do{t.extends.push(this.flowParseInterfaceExtends())}while(!e&&this.eat(h.comma));if(this.isContextual("mixins")){this.next();do{t.mixins.push(this.flowParseInterfaceExtends())}while(this.eat(h.comma))}if(this.isContextual("implements")){this.next();do{t.implements.push(this.flowParseInterfaceExtends())}while(this.eat(h.comma))}t.body=this.flowParseObjectType({allowStatic:e,allowExact:!1,allowSpread:!1,allowProto:e,allowInexact:!1})},s.flowParseInterfaceExtends=function(){var t=this.startNode();return t.id=this.flowParseQualifiedTypeIdentifier(),this.isRelational("<")?t.typeParameters=this.flowParseTypeParameterInstantiation():t.typeParameters=null,this.finishNode(t,"InterfaceExtends")},s.flowParseInterface=function(t){return this.flowParseInterfaceish(t),this.finishNode(t,"InterfaceDeclaration")},s.checkNotUnderscore=function(t){if("_"===t)throw this.unexpected(null,"`_` is only allowed as a type argument to call or new")},s.checkReservedType=function(t,e){-1<k.indexOf(t)&&this.raise(e,"Cannot overwrite reserved type "+t)},s.flowParseRestrictedIdentifier=function(t){return this.checkReservedType(this.state.value,this.state.start),this.parseIdentifier(t)},s.flowParseTypeAlias=function(t){return t.id=this.flowParseRestrictedIdentifier(),this.isRelational("<")?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.right=this.flowParseTypeInitialiser(h.eq),this.semicolon(),this.finishNode(t,"TypeAlias")},s.flowParseOpaqueType=function(t,e){return this.expectContextual("type"),t.id=this.flowParseRestrictedIdentifier(!0),this.isRelational("<")?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.supertype=null,this.match(h.colon)&&(t.supertype=this.flowParseTypeInitialiser(h.colon)),t.impltype=null,e||(t.impltype=this.flowParseTypeInitialiser(h.eq)),this.semicolon(),this.finishNode(t,"OpaqueType")},s.flowParseTypeParameter=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e=!1),!t&&e)throw new Error("Cannot disallow a default value (`allowDefault`) while also requiring it (`requireDefault`).");var s=this.state.start,i=this.startNode(),r=this.flowParseVariance(),a=this.flowParseTypeAnnotatableIdentifier();return i.name=a.name,i.variance=r,i.bound=a.typeAnnotation,this.match(h.eq)?t?(this.eat(h.eq),i.default=this.flowParseType()):this.unexpected():e&&this.unexpected(s,"Type parameter declaration needs a default, since a preceding type parameter declaration has a default."),this.finishNode(i,"TypeParameter")},s.flowParseTypeParameterDeclaration=function(t){void 0===t&&(t=!0);var e=this.state.inType,s=this.startNode();s.params=[],this.state.inType=!0,this.isRelational("<")||this.match(h.jsxTagStart)?this.next():this.unexpected();var i=!1;do{var r=this.flowParseTypeParameter(t,i);s.params.push(r),r.default&&(i=!0),this.isRelational(">")||this.expect(h.comma)}while(!this.isRelational(">"));return this.expectRelational(">"),this.state.inType=e,this.finishNode(s,"TypeParameterDeclaration")},s.flowParseTypeParameterInstantiation=function(){var t=this.startNode(),e=this.state.inType;t.params=[],this.state.inType=!0,this.expectRelational("<");var s=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.isRelational(">");)t.params.push(this.flowParseType()),this.isRelational(">")||this.expect(h.comma);return this.state.noAnonFunctionType=s,this.expectRelational(">"),this.state.inType=e,this.finishNode(t,"TypeParameterInstantiation")},s.flowParseTypeParameterInstantiationCallOrNew=function(){var t=this.startNode(),e=this.state.inType;for(t.params=[],this.state.inType=!0,this.expectRelational("<");!this.isRelational(">");)t.params.push(this.flowParseTypeOrImplicitInstantiation()),this.isRelational(">")||this.expect(h.comma);return this.expectRelational(">"),this.state.inType=e,this.finishNode(t,"TypeParameterInstantiation")},s.flowParseInterfaceType=function(){var t=this.startNode();if(this.expectContextual("interface"),t.extends=[],this.eat(h._extends))do{t.extends.push(this.flowParseInterfaceExtends())}while(this.eat(h.comma));return t.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(t,"InterfaceTypeAnnotation")},s.flowParseObjectPropertyKey=function(){return this.match(h.num)||this.match(h.string)?this.parseExprAtom():this.parseIdentifier(!0)},s.flowParseObjectTypeIndexer=function(t,e,s){return t.static=e,this.lookahead().type===h.colon?(t.id=this.flowParseObjectPropertyKey(),t.key=this.flowParseTypeInitialiser()):(t.id=null,t.key=this.flowParseType()),this.expect(h.bracketR),t.value=this.flowParseTypeInitialiser(),t.variance=s,this.finishNode(t,"ObjectTypeIndexer")},s.flowParseObjectTypeInternalSlot=function(t,e){return t.static=e,t.id=this.flowParseObjectPropertyKey(),this.expect(h.bracketR),this.expect(h.bracketR),this.isRelational("<")||this.match(h.parenL)?(t.method=!0,t.optional=!1,t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.start,t.loc.start))):(t.method=!1,this.eat(h.question)&&(t.optional=!0),t.value=this.flowParseTypeInitialiser()),this.finishNode(t,"ObjectTypeInternalSlot")},s.flowParseObjectTypeMethodish=function(t){for(t.params=[],t.rest=null,t.typeParameters=null,this.isRelational("<")&&(t.typeParameters=this.flowParseTypeParameterDeclaration(!1)),this.expect(h.parenL);!this.match(h.parenR)&&!this.match(h.ellipsis);)t.params.push(this.flowParseFunctionTypeParam()),this.match(h.parenR)||this.expect(h.comma);return this.eat(h.ellipsis)&&(t.rest=this.flowParseFunctionTypeParam()),this.expect(h.parenR),t.returnType=this.flowParseTypeInitialiser(),this.finishNode(t,"FunctionTypeAnnotation")},s.flowParseObjectTypeCallProperty=function(t,e){var s=this.startNode();return t.static=e,t.value=this.flowParseObjectTypeMethodish(s),this.finishNode(t,"ObjectTypeCallProperty")},s.flowParseObjectType=function(t){var e=t.allowStatic,s=t.allowExact,i=t.allowSpread,r=t.allowProto,a=t.allowInexact,n=this.state.inType;this.state.inType=!0;var o,p,u=this.startNode();u.callProperties=[],u.properties=[],u.indexers=[],u.internalSlots=[];var c=!1;for(s&&this.match(h.braceBarL)?(this.expect(h.braceBarL),o=h.braceBarR,p=!0):(this.expect(h.braceL),o=h.braceR,p=!1),u.exact=p;!this.match(o);){var l=!1,d=null,f=this.startNode();if(r&&this.isContextual("proto")){var m=this.lookahead();m.type!==h.colon&&m.type!==h.question&&(this.next(),d=this.state.start,e=!1)}if(e&&this.isContextual("static")){var y=this.lookahead();y.type!==h.colon&&y.type!==h.question&&(this.next(),l=!0)}var D=this.flowParseVariance();if(this.eat(h.bracketL))null!=d&&this.unexpected(d),this.eat(h.bracketL)?(D&&this.unexpected(D.start),u.internalSlots.push(this.flowParseObjectTypeInternalSlot(f,l))):u.indexers.push(this.flowParseObjectTypeIndexer(f,l,D));else if(this.match(h.parenL)||this.isRelational("<"))null!=d&&this.unexpected(d),D&&this.unexpected(D.start),u.callProperties.push(this.flowParseObjectTypeCallProperty(f,l));else{var x="init";if(this.isContextual("get")||this.isContextual("set")){var v=this.lookahead();v.type!==h.name&&v.type!==h.string&&v.type!==h.num||(x=this.state.value,this.next())}var P=this.flowParseObjectTypeProperty(f,l,d,D,x,i,a);null===P?c=!0:u.properties.push(P)}this.flowObjectTypeSemicolon()}this.expect(o),i&&(u.inexact=c);var g=this.finishNode(u,"ObjectTypeAnnotation");return this.state.inType=n,g},s.flowParseObjectTypeProperty=function(t,e,s,i,r,a,n){if(this.match(h.ellipsis)){a||this.unexpected(null,"Spread operator cannot appear in class or interface definitions"),null!=s&&this.unexpected(s),i&&this.unexpected(i.start,"Spread properties cannot have variance"),this.expect(h.ellipsis);var o=this.eat(h.comma)||this.eat(h.semi);if(this.match(h.braceR)){if(n)return null;this.unexpected(null,"Explicit inexact syntax is only allowed inside inexact objects")}return this.match(h.braceBarR)&&this.unexpected(null,"Explicit inexact syntax cannot appear inside an explicit exact object type"),o&&this.unexpected(null,"Explicit inexact syntax must appear at the end of an inexact object"),t.argument=this.flowParseType(),this.finishNode(t,"ObjectTypeSpreadProperty")}t.key=this.flowParseObjectPropertyKey(),t.static=e,t.proto=null!=s,t.kind=r;var p=!1;return this.isRelational("<")||this.match(h.parenL)?(t.method=!0,null!=s&&this.unexpected(s),i&&this.unexpected(i.start),t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.start,t.loc.start)),"get"!==r&&"set"!==r||this.flowCheckGetterSetterParams(t)):("init"!==r&&this.unexpected(),t.method=!1,this.eat(h.question)&&(p=!0),t.value=this.flowParseTypeInitialiser(),t.variance=i),t.optional=p,this.finishNode(t,"ObjectTypeProperty")},s.flowCheckGetterSetterParams=function(t){var e="get"===t.kind?0:1,s=t.start;t.value.params.length+(t.value.rest?1:0)!==e&&("get"===t.kind?this.raise(s,"getter must not have any formal parameters"):this.raise(s,"setter must have exactly one formal parameter")),"set"===t.kind&&t.value.rest&&this.raise(s,"setter function argument must not be a rest parameter")},s.flowObjectTypeSemicolon=function(){this.eat(h.semi)||this.eat(h.comma)||this.match(h.braceR)||this.match(h.braceBarR)||this.unexpected()},s.flowParseQualifiedTypeIdentifier=function(t,e,s){t=t||this.state.start,e=e||this.state.startLoc;for(var i=s||this.parseIdentifier(),r;this.eat(h.dot);){r=this.startNodeAt(t,e);r.qualification=i,r.id=this.parseIdentifier(),i=this.finishNode(r,"QualifiedTypeIdentifier")}return i},s.flowParseGenericType=function(t,e,s){var i=this.startNodeAt(t,e);return i.typeParameters=null,i.id=this.flowParseQualifiedTypeIdentifier(t,e,s),this.isRelational("<")&&(i.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(i,"GenericTypeAnnotation")},s.flowParseTypeofType=function(){var t=this.startNode();return this.expect(h._typeof),t.argument=this.flowParsePrimaryType(),this.finishNode(t,"TypeofTypeAnnotation")},s.flowParseTupleType=function(){var t=this.startNode();for(t.types=[],this.expect(h.bracketL);this.state.pos<this.input.length&&!this.match(h.bracketR)&&(t.types.push(this.flowParseType()),!this.match(h.bracketR));)this.expect(h.comma);return this.expect(h.bracketR),this.finishNode(t,"TupleTypeAnnotation")},s.flowParseFunctionTypeParam=function(){var t=null,e=!1,s=null,i=this.startNode(),r=this.lookahead();return r.type===h.colon||r.type===h.question?(t=this.parseIdentifier(),this.eat(h.question)&&(e=!0),s=this.flowParseTypeInitialiser()):s=this.flowParseType(),i.name=t,i.optional=e,i.typeAnnotation=s,this.finishNode(i,"FunctionTypeParam")},s.reinterpretTypeAsFunctionTypeParam=function(t){var e=this.startNodeAt(t.start,t.loc.start);return e.name=null,e.optional=!1,e.typeAnnotation=t,this.finishNode(e,"FunctionTypeParam")},s.flowParseFunctionTypeParams=function(t){void 0===t&&(t=[]);for(var e=null;!this.match(h.parenR)&&!this.match(h.ellipsis);)t.push(this.flowParseFunctionTypeParam()),this.match(h.parenR)||this.expect(h.comma);return this.eat(h.ellipsis)&&(e=this.flowParseFunctionTypeParam()),{params:t,rest:e}},s.flowIdentToTypeAnnotation=function(t,e,s,i){switch(i.name){case"any":return this.finishNode(s,"AnyTypeAnnotation");case"void":return this.finishNode(s,"VoidTypeAnnotation");case"bool":case"boolean":return this.finishNode(s,"BooleanTypeAnnotation");case"mixed":return this.finishNode(s,"MixedTypeAnnotation");case"empty":return this.finishNode(s,"EmptyTypeAnnotation");case"number":return this.finishNode(s,"NumberTypeAnnotation");case"string":return this.finishNode(s,"StringTypeAnnotation");default:return this.checkNotUnderscore(i.name),this.flowParseGenericType(t,e,i);}},s.flowParsePrimaryType=function(){var t,e,s=this.state.start,i=this.state.startLoc,r=this.startNode(),a=!1,n=this.state.noAnonFunctionType;switch(this.state.type){case h.name:return this.isContextual("interface")?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(s,i,r,this.parseIdentifier());case h.braceL:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case h.braceBarL:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case h.bracketL:return this.flowParseTupleType();case h.relational:if("<"===this.state.value)return r.typeParameters=this.flowParseTypeParameterDeclaration(!1),this.expect(h.parenL),t=this.flowParseFunctionTypeParams(),r.params=t.params,r.rest=t.rest,this.expect(h.parenR),this.expect(h.arrow),r.returnType=this.flowParseType(),this.finishNode(r,"FunctionTypeAnnotation");break;case h.parenL:if(this.next(),!this.match(h.parenR)&&!this.match(h.ellipsis))if(this.match(h.name)){var o=this.lookahead().type;a=o!==h.question&&o!==h.colon}else a=!0;if(a){if(this.state.noAnonFunctionType=!1,e=this.flowParseType(),this.state.noAnonFunctionType=n,this.state.noAnonFunctionType||!(this.match(h.comma)||this.match(h.parenR)&&this.lookahead().type===h.arrow))return this.expect(h.parenR),e;this.eat(h.comma)}return t=e?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(e)]):this.flowParseFunctionTypeParams(),r.params=t.params,r.rest=t.rest,this.expect(h.parenR),this.expect(h.arrow),r.returnType=this.flowParseType(),r.typeParameters=null,this.finishNode(r,"FunctionTypeAnnotation");case h.string:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case h._true:case h._false:return r.value=this.match(h._true),this.next(),this.finishNode(r,"BooleanLiteralTypeAnnotation");case h.plusMin:if("-"===this.state.value)return this.next(),this.match(h.num)||this.unexpected(null,"Unexpected token, expected \"number\""),this.parseLiteral(-this.state.value,"NumberLiteralTypeAnnotation",r.start,r.loc.start);this.unexpected();case h.num:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case h._null:return this.next(),this.finishNode(r,"NullLiteralTypeAnnotation");case h._this:return this.next(),this.finishNode(r,"ThisTypeAnnotation");case h.star:return this.next(),this.finishNode(r,"ExistsTypeAnnotation");default:if("typeof"===this.state.type.keyword)return this.flowParseTypeofType();}throw this.unexpected()},s.flowParsePostfixType=function(){for(var t=this.state.start,e=this.state.startLoc,s=this.flowParsePrimaryType(),i;!this.canInsertSemicolon()&&this.match(h.bracketL);){i=this.startNodeAt(t,e);i.elementType=s,this.expect(h.bracketL),this.expect(h.bracketR),s=this.finishNode(i,"ArrayTypeAnnotation")}return s},s.flowParsePrefixType=function(){var t=this.startNode();return this.eat(h.question)?(t.typeAnnotation=this.flowParsePrefixType(),this.finishNode(t,"NullableTypeAnnotation")):this.flowParsePostfixType()},s.flowParseAnonFunctionWithoutParens=function(){var t=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(h.arrow)){var e=this.startNodeAt(t.start,t.loc.start);return e.params=[this.reinterpretTypeAsFunctionTypeParam(t)],e.rest=null,e.returnType=this.flowParseType(),e.typeParameters=null,this.finishNode(e,"FunctionTypeAnnotation")}return t},s.flowParseIntersectionType=function(){var t=this.startNode();this.eat(h.bitwiseAND);var e=this.flowParseAnonFunctionWithoutParens();for(t.types=[e];this.eat(h.bitwiseAND);)t.types.push(this.flowParseAnonFunctionWithoutParens());return 1===t.types.length?e:this.finishNode(t,"IntersectionTypeAnnotation")},s.flowParseUnionType=function(){var t=this.startNode();this.eat(h.bitwiseOR);var e=this.flowParseIntersectionType();for(t.types=[e];this.eat(h.bitwiseOR);)t.types.push(this.flowParseIntersectionType());return 1===t.types.length?e:this.finishNode(t,"UnionTypeAnnotation")},s.flowParseType=function(){var t=this.state.inType;this.state.inType=!0;var e=this.flowParseUnionType();return this.state.inType=t,this.state.exprAllowed=this.state.exprAllowed||this.state.noAnonFunctionType,e},s.flowParseTypeOrImplicitInstantiation=function(){if(this.state.type===h.name&&"_"===this.state.value){var t=this.state.start,e=this.state.startLoc,s=this.parseIdentifier();return this.flowParseGenericType(t,e,s)}return this.flowParseType()},s.flowParseTypeAnnotation=function(){var t=this.startNode();return t.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(t,"TypeAnnotation")},s.flowParseTypeAnnotatableIdentifier=function(t){var e=t?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(h.colon)&&(e.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(e,e.type)),e},s.typeCastToParameter=function(t){return t.expression.typeAnnotation=t.typeAnnotation,this.finishNodeAt(t.expression,t.expression.type,t.typeAnnotation.end,t.typeAnnotation.loc.end)},s.flowParseVariance=function(){var t=null;return this.match(h.plusMin)&&(t=this.startNode(),"+"===this.state.value?t.kind="plus":t.kind="minus",this.next(),this.finishNode(t,"Variance")),t},s.parseFunctionBody=function(e,s){var i=this;return s?this.forwardNoArrowParamsConversionAt(e,function(){return t.prototype.parseFunctionBody.call(i,e,!0)}):t.prototype.parseFunctionBody.call(this,e,!1)},s.parseFunctionBodyAndFinish=function(e,s,i){if(!i&&this.match(h.colon)){var r=this.startNode(),a=this.flowParseTypeAndPredicateInitialiser();r.typeAnnotation=a[0],e.predicate=a[1],e.returnType=r.typeAnnotation?this.finishNode(r,"TypeAnnotation"):null}t.prototype.parseFunctionBodyAndFinish.call(this,e,s,i)},s.parseStatement=function(e,s){if(this.state.strict&&this.match(h.name)&&"interface"===this.state.value){var i=this.startNode();return this.next(),this.flowParseInterface(i)}var r=t.prototype.parseStatement.call(this,e,s);return void 0!==this.flowPragma||this.isValidDirective(r)||(this.flowPragma=null),r},s.parseExpressionStatement=function(e,s){if("Identifier"===s.type)if("declare"===s.name){if(this.match(h._class)||this.match(h.name)||this.match(h._function)||this.match(h._var)||this.match(h._export))return this.flowParseDeclare(e)}else if(this.match(h.name)){if("interface"===s.name)return this.flowParseInterface(e);if("type"===s.name)return this.flowParseTypeAlias(e);if("opaque"===s.name)return this.flowParseOpaqueType(e,!1)}return t.prototype.parseExpressionStatement.call(this,e,s)},s.shouldParseExportDeclaration=function(){return this.isContextual("type")||this.isContextual("interface")||this.isContextual("opaque")||t.prototype.shouldParseExportDeclaration.call(this)},s.isExportDefaultSpecifier=function(){return(!this.match(h.name)||"type"!==this.state.value&&"interface"!==this.state.value&&"opaque"!=this.state.value)&&t.prototype.isExportDefaultSpecifier.call(this)},s.parseConditional=function(e,s,i,r,a){var n=this;if(!this.match(h.question))return e;if(a){var o=this.state.clone();try{return t.prototype.parseConditional.call(this,e,s,i,r)}catch(t){if(t instanceof SyntaxError)return this.state=o,a.start=t.pos||this.state.start,e;throw t}}this.expect(h.question);var p=this.state.clone(),u=this.state.noArrowAt,c=this.startNodeAt(i,r),l=this.tryParseConditionalConsequent(),d=l.consequent,f=l.failed,m=this.getArrowLikeExpressions(d),y=m[0],D=m[1];if(f||0<D.length){var x=u.concat();if(0<D.length){this.state=p,this.state.noArrowAt=x;for(var v=0;v<D.length;v++)x.push(D[v].start);var P=this.tryParseConditionalConsequent();d=P.consequent,f=P.failed;var g=this.getArrowLikeExpressions(d);y=g[0],D=g[1]}if(f&&1<y.length&&this.raise(p.start,"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate."),f&&1===y.length){this.state=p,this.state.noArrowAt=x.concat(y[0].start);var b=this.tryParseConditionalConsequent();d=b.consequent,f=b.failed}this.getArrowLikeExpressions(d,!0)}return this.state.noArrowAt=u,this.expect(h.colon),c.test=e,c.consequent=d,c.alternate=this.forwardNoArrowParamsConversionAt(c,function(){return n.parseMaybeAssign(s,void 0,void 0,void 0)}),this.finishNode(c,"ConditionalExpression")},s.tryParseConditionalConsequent=function(){this.state.noArrowParamsConversionAt.push(this.state.start);var t=this.parseMaybeAssign(),e=!this.match(h.colon);return this.state.noArrowParamsConversionAt.pop(),{consequent:t,failed:e}},s.getArrowLikeExpressions=function(e,s){for(var i=this,r=[e],a=[],n;0!==r.length;){n=r.pop();"ArrowFunctionExpression"===n.type?(n.typeParameters||!n.returnType?(this.toAssignableList(n.params,!0,"arrow function parameters"),t.prototype.checkFunctionNameAndParams.call(this,n,!0)):a.push(n),r.push(n.body)):"ConditionalExpression"===n.type&&(r.push(n.consequent),r.push(n.alternate))}if(s){for(var o=0;o<a.length;o++)this.toAssignableList(e.params,!0,"arrow function parameters");return[a,[]]}return function(t,e){for(var s=[],i=[],r=0;r<t.length;r++)(e(t[r],r,t)?s:i).push(t[r]);return[s,i]}(a,function(t){try{return i.toAssignableList(t.params,!0,"arrow function parameters"),!0}catch(t){return!1}})},s.forwardNoArrowParamsConversionAt=function(t,e){var s;return-1!==this.state.noArrowParamsConversionAt.indexOf(t.start)?(this.state.noArrowParamsConversionAt.push(this.state.start),s=e(),this.state.noArrowParamsConversionAt.pop()):s=e(),s},s.parseParenItem=function(e,s,i){if(e=t.prototype.parseParenItem.call(this,e,s,i),this.eat(h.question)&&(e.optional=!0),this.match(h.colon)){var r=this.startNodeAt(s,i);return r.expression=e,r.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(r,"TypeCastExpression")}return e},s.assertModuleNodeAllowed=function(e){"ImportDeclaration"===e.type&&("type"===e.importKind||"typeof"===e.importKind)||"ExportNamedDeclaration"===e.type&&"type"===e.exportKind||"ExportAllDeclaration"===e.type&&"type"===e.exportKind||t.prototype.assertModuleNodeAllowed.call(this,e)},s.parseExport=function(e){return"ExportNamedDeclaration"!==(e=t.prototype.parseExport.call(this,e)).type&&"ExportAllDeclaration"!==e.type||(e.exportKind=e.exportKind||"value"),e},s.parseExportDeclaration=function(e){if(this.isContextual("type")){e.exportKind="type";var s=this.startNode();return this.next(),this.match(h.braceL)?(e.specifiers=this.parseExportSpecifiers(),this.parseExportFrom(e),null):this.flowParseTypeAlias(s)}if(this.isContextual("opaque")){e.exportKind="type";var i=this.startNode();return this.next(),this.flowParseOpaqueType(i,!1)}if(this.isContextual("interface")){e.exportKind="type";var r=this.startNode();return this.next(),this.flowParseInterface(r)}return t.prototype.parseExportDeclaration.call(this,e)},s.shouldParseExportStar=function(){return t.prototype.shouldParseExportStar.call(this)||this.isContextual("type")&&this.lookahead().type===h.star},s.parseExportStar=function(e){return this.eatContextual("type")&&(e.exportKind="type"),t.prototype.parseExportStar.call(this,e)},s.parseExportNamespace=function(e){return"type"===e.exportKind&&this.unexpected(),t.prototype.parseExportNamespace.call(this,e)},s.parseClassId=function(e,s,i){t.prototype.parseClassId.call(this,e,s,i),this.isRelational("<")&&(e.typeParameters=this.flowParseTypeParameterDeclaration())},s.isKeyword=function(e){return(!this.state.inType||"void"!==e)&&t.prototype.isKeyword.call(this,e)},s.readToken=function(e){var s=this.input.charCodeAt(this.state.pos+1);return!this.state.inType||62!==e&&60!==e?function(t,e){return 64===t&&64===e}(e,s)?(this.state.isIterator=!0,t.prototype.readWord.call(this)):t.prototype.readToken.call(this,e):this.finishOp(h.relational,1)},s.toAssignable=function(e,s,i){return"TypeCastExpression"===e.type?t.prototype.toAssignable.call(this,this.typeCastToParameter(e),s,i):t.prototype.toAssignable.call(this,e,s,i)},s.toAssignableList=function(e,s,i){for(var r=0,a;r<e.length;r++){a=e[r];a&&"TypeCastExpression"===a.type&&(e[r]=this.typeCastToParameter(a))}return t.prototype.toAssignableList.call(this,e,s,i)},s.toReferencedList=function(t,e){for(var s=0,i;s<t.length;s++){i=t[s];!i||"TypeCastExpression"!==i.type||i.extra&&i.extra.parenthesized||!(1<t.length)&&e||this.raise(i.typeAnnotation.start,"The type cast expression is expected to be wrapped with parenthesis")}return t},s.checkLVal=function(e,s,i,r){if("TypeCastExpression"!==e.type)return t.prototype.checkLVal.call(this,e,s,i,r)},s.parseClassProperty=function(e){return this.match(h.colon)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),t.prototype.parseClassProperty.call(this,e)},s.parseClassPrivateProperty=function(e){return this.match(h.colon)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),t.prototype.parseClassPrivateProperty.call(this,e)},s.isClassMethod=function(){return this.isRelational("<")||t.prototype.isClassMethod.call(this)},s.isClassProperty=function(){return this.match(h.colon)||t.prototype.isClassProperty.call(this)},s.isNonstaticConstructor=function(e){return!this.match(h.colon)&&t.prototype.isNonstaticConstructor.call(this,e)},s.pushClassMethod=function(e,s,i,r,a){s.variance&&this.unexpected(s.variance.start),delete s.variance,this.isRelational("<")&&(s.typeParameters=this.flowParseTypeParameterDeclaration(!1)),t.prototype.pushClassMethod.call(this,e,s,i,r,a)},s.pushClassPrivateMethod=function(e,s,i,r){s.variance&&this.unexpected(s.variance.start),delete s.variance,this.isRelational("<")&&(s.typeParameters=this.flowParseTypeParameterDeclaration()),t.prototype.pushClassPrivateMethod.call(this,e,s,i,r)},s.parseClassSuper=function(e){if(t.prototype.parseClassSuper.call(this,e),e.superClass&&this.isRelational("<")&&(e.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual("implements")){this.next();var s=e.implements=[];do{var i=this.startNode();i.id=this.flowParseRestrictedIdentifier(!0),this.isRelational("<")?i.typeParameters=this.flowParseTypeParameterInstantiation():i.typeParameters=null,s.push(this.finishNode(i,"ClassImplements"))}while(this.eat(h.comma))}},s.parsePropertyName=function(e){var s=this.flowParseVariance(),i=t.prototype.parsePropertyName.call(this,e);return e.variance=s,i},s.parseObjPropValue=function(e,s,i,r,a,n,o,p){var u;e.variance&&this.unexpected(e.variance.start),delete e.variance,this.isRelational("<")&&(u=this.flowParseTypeParameterDeclaration(!1),this.match(h.parenL)||this.unexpected()),t.prototype.parseObjPropValue.call(this,e,s,i,r,a,n,o,p),u&&((e.value||e).typeParameters=u)},s.parseAssignableListItemTypes=function(t){if(this.eat(h.question)){if("Identifier"!==t.type)throw this.raise(t.start,"A binding pattern parameter cannot be optional in an implementation signature.");t.optional=!0}return this.match(h.colon)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),this.finishNode(t,t.type),t},s.parseMaybeDefault=function(e,s,i){var r=t.prototype.parseMaybeDefault.call(this,e,s,i);return"AssignmentPattern"===r.type&&r.typeAnnotation&&r.right.start<r.typeAnnotation.start&&this.raise(r.typeAnnotation.start,"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`"),r},s.shouldParseDefaultImport=function(e){return S(e)?I(this.state):t.prototype.shouldParseDefaultImport.call(this,e)},s.parseImportSpecifierLocal=function(t,e,s,i){e.local=S(t)?this.flowParseRestrictedIdentifier(!0):this.parseIdentifier(),this.checkLVal(e.local,!0,void 0,i),t.specifiers.push(this.finishNode(e,s))},s.parseImportSpecifiers=function(e){e.importKind="value";var s=null;if(this.match(h._typeof)?s="typeof":this.isContextual("type")&&(s="type"),s){var i=this.lookahead();"type"===s&&i.type===h.star&&this.unexpected(i.start),(I(i)||i.type===h.braceL||i.type===h.star)&&(this.next(),e.importKind=s)}t.prototype.parseImportSpecifiers.call(this,e)},s.parseImportSpecifier=function(t){var e=this.startNode(),s=this.state.start,i=this.parseIdentifier(!0),r=null;"type"===i.name?r="type":"typeof"===i.name&&(r="typeof");var a=!1;if(this.isContextual("as")&&!this.isLookaheadContextual("as")){var n=this.parseIdentifier(!0);null===r||this.match(h.name)||this.state.type.keyword?(e.imported=i,e.importKind=null,e.local=this.parseIdentifier()):(e.imported=n,e.importKind=r,e.local=n.__clone())}else null!==r&&(this.match(h.name)||this.state.type.keyword)?(e.imported=this.parseIdentifier(!0),e.importKind=r,this.eatContextual("as")?e.local=this.parseIdentifier():(a=!0,e.local=e.imported.__clone())):(a=!0,e.imported=i,e.importKind=null,e.local=e.imported.__clone());var o=S(t),p=S(e);o&&p&&this.raise(s,"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements"),(o||p)&&this.checkReservedType(e.local.name,e.local.start),!a||o||p||this.checkReservedWord(e.local.name,e.start,!0,!0),this.checkLVal(e.local,!0,void 0,"import specifier"),t.specifiers.push(this.finishNode(e,"ImportSpecifier"))},s.parseFunctionParams=function(e){var s=e.kind;"get"!==s&&"set"!==s&&this.isRelational("<")&&(e.typeParameters=this.flowParseTypeParameterDeclaration(!1)),t.prototype.parseFunctionParams.call(this,e)},s.parseVarHead=function(e){t.prototype.parseVarHead.call(this,e),this.match(h.colon)&&(e.id.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(e.id,e.id.type))},s.parseAsyncArrowFromCallExpression=function(e,s){if(this.match(h.colon)){var i=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,e.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=i}return t.prototype.parseAsyncArrowFromCallExpression.call(this,e,s)},s.shouldParseAsyncArrow=function(){return this.match(h.colon)||t.prototype.shouldParseAsyncArrow.call(this)},s.parseMaybeAssign=function(e,s,i,r){var a=this,n=null;if(this.hasPlugin("jsx")&&(this.match(h.jsxTagStart)||this.isRelational("<"))){var o=this.state.clone();try{return t.prototype.parseMaybeAssign.call(this,e,s,i,r)}catch(t){if(!(t instanceof SyntaxError))throw t;this.state=o;var p=this.state.context.length;this.state.context[p-1]===D.j_oTag&&(this.state.context.length-=2),n=t}}if(null!=n||this.isRelational("<")){var u,c;try{c=this.flowParseTypeParameterDeclaration(),(u=this.forwardNoArrowParamsConversionAt(c,function(){return t.prototype.parseMaybeAssign.call(a,e,s,i,r)})).typeParameters=c,this.resetStartLocationFromNode(u,c)}catch(t){throw n||t}if("ArrowFunctionExpression"===u.type)return u;if(null!=n)throw n;this.raise(c.start,"Expected an arrow function after this type parameter declaration")}return t.prototype.parseMaybeAssign.call(this,e,s,i,r)},s.parseArrow=function(e){if(this.match(h.colon)){var s=this.state.clone();try{var i=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;var r=this.startNode(),a=this.flowParseTypeAndPredicateInitialiser();r.typeAnnotation=a[0],e.predicate=a[1],this.state.noAnonFunctionType=i,this.canInsertSemicolon()&&this.unexpected(),this.match(h.arrow)||this.unexpected(),e.returnType=r.typeAnnotation?this.finishNode(r,"TypeAnnotation"):null}catch(t){if(!(t instanceof SyntaxError))throw t;this.state=s}}return t.prototype.parseArrow.call(this,e)},s.shouldParseArrow=function(){return this.match(h.colon)||t.prototype.shouldParseArrow.call(this)},s.setArrowFunctionParameters=function(e,s){-1!==this.state.noArrowParamsConversionAt.indexOf(e.start)?e.params=s:t.prototype.setArrowFunctionParameters.call(this,e,s)},s.checkFunctionNameAndParams=function(e,s){if(!s||-1===this.state.noArrowParamsConversionAt.indexOf(e.start))return t.prototype.checkFunctionNameAndParams.call(this,e,s)},s.parseParenAndDistinguishExpression=function(e){return t.prototype.parseParenAndDistinguishExpression.call(this,e&&-1===this.state.noArrowAt.indexOf(this.state.start))},s.parseSubscripts=function(e,s,i,r){if("Identifier"===e.type&&"async"===e.name&&-1!==this.state.noArrowAt.indexOf(s)){this.next();var a=this.startNodeAt(s,i);a.callee=e,a.arguments=this.parseCallExpressionArguments(h.parenR,!1),e=this.finishNode(a,"CallExpression")}else if("Identifier"===e.type&&"async"===e.name&&this.isRelational("<")){var n,o=this.state.clone();try{var p=this.parseAsyncArrowWithTypeParameters(s,i);if(p)return p}catch(t){n=t}this.state=o;try{return t.prototype.parseSubscripts.call(this,e,s,i,r)}catch(t){throw n||t}}return t.prototype.parseSubscripts.call(this,e,s,i,r)},s.parseSubscript=function(e,s,i,r,a){if(this.match(h.questionDot)&&this.isLookaheadRelational("<")){if(this.expectPlugin("optionalChaining"),a.optionalChainMember=!0,r)return a.stop=!0,e;this.next();var n=this.startNodeAt(s,i);return n.callee=e,n.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(h.parenL),n.arguments=this.parseCallExpressionArguments(h.parenR,!1),n.optional=!0,this.finishNode(n,"OptionalCallExpression")}if(!r&&this.shouldParseTypes()&&this.isRelational("<")){var o=this.startNodeAt(s,i);o.callee=e;var p=this.state.clone();try{return o.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(h.parenL),o.arguments=this.parseCallExpressionArguments(h.parenR,!1),a.optionalChainMember?(o.optional=!1,this.finishNode(o,"OptionalCallExpression")):this.finishNode(o,"CallExpression")}catch(t){if(!(t instanceof SyntaxError))throw t;this.state=p}}return t.prototype.parseSubscript.call(this,e,s,i,r,a)},s.parseNewArguments=function(e){var s=null;if(this.shouldParseTypes()&&this.isRelational("<")){var i=this.state.clone();try{s=this.flowParseTypeParameterInstantiationCallOrNew()}catch(t){if(!(t instanceof SyntaxError))throw t;this.state=i}}e.typeArguments=s,t.prototype.parseNewArguments.call(this,e)},s.parseAsyncArrowWithTypeParameters=function(t,e){var s=this.startNodeAt(t,e);if(this.parseFunctionParams(s),this.parseArrow(s))return this.parseArrowExpression(s,void 0,!0)},s.readToken_mult_modulo=function(e){var s=this.input.charCodeAt(this.state.pos+1);if(42===e&&47===s&&this.state.hasFlowComment)return this.state.hasFlowComment=!1,this.state.pos+=2,void this.nextToken();t.prototype.readToken_mult_modulo.call(this,e)},s.skipBlockComment=function(){return this.hasPlugin("flow")&&this.hasPlugin("flowComments")&&this.skipFlowComment()?(this.hasFlowCommentCompletion(),this.state.pos+=this.skipFlowComment(),void(this.state.hasFlowComment=!0)):this.hasPlugin("flow")&&this.state.hasFlowComment?(-1===(e=this.input.indexOf("*-/",this.state.pos+=2))&&this.raise(this.state.pos-2,"Unterminated comment"),void(this.state.pos=e+3)):void t.prototype.skipBlockComment.call(this);var e},s.skipFlowComment=function(){var t=this.input.charCodeAt(this.state.pos+2),e=this.input.charCodeAt(this.state.pos+3);return 58===t&&58===e?4:"flow-include"===this.input.slice(this.state.pos+2,14)?14:58===t&&58!==e&&2},s.hasFlowCommentCompletion=function(){-1===this.input.indexOf("*/",this.state.pos)&&this.raise(this.state.pos,"Unterminated comment")},e}(t)},typescript:function(t){return function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s.tsIsIdentifier=function(){return this.match(h.name)},s.tsNextTokenCanFollowModifier=function(){return this.next(),!(this.hasPrecedingLineBreak()||this.match(h.parenL)||this.match(h.parenR)||this.match(h.colon)||this.match(h.eq)||this.match(h.question))},s.tsParseModifier=function(t){if(this.match(h.name)){var e=this.state.value;return-1!==t.indexOf(e)&&this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this))?e:void 0}},s.tsIsListTerminator=function(t){switch(t){case"EnumMembers":case"TypeMembers":return this.match(h.braceR);case"HeritageClauseElement":return this.match(h.braceL);case"TupleElementTypes":return this.match(h.bracketR);case"TypeParametersOrArguments":return this.isRelational(">");}throw new Error("Unreachable")},s.tsParseList=function(t,e){for(var s=[];!this.tsIsListTerminator(t);)s.push(e());return s},s.tsParseDelimitedList=function(t,e){return st(this.tsParseDelimitedListWorker(t,e,!0))},s.tsTryParseDelimitedList=function(t,e){return this.tsParseDelimitedListWorker(t,e,!1)},s.tsParseDelimitedListWorker=function(t,e,s){for(var i=[],r;!this.tsIsListTerminator(t);){r=e();if(null==r)return;if(i.push(r),!this.eat(h.comma)){if(this.tsIsListTerminator(t))break;return void(s&&this.expect(h.comma))}}return i},s.tsParseBracketedList=function(t,e,s,i){i||(s?this.expect(h.bracketL):this.expectRelational("<"));var r=this.tsParseDelimitedList(t,e);return s?this.expect(h.bracketR):this.expectRelational(">"),r},s.tsParseEntityName=function(t){for(var e=this.parseIdentifier(),s;this.eat(h.dot);){s=this.startNodeAtNode(e);s.left=e,s.right=this.parseIdentifier(t),e=this.finishNode(s,"TSQualifiedName")}return e},s.tsParseTypeReference=function(){var t=this.startNode();return t.typeName=this.tsParseEntityName(!1),!this.hasPrecedingLineBreak()&&this.isRelational("<")&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeReference")},s.tsParseThisTypePredicate=function(t){this.next();var e=this.startNode();return e.parameterName=t,e.typeAnnotation=this.tsParseTypeAnnotation(!1),this.finishNode(e,"TSTypePredicate")},s.tsParseThisTypeNode=function(){var t=this.startNode();return this.next(),this.finishNode(t,"TSThisType")},s.tsParseTypeQuery=function(){var t=this.startNode();return this.expect(h._typeof),t.exprName=this.tsParseEntityName(!0),this.finishNode(t,"TSTypeQuery")},s.tsParseTypeParameter=function(){var t=this.startNode();return t.name=this.parseIdentifierName(t.start),t.constraint=this.tsEatThenParseType(h._extends),t.default=this.tsEatThenParseType(h.eq),this.finishNode(t,"TSTypeParameter")},s.tsTryParseTypeParameters=function(){if(this.isRelational("<"))return this.tsParseTypeParameters()},s.tsParseTypeParameters=function(){var t=this.startNode();return this.isRelational("<")||this.match(h.jsxTagStart)?this.next():this.unexpected(),t.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this),!1,!0),this.finishNode(t,"TSTypeParameterDeclaration")},s.tsFillSignature=function(t,e){var s=t===h.arrow;e.typeParameters=this.tsTryParseTypeParameters(),this.expect(h.parenL),e.parameters=this.tsParseBindingListForSignature(),s?e.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(t):this.match(t)&&(e.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(t))},s.tsParseBindingListForSignature=function(){var t=this;return this.parseBindingList(h.parenR).map(function(e){if("Identifier"!==e.type&&"RestElement"!==e.type&&"ObjectPattern"!==e.type)throw t.unexpected(e.start,"Name in a signature must be an Identifier or ObjectPattern, instead got "+e.type);return e})},s.tsParseTypeMemberSemicolon=function(){this.eat(h.comma)||this.semicolon()},s.tsParseSignatureMember=function(t){var e=this.startNode();return"TSConstructSignatureDeclaration"===t&&this.expect(h._new),this.tsFillSignature(h.colon,e),this.tsParseTypeMemberSemicolon(),this.finishNode(e,t)},s.tsIsUnambiguouslyIndexSignature=function(){return this.next(),this.eat(h.name)&&this.match(h.colon)},s.tsTryParseIndexSignature=function(t){if(this.match(h.bracketL)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))){this.expect(h.bracketL);var e=this.parseIdentifier();this.expect(h.colon),e.typeAnnotation=this.tsParseTypeAnnotation(!1),this.expect(h.bracketR),t.parameters=[e];var s=this.tsTryParseTypeAnnotation();return s&&(t.typeAnnotation=s),this.tsParseTypeMemberSemicolon(),this.finishNode(t,"TSIndexSignature")}},s.tsParsePropertyOrMethodSignature=function(t,e){this.parsePropertyName(t),this.eat(h.question)&&(t.optional=!0);var s=t;if(e||!this.match(h.parenL)&&!this.isRelational("<")){var i=s;e&&(i.readonly=!0);var r=this.tsTryParseTypeAnnotation();return r&&(i.typeAnnotation=r),this.tsParseTypeMemberSemicolon(),this.finishNode(i,"TSPropertySignature")}var a=s;return this.tsFillSignature(h.colon,a),this.tsParseTypeMemberSemicolon(),this.finishNode(a,"TSMethodSignature")},s.tsParseTypeMember=function(){if(this.match(h.parenL)||this.isRelational("<"))return this.tsParseSignatureMember("TSCallSignatureDeclaration");if(this.match(h._new)&&this.tsLookAhead(this.tsIsStartOfConstructSignature.bind(this)))return this.tsParseSignatureMember("TSConstructSignatureDeclaration");var t=this.startNode(),e=!!this.tsParseModifier(["readonly"]),s=this.tsTryParseIndexSignature(t);return s?(e&&(t.readonly=!0),s):this.tsParsePropertyOrMethodSignature(t,e)},s.tsIsStartOfConstructSignature=function(){return this.next(),this.match(h.parenL)||this.isRelational("<")},s.tsParseTypeLiteral=function(){var t=this.startNode();return t.members=this.tsParseObjectTypeMembers(),this.finishNode(t,"TSTypeLiteral")},s.tsParseObjectTypeMembers=function(){this.expect(h.braceL);var t=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(h.braceR),t},s.tsIsStartOfMappedType=function(){return this.next(),this.eat(h.plusMin)?this.isContextual("readonly"):(this.isContextual("readonly")&&this.next(),!!this.match(h.bracketL)&&(this.next(),!!this.tsIsIdentifier()&&(this.next(),this.match(h._in))))},s.tsParseMappedTypeParameter=function(){var t=this.startNode();return t.name=this.parseIdentifierName(t.start),t.constraint=this.tsExpectThenParseType(h._in),this.finishNode(t,"TSTypeParameter")},s.tsParseMappedType=function(){var t=this.startNode();return this.expect(h.braceL),this.match(h.plusMin)?(t.readonly=this.state.value,this.next(),this.expectContextual("readonly")):this.eatContextual("readonly")&&(t.readonly=!0),this.expect(h.bracketL),t.typeParameter=this.tsParseMappedTypeParameter(),this.expect(h.bracketR),this.match(h.plusMin)?(t.optional=this.state.value,this.next(),this.expect(h.question)):this.eat(h.question)&&(t.optional=!0),t.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(h.braceR),this.finishNode(t,"TSMappedType")},s.tsParseTupleType=function(){var t=this,e=this.startNode();e.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);var s=!1;return e.elementTypes.forEach(function(i,r){"TSRestType"===i.type?r!==e.elementTypes.length-1&&t.raise(i.start,"A rest element must be last in a tuple type."):"TSOptionalType"===i.type?s=!0:s&&t.raise(i.start,"A required element cannot follow an optional element.")}),this.finishNode(e,"TSTupleType")},s.tsParseTupleElementType=function(){if(this.match(h.ellipsis)){var t=this.startNode();return this.next(),t.typeAnnotation=this.tsParseType(),this.finishNode(t,"TSRestType")}var e=this.tsParseType();if(this.eat(h.question)){var s=this.startNodeAtNode(e);return s.typeAnnotation=e,this.finishNode(s,"TSOptionalType")}return e},s.tsParseParenthesizedType=function(){var t=this.startNode();return this.expect(h.parenL),t.typeAnnotation=this.tsParseType(),this.expect(h.parenR),this.finishNode(t,"TSParenthesizedType")},s.tsParseFunctionOrConstructorType=function(t){var e=this.startNode();return"TSConstructorType"===t&&this.expect(h._new),this.tsFillSignature(h.arrow,e),this.finishNode(e,t)},s.tsParseLiteralTypeNode=function(){var t=this,e=this.startNode();return e.literal=function(){switch(t.state.type){case h.num:return t.parseLiteral(t.state.value,"NumericLiteral");case h.string:return t.parseLiteral(t.state.value,"StringLiteral");case h._true:case h._false:return t.parseBooleanLiteral();default:throw t.unexpected();}}(),this.finishNode(e,"TSLiteralType")},s.tsParseNonArrayType=function(){switch(this.state.type){case h.name:case h._void:case h._null:var t=this.match(h._void)?"TSVoidKeyword":this.match(h._null)?"TSNullKeyword":function(t){switch(t){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return;}}(this.state.value);if(void 0!==t&&this.lookahead().type!==h.dot){var e=this.startNode();return this.next(),this.finishNode(e,t)}return this.tsParseTypeReference();case h.string:case h.num:case h._true:case h._false:return this.tsParseLiteralTypeNode();case h.plusMin:if("-"===this.state.value){var s=this.startNode();if(this.next(),!this.match(h.num))throw this.unexpected();return s.literal=this.parseLiteral(-this.state.value,"NumericLiteral",s.start,s.loc.start),this.finishNode(s,"TSLiteralType")}break;case h._this:var i=this.tsParseThisTypeNode();return this.isContextual("is")&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(i):i;case h._typeof:return this.tsParseTypeQuery();case h.braceL:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case h.bracketL:return this.tsParseTupleType();case h.parenL:return this.tsParseParenthesizedType();}throw this.unexpected()},s.tsParseArrayTypeOrHigher=function(){for(var t=this.tsParseNonArrayType();!this.hasPrecedingLineBreak()&&this.eat(h.bracketL);)if(this.match(h.bracketR)){var e=this.startNodeAtNode(t);e.elementType=t,this.expect(h.bracketR),t=this.finishNode(e,"TSArrayType")}else{var s=this.startNodeAtNode(t);s.objectType=t,s.indexType=this.tsParseType(),this.expect(h.bracketR),t=this.finishNode(s,"TSIndexedAccessType")}return t},s.tsParseTypeOperator=function(t){var e=this.startNode();return this.expectContextual(t),e.operator=t,e.typeAnnotation=this.tsParseTypeOperatorOrHigher(),this.finishNode(e,"TSTypeOperator")},s.tsParseInferType=function(){var t=this.startNode();this.expectContextual("infer");var e=this.startNode();return e.name=this.parseIdentifierName(e.start),t.typeParameter=this.finishNode(e,"TSTypeParameter"),this.finishNode(t,"TSInferType")},s.tsParseTypeOperatorOrHigher=function(){var t=this,e=["keyof","unique"].find(function(e){return t.isContextual(e)});return e?this.tsParseTypeOperator(e):this.isContextual("infer")?this.tsParseInferType():this.tsParseArrayTypeOrHigher()},s.tsParseUnionOrIntersectionType=function(t,e,s){this.eat(s);var i=e();if(this.match(s)){for(var r=[i];this.eat(s);)r.push(e());var a=this.startNodeAtNode(i);a.types=r,i=this.finishNode(a,t)}return i},s.tsParseIntersectionTypeOrHigher=function(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),h.bitwiseAND)},s.tsParseUnionTypeOrHigher=function(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),h.bitwiseOR)},s.tsIsStartOfFunctionType=function(){return!!this.isRelational("<")||this.match(h.parenL)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))},s.tsSkipParameterStart=function(){if(this.match(h.name)||this.match(h._this))return this.next(),!0;if(this.match(h.braceL)){var t=1;for(this.next();0<t;)this.match(h.braceL)?++t:this.match(h.braceR)&&--t,this.next();return!0}return!1},s.tsIsUnambiguouslyStartOfFunctionType=function(){if(this.next(),this.match(h.parenR)||this.match(h.ellipsis))return!0;if(this.tsSkipParameterStart()){if(this.match(h.colon)||this.match(h.comma)||this.match(h.question)||this.match(h.eq))return!0;if(this.match(h.parenR)&&(this.next(),this.match(h.arrow)))return!0}return!1},s.tsParseTypeOrTypePredicateAnnotation=function(t){var e=this;return this.tsInType(function(){var s=e.startNode();e.expect(t);var i=e.tsIsIdentifier()&&e.tsTryParse(e.tsParseTypePredicatePrefix.bind(e));if(!i)return e.tsParseTypeAnnotation(!1,s);var r=e.tsParseTypeAnnotation(!1),a=e.startNodeAtNode(i);return a.parameterName=i,a.typeAnnotation=r,s.typeAnnotation=e.finishNode(a,"TSTypePredicate"),e.finishNode(s,"TSTypeAnnotation")})},s.tsTryParseTypeOrTypePredicateAnnotation=function(){return this.match(h.colon)?this.tsParseTypeOrTypePredicateAnnotation(h.colon):void 0},s.tsTryParseTypeAnnotation=function(){return this.match(h.colon)?this.tsParseTypeAnnotation():void 0},s.tsTryParseType=function(){return this.tsEatThenParseType(h.colon)},s.tsParseTypePredicatePrefix=function(){var t=this.parseIdentifier();if(this.isContextual("is")&&!this.hasPrecedingLineBreak())return this.next(),t},s.tsParseTypeAnnotation=function(t,e){var s=this;return void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),this.tsInType(function(){t&&s.expect(h.colon),e.typeAnnotation=s.tsParseType()}),this.finishNode(e,"TSTypeAnnotation")},s.tsParseType=function(){it(this.state.inType);var t=this.tsParseNonConditionalType();if(this.hasPrecedingLineBreak()||!this.eat(h._extends))return t;var e=this.startNodeAtNode(t);return e.checkType=t,e.extendsType=this.tsParseNonConditionalType(),this.expect(h.question),e.trueType=this.tsParseType(),this.expect(h.colon),e.falseType=this.tsParseType(),this.finishNode(e,"TSConditionalType")},s.tsParseNonConditionalType=function(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(h._new)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.tsParseUnionTypeOrHigher()},s.tsParseTypeAssertion=function(){var t=this,e=this.startNode();return e.typeAnnotation=this.tsInType(function(){return t.tsParseType()}),this.expectRelational(">"),e.expression=this.parseMaybeUnary(),this.finishNode(e,"TSTypeAssertion")},s.tsParseHeritageClause=function(){return this.tsParseDelimitedList("HeritageClauseElement",this.tsParseExpressionWithTypeArguments.bind(this))},s.tsParseExpressionWithTypeArguments=function(){var t=this.startNode();return t.expression=this.tsParseEntityName(!1),this.isRelational("<")&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSExpressionWithTypeArguments")},s.tsParseInterfaceDeclaration=function(t){t.id=this.parseIdentifier(),t.typeParameters=this.tsTryParseTypeParameters(),this.eat(h._extends)&&(t.extends=this.tsParseHeritageClause());var e=this.startNode();return e.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),t.body=this.finishNode(e,"TSInterfaceBody"),this.finishNode(t,"TSInterfaceDeclaration")},s.tsParseTypeAliasDeclaration=function(t){return t.id=this.parseIdentifier(),t.typeParameters=this.tsTryParseTypeParameters(),t.typeAnnotation=this.tsExpectThenParseType(h.eq),this.semicolon(),this.finishNode(t,"TSTypeAliasDeclaration")},s.tsInNoContext=function(t){var e=this.state.context;this.state.context=[e[0]];try{return t()}finally{this.state.context=e}},s.tsInType=function(t){var e=this.state.inType;this.state.inType=!0;try{return t()}finally{this.state.inType=e}},s.tsEatThenParseType=function(t){return this.match(t)?this.tsNextThenParseType():void 0},s.tsExpectThenParseType=function(t){var e=this;return this.tsDoThenParseType(function(){return e.expect(t)})},s.tsNextThenParseType=function(){var t=this;return this.tsDoThenParseType(function(){return t.next()})},s.tsDoThenParseType=function(t){var e=this;return this.tsInType(function(){return t(),e.tsParseType()})},s.tsParseEnumMember=function(){var t=this.startNode();return t.id=this.match(h.string)?this.parseLiteral(this.state.value,"StringLiteral"):this.parseIdentifier(!0),this.eat(h.eq)&&(t.initializer=this.parseMaybeAssign()),this.finishNode(t,"TSEnumMember")},s.tsParseEnumDeclaration=function(t,e){return e&&(t.const=!0),t.id=this.parseIdentifier(),this.expect(h.braceL),t.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(h.braceR),this.finishNode(t,"TSEnumDeclaration")},s.tsParseModuleBlock=function(){var t=this.startNode();return this.expect(h.braceL),this.parseBlockOrModuleBlockBody(t.body=[],void 0,!0,h.braceR),this.finishNode(t,"TSModuleBlock")},s.tsParseModuleOrNamespaceDeclaration=function(t){if(t.id=this.parseIdentifier(),this.eat(h.dot)){var e=this.startNode();this.tsParseModuleOrNamespaceDeclaration(e),t.body=e}else t.body=this.tsParseModuleBlock();return this.finishNode(t,"TSModuleDeclaration")},s.tsParseAmbientExternalModuleDeclaration=function(t){return this.isContextual("global")?(t.global=!0,t.id=this.parseIdentifier()):this.match(h.string)?t.id=this.parseExprAtom():this.unexpected(),this.match(h.braceL)?t.body=this.tsParseModuleBlock():this.semicolon(),this.finishNode(t,"TSModuleDeclaration")},s.tsParseImportEqualsDeclaration=function(t,e){return t.isExport=e||!1,t.id=this.parseIdentifier(),this.expect(h.eq),t.moduleReference=this.tsParseModuleReference(),this.semicolon(),this.finishNode(t,"TSImportEqualsDeclaration")},s.tsIsExternalModuleReference=function(){return this.isContextual("require")&&this.lookahead().type===h.parenL},s.tsParseModuleReference=function(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)},s.tsParseExternalModuleReference=function(){var t=this.startNode();if(this.expectContextual("require"),this.expect(h.parenL),!this.match(h.string))throw this.unexpected();return t.expression=this.parseLiteral(this.state.value,"StringLiteral"),this.expect(h.parenR),this.finishNode(t,"TSExternalModuleReference")},s.tsLookAhead=function(t){var e=this.state.clone(),s=t();return this.state=e,s},s.tsTryParseAndCatch=function(t){var e=this.state.clone();try{return t()}catch(t){if(t instanceof SyntaxError)return void(this.state=e);throw t}},s.tsTryParse=function(t){var e=this.state.clone(),s=t();return void 0!==s&&!1!==s?s:void(this.state=e)},s.nodeWithSamePosition=function(t,e){var s=this.startNodeAtNode(t);return s.type=e,s.end=t.end,s.loc.end=t.loc.end,t.leadingComments&&(s.leadingComments=t.leadingComments),t.trailingComments&&(s.trailingComments=t.trailingComments),t.innerComments&&(s.innerComments=t.innerComments),s},s.tsTryParseDeclare=function(t){switch(this.state.type){case h._function:return this.next(),this.parseFunction(t,!0);case h._class:return this.parseClass(t,!0,!1);case h._const:if(this.match(h._const)&&this.isLookaheadContextual("enum"))return this.expect(h._const),this.expectContextual("enum"),this.tsParseEnumDeclaration(t,!0);case h._var:case h._let:return this.parseVarStatement(t,this.state.type);case h.name:var e=this.state.value;return"global"===e?this.tsParseAmbientExternalModuleDeclaration(t):this.tsParseDeclaration(t,e,!0);}},s.tsTryParseExportDeclaration=function(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0)},s.tsParseExpressionStatement=function(t,e){switch(e.name){case"declare":var s=this.tsTryParseDeclare(t);if(s)return s.declare=!0,s;break;case"global":if(this.match(h.braceL)){var i=t;return i.global=!0,i.id=e,i.body=this.tsParseModuleBlock(),this.finishNode(i,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(t,e.name,!1);}},s.tsParseDeclaration=function(t,e,s){switch(e){case"abstract":if(s||this.match(h._class)){var i=t;return i.abstract=!0,s&&this.next(),this.parseClass(i,!0,!1)}break;case"enum":if(s||this.match(h.name))return s&&this.next(),this.tsParseEnumDeclaration(t,!1);break;case"interface":if(s||this.match(h.name))return s&&this.next(),this.tsParseInterfaceDeclaration(t);break;case"module":if(s&&this.next(),this.match(h.string))return this.tsParseAmbientExternalModuleDeclaration(t);if(s||this.match(h.name))return this.tsParseModuleOrNamespaceDeclaration(t);break;case"namespace":if(s||this.match(h.name))return s&&this.next(),this.tsParseModuleOrNamespaceDeclaration(t);break;case"type":if(s||this.match(h.name))return s&&this.next(),this.tsParseTypeAliasDeclaration(t);}},s.tsTryParseGenericAsyncArrowFunction=function(e,s){var i=this,r=this.tsTryParseAndCatch(function(){var r=i.startNodeAt(e,s);return r.typeParameters=i.tsParseTypeParameters(),t.prototype.parseFunctionParams.call(i,r),r.returnType=i.tsTryParseTypeOrTypePredicateAnnotation(),i.expect(h.arrow),r});if(r){var a=this.state.inAsync,n=this.state.inGenerator;return this.state.inAsync=!0,this.state.inGenerator=!1,r.id=null,r.generator=!1,r.expression=!0,r.async=!0,this.parseFunctionBody(r,!0),this.state.inAsync=a,this.state.inGenerator=n,this.finishNode(r,"ArrowFunctionExpression")}},s.tsParseTypeArguments=function(){var t=this,e=this.startNode();return e.params=this.tsInType(function(){return t.tsInNoContext(function(){return t.expectRelational("<"),t.tsParseDelimitedList("TypeParametersOrArguments",t.tsParseType.bind(t))})}),this.state.exprAllowed=!1,this.expectRelational(">"),this.finishNode(e,"TSTypeParameterInstantiation")},s.tsIsDeclarationStart=function(){if(this.match(h.name))switch(this.state.value){case"abstract":case"declare":case"enum":case"interface":case"module":case"namespace":case"type":return!0;}return!1},s.isExportDefaultSpecifier=function(){return!this.tsIsDeclarationStart()&&t.prototype.isExportDefaultSpecifier.call(this)},s.parseAssignableListItem=function(t,e){var s,i=!1;t&&(s=this.parseAccessModifier(),i=!!this.tsParseModifier(["readonly"]));var r=this.parseMaybeDefault();this.parseAssignableListItemTypes(r);var a=this.parseMaybeDefault(r.start,r.loc.start,r);if(s||i){var n=this.startNodeAtNode(a);if(e.length&&(n.decorators=e),s&&(n.accessibility=s),i&&(n.readonly=i),"Identifier"!==a.type&&"AssignmentPattern"!==a.type)throw this.raise(n.start,"A parameter property may not be declared using a binding pattern.");return n.parameter=a,this.finishNode(n,"TSParameterProperty")}return e.length&&(r.decorators=e),a},s.parseFunctionBodyAndFinish=function(e,s,i){!i&&this.match(h.colon)&&(e.returnType=this.tsParseTypeOrTypePredicateAnnotation(h.colon));var r="FunctionDeclaration"===s?"TSDeclareFunction":"ClassMethod"===s?"TSDeclareMethod":void 0;r&&!this.match(h.braceL)&&this.isLineTerminator()?this.finishNode(e,r):t.prototype.parseFunctionBodyAndFinish.call(this,e,s,i)},s.parseSubscript=function(e,s,i,r,a){var n=this;if(!this.hasPrecedingLineBreak()&&this.match(h.bang)){this.state.exprAllowed=!1,this.next();var o=this.startNodeAt(s,i);return o.expression=e,this.finishNode(o,"TSNonNullExpression")}if(this.isRelational("<")){var p=this.tsTryParseAndCatch(function(){if(!r&&n.atPossibleAsync(e)){var t=n.tsTryParseGenericAsyncArrowFunction(s,i);if(t)return t}var o=n.startNodeAt(s,i);o.callee=e;var p=n.tsParseTypeArguments();if(p){if(!r&&n.eat(h.parenL))return o.arguments=n.parseCallExpressionArguments(h.parenR,!1),o.typeParameters=p,n.finishCallExpression(o);if(n.match(h.backQuote))return n.parseTaggedTemplateExpression(s,i,e,a,p)}n.unexpected()});if(p)return p}return t.prototype.parseSubscript.call(this,e,s,i,r,a)},s.parseNewArguments=function(e){var s=this;if(this.isRelational("<")){var i=this.tsTryParseAndCatch(function(){var t=s.tsParseTypeArguments();return s.match(h.parenL)||s.unexpected(),t});i&&(e.typeParameters=i)}t.prototype.parseNewArguments.call(this,e)},s.parseExprOp=function(e,s,i,r,a){if(st(h._in.binop)>r&&!this.hasPrecedingLineBreak()&&this.isContextual("as")){var n=this.startNodeAt(s,i);return n.expression=e,n.typeAnnotation=this.tsNextThenParseType(),this.finishNode(n,"TSAsExpression"),this.parseExprOp(n,s,i,r,a)}return t.prototype.parseExprOp.call(this,e,s,i,r,a)},s.checkReservedWord=function(t,e,s,i){},s.checkDuplicateExports=function(){},s.parseImport=function(e){return this.match(h.name)&&this.lookahead().type===h.eq?this.tsParseImportEqualsDeclaration(e):t.prototype.parseImport.call(this,e)},s.parseExport=function(e){if(this.match(h._import))return this.expect(h._import),this.tsParseImportEqualsDeclaration(e,!0);if(this.eat(h.eq)){var s=e;return s.expression=this.parseExpression(),this.semicolon(),this.finishNode(s,"TSExportAssignment")}if(this.eatContextual("as")){var i=e;return this.expectContextual("namespace"),i.id=this.parseIdentifier(),this.semicolon(),this.finishNode(i,"TSNamespaceExportDeclaration")}return t.prototype.parseExport.call(this,e)},s.isAbstractClass=function(){return this.isContextual("abstract")&&this.lookahead().type===h._class},s.parseExportDefaultExpression=function(){if(this.isAbstractClass()){var e=this.startNode();return this.next(),this.parseClass(e,!0,!0),e.abstract=!0,e}if("interface"===this.state.value){var s=this.tsParseDeclaration(this.startNode(),this.state.value,!0);if(s)return s}return t.prototype.parseExportDefaultExpression.call(this)},s.parseStatementContent=function(e,s){if(this.state.type===h._const){var i=this.lookahead();if(i.type===h.name&&"enum"===i.value){var r=this.startNode();return this.expect(h._const),this.expectContextual("enum"),this.tsParseEnumDeclaration(r,!0)}}return t.prototype.parseStatementContent.call(this,e,s)},s.parseAccessModifier=function(){return this.tsParseModifier(["public","protected","private"])},s.parseClassMember=function(e,s,i){var r=this.parseAccessModifier();r&&(s.accessibility=r),t.prototype.parseClassMember.call(this,e,s,i)},s.parseClassMemberWithIsStatic=function(e,s,i,r){var a=s,n=s,o=s,h=!1,p=!1;switch(this.tsParseModifier(["abstract","readonly"])){case"readonly":p=!0,h=!!this.tsParseModifier(["abstract"]);break;case"abstract":h=!0,p=!!this.tsParseModifier(["readonly"]);}if(h&&(a.abstract=!0),p&&(o.readonly=!0),!h&&!r&&!a.accessibility){var u=this.tsTryParseIndexSignature(s);if(u)return void e.body.push(u)}if(p)return a.static=r,this.parseClassPropertyName(n),this.parsePostMemberNameModifiers(a),void this.pushClassProperty(e,n);t.prototype.parseClassMemberWithIsStatic.call(this,e,s,i,r)},s.parsePostMemberNameModifiers=function(t){this.eat(h.question)&&(t.optional=!0)},s.parseExpressionStatement=function(e,s){return("Identifier"===s.type?this.tsParseExpressionStatement(e,s):void 0)||t.prototype.parseExpressionStatement.call(this,e,s)},s.shouldParseExportDeclaration=function(){return!!this.tsIsDeclarationStart()||t.prototype.shouldParseExportDeclaration.call(this)},s.parseConditional=function(e,s,i,r,a){if(!a||!this.match(h.question))return t.prototype.parseConditional.call(this,e,s,i,r,a);var n=this.state.clone();try{return t.prototype.parseConditional.call(this,e,s,i,r)}catch(t){if(!(t instanceof SyntaxError))throw t;return this.state=n,a.start=t.pos||this.state.start,e}},s.parseParenItem=function(e,s,i){if(e=t.prototype.parseParenItem.call(this,e,s,i),this.eat(h.question)&&(e.optional=!0),this.match(h.colon)){var r=this.startNodeAt(s,i);return r.expression=e,r.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(r,"TSTypeCastExpression")}return e},s.parseExportDeclaration=function(e){var s,i=this.eatContextual("declare");return this.match(h.name)&&(s=this.tsTryParseExportDeclaration()),s||(s=t.prototype.parseExportDeclaration.call(this,e)),s&&i&&(s.declare=!0),s},s.parseClassId=function(e,s,i){if(s&&!i||!this.isContextual("implements")){t.prototype.parseClassId.apply(this,arguments);var r=this.tsTryParseTypeParameters();r&&(e.typeParameters=r)}},s.parseClassProperty=function(e){!e.optional&&this.eat(h.bang)&&(e.definite=!0);var s=this.tsTryParseTypeAnnotation();return s&&(e.typeAnnotation=s),t.prototype.parseClassProperty.call(this,e)},s.pushClassMethod=function(e,s,i,r,a){var n=this.tsTryParseTypeParameters();n&&(s.typeParameters=n),t.prototype.pushClassMethod.call(this,e,s,i,r,a)},s.pushClassPrivateMethod=function(e,s,i,r){var a=this.tsTryParseTypeParameters();a&&(s.typeParameters=a),t.prototype.pushClassPrivateMethod.call(this,e,s,i,r)},s.parseClassSuper=function(e){t.prototype.parseClassSuper.call(this,e),e.superClass&&this.isRelational("<")&&(e.superTypeParameters=this.tsParseTypeArguments()),this.eatContextual("implements")&&(e.implements=this.tsParseHeritageClause())},s.parseObjPropValue=function(e){var s,i=this.tsTryParseTypeParameters();i&&(e.typeParameters=i);for(var r=arguments.length,a=Array(1<r?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];(s=t.prototype.parseObjPropValue).call.apply(s,[this,e].concat(a))},s.parseFunctionParams=function(e,s){var i=this.tsTryParseTypeParameters();i&&(e.typeParameters=i),t.prototype.parseFunctionParams.call(this,e,s)},s.parseVarHead=function(e){t.prototype.parseVarHead.call(this,e),"Identifier"===e.id.type&&this.eat(h.bang)&&(e.definite=!0);var s=this.tsTryParseTypeAnnotation();s&&(e.id.typeAnnotation=s,this.finishNode(e.id,e.id.type))},s.parseAsyncArrowFromCallExpression=function(e,s){return this.match(h.colon)&&(e.returnType=this.tsParseTypeAnnotation()),t.prototype.parseAsyncArrowFromCallExpression.call(this,e,s)},s.parseMaybeAssign=function(){for(var e,s,i,r,a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];if(this.match(h.jsxTagStart)){it(this.curContext()===D.j_oTag),it(this.state.context[this.state.context.length-2]===D.j_expr);var p=this.state.clone();try{var u;return(u=t.prototype.parseMaybeAssign).call.apply(u,[this].concat(n))}catch(t){if(!(t instanceof SyntaxError))throw t;this.state=p,it(this.curContext()===D.j_oTag),this.state.context.pop(),it(this.curContext()===D.j_expr),this.state.context.pop(),e=t}}if(void 0===e&&!this.isRelational("<"))return(s=t.prototype.parseMaybeAssign).call.apply(s,[this].concat(n));var c=this.state.clone();try{var l;r=this.tsParseTypeParameters(),"ArrowFunctionExpression"!==(i=(l=t.prototype.parseMaybeAssign).call.apply(l,[this].concat(n))).type&&this.unexpected()}catch(s){var d;if(!(s instanceof SyntaxError))throw s;if(e)throw e;return it(!this.hasPlugin("jsx")),this.state=c,(d=t.prototype.parseMaybeAssign).call.apply(d,[this].concat(n))}return r&&0!==r.params.length&&this.resetStartLocationFromNode(i,r.params[0]),i.typeParameters=r,i},s.parseMaybeUnary=function(e){return!this.hasPlugin("jsx")&&this.eatRelational("<")?this.tsParseTypeAssertion():t.prototype.parseMaybeUnary.call(this,e)},s.parseArrow=function(e){if(this.match(h.colon)){var s=this.state.clone();try{var i=this.tsParseTypeOrTypePredicateAnnotation(h.colon);this.canInsertSemicolon()&&this.unexpected(),this.match(h.arrow)||this.unexpected(),e.returnType=i}catch(t){if(!(t instanceof SyntaxError))throw t;this.state=s}}return t.prototype.parseArrow.call(this,e)},s.parseAssignableListItemTypes=function(t){if(this.eat(h.question)){if("Identifier"!==t.type)throw this.raise(t.start,"A binding pattern parameter cannot be optional in an implementation signature.");t.optional=!0}var e=this.tsTryParseTypeAnnotation();return e&&(t.typeAnnotation=e),this.finishNode(t,t.type)},s.toAssignable=function(e,s,i){switch(e.type){case"TSTypeCastExpression":return t.prototype.toAssignable.call(this,this.typeCastToParameter(e),s,i);case"TSParameterProperty":return t.prototype.toAssignable.call(this,e,s,i);case"TSAsExpression":case"TSNonNullExpression":case"TSTypeAssertion":return e.expression=this.toAssignable(e.expression,s,i),e;default:return t.prototype.toAssignable.call(this,e,s,i);}},s.checkLVal=function(e,s,i,r){switch(e.type){case"TSTypeCastExpression":return;case"TSParameterProperty":return void this.checkLVal(e.parameter,s,i,"parameter property");case"TSAsExpression":case"TSNonNullExpression":case"TSTypeAssertion":return void this.checkLVal(e.expression,s,i,r);default:return void t.prototype.checkLVal.call(this,e,s,i,r);}},s.parseBindingAtom=function(){switch(this.state.type){case h._this:return this.parseIdentifier(!0);default:return t.prototype.parseBindingAtom.call(this);}},s.parseMaybeDecoratorArguments=function(e){if(this.isRelational("<")){var s=this.tsParseTypeArguments();if(this.match(h.parenL)){var i=t.prototype.parseMaybeDecoratorArguments.call(this,e);return i.typeParameters=s,i}this.unexpected(this.state.start,h.parenL)}return t.prototype.parseMaybeDecoratorArguments.call(this,e)},s.isClassMethod=function(){return this.isRelational("<")||t.prototype.isClassMethod.call(this)},s.isClassProperty=function(){return this.match(h.bang)||this.match(h.colon)||t.prototype.isClassProperty.call(this)},s.parseMaybeDefault=function(){for(var e,s=arguments.length,i=Array(s),r=0;r<s;r++)i[r]=arguments[r];var a=(e=t.prototype.parseMaybeDefault).call.apply(e,[this].concat(i));return"AssignmentPattern"===a.type&&a.typeAnnotation&&a.right.start<a.typeAnnotation.start&&this.raise(a.typeAnnotation.start,"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`"),a},s.readToken=function(e){return!this.state.inType||62!==e&&60!==e?t.prototype.readToken.call(this,e):this.finishOp(h.relational,1)},s.toAssignableList=function(e,s,i){for(var r=0,a;r<e.length;r++){a=e[r];a&&"TSTypeCastExpression"===a.type&&(e[r]=this.typeCastToParameter(a))}return t.prototype.toAssignableList.call(this,e,s,i)},s.typeCastToParameter=function(t){return t.expression.typeAnnotation=t.typeAnnotation,this.finishNodeAt(t.expression,t.expression.type,t.typeAnnotation.end,t.typeAnnotation.loc.end)},s.toReferencedList=function(t,e){for(var s=0,i;s<t.length;s++){i=t[s];i&&i._exprListItem&&"TsTypeCastExpression"===i.type&&this.raise(i.start,"Did not expect a type annotation here.")}return t},s.shouldParseArrow=function(){return this.match(h.colon)||t.prototype.shouldParseArrow.call(this)},s.shouldParseAsyncArrow=function(){return this.match(h.colon)||t.prototype.shouldParseAsyncArrow.call(this)},s.canHaveLeadingDecorator=function(){return t.prototype.canHaveLeadingDecorator.call(this)||this.isAbstractClass()},s.jsxParseOpeningElementAfterName=function(e){var s=this,i=this.tsTryParseAndCatch(function(){return s.tsParseTypeArguments()});return i&&(e.typeParameters=i),t.prototype.jsxParseOpeningElementAfterName.call(this,e)},e}(t)}};function pt(t,e){var s=et;return t&&t.plugins&&(!function(t){if(rt(t,"decorators")){if(rt(t,"decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");var e=at(t,"decorators","decoratorsBeforeExport");if(null==e)throw new Error("The 'decorators' plugin requires a 'decoratorsBeforeExport' option, whose value must be a boolean. If you are migrating from Babylon/Babel 6 or want to use the old decorators proposal, you should use the 'decorators-legacy' plugin instead of 'decorators'.");if("boolean"!=typeof e)throw new Error("'decoratorsBeforeExport' must be a boolean.")}if(rt(t,"flow")&&rt(t,"typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(rt(t,"pipelineOperator")&&-1===nt.indexOf(at(t,"pipelineOperator","proposal")))throw new Error("'pipelineOperator' requires 'proposal' option whose value should be one of: "+nt.map(function(t){return"'"+t+"'"}).join(", "))}(t.plugins),s=function(t){var e=ot.filter(function(e){return rt(t,e)}),s=e.join("/"),i=ut[s];if(!i){i=et;for(var r=0,a;r<e.length;r++){a=e[r];i=ht[a](i)}ut[s]=i}return i}(t.plugins)),new s(t,e)}var ut={};e.parse=function(t,e){if(!e||"unambiguous"!==e.sourceType)return pt(e,t).parse();e=Object.assign({},e);try{e.sourceType="module";var s=pt(e,t),i=s.parse();return s.sawUnambiguousESM||(i.program.sourceType="script"),i}catch(s){try{return e.sourceType="script",pt(e,t).parse()}catch(t){}throw s}},e.parseExpression=function(t,e){var s=pt(e,t);return s.options.strictMode&&(s.state.strict=!0),s.getExpression()},e.tokTypes=h});e(x);var v=h;function P(t,e){return Object.assign({sourceType:"module",allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,allowSuperOutsideMethod:!0,plugins:["jsx","doExpressions","objectRestSpread","classProperties","exportDefaultFrom","exportNamespaceFrom","asyncGenerators","functionBind","functionSent","dynamicImport","numericSeparator","importMeta","optionalCatchBinding","optionalChaining","classPrivateProperties",["pipelineOperator",{proposal:"minimal"}],"nullishCoalescingOperator","bigInt","throwExpressions","logicalAssignment","classPrivateMethods"].concat(e)},t)}function g(e,s){return function(i,r,a){var n,o=x,h=[P({strictMode:!0},["decorators-legacy"].concat(s)),P({strictMode:!1},["decorators-legacy"].concat(s)),P({strictMode:!0},[["decorators",{decoratorsBeforeExport:!1}]].concat(s)),P({strictMode:!1},[["decorators",{decoratorsBeforeExport:!1}]].concat(s))];try{n=function(t,e){for(var s,i=0;i<e.length;i++)try{return t(e[i])}catch(t){s||(s=t)}throw s}(o[e].bind(null,i),h)}catch(e){throw t(e.message.replace(/ \(.*\)/,""),{start:{line:e.loc.line,column:e.loc.column+1}})}return delete n.tokens,D(n,Object.assign({},a,{originalText:i}))}}var b=g("parse",["flow"]),C=g("parse",[["flow",{all:!0}]]),w=g("parseExpression");function E(e,s){switch(e.type){case"ArrayExpression":return e.elements.forEach(i);case"ObjectExpression":return e.properties.forEach(i);case"ObjectProperty":if(e.computed)throw r("computed");if(e.shorthand)throw r("shorthand");return[e.key,e.value].forEach(i);case"UnaryExpression":switch(e.operator){case"+":case"-":return i(e.argument);default:throw r("operator");}case"Identifier":if(s&&"ObjectProperty"===s.type&&s.key===e)return;throw r();case"NullLiteral":case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":return;default:throw r();}function i(t){return E(t,e)}function r(s){var i=s?"".concat(e.type," with ").concat(s,"=").concat(JSON.stringify(e[s])):e.type;return t("".concat(i," is not allowed in JSON."),{start:{line:e.loc.start.line,column:e.loc.start.column+1}})}}var A=Object.assign({parse:b,astFormat:"estree",hasPragma:v},u),T=Object.assign({},A,{parse:C}),N=Object.assign({},A,{parse:w});return{parsers:{babel:A,"babel-flow":T,babylon:A,json:Object.assign({},N,{hasPragma:function(){return!0}}),json5:N,"json-stringify":Object.assign({parse:function(t,e,s){var i=w(t,e,s);return i.comments.forEach(E),E(i),i},astFormat:"estree-json"},u),__js_expression:N,__vue_expression:N,__vue_event_binding:A}}});</script><script>(function(f){if("object"===typeof exports&&"undefined"!==typeof module){module.exports=f()}else if("function"===typeof define&&define.amd){define([],f)}else{var g;if("undefined"!==typeof window){g=window}else if("undefined"!==typeof global){g=global}else if("undefined"!==typeof self){g=self}else{g=this}g.JSZip=f()}})(function(){var _Mathmin=Math.min,_StringfromCharCode=String.fromCharCode,define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){'use strict';var utils=require("./utils"),support=require("./support"),_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";exports.encode=function(input){var output=[],chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0,len=input.length,remainingBytes=len,isArray="string"!==utils.getTypeOf(input);while(i<input.length){remainingBytes=len-i;if(!isArray){chr1=input.charCodeAt(i++);chr2=i<len?input.charCodeAt(i++):0;chr3=i<len?input.charCodeAt(i++):0}else{chr1=input[i++];chr2=i<len?input[i++]:0;chr3=i<len?input[i++]:0}enc1=chr1>>2;enc2=(3&chr1)<<4|chr2>>4;enc3=1<remainingBytes?(15&chr2)<<2|chr3>>6:64;enc4=2<remainingBytes?63&chr3:64;output.push(_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+_keyStr.charAt(enc3)+_keyStr.charAt(enc4))}return output.join("")};exports.decode=function(input){var chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0,resultIndex=0,dataUrlPrefix="data:";if(input.substr(0,dataUrlPrefix.length)===dataUrlPrefix){throw new Error("Invalid base64 input, it looks like a data url.")}input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var totalLength=3*input.length/4;if(input.charAt(input.length-1)===_keyStr.charAt(64)){totalLength--}if(input.charAt(input.length-2)===_keyStr.charAt(64)){totalLength--}if(0!==totalLength%1){throw new Error("Invalid base64 input, bad content length.")}var output;if(support.uint8array){output=new Uint8Array(0|totalLength)}else{output=Array(0|totalLength)}while(i<input.length){enc1=_keyStr.indexOf(input.charAt(i++));enc2=_keyStr.indexOf(input.charAt(i++));enc3=_keyStr.indexOf(input.charAt(i++));enc4=_keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(15&enc2)<<4|enc3>>2;chr3=(3&enc3)<<6|enc4;output[resultIndex++]=chr1;if(64!==enc3){output[resultIndex++]=chr2}if(64!==enc4){output[resultIndex++]=chr3}}return output}},{"./support":30,"./utils":32}],2:[function(require,module,exports){'use strict';var external=require("./external"),DataWorker=require("./stream/DataWorker"),DataLengthProbe=require("./stream/DataLengthProbe"),Crc32Probe=require("./stream/Crc32Probe"),DataLengthProbe=require("./stream/DataLengthProbe");function CompressedObject(compressedSize,uncompressedSize,crc32,compression,data){this.compressedSize=compressedSize;this.uncompressedSize=uncompressedSize;this.crc32=crc32;this.compression=compression;this.compressedContent=data}CompressedObject.prototype={getContentWorker:function(){var worker=new DataWorker(external.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new DataLengthProbe("data_length")),that=this;worker.on("end",function(){if(this.streamInfo.data_length!==that.uncompressedSize){throw new Error("Bug : uncompressed data size mismatch")}});return worker},getCompressedWorker:function(){return new DataWorker(external.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};CompressedObject.createWorkerFrom=function(uncompressedWorker,compression,compressionOptions){return uncompressedWorker.pipe(new Crc32Probe).pipe(new DataLengthProbe("uncompressedSize")).pipe(compression.compressWorker(compressionOptions)).pipe(new DataLengthProbe("compressedSize")).withStreamInfo("compression",compression)};module.exports=CompressedObject},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(require,module,exports){'use strict';var GenericWorker=require("./stream/GenericWorker");exports.STORE={magic:"\0\0",compressWorker:function(compressionOptions){return new GenericWorker("STORE compression")},uncompressWorker:function(){return new GenericWorker("STORE decompression")}};exports.DEFLATE=require("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(require,module,exports){'use strict';var utils=require("./utils");function makeTable(){for(var c,table=[],n=0;256>n;n++){c=n;for(var k=0;8>k;k++){c=1&c?3988292384^c>>>1:c>>>1}table[n]=c}return table}var crcTable=makeTable();function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc=-1^crc;for(var i=pos;i<end;i++){crc=crc>>>8^t[255&(crc^buf[i])]}return-1^crc}function crc32str(crc,str,len,pos){var t=crcTable,end=pos+len;crc=-1^crc;for(var i=pos;i<end;i++){crc=crc>>>8^t[255&(crc^str.charCodeAt(i))]}return-1^crc}module.exports=function crc32wrapper(input,crc){if("undefined"===typeof input||!input.length){return 0}var isArray="string"!==utils.getTypeOf(input);if(isArray){return crc32(0|crc,input,input.length,0)}else{return crc32str(0|crc,input,input.length,0)}}},{"./utils":32}],5:[function(require,module,exports){'use strict';exports.base64=!1;exports.binary=!1;exports.dir=!1;exports.createFolders=!0;exports.date=null;exports.compression=null;exports.compressionOptions=null;exports.comment=null;exports.unixPermissions=null;exports.dosPermissions=null},{}],6:[function(require,module,exports){'use strict';var ES6Promise=null;if("undefined"!==typeof Promise){ES6Promise=Promise}else{ES6Promise=require("lie")}module.exports={Promise:ES6Promise}},{lie:37}],7:[function(require,module,exports){'use strict';var USE_TYPEDARRAY="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array,pako=require("pako"),utils=require("./utils"),GenericWorker=require("./stream/GenericWorker"),ARRAY_TYPE=USE_TYPEDARRAY?"uint8array":"array";exports.magic="\b\0";function FlateWorker(action,options){GenericWorker.call(this,"FlateWorker/"+action);this._pako=null;this._pakoAction=action;this._pakoOptions=options;this.meta={}}utils.inherits(FlateWorker,GenericWorker);FlateWorker.prototype.processChunk=function(chunk){this.meta=chunk.meta;if(null===this._pako){this._createPako()}this._pako.push(utils.transformTo(ARRAY_TYPE,chunk.data),!1)};FlateWorker.prototype.flush=function(){GenericWorker.prototype.flush.call(this);if(null===this._pako){this._createPako()}this._pako.push([],!0)};FlateWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this);this._pako=null};FlateWorker.prototype._createPako=function(){this._pako=new pako[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var self=this;this._pako.onData=function(data){self.push({data:data,meta:self.meta})}};exports.compressWorker=function(compressionOptions){return new FlateWorker("Deflate",compressionOptions)};exports.uncompressWorker=function(){return new FlateWorker("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(require,module,exports){'use strict';var utils=require("../utils"),GenericWorker=require("../stream/GenericWorker"),utf8=require("../utf8"),crc32=require("../crc32"),signature=require("../signature"),decToHex=function(dec,bytes){var hex="",i;for(i=0;i<bytes;i++){hex+=_StringfromCharCode(255&dec);dec=dec>>>8}return hex},generateUnixExternalFileAttr=function(unixPermissions,isDir){var result=unixPermissions;if(!unixPermissions){result=isDir?16893:33204}return(65535&result)<<16},generateDosExternalFileAttr=function(dosPermissions,isDir){return 63&(dosPermissions||0)},generateZipParts=function(streamInfo,streamedContent,streamingEnded,offset,platform,encodeFileName){var file=streamInfo.file,compression=streamInfo.compression,useCustomEncoding=encodeFileName!==utf8.utf8encode,encodedFileName=utils.transformTo("string",encodeFileName(file.name)),utfEncodedFileName=utils.transformTo("string",utf8.utf8encode(file.name)),comment=file.comment,encodedComment=utils.transformTo("string",encodeFileName(comment)),utfEncodedComment=utils.transformTo("string",utf8.utf8encode(comment)),useUTF8ForFileName=utfEncodedFileName.length!==file.name.length,useUTF8ForComment=utfEncodedComment.length!==comment.length,dosTime,dosDate,extraFields="",unicodePathExtraField="",unicodeCommentExtraField="",dir=file.dir,date=file.date,dataInfo={crc32:0,compressedSize:0,uncompressedSize:0};if(!streamedContent||streamingEnded){dataInfo.crc32=streamInfo.crc32;dataInfo.compressedSize=streamInfo.compressedSize;dataInfo.uncompressedSize=streamInfo.uncompressedSize}var bitflag=0;if(streamedContent){bitflag|=8}if(!useCustomEncoding&&(useUTF8ForFileName||useUTF8ForComment)){bitflag|=2048}var extFileAttr=0,versionMadeBy=0;if(dir){extFileAttr|=16}if("UNIX"===platform){versionMadeBy=798;extFileAttr|=generateUnixExternalFileAttr(file.unixPermissions,dir)}else{versionMadeBy=20;extFileAttr|=generateDosExternalFileAttr(file.dosPermissions,dir)}dosTime=date.getUTCHours();dosTime=dosTime<<6;dosTime=dosTime|date.getUTCMinutes();dosTime=dosTime<<5;dosTime=dosTime|date.getUTCSeconds()/2;dosDate=date.getUTCFullYear()-1980;dosDate=dosDate<<4;dosDate=dosDate|date.getUTCMonth()+1;dosDate=dosDate<<5;dosDate=dosDate|date.getUTCDate();if(useUTF8ForFileName){unicodePathExtraField=decToHex(1,1)+decToHex(crc32(encodedFileName),4)+utfEncodedFileName;extraFields+="up"+decToHex(unicodePathExtraField.length,2)+unicodePathExtraField}if(useUTF8ForComment){unicodeCommentExtraField=decToHex(1,1)+decToHex(crc32(encodedComment),4)+utfEncodedComment;extraFields+="uc"+decToHex(unicodeCommentExtraField.length,2)+unicodeCommentExtraField}var header="";header+="\n\0";header+=decToHex(bitflag,2);header+=compression.magic;header+=decToHex(dosTime,2);header+=decToHex(dosDate,2);header+=decToHex(dataInfo.crc32,4);header+=decToHex(dataInfo.compressedSize,4);header+=decToHex(dataInfo.uncompressedSize,4);header+=decToHex(encodedFileName.length,2);header+=decToHex(extraFields.length,2);var fileRecord=signature.LOCAL_FILE_HEADER+header+encodedFileName+extraFields,dirRecord=signature.CENTRAL_FILE_HEADER+decToHex(versionMadeBy,2)+header+decToHex(encodedComment.length,2)+"\0\0"+"\0\0"+decToHex(extFileAttr,4)+decToHex(offset,4)+encodedFileName+extraFields+encodedComment;return{fileRecord:fileRecord,dirRecord:dirRecord}},generateCentralDirectoryEnd=function(entriesCount,centralDirLength,localDirLength,comment,encodeFileName){var dirEnd="",encodedComment=utils.transformTo("string",encodeFileName(comment));dirEnd=signature.CENTRAL_DIRECTORY_END+"\0\0"+"\0\0"+decToHex(entriesCount,2)+decToHex(entriesCount,2)+decToHex(centralDirLength,4)+decToHex(localDirLength,4)+decToHex(encodedComment.length,2)+encodedComment;return dirEnd},generateDataDescriptors=function(streamInfo){var descriptor="";descriptor=signature.DATA_DESCRIPTOR+decToHex(streamInfo.crc32,4)+decToHex(streamInfo.compressedSize,4)+decToHex(streamInfo.uncompressedSize,4);return descriptor};function ZipFileWorker(streamFiles,comment,platform,encodeFileName){GenericWorker.call(this,"ZipFileWorker");this.bytesWritten=0;this.zipComment=comment;this.zipPlatform=platform;this.encodeFileName=encodeFileName;this.streamFiles=streamFiles;this.accumulate=!1;this.contentBuffer=[];this.dirRecords=[];this.currentSourceOffset=0;this.entriesCount=0;this.currentFile=null;this._sources=[]}utils.inherits(ZipFileWorker,GenericWorker);ZipFileWorker.prototype.push=function(chunk){var currentFilePercent=chunk.meta.percent||0,entriesCount=this.entriesCount,remainingFiles=this._sources.length;if(this.accumulate){this.contentBuffer.push(chunk)}else{this.bytesWritten+=chunk.data.length;GenericWorker.prototype.push.call(this,{data:chunk.data,meta:{currentFile:this.currentFile,percent:entriesCount?(currentFilePercent+100*(entriesCount-remainingFiles-1))/entriesCount:100}})}};ZipFileWorker.prototype.openedSource=function(streamInfo){this.currentSourceOffset=this.bytesWritten;this.currentFile=streamInfo.file.name;var streamedContent=this.streamFiles&&!streamInfo.file.dir;if(streamedContent){var record=generateZipParts(streamInfo,streamedContent,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:record.fileRecord,meta:{percent:0}})}else{this.accumulate=!0}};ZipFileWorker.prototype.closedSource=function(streamInfo){this.accumulate=!1;var streamedContent=this.streamFiles&&!streamInfo.file.dir,record=generateZipParts(streamInfo,streamedContent,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.dirRecords.push(record.dirRecord);if(streamedContent){this.push({data:generateDataDescriptors(streamInfo),meta:{percent:100}})}else{this.push({data:record.fileRecord,meta:{percent:0}});while(this.contentBuffer.length){this.push(this.contentBuffer.shift())}}this.currentFile=null};ZipFileWorker.prototype.flush=function(){for(var localDirLength=this.bytesWritten,i=0;i<this.dirRecords.length;i++){this.push({data:this.dirRecords[i],meta:{percent:100}})}var centralDirLength=this.bytesWritten-localDirLength,dirEnd=generateCentralDirectoryEnd(this.dirRecords.length,centralDirLength,localDirLength,this.zipComment,this.encodeFileName);this.push({data:dirEnd,meta:{percent:100}})};ZipFileWorker.prototype.prepareNextSource=function(){this.previous=this._sources.shift();this.openedSource(this.previous.streamInfo);if(this.isPaused){this.previous.pause()}else{this.previous.resume()}};ZipFileWorker.prototype.registerPrevious=function(previous){this._sources.push(previous);var self=this;previous.on("data",function(chunk){self.processChunk(chunk)});previous.on("end",function(){self.closedSource(self.previous.streamInfo);if(self._sources.length){self.prepareNextSource()}else{self.end()}});previous.on("error",function(e){self.error(e)});return this};ZipFileWorker.prototype.resume=function(){if(!GenericWorker.prototype.resume.call(this)){return!1}if(!this.previous&&this._sources.length){this.prepareNextSource();return!0}if(!this.previous&&!this._sources.length&&!this.generatedError){this.end();return!0}};ZipFileWorker.prototype.error=function(e){var sources=this._sources;if(!GenericWorker.prototype.error.call(this,e)){return!1}for(var i=0;i<sources.length;i++){try{sources[i].error(e)}catch(e){}}return!0};ZipFileWorker.prototype.lock=function(){GenericWorker.prototype.lock.call(this);for(var sources=this._sources,i=0;i<sources.length;i++){sources[i].lock()}};module.exports=ZipFileWorker},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(require,module,exports){'use strict';var compressions=require("../compressions"),ZipFileWorker=require("./ZipFileWorker"),getCompression=function(fileCompression,zipCompression){var compressionName=fileCompression||zipCompression,compression=compressions[compressionName];if(!compression){throw new Error(compressionName+" is not a valid compression method !")}return compression};exports.generateWorker=function(zip,options,comment){var zipFileWorker=new ZipFileWorker(options.streamFiles,comment,options.platform,options.encodeFileName),entriesCount=0;try{zip.forEach(function(relativePath,file){entriesCount++;var compression=getCompression(file.options.compression,options.compression),compressionOptions=file.options.compressionOptions||options.compressionOptions||{},dir=file.dir,date=file.date;file._compressWorker(compression,compressionOptions).withStreamInfo("file",{name:relativePath,dir:dir,date:date,comment:file.comment||"",unixPermissions:file.unixPermissions,dosPermissions:file.dosPermissions}).pipe(zipFileWorker)});zipFileWorker.entriesCount=entriesCount}catch(e){zipFileWorker.error(e)}return zipFileWorker}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(require,module,exports){'use strict';function JSZip(){if(!(this instanceof JSZip)){return new JSZip}if(arguments.length){throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.")}this.files={};this.comment=null;this.root="";this.clone=function(){var newObj=new JSZip;for(var i in this){if("function"!==typeof this[i]){newObj[i]=this[i]}}return newObj}}JSZip.prototype=require("./object");JSZip.prototype.loadAsync=require("./load");JSZip.support=require("./support");JSZip.defaults=require("./defaults");JSZip.version="3.2.0";JSZip.loadAsync=function(content,options){return new JSZip().loadAsync(content,options)};JSZip.external=require("./external");module.exports=JSZip},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(require,module,exports){'use strict';var utils=require("./utils"),external=require("./external"),utf8=require("./utf8"),utils=require("./utils"),ZipEntries=require("./zipEntries"),Crc32Probe=require("./stream/Crc32Probe"),nodejsUtils=require("./nodejsUtils");function checkEntryCRC32(zipEntry){return new external.Promise(function(resolve,reject){var worker=zipEntry.decompressed.getContentWorker().pipe(new Crc32Probe);worker.on("error",function(e){reject(e)}).on("end",function(){if(worker.streamInfo.crc32!==zipEntry.decompressed.crc32){reject(new Error("Corrupted zip : CRC32 mismatch"))}else{resolve()}}).resume()})}module.exports=function(data,options){var zip=this;options=utils.extend(options||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:utf8.utf8decode});if(nodejsUtils.isNode&&nodejsUtils.isStream(data)){return external.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file."))}return utils.prepareContent("the loaded zip file",data,!0,options.optimizedBinaryString,options.base64).then(function(data){var zipEntries=new ZipEntries(options);zipEntries.load(data);return zipEntries}).then(function checkCRC32(zipEntries){var promises=[external.Promise.resolve(zipEntries)],files=zipEntries.files;if(options.checkCRC32){for(var i=0;i<files.length;i++){promises.push(checkEntryCRC32(files[i]))}}return external.Promise.all(promises)}).then(function addFiles(results){for(var zipEntries=results.shift(),files=zipEntries.files,i=0,input;i<files.length;i++){input=files[i];zip.file(input.fileNameStr,input.decompressed,{binary:!0,optimizedBinaryString:!0,date:input.date,dir:input.dir,comment:input.fileCommentStr.length?input.fileCommentStr:null,unixPermissions:input.unixPermissions,dosPermissions:input.dosPermissions,createFolders:options.createFolders})}if(zipEntries.zipComment.length){zip.comment=zipEntries.zipComment}return zip})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(require,module,exports){"use strict";var utils=require("../utils"),GenericWorker=require("../stream/GenericWorker");function NodejsStreamInputAdapter(filename,stream){GenericWorker.call(this,"Nodejs stream input adapter for "+filename);this._upstreamEnded=!1;this._bindStream(stream)}utils.inherits(NodejsStreamInputAdapter,GenericWorker);NodejsStreamInputAdapter.prototype._bindStream=function(stream){var self=this;this._stream=stream;stream.pause();stream.on("data",function(chunk){self.push({data:chunk,meta:{percent:0}})}).on("error",function(e){if(self.isPaused){this.generatedError=e}else{self.error(e)}}).on("end",function(){if(self.isPaused){self._upstreamEnded=!0}else{self.end()}})};NodejsStreamInputAdapter.prototype.pause=function(){if(!GenericWorker.prototype.pause.call(this)){return!1}this._stream.pause();return!0};NodejsStreamInputAdapter.prototype.resume=function(){if(!GenericWorker.prototype.resume.call(this)){return!1}if(this._upstreamEnded){this.end()}else{this._stream.resume()}return!0};module.exports=NodejsStreamInputAdapter},{"../stream/GenericWorker":28,"../utils":32}],13:[function(require,module,exports){'use strict';var Readable=require("readable-stream").Readable,utils=require("../utils");utils.inherits(NodejsStreamOutputAdapter,Readable);function NodejsStreamOutputAdapter(helper,options,updateCb){Readable.call(this,options);this._helper=helper;var self=this;helper.on("data",function(data,meta){if(!self.push(data)){self._helper.pause()}if(updateCb){updateCb(meta)}}).on("error",function(e){self.emit("error",e)}).on("end",function(){self.push(null)})}NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()};module.exports=NodejsStreamOutputAdapter},{"../utils":32,"readable-stream":16}],14:[function(require,module,exports){'use strict';module.exports={isNode:"undefined"!==typeof Buffer,newBufferFrom:function(data,encoding){return new Buffer(data,encoding)},allocBuffer:function(size){if(Buffer.alloc){return Buffer.alloc(size)}else{return new Buffer(size)}},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(obj){return obj&&"function"===typeof obj.on&&"function"===typeof obj.pause&&"function"===typeof obj.resume}}},{}],15:[function(require,module,exports){'use strict';var utf8=require("./utf8"),utils=require("./utils"),GenericWorker=require("./stream/GenericWorker"),StreamHelper=require("./stream/StreamHelper"),defaults=require("./defaults"),CompressedObject=require("./compressedObject"),ZipObject=require("./zipObject"),generate=require("./generate"),nodejsUtils=require("./nodejsUtils"),NodejsStreamInputAdapter=require("./nodejs/NodejsStreamInputAdapter"),fileAdd=function(name,data,originalOptions){var dataType=utils.getTypeOf(data),parent,o=utils.extend(originalOptions||{},defaults);o.date=o.date||new Date;if(null!==o.compression){o.compression=o.compression.toUpperCase()}if("string"===typeof o.unixPermissions){o.unixPermissions=parseInt(o.unixPermissions,8)}if(o.unixPermissions&&16384&o.unixPermissions){o.dir=!0}if(o.dosPermissions&&16&o.dosPermissions){o.dir=!0}if(o.dir){name=forceTrailingSlash(name)}if(o.createFolders&&(parent=parentFolder(name))){folderAdd.call(this,parent,!0)}var isUnicodeString="string"===dataType&&!1===o.binary&&!1===o.base64;if(!originalOptions||"undefined"===typeof originalOptions.binary){o.binary=!isUnicodeString}var isCompressedEmpty=data instanceof CompressedObject&&0===data.uncompressedSize;if(isCompressedEmpty||o.dir||!data||0===data.length){o.base64=!1;o.binary=!0;data="";o.compression="STORE";dataType="string"}var zipObjectContent=null;if(data instanceof CompressedObject||data instanceof GenericWorker){zipObjectContent=data}else if(nodejsUtils.isNode&&nodejsUtils.isStream(data)){zipObjectContent=new NodejsStreamInputAdapter(name,data)}else{zipObjectContent=utils.prepareContent(name,data,o.binary,o.optimizedBinaryString,o.base64)}var object=new ZipObject(name,zipObjectContent,o);this.files[name]=object},parentFolder=function(path){if("/"===path.slice(-1)){path=path.substring(0,path.length-1)}var lastSlash=path.lastIndexOf("/");return 0<lastSlash?path.substring(0,lastSlash):""},forceTrailingSlash=function(path){if("/"!==path.slice(-1)){path+="/"}return path},folderAdd=function(name,createFolders){createFolders="undefined"!==typeof createFolders?createFolders:defaults.createFolders;name=forceTrailingSlash(name);if(!this.files[name]){fileAdd.call(this,name,null,{dir:!0,createFolders:createFolders})}return this.files[name]};function isRegExp(object){return"[object RegExp]"===Object.prototype.toString.call(object)}var out={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(cb){var filename,relativePath,file;for(filename in this.files){if(!this.files.hasOwnProperty(filename)){continue}file=this.files[filename];relativePath=filename.slice(this.root.length,filename.length);if(relativePath&&filename.slice(0,this.root.length)===this.root){cb(relativePath,file)}}},filter:function(search){var result=[];this.forEach(function(relativePath,entry){if(search(relativePath,entry)){result.push(entry)}});return result},file:function(name,data,o){if(1===arguments.length){if(isRegExp(name)){var regexp=name;return this.filter(function(relativePath,file){return!file.dir&&regexp.test(relativePath)})}else{var obj=this.files[this.root+name];if(obj&&!obj.dir){return obj}else{return null}}}else{name=this.root+name;fileAdd.call(this,name,data,o)}return this},folder:function(arg){if(!arg){return this}if(isRegExp(arg)){return this.filter(function(relativePath,file){return file.dir&&arg.test(relativePath)})}var name=this.root+arg,newFolder=folderAdd.call(this,name),ret=this.clone();ret.root=newFolder.name;return ret},remove:function(name){name=this.root+name;var file=this.files[name];if(!file){if("/"!==name.slice(-1)){name+="/"}file=this.files[name]}if(file&&!file.dir){delete this.files[name]}else{for(var kids=this.filter(function(relativePath,file){return file.name.slice(0,name.length)===name}),i=0;i<kids.length;i++){delete this.files[kids[i].name]}}return this},generate:function(options){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(options){var worker,opts={};try{opts=utils.extend(options||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:utf8.utf8encode});opts.type=opts.type.toLowerCase();opts.compression=opts.compression.toUpperCase();if("binarystring"===opts.type){opts.type="string"}if(!opts.type){throw new Error("No output type specified.")}utils.checkSupport(opts.type);if("darwin"===opts.platform||"freebsd"===opts.platform||"linux"===opts.platform||"sunos"===opts.platform){opts.platform="UNIX"}if("win32"===opts.platform){opts.platform="DOS"}var comment=opts.comment||this.comment||"";worker=generate.generateWorker(this,opts,comment)}catch(e){worker=new GenericWorker("error");worker.error(e)}return new StreamHelper(worker,opts.type||"string",opts.mimeType)},generateAsync:function(options,onUpdate){return this.generateInternalStream(options).accumulate(onUpdate)},generateNodeStream:function(options,onUpdate){options=options||{};if(!options.type){options.type="nodebuffer"}return this.generateInternalStream(options).toNodejsStream(onUpdate)}};module.exports=out},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(require,module,exports){module.exports=require("stream")},{stream:void 0}],17:[function(require,module,exports){'use strict';var DataReader=require("./DataReader"),utils=require("../utils");function ArrayReader(data){DataReader.call(this,data);for(var i=0;i<this.data.length;i++){data[i]=255&data[i]}}utils.inherits(ArrayReader,DataReader);ArrayReader.prototype.byteAt=function(i){return this.data[this.zero+i]};ArrayReader.prototype.lastIndexOfSignature=function(sig){for(var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),i=this.length-4;0<=i;--i){if(this.data[i]===sig0&&this.data[i+1]===sig1&&this.data[i+2]===sig2&&this.data[i+3]===sig3){return i-this.zero}}return-1};ArrayReader.prototype.readAndCheckSignature=function(sig){var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),data=this.readData(4);return sig0===data[0]&&sig1===data[1]&&sig2===data[2]&&sig3===data[3]};ArrayReader.prototype.readData=function(size){this.checkOffset(size);if(0===size){return[]}var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);this.index+=size;return result};module.exports=ArrayReader},{"../utils":32,"./DataReader":18}],18:[function(require,module,exports){'use strict';var utils=require("../utils");function DataReader(data){this.data=data;this.length=data.length;this.index=0;this.zero=0}DataReader.prototype={checkOffset:function(offset){this.checkIndex(this.index+offset)},checkIndex:function(newIndex){if(this.length<this.zero+newIndex||0>newIndex){throw new Error("End of data reached (data length = "+this.length+", asked index = "+newIndex+"). Corrupted zip ?")}},setIndex:function(newIndex){this.checkIndex(newIndex);this.index=newIndex},skip:function(n){this.setIndex(this.index+n)},byteAt:function(i){},readInt:function(size){var result=0,i;this.checkOffset(size);for(i=this.index+size-1;i>=this.index;i--){result=(result<<8)+this.byteAt(i)}this.index+=size;return result},readString:function(size){return utils.transformTo("string",this.readData(size))},readData:function(size){},lastIndexOfSignature:function(sig){},readAndCheckSignature:function(sig){},readDate:function(){var dostime=this.readInt(4);return new Date(Date.UTC((127&dostime>>25)+1980,(15&dostime>>21)-1,31&dostime>>16,31&dostime>>11,63&dostime>>5,(31&dostime)<<1))}};module.exports=DataReader},{"../utils":32}],19:[function(require,module,exports){'use strict';var Uint8ArrayReader=require("./Uint8ArrayReader"),utils=require("../utils");function NodeBufferReader(data){Uint8ArrayReader.call(this,data)}utils.inherits(NodeBufferReader,Uint8ArrayReader);NodeBufferReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);this.index+=size;return result};module.exports=NodeBufferReader},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(require,module,exports){'use strict';var DataReader=require("./DataReader"),utils=require("../utils");function StringReader(data){DataReader.call(this,data)}utils.inherits(StringReader,DataReader);StringReader.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)};StringReader.prototype.lastIndexOfSignature=function(sig){return this.data.lastIndexOf(sig)-this.zero};StringReader.prototype.readAndCheckSignature=function(sig){var data=this.readData(4);return sig===data};StringReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);this.index+=size;return result};module.exports=StringReader},{"../utils":32,"./DataReader":18}],21:[function(require,module,exports){'use strict';var ArrayReader=require("./ArrayReader"),utils=require("../utils");function Uint8ArrayReader(data){ArrayReader.call(this,data)}utils.inherits(Uint8ArrayReader,ArrayReader);Uint8ArrayReader.prototype.readData=function(size){this.checkOffset(size);if(0===size){return new Uint8Array(0)}var result=this.data.subarray(this.zero+this.index,this.zero+this.index+size);this.index+=size;return result};module.exports=Uint8ArrayReader},{"../utils":32,"./ArrayReader":17}],22:[function(require,module,exports){'use strict';var utils=require("../utils"),support=require("../support"),ArrayReader=require("./ArrayReader"),StringReader=require("./StringReader"),NodeBufferReader=require("./NodeBufferReader"),Uint8ArrayReader=require("./Uint8ArrayReader");module.exports=function(data){var type=utils.getTypeOf(data);utils.checkSupport(type);if("string"===type&&!support.uint8array){return new StringReader(data)}if("nodebuffer"===type){return new NodeBufferReader(data)}if(support.uint8array){return new Uint8ArrayReader(utils.transformTo("uint8array",data))}return new ArrayReader(utils.transformTo("array",data))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(require,module,exports){'use strict';exports.LOCAL_FILE_HEADER="PK\x03\x04";exports.CENTRAL_FILE_HEADER="PK\x01\x02";exports.CENTRAL_DIRECTORY_END="PK\x05\x06";exports.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07";exports.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06";exports.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(require,module,exports){'use strict';var GenericWorker=require("./GenericWorker"),utils=require("../utils");function ConvertWorker(destType){GenericWorker.call(this,"ConvertWorker to "+destType);this.destType=destType}utils.inherits(ConvertWorker,GenericWorker);ConvertWorker.prototype.processChunk=function(chunk){this.push({data:utils.transformTo(this.destType,chunk.data),meta:chunk.meta})};module.exports=ConvertWorker},{"../utils":32,"./GenericWorker":28}],25:[function(require,module,exports){'use strict';var GenericWorker=require("./GenericWorker"),crc32=require("../crc32"),utils=require("../utils");function Crc32Probe(){GenericWorker.call(this,"Crc32Probe");this.withStreamInfo("crc32",0)}utils.inherits(Crc32Probe,GenericWorker);Crc32Probe.prototype.processChunk=function(chunk){this.streamInfo.crc32=crc32(chunk.data,this.streamInfo.crc32||0);this.push(chunk)};module.exports=Crc32Probe},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(require,module,exports){'use strict';var utils=require("../utils"),GenericWorker=require("./GenericWorker");function DataLengthProbe(propName){GenericWorker.call(this,"DataLengthProbe for "+propName);this.propName=propName;this.withStreamInfo(propName,0)}utils.inherits(DataLengthProbe,GenericWorker);DataLengthProbe.prototype.processChunk=function(chunk){if(chunk){var length=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=length+chunk.data.length}GenericWorker.prototype.processChunk.call(this,chunk)};module.exports=DataLengthProbe},{"../utils":32,"./GenericWorker":28}],27:[function(require,module,exports){'use strict';var utils=require("../utils"),GenericWorker=require("./GenericWorker"),DEFAULT_BLOCK_SIZE=1024*16;function DataWorker(dataP){GenericWorker.call(this,"DataWorker");var self=this;this.dataIsReady=!1;this.index=0;this.max=0;this.data=null;this.type="";this._tickScheduled=!1;dataP.then(function(data){self.dataIsReady=!0;self.data=data;self.max=data&&data.length||0;self.type=utils.getTypeOf(data);if(!self.isPaused){self._tickAndRepeat()}},function(e){self.error(e)})}utils.inherits(DataWorker,GenericWorker);DataWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this);this.data=null};DataWorker.prototype.resume=function(){if(!GenericWorker.prototype.resume.call(this)){return!1}if(!this._tickScheduled&&this.dataIsReady){this._tickScheduled=!0;utils.delay(this._tickAndRepeat,[],this)}return!0};DataWorker.prototype._tickAndRepeat=function(){this._tickScheduled=!1;if(this.isPaused||this.isFinished){return}this._tick();if(!this.isFinished){utils.delay(this._tickAndRepeat,[],this);this._tickScheduled=!0}};DataWorker.prototype._tick=function(){if(this.isPaused||this.isFinished){return!1}var size=DEFAULT_BLOCK_SIZE,data=null,nextIndex=_Mathmin(this.max,this.index+size);if(this.index>=this.max){return this.end()}else{switch(this.type){case"string":data=this.data.substring(this.index,nextIndex);break;case"uint8array":data=this.data.subarray(this.index,nextIndex);break;case"array":case"nodebuffer":data=this.data.slice(this.index,nextIndex);break;}this.index=nextIndex;return this.push({data:data,meta:{percent:this.max?100*(this.index/this.max):0}})}};module.exports=DataWorker},{"../utils":32,"./GenericWorker":28}],28:[function(require,module,exports){'use strict';function GenericWorker(name){this.name=name||"default";this.streamInfo={};this.generatedError=null;this.extraStreamInfo={};this.isPaused=!0;this.isFinished=!1;this.isLocked=!1;this._listeners={data:[],end:[],error:[]};this.previous=null}GenericWorker.prototype={push:function(chunk){this.emit("data",chunk)},end:function(){if(this.isFinished){return!1}this.flush();try{this.emit("end");this.cleanUp();this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){if(this.isFinished){return!1}if(this.isPaused){this.generatedError=e}else{this.isFinished=!0;this.emit("error",e);if(this.previous){this.previous.error(e)}this.cleanUp()}return!0},on:function(name,listener){this._listeners[name].push(listener);return this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null;this._listeners=[]},emit:function(name,arg){if(this._listeners[name]){for(var i=0;i<this._listeners[name].length;i++){this._listeners[name][i].call(this,arg)}}},pipe:function(next){return next.registerPrevious(this)},registerPrevious:function(previous){if(this.isLocked){throw new Error("The stream '"+this+"' has already been used.")}this.streamInfo=previous.streamInfo;this.mergeStreamInfo();this.previous=previous;var self=this;previous.on("data",function(chunk){self.processChunk(chunk)});previous.on("end",function(){self.end()});previous.on("error",function(e){self.error(e)});return this},pause:function(){if(this.isPaused||this.isFinished){return!1}this.isPaused=!0;if(this.previous){this.previous.pause()}return!0},resume:function(){if(!this.isPaused||this.isFinished){return!1}this.isPaused=!1;var withError=!1;if(this.generatedError){this.error(this.generatedError);withError=!0}if(this.previous){this.previous.resume()}return!withError},flush:function(){},processChunk:function(chunk){this.push(chunk)},withStreamInfo:function(key,value){this.extraStreamInfo[key]=value;this.mergeStreamInfo();return this},mergeStreamInfo:function(){for(var key in this.extraStreamInfo){if(!this.extraStreamInfo.hasOwnProperty(key)){continue}this.streamInfo[key]=this.extraStreamInfo[key]}},lock:function(){if(this.isLocked){throw new Error("The stream '"+this+"' has already been used.")}this.isLocked=!0;if(this.previous){this.previous.lock()}},toString:function(){var me="Worker "+this.name;if(this.previous){return this.previous+" -> "+me}else{return me}}};module.exports=GenericWorker},{}],29:[function(require,module,exports){'use strict';var utils=require("../utils"),ConvertWorker=require("./ConvertWorker"),GenericWorker=require("./GenericWorker"),base64=require("../base64"),support=require("../support"),external=require("../external"),NodejsStreamOutputAdapter=null;if(support.nodestream){try{NodejsStreamOutputAdapter=require("../nodejs/NodejsStreamOutputAdapter")}catch(e){}}function transformZipOutput(type,content,mimeType){switch(type){case"blob":return utils.newBlob(utils.transformTo("arraybuffer",content),mimeType);case"base64":return base64.encode(content);default:return utils.transformTo(type,content);}}function concat(type,dataArray){var i,index=0,res=null,totalLength=0;for(i=0;i<dataArray.length;i++){totalLength+=dataArray[i].length}switch(type){case"string":return dataArray.join("");case"array":return Array.prototype.concat.apply([],dataArray);case"uint8array":res=new Uint8Array(totalLength);for(i=0;i<dataArray.length;i++){res.set(dataArray[i],index);index+=dataArray[i].length}return res;case"nodebuffer":return Buffer.concat(dataArray);default:throw new Error("concat : unsupported type '"+type+"'");}}function accumulate(helper,updateCallback){return new external.Promise(function(resolve,reject){var dataArray=[],chunkType=helper._internalType,resultType=helper._outputType,mimeType=helper._mimeType;helper.on("data",function(data,meta){dataArray.push(data);if(updateCallback){updateCallback(meta)}}).on("error",function(err){dataArray=[];reject(err)}).on("end",function(){try{var result=transformZipOutput(resultType,concat(chunkType,dataArray),mimeType);resolve(result)}catch(e){reject(e)}dataArray=[]}).resume()})}function StreamHelper(worker,outputType,mimeType){var internalType=outputType;switch(outputType){case"blob":case"arraybuffer":internalType="uint8array";break;case"base64":internalType="string";break;}try{this._internalType=internalType;this._outputType=outputType;this._mimeType=mimeType;utils.checkSupport(internalType);this._worker=worker.pipe(new ConvertWorker(internalType));worker.lock()}catch(e){this._worker=new GenericWorker("error");this._worker.error(e)}}StreamHelper.prototype={accumulate:function(updateCb){return accumulate(this,updateCb)},on:function(evt,fn){var self=this;if("data"===evt){this._worker.on(evt,function(chunk){fn.call(self,chunk.data,chunk.meta)})}else{this._worker.on(evt,function(){utils.delay(fn,arguments,self)})}return this},resume:function(){utils.delay(this._worker.resume,[],this._worker);return this},pause:function(){this._worker.pause();return this},toNodejsStream:function(updateCb){utils.checkSupport("nodestream");if("nodebuffer"!==this._outputType){throw new Error(this._outputType+" is not supported by this method")}return new NodejsStreamOutputAdapter(this,{objectMode:"nodebuffer"!==this._outputType},updateCb)}};module.exports=StreamHelper},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(require,module,exports){'use strict';exports.base64=!0;exports.array=!0;exports.string=!0;exports.arraybuffer="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array;exports.nodebuffer="undefined"!==typeof Buffer;exports.uint8array="undefined"!==typeof Uint8Array;if("undefined"===typeof ArrayBuffer){exports.blob=!1}else{var buffer=new ArrayBuffer(0);try{exports.blob=0===new Blob([buffer],{type:"application/zip"}).size}catch(e){try{var Builder=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,builder=new Builder;builder.append(buffer);exports.blob=0===builder.getBlob("application/zip").size}catch(e){exports.blob=!1}}}try{exports.nodestream=!!require("readable-stream").Readable}catch(e){exports.nodestream=!1}},{"readable-stream":16}],31:[function(require,module,exports){'use strict';for(var utils=require("./utils"),support=require("./support"),nodejsUtils=require("./nodejsUtils"),GenericWorker=require("./stream/GenericWorker"),_utf8len=Array(256),i=0;256>i;i++){_utf8len[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1}_utf8len[254]=_utf8len[254]=1;var string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++){c=str.charCodeAt(m_pos);if(55296===(64512&c)&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if(56320===(64512&c2)){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}buf_len+=128>c?1:2048>c?2:65536>c?3:4}if(support.uint8array){buf=new Uint8Array(buf_len)}else{buf=Array(buf_len)}for(i=0,m_pos=0;i<buf_len;m_pos++){c=str.charCodeAt(m_pos);if(55296===(64512&c)&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if(56320===(64512&c2)){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}if(128>c){buf[i++]=c}else if(2048>c){buf[i++]=192|c>>>6;buf[i++]=128|63&c}else if(65536>c){buf[i++]=224|c>>>12;buf[i++]=128|63&c>>>6;buf[i++]=128|63&c}else{buf[i++]=240|c>>>18;buf[i++]=128|63&c>>>12;buf[i++]=128|63&c>>>6;buf[i++]=128|63&c}}return buf},utf8border=function(buf,max){var pos;max=max||buf.length;if(max>buf.length){max=buf.length}pos=max-1;while(0<=pos&&128===(192&buf[pos])){pos--}if(0>pos){return max}if(0===pos){return max}return pos+_utf8len[buf[pos]]>max?pos:max},buf2string=function(buf){var str,i,out,c,c_len,len=buf.length,utf16buf=Array(2*len);for(out=0,i=0;i<len;){c=buf[i++];if(128>c){utf16buf[out++]=c;continue}c_len=_utf8len[c];if(4<c_len){utf16buf[out++]=65533;i+=c_len-1;continue}c&=2===c_len?31:3===c_len?15:7;while(1<c_len&&i<len){c=c<<6|63&buf[i++];c_len--}if(1<c_len){utf16buf[out++]=65533;continue}if(65536>c){utf16buf[out++]=c}else{c-=65536;utf16buf[out++]=55296|1023&c>>10;utf16buf[out++]=56320|1023&c}}if(utf16buf.length!==out){if(utf16buf.subarray){utf16buf=utf16buf.subarray(0,out)}else{utf16buf.length=out}}return utils.applyFromCharCode(utf16buf)};exports.utf8encode=function utf8encode(str){if(support.nodebuffer){return nodejsUtils.newBufferFrom(str,"utf-8")}return string2buf(str)};exports.utf8decode=function utf8decode(buf){if(support.nodebuffer){return utils.transformTo("nodebuffer",buf).toString("utf-8")}buf=utils.transformTo(support.uint8array?"uint8array":"array",buf);return buf2string(buf)};function Utf8DecodeWorker(){GenericWorker.call(this,"utf-8 decode");this.leftOver=null}utils.inherits(Utf8DecodeWorker,GenericWorker);Utf8DecodeWorker.prototype.processChunk=function(chunk){var data=utils.transformTo(support.uint8array?"uint8array":"array",chunk.data);if(this.leftOver&&this.leftOver.length){if(support.uint8array){var previousData=data;data=new Uint8Array(previousData.length+this.leftOver.length);data.set(this.leftOver,0);data.set(previousData,this.leftOver.length)}else{data=this.leftOver.concat(data)}this.leftOver=null}var nextBoundary=utf8border(data),usableData=data;if(nextBoundary!==data.length){if(support.uint8array){usableData=data.subarray(0,nextBoundary);this.leftOver=data.subarray(nextBoundary,data.length)}else{usableData=data.slice(0,nextBoundary);this.leftOver=data.slice(nextBoundary,data.length)}}this.push({data:exports.utf8decode(usableData),meta:chunk.meta})};Utf8DecodeWorker.prototype.flush=function(){if(this.leftOver&&this.leftOver.length){this.push({data:exports.utf8decode(this.leftOver),meta:{}});this.leftOver=null}};exports.Utf8DecodeWorker=Utf8DecodeWorker;function Utf8EncodeWorker(){GenericWorker.call(this,"utf-8 encode")}utils.inherits(Utf8EncodeWorker,GenericWorker);Utf8EncodeWorker.prototype.processChunk=function(chunk){this.push({data:exports.utf8encode(chunk.data),meta:chunk.meta})};exports.Utf8EncodeWorker=Utf8EncodeWorker},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(require,module,exports){'use strict';var support=require("./support"),base64=require("./base64"),nodejsUtils=require("./nodejsUtils"),setImmediate=require("set-immediate-shim"),external=require("./external");function string2binary(str){var result=null;if(support.uint8array){result=new Uint8Array(str.length)}else{result=Array(str.length)}return stringToArrayLike(str,result)}exports.newBlob=function(part,type){exports.checkSupport("blob");try{return new Blob([part],{type:type})}catch(e){try{var Builder=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,builder=new Builder;builder.append(part);return builder.getBlob(type)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};function identity(input){return input}function stringToArrayLike(str,array){for(var i=0;i<str.length;++i){array[i]=255&str.charCodeAt(i)}return array}var arrayToStringHelper={stringifyByChunk:function(array,type,chunk){var result=[],k=0,len=array.length;if(len<=chunk){return _StringfromCharCode.apply(null,array)}while(k<len){if("array"===type||"nodebuffer"===type){result.push(_StringfromCharCode.apply(null,array.slice(k,_Mathmin(k+chunk,len))))}else{result.push(_StringfromCharCode.apply(null,array.subarray(k,_Mathmin(k+chunk,len))))}k+=chunk}return result.join("")},stringifyByChar:function(array){for(var resultStr="",i=0;i<array.length;i++){resultStr+=_StringfromCharCode(array[i])}return resultStr},applyCanBeUsed:{uint8array:function(){try{return support.uint8array&&1===_StringfromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return support.nodebuffer&&1===_StringfromCharCode.apply(null,nodejsUtils.allocBuffer(1)).length}catch(e){return!1}}()}};function arrayLikeToString(array){var chunk=65536,type=exports.getTypeOf(array),canUseApply=!0;if("uint8array"===type){canUseApply=arrayToStringHelper.applyCanBeUsed.uint8array}else if("nodebuffer"===type){canUseApply=arrayToStringHelper.applyCanBeUsed.nodebuffer}if(canUseApply){while(1<chunk){try{return arrayToStringHelper.stringifyByChunk(array,type,chunk)}catch(e){chunk=Math.floor(chunk/2)}}}return arrayToStringHelper.stringifyByChar(array)}exports.applyFromCharCode=arrayLikeToString;function arrayLikeToArrayLike(arrayFrom,arrayTo){for(var i=0;i<arrayFrom.length;i++){arrayTo[i]=arrayFrom[i]}return arrayTo}var transform={};transform.string={string:identity,array:function(input){return stringToArrayLike(input,Array(input.length))},arraybuffer:function(input){return transform.string.uint8array(input).buffer},uint8array:function(input){return stringToArrayLike(input,new Uint8Array(input.length))},nodebuffer:function(input){return stringToArrayLike(input,nodejsUtils.allocBuffer(input.length))}};transform.array={string:arrayLikeToString,array:identity,arraybuffer:function(input){return new Uint8Array(input).buffer},uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}};transform.arraybuffer={string:function(input){return arrayLikeToString(new Uint8Array(input))},array:function(input){return arrayLikeToArrayLike(new Uint8Array(input),Array(input.byteLength))},arraybuffer:identity,uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(new Uint8Array(input))}};transform.uint8array={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,Array(input.length))},arraybuffer:function(input){return input.buffer},uint8array:identity,nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}};transform.nodebuffer={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,Array(input.length))},arraybuffer:function(input){return transform.nodebuffer.uint8array(input).buffer},uint8array:function(input){return arrayLikeToArrayLike(input,new Uint8Array(input.length))},nodebuffer:identity};exports.transformTo=function(outputType,input){if(!input){input=""}if(!outputType){return input}exports.checkSupport(outputType);var inputType=exports.getTypeOf(input),result=transform[inputType][outputType](input);return result};exports.getTypeOf=function(input){if("string"===typeof input){return"string"}if("[object Array]"===Object.prototype.toString.call(input)){return"array"}if(support.nodebuffer&&nodejsUtils.isBuffer(input)){return"nodebuffer"}if(support.uint8array&&input instanceof Uint8Array){return"uint8array"}if(support.arraybuffer&&input instanceof ArrayBuffer){return"arraybuffer"}};exports.checkSupport=function(type){var supported=support[type.toLowerCase()];if(!supported){throw new Error(type+" is not supported by this platform")}};exports.MAX_VALUE_16BITS=65535;exports.MAX_VALUE_32BITS=-1;exports.pretty=function(str){var res="",code,i;for(i=0;i<(str||"").length;i++){code=str.charCodeAt(i);res+="\\x"+(16>code?"0":"")+code.toString(16).toUpperCase()}return res};exports.delay=function(callback,args,self){setImmediate(function(){callback.apply(self||null,args||[])})};exports.inherits=function(ctor,superCtor){var Obj=function(){};Obj.prototype=superCtor.prototype;ctor.prototype=new Obj};exports.extend=function(){var result={},i,attr;for(i=0;i<arguments.length;i++){for(attr in arguments[i]){if(arguments[i].hasOwnProperty(attr)&&"undefined"===typeof result[attr]){result[attr]=arguments[i][attr]}}}return result};exports.prepareContent=function(name,inputData,isBinary,isOptimizedBinaryString,isBase64){var promise=external.Promise.resolve(inputData).then(function(data){var isBlob=support.blob&&(data instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(data)));if(isBlob&&"undefined"!==typeof FileReader){return new external.Promise(function(resolve,reject){var reader=new FileReader;reader.onload=function(e){resolve(e.target.result)};reader.onerror=function(e){reject(e.target.error)};reader.readAsArrayBuffer(data)})}else{return data}});return promise.then(function(data){var dataType=exports.getTypeOf(data);if(!dataType){return external.Promise.reject(new Error("Can't read the data of '"+name+"'. Is it "+"in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}if("arraybuffer"===dataType){data=exports.transformTo("uint8array",data)}else if("string"===dataType){if(isBase64){data=base64.decode(data)}else if(isBinary){if(!0!==isOptimizedBinaryString){data=string2binary(data)}}}return data})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(require,module,exports){'use strict';var readerFor=require("./reader/readerFor"),utils=require("./utils"),sig=require("./signature"),ZipEntry=require("./zipEntry"),utf8=require("./utf8"),support=require("./support");function ZipEntries(loadOptions){this.files=[];this.loadOptions=loadOptions}ZipEntries.prototype={checkSignature:function(expectedSignature){if(!this.reader.readAndCheckSignature(expectedSignature)){this.reader.index-=4;var signature=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature "+"("+utils.pretty(signature)+", expected "+utils.pretty(expectedSignature)+")")}},isSignature:function(askedIndex,expectedSignature){var currentIndex=this.reader.index;this.reader.setIndex(askedIndex);var signature=this.reader.readString(4),result=signature===expectedSignature;this.reader.setIndex(currentIndex);return result},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var zipComment=this.reader.readData(this.zipCommentLength),decodeParamType=support.uint8array?"uint8array":"array",decodeContent=utils.transformTo(decodeParamType,zipComment);this.zipComment=this.loadOptions.decodeFileName(decodeContent)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.reader.skip(4);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};var extraDataSize=this.zip64EndOfCentralSize-44,index=0,extraFieldId,extraFieldLength,extraFieldValue;while(index<extraDataSize){extraFieldId=this.reader.readInt(2);extraFieldLength=this.reader.readInt(4);extraFieldValue=this.reader.readData(extraFieldLength);this.zip64ExtensibleData[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}}},readBlockZip64EndOfCentralLocator:function(){this.diskWithZip64CentralDirStart=this.reader.readInt(4);this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8);this.disksCount=this.reader.readInt(4);if(1<this.disksCount){throw new Error("Multi-volumes zip are not supported")}},readLocalFiles:function(){var i,file;for(i=0;i<this.files.length;i++){file=this.files[i];this.reader.setIndex(file.localHeaderOffset);this.checkSignature(sig.LOCAL_FILE_HEADER);file.readLocalPart(this.reader);file.handleUTF8();file.processAttributes()}},readCentralDir:function(){var file;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(sig.CENTRAL_FILE_HEADER)){file=new ZipEntry({zip64:this.zip64},this.loadOptions);file.readCentralPart(this.reader);this.files.push(file)}if(this.centralDirRecords!==this.files.length){if(0!==this.centralDirRecords&&0===this.files.length){throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}else{}}},readEndOfCentral:function(){var offset=this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);if(0>offset){var isGarbage=!this.isSignature(0,sig.LOCAL_FILE_HEADER);if(isGarbage){throw new Error("Can't find end of central directory : is this a zip file ? "+"If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html")}else{throw new Error("Corrupted zip: can't find end of central directory")}}this.reader.setIndex(offset);var endOfCentralDirOffset=offset;this.checkSignature(sig.CENTRAL_DIRECTORY_END);this.readBlockEndOfCentral();if(this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){this.zip64=!0;offset=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR);if(0>offset){throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator")}this.reader.setIndex(offset);this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();if(!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,sig.ZIP64_CENTRAL_DIRECTORY_END)){this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_END);if(0>this.relativeOffsetEndOfZip64CentralDir){throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}var expectedEndOfCentralDirOffset=this.centralDirOffset+this.centralDirSize;if(this.zip64){expectedEndOfCentralDirOffset+=20;expectedEndOfCentralDirOffset+=12+this.zip64EndOfCentralSize}var extraBytes=endOfCentralDirOffset-expectedEndOfCentralDirOffset;if(0<extraBytes){if(this.isSignature(endOfCentralDirOffset,sig.CENTRAL_FILE_HEADER)){}else{this.reader.zero=extraBytes}}else if(0>extraBytes){throw new Error("Corrupted zip: missing "+Math.abs(extraBytes)+" bytes.")}},prepareReader:function(data){this.reader=readerFor(data)},load:function(data){this.prepareReader(data);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};module.exports=ZipEntries},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(require,module,exports){'use strict';var readerFor=require("./reader/readerFor"),utils=require("./utils"),CompressedObject=require("./compressedObject"),crc32fn=require("./crc32"),utf8=require("./utf8"),compressions=require("./compressions"),support=require("./support"),MADE_BY_DOS=0,MADE_BY_UNIX=3,findCompression=function(compressionMethod){for(var method in compressions){if(!compressions.hasOwnProperty(method)){continue}if(compressions[method].magic===compressionMethod){return compressions[method]}}return null};function ZipEntry(options,loadOptions){this.options=options;this.loadOptions=loadOptions}ZipEntry.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(reader){var compression,localExtraFieldsLength;reader.skip(22);this.fileNameLength=reader.readInt(2);localExtraFieldsLength=reader.readInt(2);this.fileName=reader.readData(this.fileNameLength);reader.skip(localExtraFieldsLength);if(-1===this.compressedSize||-1===this.uncompressedSize){throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory "+"(compressedSize === -1 || uncompressedSize === -1)")}compression=findCompression(this.compressionMethod);if(null===compression){throw new Error("Corrupted zip : compression "+utils.pretty(this.compressionMethod)+" unknown (inner file : "+utils.transformTo("string",this.fileName)+")")}this.decompressed=new CompressedObject(this.compressedSize,this.uncompressedSize,this.crc32,compression,reader.readData(this.compressedSize))},readCentralPart:function(reader){this.versionMadeBy=reader.readInt(2);reader.skip(2);this.bitFlag=reader.readInt(2);this.compressionMethod=reader.readString(2);this.date=reader.readDate();this.crc32=reader.readInt(4);this.compressedSize=reader.readInt(4);this.uncompressedSize=reader.readInt(4);var fileNameLength=reader.readInt(2);this.extraFieldsLength=reader.readInt(2);this.fileCommentLength=reader.readInt(2);this.diskNumberStart=reader.readInt(2);this.internalFileAttributes=reader.readInt(2);this.externalFileAttributes=reader.readInt(4);this.localHeaderOffset=reader.readInt(4);if(this.isEncrypted()){throw new Error("Encrypted zip are not supported")}reader.skip(fileNameLength);this.readExtraFields(reader);this.parseZIP64ExtraField(reader);this.fileComment=reader.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null;this.dosPermissions=null;var madeBy=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1;if(madeBy===MADE_BY_DOS){this.dosPermissions=63&this.externalFileAttributes}if(madeBy===MADE_BY_UNIX){this.unixPermissions=65535&this.externalFileAttributes>>16}if(!this.dir&&"/"===this.fileNameStr.slice(-1)){this.dir=!0}},parseZIP64ExtraField:function(reader){if(!this.extraFields[1]){return}var extraReader=readerFor(this.extraFields[1].value);if(this.uncompressedSize===utils.MAX_VALUE_32BITS){this.uncompressedSize=extraReader.readInt(8)}if(this.compressedSize===utils.MAX_VALUE_32BITS){this.compressedSize=extraReader.readInt(8)}if(this.localHeaderOffset===utils.MAX_VALUE_32BITS){this.localHeaderOffset=extraReader.readInt(8)}if(this.diskNumberStart===utils.MAX_VALUE_32BITS){this.diskNumberStart=extraReader.readInt(4)}},readExtraFields:function(reader){var end=reader.index+this.extraFieldsLength,extraFieldId,extraFieldLength,extraFieldValue;if(!this.extraFields){this.extraFields={}}while(reader.index<end){extraFieldId=reader.readInt(2);extraFieldLength=reader.readInt(2);extraFieldValue=reader.readData(extraFieldLength);this.extraFields[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}}},handleUTF8:function(){var decodeParamType=support.uint8array?"uint8array":"array";if(this.useUTF8()){this.fileNameStr=utf8.utf8decode(this.fileName);this.fileCommentStr=utf8.utf8decode(this.fileComment)}else{var upath=this.findExtraFieldUnicodePath();if(null!==upath){this.fileNameStr=upath}else{var fileNameByteArray=utils.transformTo(decodeParamType,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(fileNameByteArray)}var ucomment=this.findExtraFieldUnicodeComment();if(null!==ucomment){this.fileCommentStr=ucomment}else{var commentByteArray=utils.transformTo(decodeParamType,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(commentByteArray)}}},findExtraFieldUnicodePath:function(){var upathField=this.extraFields[28789];if(upathField){var extraReader=readerFor(upathField.value);if(1!==extraReader.readInt(1)){return null}if(crc32fn(this.fileName)!==extraReader.readInt(4)){return null}return utf8.utf8decode(extraReader.readData(upathField.length-5))}return null},findExtraFieldUnicodeComment:function(){var ucommentField=this.extraFields[25461];if(ucommentField){var extraReader=readerFor(ucommentField.value);if(1!==extraReader.readInt(1)){return null}if(crc32fn(this.fileComment)!==extraReader.readInt(4)){return null}return utf8.utf8decode(extraReader.readData(ucommentField.length-5))}return null}};module.exports=ZipEntry},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(require,module,exports){'use strict';var StreamHelper=require("./stream/StreamHelper"),DataWorker=require("./stream/DataWorker"),utf8=require("./utf8"),CompressedObject=require("./compressedObject"),GenericWorker=require("./stream/GenericWorker"),ZipObject=function(name,data,options){this.name=name;this.dir=options.dir;this.date=options.date;this.comment=options.comment;this.unixPermissions=options.unixPermissions;this.dosPermissions=options.dosPermissions;this._data=data;this._dataBinary=options.binary;this.options={compression:options.compression,compressionOptions:options.compressionOptions}};ZipObject.prototype={internalStream:function(type){var result=null,outputType="string";try{if(!type){throw new Error("No output type specified.")}outputType=type.toLowerCase();var askUnicodeString="string"===outputType||"text"===outputType;if("binarystring"===outputType||"text"===outputType){outputType="string"}result=this._decompressWorker();var isUnicodeString=!this._dataBinary;if(isUnicodeString&&!askUnicodeString){result=result.pipe(new utf8.Utf8EncodeWorker)}if(!isUnicodeString&&askUnicodeString){result=result.pipe(new utf8.Utf8DecodeWorker)}}catch(e){result=new GenericWorker("error");result.error(e)}return new StreamHelper(result,outputType,"")},async:function(type,onUpdate){return this.internalStream(type).accumulate(onUpdate)},nodeStream:function(type,onUpdate){return this.internalStream(type||"nodebuffer").toNodejsStream(onUpdate)},_compressWorker:function(compression,compressionOptions){if(this._data instanceof CompressedObject&&this._data.compression.magic===compression.magic){return this._data.getCompressedWorker()}else{var result=this._decompressWorker();if(!this._dataBinary){result=result.pipe(new utf8.Utf8EncodeWorker)}return CompressedObject.createWorkerFrom(result,compression,compressionOptions)}},_decompressWorker:function(){if(this._data instanceof CompressedObject){return this._data.getContentWorker()}else if(this._data instanceof GenericWorker){return this._data}else{return new DataWorker(this._data)}}};for(var removedMethods=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],removedFn=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<removedMethods.length;i++){ZipObject.prototype[removedMethods[i]]=removedFn}module.exports=ZipObject},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(require,module,exports){(function(global){'use strict';var Mutation=global.MutationObserver||global.WebKitMutationObserver,scheduleDrain;{if(Mutation){var called=0,observer=new Mutation(nextTick),element=global.document.createTextNode("");observer.observe(element,{characterData:!0});scheduleDrain=function(){element.data=called=++called%2}}else if(!global.setImmediate&&"undefined"!==typeof global.MessageChannel){var channel=new global.MessageChannel;channel.port1.onmessage=nextTick;scheduleDrain=function(){channel.port2.postMessage(0)}}else if("document"in global&&"onreadystatechange"in global.document.createElement("script")){scheduleDrain=function(){var scriptEl=global.document.createElement("script");scriptEl.onreadystatechange=function(){nextTick();scriptEl.onreadystatechange=null;scriptEl.parentNode.removeChild(scriptEl);scriptEl=null};global.document.documentElement.appendChild(scriptEl)}}else{scheduleDrain=function(){setTimeout(nextTick,0)}}}var draining,queue=[];function nextTick(){draining=!0;var i,oldQueue,len=queue.length;while(len){oldQueue=queue;queue=[];i=-1;while(++i<len){oldQueue[i]()}len=queue.length}draining=!1}module.exports=immediate;function immediate(task){if(1===queue.push(task)&&!draining){scheduleDrain()}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],37:[function(require,module,exports){'use strict';var immediate=require("immediate");function INTERNAL(){}var handlers={},REJECTED=["REJECTED"],FULFILLED=["FULFILLED"],PENDING=["PENDING"];module.exports=Promise;function Promise(resolver){if("function"!==typeof resolver){throw new TypeError("resolver must be a function")}this.state=PENDING;this.queue=[];this.outcome=void 0;if(resolver!==INTERNAL){safelyResolveThenable(this,resolver)}}Promise.prototype["finally"]=function(callback){if("function"!==typeof callback){return this}var p=this.constructor;return this.then(resolve,reject);function resolve(value){function yes(){return value}return p.resolve(callback()).then(yes)}function reject(reason){function no(){throw reason}return p.resolve(callback()).then(no)}};Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){if("function"!==typeof onFulfilled&&this.state===FULFILLED||"function"!==typeof onRejected&&this.state===REJECTED){return this}var promise=new this.constructor(INTERNAL);if(this.state!==PENDING){var resolver=this.state===FULFILLED?onFulfilled:onRejected;unwrap(promise,resolver,this.outcome)}else{this.queue.push(new QueueItem(promise,onFulfilled,onRejected))}return promise};function QueueItem(promise,onFulfilled,onRejected){this.promise=promise;if("function"===typeof onFulfilled){this.onFulfilled=onFulfilled;this.callFulfilled=this.otherCallFulfilled}if("function"===typeof onRejected){this.onRejected=onRejected;this.callRejected=this.otherCallRejected}}QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)};QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)};QueueItem.prototype.callRejected=function(value){handlers.reject(this.promise,value)};QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)};function unwrap(promise,func,value){immediate(function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}if(returnValue===promise){handlers.reject(promise,new TypeError("Cannot resolve promise with itself"))}else{handlers.resolve(promise,returnValue)}})}handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if("error"===result.status){return handlers.reject(self,result.value)}var thenable=result.value;if(thenable){safelyResolveThenable(self,thenable)}else{self.state=FULFILLED;self.outcome=value;var i=-1,len=self.queue.length;while(++i<len){self.queue[i].callFulfilled(value)}}return self};handlers.reject=function(self,error){self.state=REJECTED;self.outcome=error;var i=-1,len=self.queue.length;while(++i<len){self.queue[i].callRejected(error)}return self};function getThen(obj){var then=obj&&obj.then;if(obj&&("object"===typeof obj||"function"===typeof obj)&&"function"===typeof then){return function appyThen(){then.apply(obj,arguments)}}}function safelyResolveThenable(self,thenable){var called=!1;function onError(value){if(called){return}called=!0;handlers.reject(self,value)}function onSuccess(value){if(called){return}called=!0;handlers.resolve(self,value)}function tryToUnwrap(){thenable(onSuccess,onError)}var result=tryCatch(tryToUnwrap);if("error"===result.status){onError(result.value)}}function tryCatch(func,value){var out={};try{out.value=func(value);out.status="success"}catch(e){out.status="error";out.value=e}return out}Promise.resolve=resolve;function resolve(value){if(value instanceof this){return value}return handlers.resolve(new this(INTERNAL),value)}Promise.reject=reject;function reject(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)}Promise.all=all;function all(iterable){var self=this;if("[object Array]"!==Object.prototype.toString.call(iterable)){return this.reject(new TypeError("must be an array"))}var len=iterable.length,called=!1;if(!len){return this.resolve([])}var values=Array(len),resolved=0,i=-1,promise=new this(INTERNAL);while(++i<len){allResolver(iterable[i],i)}return promise;function allResolver(value,i){self.resolve(value).then(resolveFromAll,function(error){if(!called){called=!0;handlers.reject(promise,error)}});function resolveFromAll(outValue){values[i]=outValue;if(++resolved===len&&!called){called=!0;handlers.resolve(promise,values)}}}}Promise.race=race;function race(iterable){var self=this;if("[object Array]"!==Object.prototype.toString.call(iterable)){return this.reject(new TypeError("must be an array"))}var len=iterable.length,called=!1;if(!len){return this.resolve([])}var i=-1,promise=new this(INTERNAL);while(++i<len){resolver(iterable[i])}return promise;function resolver(value){self.resolve(value).then(function(response){if(!called){called=!0;handlers.resolve(promise,response)}},function(error){if(!called){called=!0;handlers.reject(promise,error)}})}}},{immediate:36}],38:[function(require,module,exports){'use strict';var assign=require("./lib/utils/common").assign,deflate=require("./lib/deflate"),inflate=require("./lib/inflate"),constants=require("./lib/zlib/constants"),pako={};assign(pako,deflate,inflate,constants);module.exports=pako},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(require,module,exports){'use strict';var zlib_deflate=require("./zlib/deflate"),utils=require("./utils/common"),strings=require("./utils/strings"),msg=require("./zlib/messages"),ZStream=require("./zlib/zstream"),toString=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH=4,Z_OK=0,Z_STREAM_END=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;function Deflate(options){if(!(this instanceof Deflate))return new Deflate(options);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},options||{});var opt=this.options;if(opt.raw&&0<opt.windowBits){opt.windowBits=-opt.windowBits}else if(opt.gzip&&0<opt.windowBits&&16>opt.windowBits){opt.windowBits+=16}this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new ZStream;this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK){throw new Error(msg[status])}if(opt.header){zlib_deflate.deflateSetHeader(this.strm,opt.header)}if(opt.dictionary){var dict;if("string"===typeof opt.dictionary){dict=strings.string2buf(opt.dictionary)}else if("[object ArrayBuffer]"===toString.call(opt.dictionary)){dict=new Uint8Array(opt.dictionary)}else{dict=opt.dictionary}status=zlib_deflate.deflateSetDictionary(this.strm,dict);if(status!==Z_OK){throw new Error(msg[status])}this._dict_set=!0}}Deflate.prototype.push=function(data,mode){var strm=this.strm,chunkSize=this.options.chunkSize,status,_mode;if(this.ended){return!1}_mode=mode===~~mode?mode:!0===mode?Z_FINISH:Z_NO_FLUSH;if("string"===typeof data){strm.input=strings.string2buf(data)}else if("[object ArrayBuffer]"===toString.call(data)){strm.input=new Uint8Array(data)}else{strm.input=data}strm.next_in=0;strm.avail_in=strm.input.length;do{if(0===strm.avail_out){strm.output=new utils.Buf8(chunkSize);strm.next_out=0;strm.avail_out=chunkSize}status=zlib_deflate.deflate(strm,_mode);if(status!==Z_STREAM_END&&status!==Z_OK){this.onEnd(status);this.ended=!0;return!1}if(0===strm.avail_out||0===strm.avail_in&&(_mode===Z_FINISH||_mode===Z_SYNC_FLUSH)){if("string"===this.options.to){this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out)))}else{this.onData(utils.shrinkBuf(strm.output,strm.next_out))}}}while((0<strm.avail_in||0===strm.avail_out)&&status!==Z_STREAM_END);if(_mode===Z_FINISH){status=zlib_deflate.deflateEnd(this.strm);this.onEnd(status);this.ended=!0;return status===Z_OK}if(_mode===Z_SYNC_FLUSH){this.onEnd(Z_OK);strm.avail_out=0;return!0}return!0};Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)};Deflate.prototype.onEnd=function(status){if(status===Z_OK){if("string"===this.options.to){this.result=this.chunks.join("")}else{this.result=utils.flattenChunks(this.chunks)}}this.chunks=[];this.err=status;this.msg=this.strm.msg};function deflate(input,options){var deflator=new Deflate(options);deflator.push(input,!0);if(deflator.err){throw deflator.msg||msg[deflator.err]}return deflator.result}function deflateRaw(input,options){options=options||{};options.raw=!0;return deflate(input,options)}function gzip(input,options){options=options||{};options.gzip=!0;return deflate(input,options)}exports.Deflate=Deflate;exports.deflate=deflate;exports.deflateRaw=deflateRaw;exports.gzip=gzip},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(require,module,exports){'use strict';var zlib_inflate=require("./zlib/inflate"),utils=require("./utils/common"),strings=require("./utils/strings"),c=require("./zlib/constants"),msg=require("./zlib/messages"),ZStream=require("./zlib/zstream"),GZheader=require("./zlib/gzheader"),toString=Object.prototype.toString;function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},options||{});var opt=this.options;if(opt.raw&&0<=opt.windowBits&&16>opt.windowBits){opt.windowBits=-opt.windowBits;if(0===opt.windowBits){opt.windowBits=-15}}if(0<=opt.windowBits&&16>opt.windowBits&&!(options&&options.windowBits)){opt.windowBits+=32}if(15<opt.windowBits&&48>opt.windowBits){if(0===(15&opt.windowBits)){opt.windowBits|=15}}this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new ZStream;this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK){throw new Error(msg[status])}this.header=new GZheader;zlib_inflate.inflateGetHeader(this.strm,this.header)}Inflate.prototype.push=function(data,mode){var strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,status,_mode,next_out_utf8,tail,utf8str,dict,allowBufError=!1;if(this.ended){return!1}_mode=mode===~~mode?mode:!0===mode?c.Z_FINISH:c.Z_NO_FLUSH;if("string"===typeof data){strm.input=strings.binstring2buf(data)}else if("[object ArrayBuffer]"===toString.call(data)){strm.input=new Uint8Array(data)}else{strm.input=data}strm.next_in=0;strm.avail_in=strm.input.length;do{if(0===strm.avail_out){strm.output=new utils.Buf8(chunkSize);strm.next_out=0;strm.avail_out=chunkSize}status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH);if(status===c.Z_NEED_DICT&&dictionary){if("string"===typeof dictionary){dict=strings.string2buf(dictionary)}else if("[object ArrayBuffer]"===toString.call(dictionary)){dict=new Uint8Array(dictionary)}else{dict=dictionary}status=zlib_inflate.inflateSetDictionary(this.strm,dict)}if(status===c.Z_BUF_ERROR&&!0===allowBufError){status=c.Z_OK;allowBufError=!1}if(status!==c.Z_STREAM_END&&status!==c.Z_OK){this.onEnd(status);this.ended=!0;return!1}if(strm.next_out){if(0===strm.avail_out||status===c.Z_STREAM_END||0===strm.avail_in&&(_mode===c.Z_FINISH||_mode===c.Z_SYNC_FLUSH)){if("string"===this.options.to){next_out_utf8=strings.utf8border(strm.output,strm.next_out);tail=strm.next_out-next_out_utf8;utf8str=strings.buf2string(strm.output,next_out_utf8);strm.next_out=tail;strm.avail_out=chunkSize-tail;if(tail){utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0)}this.onData(utf8str)}else{this.onData(utils.shrinkBuf(strm.output,strm.next_out))}}}if(0===strm.avail_in&&0===strm.avail_out){allowBufError=!0}}while((0<strm.avail_in||0===strm.avail_out)&&status!==c.Z_STREAM_END);if(status===c.Z_STREAM_END){_mode=c.Z_FINISH}if(_mode===c.Z_FINISH){status=zlib_inflate.inflateEnd(this.strm);this.onEnd(status);this.ended=!0;return status===c.Z_OK}if(_mode===c.Z_SYNC_FLUSH){this.onEnd(c.Z_OK);strm.avail_out=0;return!0}return!0};Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)};Inflate.prototype.onEnd=function(status){if(status===c.Z_OK){if("string"===this.options.to){this.result=this.chunks.join("")}else{this.result=utils.flattenChunks(this.chunks)}}this.chunks=[];this.err=status;this.msg=this.strm.msg};function inflate(input,options){var inflator=new Inflate(options);inflator.push(input,!0);if(inflator.err){throw inflator.msg||msg[inflator.err]}return inflator.result}function inflateRaw(input,options){options=options||{};options.raw=!0;return inflate(input,options)}exports.Inflate=Inflate;exports.inflate=inflate;exports.inflateRaw=inflateRaw;exports.ungzip=inflate},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(require,module,exports){'use strict';var TYPED_OK="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;exports.assign=function(obj){var sources=Array.prototype.slice.call(arguments,1);while(sources.length){var source=sources.shift();if(!source){continue}if("object"!==typeof source){throw new TypeError(source+"must be non-object")}for(var p in source){if(source.hasOwnProperty(p)){obj[p]=source[p]}}}return obj};exports.shrinkBuf=function(buf,size){if(buf.length===size){return buf}if(buf.subarray){return buf.subarray(0,size)}buf.length=size;return buf};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray){dest.set(src.subarray(src_offs,src_offs+len),dest_offs);return}for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;len=0;for(i=0,l=chunks.length;i<l;i++){len+=chunks[i].length}result=new Uint8Array(len);pos=0;for(i=0,l=chunks.length;i<l;i++){chunk=chunks[i];result.set(chunk,pos);pos+=chunk.length}return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){if(on){exports.Buf8=Uint8Array;exports.Buf16=Uint16Array;exports.Buf32=Int32Array;exports.assign(exports,fnTyped)}else{exports.Buf8=Array;exports.Buf16=Array;exports.Buf32=Array;exports.assign(exports,fnUntyped)}};exports.setTyped(TYPED_OK)},{}],42:[function(require,module,exports){'use strict';var utils=require("./common"),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{_StringfromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=!1}try{_StringfromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils.Buf8(256),q=0;256>q;q++){_utf8len[q]=252<=q?6:248<=q?5:240<=q?4:224<=q?3:192<=q?2:1}_utf8len[254]=_utf8len[254]=1;exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++){c=str.charCodeAt(m_pos);if(55296===(64512&c)&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if(56320===(64512&c2)){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}buf_len+=128>c?1:2048>c?2:65536>c?3:4}buf=new utils.Buf8(buf_len);for(i=0,m_pos=0;i<buf_len;m_pos++){c=str.charCodeAt(m_pos);if(55296===(64512&c)&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if(56320===(64512&c2)){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}if(128>c){buf[i++]=c}else if(2048>c){buf[i++]=192|c>>>6;buf[i++]=128|63&c}else if(65536>c){buf[i++]=224|c>>>12;buf[i++]=128|63&c>>>6;buf[i++]=128|63&c}else{buf[i++]=240|c>>>18;buf[i++]=128|63&c>>>12;buf[i++]=128|63&c>>>6;buf[i++]=128|63&c}}return buf};function buf2binstring(buf,len){if(65537>len){if(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK){return _StringfromCharCode.apply(null,utils.shrinkBuf(buf,len))}}for(var result="",i=0;i<len;i++){result+=_StringfromCharCode(buf[i])}return result}exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)};exports.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++){buf[i]=str.charCodeAt(i)}return buf};exports.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=Array(2*len);for(out=0,i=0;i<len;){c=buf[i++];if(128>c){utf16buf[out++]=c;continue}c_len=_utf8len[c];if(4<c_len){utf16buf[out++]=65533;i+=c_len-1;continue}c&=2===c_len?31:3===c_len?15:7;while(1<c_len&&i<len){c=c<<6|63&buf[i++];c_len--}if(1<c_len){utf16buf[out++]=65533;continue}if(65536>c){utf16buf[out++]=c}else{c-=65536;utf16buf[out++]=55296|1023&c>>10;utf16buf[out++]=56320|1023&c}}return buf2binstring(utf16buf,out)};exports.utf8border=function(buf,max){var pos;max=max||buf.length;if(max>buf.length){max=buf.length}pos=max-1;while(0<=pos&&128===(192&buf[pos])){pos--}if(0>pos){return max}if(0===pos){return max}return pos+_utf8len[buf[pos]]>max?pos:max}},{"./common":41}],43:[function(require,module,exports){'use strict';function adler32(adler,buf,len,pos){var s1=0|65535&adler,s2=0|65535&adler>>>16,n=0;while(0!==len){n=2e3<len?2e3:len;len-=n;do{s1=0|s1+buf[pos++];s2=0|s2+s1}while(--n);s1%=65521;s2%=65521}return 0|(s1|s2<<16)}module.exports=adler32},{}],44:[function(require,module,exports){'use strict';module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(require,module,exports){'use strict';function makeTable(){for(var c,table=[],n=0;256>n;n++){c=n;for(var k=0;8>k;k++){c=1&c?3988292384^c>>>1:c>>>1}table[n]=c}return table}var crcTable=makeTable();function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++){crc=crc>>>8^t[255&(crc^buf[i])]}return-1^crc}module.exports=crc32},{}],46:[function(require,module,exports){'use strict';var utils=require("../utils/common"),trees=require("./trees"),adler32=require("./adler32"),crc32=require("./crc32"),msg=require("./messages"),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(strm,errorCode){strm.msg=msg[errorCode];return errorCode}function rank(f){return(f<<1)-(4<f?9:0)}function zero(buf){var len=buf.length;while(0<=--len){buf[len]=0}}function flush_pending(strm){var s=strm.state,len=s.pending;if(len>strm.avail_out){len=strm.avail_out}if(0===len){return}utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out);strm.next_out+=len;s.pending_out+=len;strm.total_out+=len;strm.avail_out-=len;s.pending-=len;if(0===s.pending){s.pending_out=0}}function flush_block_only(s,last){trees._tr_flush_block(s,0<=s.block_start?s.block_start:-1,s.strstart-s.block_start,last);s.block_start=s.strstart;flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=255&b>>>8;s.pending_buf[s.pending++]=255&b}function read_buf(strm,buf,start,size){var len=strm.avail_in;if(len>size){len=size}if(0===len){return 0}strm.avail_in-=len;utils.arraySet(buf,strm.input,strm.next_in,len,start);if(1===strm.state.wrap){strm.adler=adler32(strm.adler,buf,len,start)}else if(2===strm.state.wrap){strm.adler=crc32(strm.adler,buf,len,start)}strm.next_in+=len;strm.total_in+=len;return len}function longest_match(s,cur_match){var chain_length=s.max_chain_length,scan=s.strstart,match,len,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];if(s.prev_length>=s.good_match){chain_length>>=2}if(nice_match>s.lookahead){nice_match=s.lookahead}do{match=cur_match;if(_win[match+best_len]!==scan_end||_win[match+best_len-1]!==scan_end1||_win[match]!==_win[scan]||_win[++match]!==_win[scan+1]){continue}scan+=2;match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);len=MAX_MATCH-(strend-scan);scan=strend-MAX_MATCH;if(len>best_len){s.match_start=cur_match;best_len=len;if(len>=nice_match){break}scan_end1=_win[scan+best_len-1];scan_end=_win[scan+best_len]}}while((cur_match=prev[cur_match&wmask])>limit&&0!==--chain_length);if(best_len<=s.lookahead){return best_len}return s.lookahead}function fill_window(s){var _w_size=s.w_size,p,n,m,more,str;do{more=s.window_size-s.lookahead-s.strstart;if(s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0);s.match_start-=_w_size;s.strstart-=_w_size;s.block_start-=_w_size;n=s.hash_size;p=n;do{m=s.head[--p];s.head[p]=m>=_w_size?m-_w_size:0}while(--n);n=_w_size;p=n;do{m=s.prev[--p];s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(0===s.strm.avail_in){break}n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more);s.lookahead+=n;if(s.lookahead+s.insert>=MIN_MATCH){str=s.strstart-s.insert;s.ins_h=s.window[str];s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;while(s.insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask;s.prev[str&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=str;str++;s.insert--;if(s.lookahead+s.insert<MIN_MATCH){break}}}}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_stored(s,flush){var max_block_size=65535;if(max_block_size>s.pending_buf_size-5){max_block_size=s.pending_buf_size-5}for(;;){if(1>=s.lookahead){fill_window(s);if(0===s.lookahead&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(0===s.lookahead){break}}s.strstart+=s.lookahead;s.lookahead=0;var max_start=s.block_start+max_block_size;if(0===s.strstart||s.strstart>=max_start){s.lookahead=s.strstart-max_start;s.strstart=max_start;flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD){flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,!0);if(0===s.strm.avail_out){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.strstart>s.block_start){flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}return BS_NEED_MORE}function deflate_fast(s,flush){var hash_head,bflush;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(0===s.lookahead){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}if(0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head)}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;if(s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++;s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}while(0!==--s.match_length);s.strstart++}else{s.strstart+=s.match_length;s.match_length=0;s.ins_h=s.window[s.strstart];s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask}}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,!0);if(0===s.strm.avail_out){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_slow(s,flush){var hash_head,bflush,max_insert;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(0===s.lookahead){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}s.prev_length=s.match_length;s.prev_match=s.match_start;s.match_length=MIN_MATCH-1;if(0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head);if(5>=s.match_length&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&4096<s.strstart-s.match_start)){s.match_length=MIN_MATCH-1}}if(s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH;bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH);s.lookahead-=s.prev_length-1;s.prev_length-=2;do{if(++s.strstart<=max_insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}}while(0!==--s.prev_length);s.match_available=0;s.match_length=MIN_MATCH-1;s.strstart++;if(bflush){flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}}else if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);if(bflush){flush_block_only(s,!1)}s.strstart++;s.lookahead--;if(0===s.strm.avail_out){return BS_NEED_MORE}}else{s.match_available=1;s.strstart++;s.lookahead--}}if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);s.match_available=0}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,!0);if(0===s.strm.avail_out){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_rle(s,flush){var bflush,prev,scan,strend,_win=s.window;for(;;){if(s.lookahead<=MAX_MATCH){fill_window(s);if(s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(0===s.lookahead){break}}s.match_length=0;if(s.lookahead>=MIN_MATCH&&0<s.strstart){scan=s.strstart-1;prev=_win[scan];if(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan);if(s.match_length>s.lookahead){s.match_length=s.lookahead}}}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;s.strstart+=s.match_length;s.match_length=0}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,!0);if(0===s.strm.avail_out){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_huff(s,flush){var bflush;for(;;){if(0===s.lookahead){fill_window(s);if(0===s.lookahead){if(flush===Z_NO_FLUSH){return BS_NEED_MORE}break}}s.match_length=0;bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++;if(bflush){flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,!0);if(0===s.strm.avail_out){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,!1);if(0===s.strm.avail_out){return BS_NEED_MORE}}return BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length;this.max_lazy=max_lazy;this.nice_length=nice_length;this.max_chain=max_chain;this.func=func}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(s){s.window_size=2*s.w_size;zero(s.head);s.max_lazy_match=configuration_table[s.level].max_lazy;s.good_match=configuration_table[s.level].good_length;s.nice_match=configuration_table[s.level].nice_length;s.max_chain_length=configuration_table[s.level].max_chain;s.strstart=0;s.block_start=0;s.lookahead=0;s.insert=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;s.ins_h=0}function DeflateState(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=Z_DEFLATED;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE);this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1));this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1));zero(this.dyn_ltree);zero(this.dyn_dtree);zero(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new utils.Buf16(MAX_BITS+1);this.heap=new utils.Buf16(2*L_CODES+1);zero(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new utils.Buf16(2*L_CODES+1);zero(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function deflateResetKeep(strm){var s;if(!strm||!strm.state){return err(strm,Z_STREAM_ERROR)}strm.total_in=strm.total_out=0;strm.data_type=Z_UNKNOWN;s=strm.state;s.pending=0;s.pending_out=0;if(0>s.wrap){s.wrap=-s.wrap}s.status=s.wrap?INIT_STATE:BUSY_STATE;strm.adler=2===s.wrap?0:1;s.last_flush=Z_NO_FLUSH;trees._tr_init(s);return Z_OK}function deflateReset(strm){var ret=deflateResetKeep(strm);if(ret===Z_OK){lm_init(strm.state)}return ret}function deflateSetHeader(strm,head){if(!strm||!strm.state){return Z_STREAM_ERROR}if(2!==strm.state.wrap){return Z_STREAM_ERROR}strm.state.gzhead=head;return Z_OK}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm){return Z_STREAM_ERROR}var wrap=1;if(level===Z_DEFAULT_COMPRESSION){level=6}if(0>windowBits){wrap=0;windowBits=-windowBits}else if(15<windowBits){wrap=2;windowBits-=16}if(1>memLevel||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||8>windowBits||15<windowBits||0>level||9<level||0>strategy||strategy>Z_FIXED){return err(strm,Z_STREAM_ERROR)}if(8===windowBits){windowBits=9}var s=new DeflateState;strm.state=s;s.strm=strm;s.wrap=wrap;s.gzhead=null;s.w_bits=windowBits;s.w_size=1<<s.w_bits;s.w_mask=s.w_size-1;s.hash_bits=memLevel+7;s.hash_size=1<<s.hash_bits;s.hash_mask=s.hash_size-1;s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH);s.window=new utils.Buf8(2*s.w_size);s.head=new utils.Buf16(s.hash_size);s.prev=new utils.Buf16(s.w_size);s.lit_bufsize=1<<memLevel+6;s.pending_buf_size=4*s.lit_bufsize;s.pending_buf=new utils.Buf8(s.pending_buf_size);s.d_buf=1*s.lit_bufsize;s.l_buf=(1+2)*s.lit_bufsize;s.level=level;s.strategy=strategy;s.method=method;return deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>Z_BLOCK||0>flush){return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR}s=strm.state;if(!strm.output||!strm.input&&0!==strm.avail_in||s.status===FINISH_STATE&&flush!==Z_FINISH){return err(strm,0===strm.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR)}s.strm=strm;old_flush=s.last_flush;s.last_flush=flush;if(s.status===INIT_STATE){if(2===s.wrap){strm.adler=0;put_byte(s,31);put_byte(s,139);put_byte(s,8);if(!s.gzhead){put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||2>s.level?4:0);put_byte(s,OS_CODE);s.status=BUSY_STATE}else{put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(!s.gzhead.extra?0:4)+(!s.gzhead.name?0:8)+(!s.gzhead.comment?0:16));put_byte(s,255&s.gzhead.time);put_byte(s,255&s.gzhead.time>>8);put_byte(s,255&s.gzhead.time>>16);put_byte(s,255&s.gzhead.time>>24);put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||2>s.level?4:0);put_byte(s,255&s.gzhead.os);if(s.gzhead.extra&&s.gzhead.extra.length){put_byte(s,255&s.gzhead.extra.length);put_byte(s,255&s.gzhead.extra.length>>8)}if(s.gzhead.hcrc){strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)}s.gzindex=0;s.status=EXTRA_STATE}}else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8,level_flags=-1;if(s.strategy>=Z_HUFFMAN_ONLY||2>s.level){level_flags=0}else if(6>s.level){level_flags=1}else if(6===s.level){level_flags=2}else{level_flags=3}header|=level_flags<<6;if(0!==s.strstart){header|=PRESET_DICT}header+=31-header%31;s.status=BUSY_STATE;putShortMSB(s,header);if(0!==s.strstart){putShortMSB(s,strm.adler>>>16);putShortMSB(s,65535&strm.adler)}strm.adler=1}}if(s.status===EXTRA_STATE){if(s.gzhead.extra){beg=s.pending;while(s.gzindex<(65535&s.gzhead.extra.length)){if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){break}}put_byte(s,255&s.gzhead.extra[s.gzindex]);s.gzindex++}if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(s.gzindex===s.gzhead.extra.length){s.gzindex=0;s.status=NAME_STATE}}else{s.status=NAME_STATE}}if(s.status===NAME_STATE){if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.name.length){val=255&s.gzhead.name.charCodeAt(s.gzindex++)}else{val=0}put_byte(s,val)}while(0!==val);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(0===val){s.gzindex=0;s.status=COMMENT_STATE}}else{s.status=COMMENT_STATE}}if(s.status===COMMENT_STATE){if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.comment.length){val=255&s.gzhead.comment.charCodeAt(s.gzindex++)}else{val=0}put_byte(s,val)}while(0!==val);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(0===val){s.status=HCRC_STATE}}else{s.status=HCRC_STATE}}if(s.status===HCRC_STATE){if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size){flush_pending(strm)}if(s.pending+2<=s.pending_buf_size){put_byte(s,255&strm.adler);put_byte(s,255&strm.adler>>8);strm.adler=0;s.status=BUSY_STATE}}else{s.status=BUSY_STATE}}if(0!==s.pending){flush_pending(strm);if(0===strm.avail_out){s.last_flush=-1;return Z_OK}}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH){return err(strm,Z_BUF_ERROR)}if(s.status===FINISH_STATE&&0!==strm.avail_in){return err(strm,Z_BUF_ERROR)}if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if(bstate===BS_FINISH_STARTED||bstate===BS_FINISH_DONE){s.status=FINISH_STATE}if(bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED){if(0===strm.avail_out){s.last_flush=-1}return Z_OK}if(bstate===BS_BLOCK_DONE){if(flush===Z_PARTIAL_FLUSH){trees._tr_align(s)}else if(flush!==Z_BLOCK){trees._tr_stored_block(s,0,0,!1);if(flush===Z_FULL_FLUSH){zero(s.head);if(0===s.lookahead){s.strstart=0;s.block_start=0;s.insert=0}}}flush_pending(strm);if(0===strm.avail_out){s.last_flush=-1;return Z_OK}}}if(flush!==Z_FINISH){return Z_OK}if(0>=s.wrap){return Z_STREAM_END}if(2===s.wrap){put_byte(s,255&strm.adler);put_byte(s,255&strm.adler>>8);put_byte(s,255&strm.adler>>16);put_byte(s,255&strm.adler>>24);put_byte(s,255&strm.total_in);put_byte(s,255&strm.total_in>>8);put_byte(s,255&strm.total_in>>16);put_byte(s,255&strm.total_in>>24)}else{putShortMSB(s,strm.adler>>>16);putShortMSB(s,65535&strm.adler)}flush_pending(strm);if(0<s.wrap){s.wrap=-s.wrap}return 0!==s.pending?Z_OK:Z_STREAM_END}function deflateEnd(strm){var status;if(!strm||!strm.state){return Z_STREAM_ERROR}status=strm.state.status;if(status!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE){return err(strm,Z_STREAM_ERROR)}strm.state=null;return status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK}function deflateSetDictionary(strm,dictionary){var dictLength=dictionary.length,s,str,n,wrap,avail,next,input,tmpDict;if(!strm||!strm.state){return Z_STREAM_ERROR}s=strm.state;wrap=s.wrap;if(2===wrap||1===wrap&&s.status!==INIT_STATE||s.lookahead){return Z_STREAM_ERROR}if(1===wrap){strm.adler=adler32(strm.adler,dictionary,dictLength,0)}s.wrap=0;if(dictLength>=s.w_size){if(0===wrap){zero(s.head);s.strstart=0;s.block_start=0;s.insert=0}tmpDict=new utils.Buf8(s.w_size);utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0);dictionary=tmpDict;dictLength=s.w_size}avail=strm.avail_in;next=strm.next_in;input=strm.input;strm.avail_in=dictLength;strm.next_in=0;strm.input=dictionary;fill_window(s);while(s.lookahead>=MIN_MATCH){str=s.strstart;n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask;s.prev[str&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=str;str++}while(--n);s.strstart=str;s.lookahead=MIN_MATCH-1;fill_window(s)}s.strstart+=s.lookahead;s.block_start=s.strstart;s.insert=s.lookahead;s.lookahead=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;strm.next_in=next;strm.input=input;strm.avail_in=avail;s.wrap=wrap;return Z_OK}exports.deflateInit=deflateInit;exports.deflateInit2=deflateInit2;exports.deflateReset=deflateReset;exports.deflateResetKeep=deflateResetKeep;exports.deflateSetHeader=deflateSetHeader;exports.deflate=deflate;exports.deflateEnd=deflateEnd;exports.deflateSetDictionary=deflateSetDictionary;exports.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(require,module,exports){'use strict';function GZheader(){this.text=0;this.time=0;this.xflags=0;this.os=0;this.extra=null;this.extra_len=0;this.name="";this.comment="";this.hcrc=0;this.done=!1}module.exports=GZheader},{}],48:[function(require,module,exports){'use strict';var BAD=30,TYPE=12;module.exports=function inflate_fast(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state;_in=strm.next_in;input=strm.input;last=_in+(strm.avail_in-5);_out=strm.next_out;output=strm.output;beg=_out-(start-strm.avail_out);end=_out+(strm.avail_out-257);dmax=state.dmax;wsize=state.wsize;whave=state.whave;wnext=state.wnext;s_window=state.window;hold=state.hold;bits=state.bits;lcode=state.lencode;dcode=state.distcode;lmask=(1<<state.lenbits)-1;dmask=(1<<state.distbits)-1;top:do{if(15>bits){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=lcode[hold&lmask];dolen:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=255&here>>>16;if(0===op){output[_out++]=65535&here}else if(16&op){len=65535&here;op&=15;if(op){if(bits<op){hold+=input[_in++]<<bits;bits+=8}len+=hold&(1<<op)-1;hold>>>=op;bits-=op}if(15>bits){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=dcode[hold&dmask];dodist:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=255&here>>>16;if(16&op){dist=65535&here;op&=15;if(bits<op){hold+=input[_in++]<<bits;bits+=8;if(bits<op){hold+=input[_in++]<<bits;bits+=8}}dist+=hold&(1<<op)-1;if(dist>dmax){strm.msg="invalid distance too far back";state.mode=BAD;break top}hold>>>=op;bits-=op;op=_out-beg;if(dist>op){op=dist-op;if(op>whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break top}}from=0;from_source=s_window;if(0===wnext){from+=wsize-op;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}else if(wnext<op){from+=wsize+wnext-op;op-=wnext;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=0;if(wnext<len){op=wnext;len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}}else{from+=wnext-op;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}while(2<len){output[_out++]=from_source[from++];output[_out++]=from_source[from++];output[_out++]=from_source[from++];len-=3}if(len){output[_out++]=from_source[from++];if(1<len){output[_out++]=from_source[from++]}}}else{from=_out-dist;do{output[_out++]=output[from++];output[_out++]=output[from++];output[_out++]=output[from++];len-=3}while(2<len);if(len){output[_out++]=output[from++];if(1<len){output[_out++]=output[from++]}}}}else if(0===(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}else{strm.msg="invalid distance code";state.mode=BAD;break top}break}}else if(0===(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}else if(32&op){state.mode=TYPE;break top}else{strm.msg="invalid literal/length code";state.mode=BAD;break top}break}}while(_in<last&&_out<end);len=bits>>3;_in-=len;bits-=len<<3;hold&=(1<<bits)-1;strm.next_in=_in;strm.next_out=_out;strm.avail_in=_in<last?5+(last-_in):5-(_in-last);strm.avail_out=_out<end?257+(end-_out):257-(_out-end);state.hold=hold;state.bits=bits;return}},{}],49:[function(require,module,exports){'use strict';var utils=require("../utils/common"),adler32=require("./adler32"),crc32=require("./crc32"),inflate_fast=require("./inffast"),inflate_table=require("./inftrees"),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(q){return(255&q>>>24)+(65280&q>>>8)+((65280&q)<<8)+((255&q)<<24)}function InflateState(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new utils.Buf16(320);this.work=new utils.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function inflateResetKeep(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;strm.total_in=strm.total_out=state.total=0;strm.msg="";if(state.wrap){strm.adler=1&state.wrap}state.mode=HEAD;state.last=0;state.havedict=0;state.dmax=32768;state.head=null;state.hold=0;state.bits=0;state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS);state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS);state.sane=1;state.back=-1;return Z_OK}function inflateReset(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;state.wsize=0;state.whave=0;state.wnext=0;return inflateResetKeep(strm)}function inflateReset2(strm,windowBits){var wrap,state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if(0>windowBits){wrap=0;windowBits=-windowBits}else{wrap=(windowBits>>4)+1;if(48>windowBits){windowBits&=15}}if(windowBits&&(8>windowBits||15<windowBits)){return Z_STREAM_ERROR}if(null!==state.window&&state.wbits!==windowBits){state.window=null}state.wrap=wrap;state.wbits=windowBits;return inflateReset(strm)}function inflateInit2(strm,windowBits){var ret,state;if(!strm){return Z_STREAM_ERROR}state=new InflateState;strm.state=state;state.window=null;ret=inflateReset2(strm,windowBits);if(ret!==Z_OK){strm.state=null}return ret}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(state){if(virgin){var sym;lenfix=new utils.Buf32(512);distfix=new utils.Buf32(32);sym=0;while(144>sym){state.lens[sym++]=8}while(256>sym){state.lens[sym++]=9}while(280>sym){state.lens[sym++]=7}while(288>sym){state.lens[sym++]=8}inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9});sym=0;while(32>sym){state.lens[sym++]=5}inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5});virgin=!1}state.lencode=lenfix;state.lenbits=9;state.distcode=distfix;state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;if(null===state.window){state.wsize=1<<state.wbits;state.wnext=0;state.whave=0;state.window=new utils.Buf8(state.wsize)}if(copy>=state.wsize){utils.arraySet(state.window,src,end-state.wsize,state.wsize,0);state.wnext=0;state.whave=state.wsize}else{dist=state.wsize-state.wnext;if(dist>copy){dist=copy}utils.arraySet(state.window,src,end-copy,dist,state.wnext);copy-=dist;if(copy){utils.arraySet(state.window,src,end-copy,copy,0);state.wnext=copy;state.whave=state.wsize}else{state.wnext+=dist;if(state.wnext===state.wsize){state.wnext=0}if(state.whave<state.wsize){state.whave+=dist}}}return 0}function inflate(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here=0,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,hbuf=new utils.Buf8(4),opts,n,order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in){return Z_STREAM_ERROR}state=strm.state;if(state.mode===TYPE){state.mode=TYPEDO}put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;_in=have;_out=left;ret=Z_OK;inf_leave:for(;;){switch(state.mode){case HEAD:if(0===state.wrap){state.mode=TYPEDO;break}while(16>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(2&state.wrap&&35615===hold){state.check=0;hbuf[0]=255&hold;hbuf[1]=255&hold>>>8;state.check=crc32(state.check,hbuf,2,0);hold=0;bits=0;state.mode=FLAGS;break}state.flags=0;if(state.head){state.head.done=!1}if(!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg="incorrect header check";state.mode=BAD;break}if((15&hold)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}hold>>>=4;bits-=4;len=(15&hold)+8;if(0===state.wbits){state.wbits=len}else if(len>state.wbits){strm.msg="invalid window size";state.mode=BAD;break}state.dmax=1<<len;strm.adler=state.check=1;state.mode=512&hold?DICTID:TYPE;hold=0;bits=0;break;case FLAGS:while(16>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.flags=hold;if((255&state.flags)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}if(57344&state.flags){strm.msg="unknown header flags set";state.mode=BAD;break}if(state.head){state.head.text=1&hold>>8}if(512&state.flags){hbuf[0]=255&hold;hbuf[1]=255&hold>>>8;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=TIME;case TIME:while(32>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.time=hold}if(512&state.flags){hbuf[0]=255&hold;hbuf[1]=255&hold>>>8;hbuf[2]=255&hold>>>16;hbuf[3]=255&hold>>>24;state.check=crc32(state.check,hbuf,4,0)}hold=0;bits=0;state.mode=OS;case OS:while(16>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.xflags=255&hold;state.head.os=hold>>8}if(512&state.flags){hbuf[0]=255&hold;hbuf[1]=255&hold>>>8;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=EXLEN;case EXLEN:if(1024&state.flags){while(16>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length=hold;if(state.head){state.head.extra_len=hold}if(512&state.flags){hbuf[0]=255&hold;hbuf[1]=255&hold>>>8;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0}else if(state.head){state.head.extra=null}state.mode=EXTRA;case EXTRA:if(1024&state.flags){copy=state.length;if(copy>have){copy=have}if(copy){if(state.head){len=state.head.extra_len-state.length;if(!state.head.extra){state.head.extra=Array(state.head.extra_len)}utils.arraySet(state.head.extra,input,next,copy,len)}if(512&state.flags){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;state.length-=copy}if(state.length){break inf_leave}}state.length=0;state.mode=NAME;case NAME:if(2048&state.flags){if(0===have){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&65536>state.length){state.head.name+=_StringfromCharCode(len)}}while(len&&copy<have);if(512&state.flags){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.name=null}state.length=0;state.mode=COMMENT;case COMMENT:if(4096&state.flags){if(0===have){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&65536>state.length){state.head.comment+=_StringfromCharCode(len)}}while(len&&copy<have);if(512&state.flags){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.comment=null}state.mode=HCRC;case HCRC:if(512&state.flags){while(16>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(65535&state.check)){strm.msg="header crc mismatch";state.mode=BAD;break}hold=0;bits=0}if(state.head){state.head.hcrc=1&state.flags>>9;state.head.done=!0}strm.adler=state.check=0;state.mode=TYPE;break;case DICTID:while(32>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}strm.adler=state.check=zswap32(hold);hold=0;bits=0;state.mode=DICT;case DICT:if(0===state.havedict){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;return Z_NEED_DICT}strm.adler=state.check=1;state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES){break inf_leave}case TYPEDO:if(state.last){hold>>>=7&bits;bits-=7&bits;state.mode=CHECK;break}while(3>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.last=1&hold;hold>>>=1;bits-=1;switch(3&hold){case 0:state.mode=STORED;break;case 1:fixedtables(state);state.mode=LEN_;if(flush===Z_TREES){hold>>>=2;bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type";state.mode=BAD;}hold>>>=2;bits-=2;break;case STORED:hold>>>=7&bits;bits-=7&bits;while(32>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((65535&hold)!==(65535^hold>>>16)){strm.msg="invalid stored block lengths";state.mode=BAD;break}state.length=65535&hold;hold=0;bits=0;state.mode=COPY_;if(flush===Z_TREES){break inf_leave}case COPY_:state.mode=COPY;case COPY:copy=state.length;if(copy){if(copy>have){copy=have}if(copy>left){copy=left}if(0===copy){break inf_leave}utils.arraySet(output,input,next,copy,put);have-=copy;next+=copy;left-=copy;put+=copy;state.length-=copy;break}state.mode=TYPE;break;case TABLE:while(14>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.nlen=(31&hold)+257;hold>>>=5;bits-=5;state.ndist=(31&hold)+1;hold>>>=5;bits-=5;state.ncode=(15&hold)+4;hold>>>=4;bits-=4;if(286<state.nlen||30<state.ndist){strm.msg="too many length or distance symbols";state.mode=BAD;break}state.have=0;state.mode=LENLENS;case LENLENS:while(state.have<state.ncode){while(3>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.lens[order[state.have++]]=7&hold;hold>>>=3;bits-=3}while(19>state.have){state.lens[order[state.have++]]=0}state.lencode=state.lendyn;state.lenbits=7;opts={bits:state.lenbits};ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid code lengths set";state.mode=BAD;break}state.have=0;state.mode=CODELENS;case CODELENS:while(state.have<state.nlen+state.ndist){for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=255&here>>>16;here_val=65535&here;if(here_bits<=bits){break}if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(16>here_val){hold>>>=here_bits;bits-=here_bits;state.lens[state.have++]=here_val}else{if(16===here_val){n=here_bits+2;while(bits<n){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;if(0===state.have){strm.msg="invalid bit length repeat";state.mode=BAD;break}len=state.lens[state.have-1];copy=3+(3&hold);hold>>>=2;bits-=2}else if(17===here_val){n=here_bits+3;while(bits<n){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=3+(7&hold);hold>>>=3;bits-=3}else{n=here_bits+7;while(bits<n){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=11+(127&hold);hold>>>=7;bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat";state.mode=BAD;break}while(copy--){state.lens[state.have++]=len}}}if(state.mode===BAD){break}if(0===state.lens[256]){strm.msg="invalid code -- missing end-of-block";state.mode=BAD;break}state.lenbits=9;opts={bits:state.lenbits};ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid literal/lengths set";state.mode=BAD;break}state.distbits=6;state.distcode=state.distdyn;opts={bits:state.distbits};ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts);state.distbits=opts.bits;if(ret){strm.msg="invalid distances set";state.mode=BAD;break}state.mode=LEN_;if(flush===Z_TREES){break inf_leave}case LEN_:state.mode=LEN;case LEN:if(6<=have&&258<=left){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;inflate_fast(strm,_out);put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;if(state.mode===TYPE){state.back=-1}break}state.back=0;for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=255&here>>>16;here_val=65535&here;if(here_bits<=bits){break}if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_op&&0===(240&here_op)){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=255&here>>>16;here_val=65535&here;if(last_bits+here_bits<=bits){break}if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;state.length=here_val;if(0===here_op){state.mode=LIT;break}if(32&here_op){state.back=-1;state.mode=TYPE;break}if(64&here_op){strm.msg="invalid literal/length code";state.mode=BAD;break}state.extra=15&here_op;state.mode=LENEXT;case LENEXT:if(state.extra){n=state.extra;while(bits<n){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}state.was=state.length;state.mode=DIST;case DIST:for(;;){here=state.distcode[hold&(1<<state.distbits)-1];here_bits=here>>>24;here_op=255&here>>>16;here_val=65535&here;if(here_bits<=bits){break}if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(0===(240&here_op)){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=255&here>>>16;here_val=65535&here;if(last_bits+here_bits<=bits){break}if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;if(64&here_op){strm.msg="invalid distance code";state.mode=BAD;break}state.offset=here_val;state.extra=15&here_op;state.mode=DISTEXT;case DISTEXT:if(state.extra){n=state.extra;while(bits<n){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.offset+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back";state.mode=BAD;break}state.mode=MATCH;case MATCH:if(0===left){break inf_leave}copy=_out-left;if(state.offset>copy){copy=state.offset-copy;if(copy>state.whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break}}if(copy>state.wnext){copy-=state.wnext;from=state.wsize-copy}else{from=state.wnext-copy}if(copy>state.length){copy=state.length}from_source=state.window}else{from_source=output;from=put-state.offset;copy=state.length}if(copy>left){copy=left}left-=copy;state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);if(0===state.length){state.mode=LEN}break;case LIT:if(0===left){break inf_leave}output[put++]=state.length;left--;state.mode=LEN;break;case CHECK:if(state.wrap){while(32>bits){if(0===have){break inf_leave}have--;hold|=input[next++]<<bits;bits+=8}_out-=left;strm.total_out+=_out;state.total+=_out;if(_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)}_out=left;if((state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check";state.mode=BAD;break}hold=0;bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){while(32>bits){if(0===have){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(4294967295&state.total)){strm.msg="incorrect length check";state.mode=BAD;break}hold=0;bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR;}}strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;if(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH)){if(updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)){state.mode=MEM;return Z_MEM_ERROR}}_in-=strm.avail_in;_out-=strm.avail_out;strm.total_in+=_in;strm.total_out+=_out;state.total+=_out;if(state.wrap&&_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)}strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0);if((0===_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK){ret=Z_BUF_ERROR}return ret}function inflateEnd(strm){if(!strm||!strm.state){return Z_STREAM_ERROR}var state=strm.state;if(state.window){state.window=null}strm.state=null;return Z_OK}function inflateGetHeader(strm,head){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if(0===(2&state.wrap)){return Z_STREAM_ERROR}state.head=head;head.done=!1;return Z_OK}function inflateSetDictionary(strm,dictionary){var dictLength=dictionary.length,state,dictid,ret;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if(0!==state.wrap&&state.mode!==DICT){return Z_STREAM_ERROR}if(state.mode===DICT){dictid=1;dictid=adler32(dictid,dictionary,dictLength,0);if(dictid!==state.check){return Z_DATA_ERROR}}ret=updatewindow(strm,dictionary,dictLength,dictLength);if(ret){state.mode=MEM;return Z_MEM_ERROR}state.havedict=1;return Z_OK}exports.inflateReset=inflateReset;exports.inflateReset2=inflateReset2;exports.inflateResetKeep=inflateResetKeep;exports.inflateInit=inflateInit;exports.inflateInit2=inflateInit2;exports.inflate=inflate;exports.inflateEnd=inflateEnd;exports.inflateGetHeader=inflateGetHeader;exports.inflateSetDictionary=inflateSetDictionary;exports.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(require,module,exports){'use strict';var utils=require("../utils/common"),MAXBITS=15,ENOUGH_LENS=852,ENOUGH_DISTS=592,CODES=0,LENS=1,DISTS=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function inflate_table(type,lens,lens_index,codes,table,table_index,work,opts){var bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,incr,fill,low,mask,next,base=null,base_index=0,end,count=new utils.Buf16(MAXBITS+1),offs=new utils.Buf16(MAXBITS+1),extra=null,extra_index=0,here_bits,here_op,here_val;for(len=0;len<=MAXBITS;len++){count[len]=0}for(sym=0;sym<codes;sym++){count[lens[lens_index+sym]]++}root=bits;for(max=MAXBITS;1<=max;max--){if(0!==count[max]){break}}if(root>max){root=max}if(0===max){table[table_index++]=0|(1<<24|64<<16);table[table_index++]=0|(1<<24|64<<16);opts.bits=1;return 0}for(min=1;min<max;min++){if(0!==count[min]){break}}if(root<min){root=min}left=1;for(len=1;len<=MAXBITS;len++){left<<=1;left-=count[len];if(0>left){return-1}}if(0<left&&(type===CODES||1!==max)){return-1}offs[1]=0;for(len=1;len<MAXBITS;len++){offs[len+1]=offs[len]+count[len]}for(sym=0;sym<codes;sym++){if(0!==lens[lens_index+sym]){work[offs[lens[lens_index+sym]]++]=sym}}if(type===CODES){base=extra=work;end=19}else if(type===LENS){base=lbase;base_index-=257;extra=lext;extra_index-=257;end=256}else{base=dbase;extra=dext;end=-1}huff=0;sym=0;len=min;next=table_index;curr=root;drop=0;low=-1;used=1<<root;mask=used-1;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}for(;;){here_bits=len-drop;if(work[sym]<end){here_op=0;here_val=work[sym]}else if(work[sym]>end){here_op=extra[extra_index+work[sym]];here_val=base[base_index+work[sym]]}else{here_op=32+64;here_val=0}incr=1<<len-drop;fill=1<<curr;min=fill;do{fill-=incr;table[next+(huff>>drop)+fill]=0|(here_bits<<24|here_op<<16|here_val)}while(0!==fill);incr=1<<len-1;while(huff&incr){incr>>=1}if(0!==incr){huff&=incr-1;huff+=incr}else{huff=0}sym++;if(0===--count[len]){if(len===max){break}len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){if(0===drop){drop=root}next+=min;curr=len-drop;left=1<<curr;while(curr+drop<max){left-=count[curr+drop];if(0>=left){break}curr++;left<<=1}used+=1<<curr;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}low=huff&mask;table[low]=0|(root<<24|curr<<16|next-table_index)}}if(0!==huff){table[next+huff]=0|(len-drop<<24|64<<16)}opts.bits=root;return 0}},{"../utils/common":41}],51:[function(require,module,exports){'use strict';module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(require,module,exports){'use strict';var utils=require("../utils/common"),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2;function zero(buf){var len=buf.length;while(0<=--len){buf[len]=0}}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=Array(2*D_CODES);zero(static_dtree);var _dist_code=Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=Array(LENGTH_CODES);zero(base_length);var base_dist=Array(D_CODES);zero(base_dist);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree;this.extra_bits=extra_bits;this.extra_base=extra_base;this.elems=elems;this.max_length=max_length;this.has_stree=static_tree&&static_tree.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree;this.max_code=0;this.stat_desc=stat_desc}function d_code(dist){return 256>dist?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w;s.pending_buf[s.pending++]=255&w>>>8}function send_bits(s,value,length){if(s.bi_valid>Buf_size-length){s.bi_buf|=65535&value<<s.bi_valid;put_short(s,s.bi_buf);s.bi_buf=value>>Buf_size-s.bi_valid;s.bi_valid+=length-Buf_size}else{s.bi_buf|=65535&value<<s.bi_valid;s.bi_valid+=length}}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do{res|=1&code;code>>>=1;res<<=1}while(0<--len);return res>>>1}function bi_flush(s){if(16===s.bi_valid){put_short(s,s.bi_buf);s.bi_buf=0;s.bi_valid=0}else if(8<=s.bi_valid){s.pending_buf[s.pending++]=255&s.bi_buf;s.bi_buf>>=8;s.bi_valid-=8}}function gen_bitlen(s,desc){var tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,h,n,m,bits,xbits,f,overflow=0;for(bits=0;bits<=MAX_BITS;bits++){s.bl_count[bits]=0}tree[2*s.heap[s.heap_max]+1]=0;for(h=s.heap_max+1;h<HEAP_SIZE;h++){n=s.heap[h];bits=tree[2*tree[2*n+1]+1]+1;if(bits>max_length){bits=max_length;overflow++}tree[2*n+1]=bits;if(n>max_code){continue}s.bl_count[bits]++;xbits=0;if(n>=base){xbits=extra[n-base]}f=tree[2*n];s.opt_len+=f*(bits+xbits);if(has_stree){s.static_len+=f*(stree[2*n+1]+xbits)}}if(0===overflow){return}do{bits=max_length-1;while(0===s.bl_count[bits]){bits--}s.bl_count[bits]--;s.bl_count[bits+1]+=2;s.bl_count[max_length]--;overflow-=2}while(0<overflow);for(bits=max_length;0!==bits;bits--){n=s.bl_count[bits];while(0!==n){m=s.heap[--h];if(m>max_code){continue}if(tree[2*m+1]!==bits){s.opt_len+=(bits-tree[2*m+1])*tree[2*m];tree[2*m+1]=bits}n--}}}function gen_codes(tree,max_code,bl_count){var next_code=Array(MAX_BITS+1),code=0,bits,n;for(bits=1;bits<=MAX_BITS;bits++){next_code[bits]=code=code+bl_count[bits-1]<<1}for(n=0;n<=max_code;n++){var len=tree[2*n+1];if(0===len){continue}tree[2*n]=bi_reverse(next_code[len]++,len)}}function tr_static_init(){var n,bits,length,code,dist,bl_count=Array(MAX_BITS+1);length=0;for(code=0;code<LENGTH_CODES-1;code++){base_length[code]=length;for(n=0;n<1<<extra_lbits[code];n++){_length_code[length++]=code}}_length_code[length-1]=code;dist=0;for(code=0;16>code;code++){base_dist[code]=dist;for(n=0;n<1<<extra_dbits[code];n++){_dist_code[dist++]=code}}dist>>=7;for(;code<D_CODES;code++){base_dist[code]=dist<<7;for(n=0;n<1<<extra_dbits[code]-7;n++){_dist_code[256+dist++]=code}}for(bits=0;bits<=MAX_BITS;bits++){bl_count[bits]=0}n=0;while(143>=n){static_ltree[2*n+1]=8;n++;bl_count[8]++}while(255>=n){static_ltree[2*n+1]=9;n++;bl_count[9]++}while(279>=n){static_ltree[2*n+1]=7;n++;bl_count[7]++}while(287>=n){static_ltree[2*n+1]=8;n++;bl_count[8]++}gen_codes(static_ltree,L_CODES+1,bl_count);for(n=0;n<D_CODES;n++){static_dtree[2*n+1]=5;static_dtree[2*n]=bi_reverse(n,5)}static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS);static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS);static_bl_desc=new StaticTreeDesc([],extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;n<L_CODES;n++){s.dyn_ltree[2*n]=0}for(n=0;n<D_CODES;n++){s.dyn_dtree[2*n]=0}for(n=0;n<BL_CODES;n++){s.bl_tree[2*n]=0}s.dyn_ltree[2*END_BLOCK]=1;s.opt_len=s.static_len=0;s.last_lit=s.matches=0}function bi_windup(s){if(8<s.bi_valid){put_short(s,s.bi_buf)}else if(0<s.bi_valid){s.pending_buf[s.pending++]=s.bi_buf}s.bi_buf=0;s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s);if(header){put_short(s,len);put_short(s,~len)}utils.arraySet(s.pending_buf,s.window,buf,len,s.pending);s.pending+=len}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){var v=s.heap[k],j=k<<1;while(j<=s.heap_len){if(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)){j++}if(smaller(tree,v,s.heap[j],s.depth)){break}s.heap[k]=s.heap[j];k=j;j<<=1}s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,lx=0,code,extra;if(0!==s.last_lit){do{dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1];lc=s.pending_buf[s.l_buf+lx];lx++;if(0===dist){send_code(s,lc,ltree)}else{code=_length_code[lc];send_code(s,code+LITERALS+1,ltree);extra=extra_lbits[code];if(0!==extra){lc-=base_length[code];send_bits(s,lc,extra)}dist--;code=d_code(dist);send_code(s,code,dtree);extra=extra_dbits[code];if(0!==extra){dist-=base_dist[code];send_bits(s,dist,extra)}}}while(lx<s.last_lit)}send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,n,m,max_code=-1,node;s.heap_len=0;s.heap_max=HEAP_SIZE;for(n=0;n<elems;n++){if(0!==tree[2*n]){s.heap[++s.heap_len]=max_code=n;s.depth[n]=0}else{tree[2*n+1]=0}}while(2>s.heap_len){node=s.heap[++s.heap_len]=2>max_code?++max_code:0;tree[2*node]=1;s.depth[node]=0;s.opt_len--;if(has_stree){s.static_len-=stree[2*node+1]}}desc.max_code=max_code;for(n=s.heap_len>>1;1<=n;n--){pqdownheap(s,tree,n)}node=elems;do{n=s.heap[1];s.heap[1]=s.heap[s.heap_len--];pqdownheap(s,tree,1);m=s.heap[1];s.heap[--s.heap_max]=n;s.heap[--s.heap_max]=m;tree[2*node]=tree[2*n]+tree[2*m];s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1;tree[2*n+1]=tree[2*m+1]=node;s.heap[1]=node++;pqdownheap(s,tree,1)}while(2<=s.heap_len);s.heap[--s.heap_max]=s.heap[1];gen_bitlen(s,desc);gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,prevlen=-1,curlen,nextlen=tree[2*0+1],count=0,max_count=7,min_count=4;if(0===nextlen){max_count=138;min_count=3}tree[2*(max_code+1)+1]=65535;for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[2*(n+1)+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){s.bl_tree[2*curlen]+=count}else if(0!==curlen){if(curlen!==prevlen){s.bl_tree[2*curlen]++}s.bl_tree[2*REP_3_6]++}else if(10>=count){s.bl_tree[2*REPZ_3_10]++}else{s.bl_tree[2*REPZ_11_138]++}count=0;prevlen=curlen;if(0===nextlen){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function send_tree(s,tree,max_code){var n,prevlen=-1,curlen,nextlen=tree[2*0+1],count=0,max_count=7,min_count=4;if(0===nextlen){max_count=138;min_count=3}for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[2*(n+1)+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){do{send_code(s,curlen,s.bl_tree)}while(0!==--count)}else if(0!==curlen){if(curlen!==prevlen){send_code(s,curlen,s.bl_tree);count--}send_code(s,REP_3_6,s.bl_tree);send_bits(s,count-3,2)}else if(10>=count){send_code(s,REPZ_3_10,s.bl_tree);send_bits(s,count-3,3)}else{send_code(s,REPZ_11_138,s.bl_tree);send_bits(s,count-11,7)}count=0;prevlen=curlen;if(0===nextlen){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function build_bl_tree(s){var max_blindex;scan_tree(s,s.dyn_ltree,s.l_desc.max_code);scan_tree(s,s.dyn_dtree,s.d_desc.max_code);build_tree(s,s.bl_desc);for(max_blindex=BL_CODES-1;3<=max_blindex;max_blindex--){if(0!==s.bl_tree[2*bl_order[max_blindex]+1]){break}}s.opt_len+=3*(max_blindex+1)+5+5+4;return max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;send_bits(s,lcodes-257,5);send_bits(s,dcodes-1,5);send_bits(s,blcodes-4,4);for(rank=0;rank<blcodes;rank++){send_bits(s,s.bl_tree[2*bl_order[rank]+1],3)}send_tree(s,s.dyn_ltree,lcodes-1);send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var black_mask=4093624447,n;for(n=0;31>=n;n++,black_mask>>>=1){if(1&black_mask&&0!==s.dyn_ltree[2*n]){return Z_BINARY}}if(0!==s.dyn_ltree[2*9]||0!==s.dyn_ltree[2*10]||0!==s.dyn_ltree[2*13]){return Z_TEXT}for(n=32;n<LITERALS;n++){if(0!==s.dyn_ltree[2*n]){return Z_TEXT}}return Z_BINARY}var static_init_done=!1;function _tr_init(s){if(!static_init_done){tr_static_init();static_init_done=!0}s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc);s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc);s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc);s.bi_buf=0;s.bi_valid=0;init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3);copy_block(s,buf,stored_len,!0)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3);send_code(s,END_BLOCK,static_ltree);bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;if(0<s.level){if(s.strm.data_type===Z_UNKNOWN){s.strm.data_type=detect_data_type(s)}build_tree(s,s.l_desc);build_tree(s,s.d_desc);max_blindex=build_bl_tree(s);opt_lenb=s.opt_len+3+7>>>3;static_lenb=s.static_len+3+7>>>3;if(static_lenb<=opt_lenb){opt_lenb=static_lenb}}else{opt_lenb=static_lenb=stored_len+5}if(stored_len+4<=opt_lenb&&-1!==buf){_tr_stored_block(s,buf,stored_len,last)}else if(s.strategy===Z_FIXED||static_lenb===opt_lenb){send_bits(s,(STATIC_TREES<<1)+(last?1:0),3);compress_block(s,static_ltree,static_dtree)}else{send_bits(s,(DYN_TREES<<1)+(last?1:0),3);send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1);compress_block(s,s.dyn_ltree,s.dyn_dtree)}init_block(s);if(last){bi_windup(s)}}function _tr_tally(s,dist,lc){s.pending_buf[s.d_buf+2*s.last_lit]=255&dist>>>8;s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist;s.pending_buf[s.l_buf+s.last_lit]=255&lc;s.last_lit++;if(0===dist){s.dyn_ltree[2*lc]++}else{s.matches++;dist--;s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++;s.dyn_dtree[2*d_code(dist)]++}return s.last_lit===s.lit_bufsize-1}exports._tr_init=_tr_init;exports._tr_stored_block=_tr_stored_block;exports._tr_flush_block=_tr_flush_block;exports._tr_tally=_tr_tally;exports._tr_align=_tr_align},{"../utils/common":41}],53:[function(require,module,exports){'use strict';function ZStream(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}module.exports=ZStream},{}],54:[function(require,module,exports){'use strict';module.exports="function"===typeof setImmediate?setImmediate:function setImmediate(){var args=[].slice.apply(arguments);args.splice(1,0,0);setTimeout.apply(null,args)}},{}]},{},[10])(10)});</script><script>(function(global,factory){if("function"===typeof define&&define.amd){define([],factory)}else if("undefined"!==typeof exports){factory()}else{var mod={exports:{}};factory();global.FileSaver=mod.exports}})(this,function(){"use strict";var _global="object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof global&&global.global===global?global:void 0;function bom(blob,opts){if("undefined"===typeof opts)opts={autoBom:!1};else if("object"!==typeof opts){console.warn("Deprecated: Expected third argument to be a object");opts={autoBom:!opts}}if(opts.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)){return new Blob(["\uFEFF",blob],{type:blob.type})}return blob}function download(url,name,opts){var xhr=new XMLHttpRequest;xhr.open("GET",url);xhr.responseType="blob";xhr.onload=function(){saveAs(xhr.response,name,opts)};xhr.onerror=function(){console.error("could not download file")};xhr.send()}function corsEnabled(url){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,!1);xhr.send();return 200<=xhr.status&&299>=xhr.status}function click(node){try{node.dispatchEvent(new MouseEvent("click"))}catch(e){var evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);node.dispatchEvent(evt)}}var saveAs=_global.saveAs||("object"!==typeof window||window!==_global?function saveAs(){}:"download"in HTMLAnchorElement.prototype?function saveAs(blob,name,opts){var URL=_global.URL||_global.webkitURL,a=document.createElement("a");name=name||blob.name||"download";a.download=name;a.rel="noopener";if("string"===typeof blob){a.href=blob;if(a.origin!==location.origin){corsEnabled(a.href)?download(blob,name,opts):click(a,a.target="_blank")}else{click(a)}}else{a.href=URL.createObjectURL(blob);setTimeout(function(){URL.revokeObjectURL(a.href)},4E4);setTimeout(function(){click(a)},0)}}:"msSaveOrOpenBlob"in navigator?function saveAs(blob,name,opts){name=name||blob.name||"download";if("string"===typeof blob){if(corsEnabled(blob)){download(blob,name,opts)}else{var a=document.createElement("a");a.href=blob;a.target="_blank";setTimeout(function(){click(a)})}}else{navigator.msSaveOrOpenBlob(bom(blob,opts),name)}}:function saveAs(blob,name,opts,popup){popup=popup||open("","_blank");if(popup){popup.document.title=popup.document.body.innerText="downloading..."}if("string"===typeof blob)return download(blob,name,opts);var force="application/octet-stream"===blob.type,isSafari=/constructor/i.test(_global.HTMLElement)||_global.safari,isChromeIOS=/CriOS\/[\d]+/.test(navigator.userAgent);if((isChromeIOS||force&&isSafari)&&"object"===typeof FileReader){var reader=new FileReader;reader.onloadend=function(){var url=reader.result;url=isChromeIOS?url:url.replace(/^data:[^;]*;/,"data:attachment/file;");if(popup)popup.location.href=url;else location=url;popup=null};reader.readAsDataURL(blob)}else{var URL=_global.URL||_global.webkitURL,url=URL.createObjectURL(blob);if(popup)popup.location=url;else location.href=url;popup=null;setTimeout(function(){URL.revokeObjectURL(url)},4E4)}});_global.saveAs=saveAs.saveAs=saveAs;if("undefined"!==typeof module){module.exports=saveAs}});</script><script>(function(global,factory){"object"===typeof exports&&"undefined"!==typeof module?module.exports=factory():"function"===typeof define&&define.amd?define(factory):global.CodeMirror=factory()})(this,function(){'use strict';var _StringfromCharCode=String.fromCharCode,_Mathround=Math.round,_Mathabs=Math.abs,_Mathmax=Math.max,_Mathfloor=Math.floor,_Mathceil=Math.ceil,_Mathmin=Math.min,userAgent=navigator.userAgent,platform=navigator.platform,gecko=/gecko\/\d/i.test(userAgent),ie_upto10=/MSIE \d/.test(userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent),edge=/Edge\/(\d+)/.exec(userAgent),ie=ie_upto10||ie_11up||edge,ie_version=ie&&(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]),webkit=!edge&&/WebKit\//.test(userAgent),qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent),chrome=!edge&&/Chrome\//.test(userAgent),presto=/Opera\//.test(userAgent),safari=/Apple Computer/.test(navigator.vendor),mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent),phantom=/PhantomJS/.test(userAgent),ios=!edge&&/AppleWebKit/.test(userAgent)&&/Mobile\/\w+/.test(userAgent),android=/Android/.test(userAgent),mobile=ios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent),mac=ios||/Mac/.test(platform),chromeOS=/\bCrOS\b/.test(userAgent),windows=/win/i.test(platform),presto_version=presto&&userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version){presto_version=+presto_version[1]}if(presto_version&&15<=presto_version){presto=!1;webkit=!0}var flipCtrlCmd=mac&&(qtwebkit||presto&&(null==presto_version||12.11>presto_version)),captureRightClick=gecko||ie&&9<=ie_version;function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}var rmClass=function(node,cls){var current=node.className,match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}};function removeChildren(e){for(var count=e.childNodes.length;0<count;--count){e.removeChild(e.firstChild)}return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className){e.className=className}if(style){e.style.cssText=style}if("string"==typeof content){e.appendChild(document.createTextNode(content))}else if(content){for(var i=0;i<content.length;++i){e.appendChild(content[i])}}return e}function eltP(tag,content,className,style){var e=elt(tag,content,className,style);e.setAttribute("role","presentation");return e}var range;if(document.createRange){range=function(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r}}else{range=function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}r.collapse(!0);r.moveEnd("character",end);r.moveStart("character",start);return r}}function contains(parent,child){if(3==child.nodeType){child=child.parentNode}if(parent.contains){return parent.contains(child)}do{if(11==child.nodeType){child=child.host}if(child==parent){return!0}}while(child=child.parentNode)}function activeElt(){var activeElement;try{activeElement=document.activeElement}catch(e){activeElement=document.body||null}while(activeElement&&activeElement.shadowRoot&&activeElement.shadowRoot.activeElement){activeElement=activeElement.shadowRoot.activeElement}return activeElement}function addClass(node,cls){var current=node.className;if(!classTest(cls).test(current)){node.className+=(current?" ":"")+cls}}function joinClasses(a,b){for(var as=a.split(" "),i=0;i<as.length;i++){if(as[i]&&!classTest(as[i]).test(b)){b+=" "+as[i]}}return b}var selectInput=function(node){node.select()};if(ios){selectInput=function(node){node.selectionStart=0;node.selectionEnd=node.value.length}}else if(ie){selectInput=function(node){try{node.select()}catch(_e){}}}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){if(!target){target={}}for(var prop in obj){if(obj.hasOwnProperty(prop)&&(!1!==overwrite||!target.hasOwnProperty(prop))){target[prop]=obj[prop]}}return target}function countColumn(string,end,tabSize,startIndex,startValue){if(null==end){end=string.search(/[^\s\u00a0]/);if(-1==end){end=string.length}}for(var i=startIndex||0,n=startValue||0,nextTab;;){nextTab=string.indexOf("\t",i);if(0>nextTab||nextTab>=end){return n+(end-i)}n+=nextTab-i;n+=tabSize-n%tabSize;i=nextTab+1}}var Delayed=function(){this.id=null};Delayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms)};function indexOf(array,elt){for(var i=0;i<array.length;++i){if(array[i]==elt){return i}}return-1}var scrollerGap=30,Pass={toString:function(){return"CodeMirror.Pass"}},sel_dontScroll={scroll:!1},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"};function findColumn(string,goal,tabSize){for(var pos=0,col=0,nextTab;;){nextTab=string.indexOf("\t",pos);if(-1==nextTab){nextTab=string.length}var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal){return pos+_Mathmin(skipped,goal-col)}col+=nextTab-pos;col+=tabSize-col%tabSize;pos=nextTab+1;if(col>=goal){return pos}}}var spaceStrs=[""];function spaceStr(n){while(spaceStrs.length<=n){spaceStrs.push(lst(spaceStrs)+" ")}return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function map(array,f){for(var out=[],i=0;i<array.length;i++){out[i]=f(array[i],i)}return out}function insertSorted(array,value,score){var pos=0,priority=score(value);while(pos<array.length&&score(array[pos])<=priority){pos++}array.splice(pos,0,value)}function nothing(){}function createObj(base,props){var inst;if(Object.create){inst=Object.create(base)}else{nothing.prototype=base;inst=new nothing}if(props){copyObj(props,inst)}return inst}var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function isWordCharBasic(ch){return /\w/.test(ch)||"\x80"<ch&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){if(!helper){return isWordCharBasic(ch)}if(-1<helper.source.indexOf("\\w")&&isWordCharBasic(ch)){return!0}return helper.test(ch)}function isEmpty(obj){for(var n in obj){if(obj.hasOwnProperty(n)&&obj[n]){return!1}}return!0}var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function isExtendingChar(ch){return 768<=ch.charCodeAt(0)&&extendingChars.test(ch)}function skipExtendingChars(str,pos,dir){while((0>dir?0<pos:pos<str.length)&&isExtendingChar(str.charAt(pos))){pos+=dir}return pos}function findFirst(pred,from,to){var dir=from>to?-1:1;for(;;){if(from==to){return from}var midF=(from+to)/2,mid=0>dir?_Mathceil(midF):_Mathfloor(midF);if(mid==from){return pred(mid)?from:to}if(pred(mid)){to=mid}else{from=mid+dir}}}function Display(place,doc,input){var d=this;this.input=input;d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true");d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true");d.lineDiv=eltP("div",null,"CodeMirror-code");d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");d.measure=elt("div",null,"CodeMirror-measure");d.lineMeasure=elt("div",null,"CodeMirror-measure");d.lineSpace=eltP("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var lines=eltP("div",[d.lineSpace],"CodeMirror-lines");d.mover=elt("div",[lines],null,"position: relative");d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null;d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");if(ie&&8>ie_version){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0}if(!webkit&&!(gecko&&mobile)){d.scroller.draggable=!0}if(place){if(place.appendChild){place.appendChild(d.wrapper)}else{place(d.wrapper)}}d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=!1;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=!1;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=!1;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=!1;d.selForContextMenu=null;d.activeTouch=null;input.init(d)}function getLine(doc,n){n-=doc.first;if(0>n||n>=doc.size){throw new Error("There is no line "+(n+doc.first)+" in the document.")}var chunk=doc;while(!chunk.lines){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line){text=text.slice(0,end.ch)}if(n==start.line){text=text.slice(start.ch)}out.push(text);++n});return out}function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text)});return out}function updateLineHeight(line,height){var diff=height-line.height;if(diff){for(var n=line;n;n=n.parent){n.height+=diff}}}function lineNo(line){if(null==line.parent){return null}for(var cur=line.parent,no=indexOf(cur.lines,line),chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur){break}no+=chunk.children[i].chunkSize()}}return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i$1=0;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch;n+=child.chunkSize()}return n}while(!chunk.lines);var i=0;for(;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh){break}h-=lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return options.lineNumberFormatter(i+options.firstLineNumber)+""}function Pos(line,ch,sticky){if(void 0===sticky)sticky=null;if(!(this instanceof Pos)){return new Pos(line,ch,sticky)}this.line=line;this.ch=ch;this.sticky=sticky}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,b){return a.sticky==b.sticky&&0==cmp(a,b)}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return 0>cmp(a,b)?b:a}function minPos(a,b){return 0>cmp(a,b)?a:b}function clipLine(doc,n){return _Mathmax(doc.first,_Mathmin(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first){return Pos(doc.first,0)}var last=doc.first+doc.size-1;if(pos.line>last){return Pos(last,getLine(doc,last).text.length)}return clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;if(null==ch||ch>linelen){return Pos(pos.line,linelen)}else if(0>ch){return Pos(pos.line,0)}else{return pos}}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++){out[i]=clipPos(doc,array[i])}return out}var sawReadOnlySpans=!1,sawCollapsedSpans=!1;function seeReadOnlySpans(){sawReadOnlySpans=!0}function seeCollapsedSpans(){sawCollapsedSpans=!0}function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to}function getMarkedSpanFor(spans,marker){if(spans){for(var i=0,span;i<spans.length;++i){span=spans[i];if(span.marker==marker){return span}}}}function removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i){if(spans[i]!=span){(r||(r=[])).push(spans[i])}}return r}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker,startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&"bookmark"==marker.type&&(!isInsert||!span.marker.insertLeft)){var endsAfter=null==span.to||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}}return nw}function markedSpansAfter(old,endCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker,endsAfter=null==span.to||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&"bookmark"==marker.type&&(!isInsert||span.marker.insertLeft)){var startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,null==span.to?null:span.to-endCh))}}}return nw}function stretchSpansOverChange(doc,change){if(change.full){return null}var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans,oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast){return null}var startCh=change.from.ch,endCh=change.to.ch,isInsert=0==cmp(change.from,change.to),first=markedSpansBefore(oldFirst,startCh,isInsert),last=markedSpansAfter(oldLast,endCh,isInsert),sameLine=1==change.text.length,offset=lst(change.text).length+(sameLine?startCh:0);if(first){for(var i=0,span;i<first.length;++i){span=first[i];if(null==span.to){var found=getMarkedSpanFor(last,span.marker);if(!found){span.to=startCh}else if(sameLine){span.to=null==found.to?null:found.to+offset}}}}if(last){for(var i$1=0,span$1;i$1<last.length;++i$1){span$1=last[i$1];if(null!=span$1.to){span$1.to+=offset}if(null==span$1.from){var found$1=getMarkedSpanFor(first,span$1.marker);if(!found$1){span$1.from=offset;if(sameLine){(first||(first=[])).push(span$1)}}}else{span$1.from+=offset;if(sameLine){(first||(first=[])).push(span$1)}}}}if(first){first=clearEmptySpans(first)}if(last&&last!=first){last=clearEmptySpans(last)}var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(0<gap&&first){for(var i$2=0;i$2<first.length;++i$2){if(null==first[i$2].to){(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null))}}}for(var i$3=0;i$3<gap;++i$3){newMarkers.push(gapMarkers)}newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0,span;i<spans.length;++i){span=spans[i];if(null!=span.from&&span.from==span.to&&!1!==span.marker.clearWhenEmpty){spans.splice(i--,1)}}if(!spans.length){return null}return spans}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans){for(var i=0,mark;i<line.markedSpans.length;++i){mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||-1==indexOf(markers,mark))){(markers||(markers=[])).push(mark)}}}});if(!markers){return null}for(var parts=[{from:from,to:to}],i=0;i<markers.length;++i){for(var mk=markers[i],m=mk.find(0),j=0,p;j<parts.length;++j){p=parts[j];if(0>cmp(p.to,m.from)||0<cmp(p.from,m.to)){continue}var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(0>dfrom||!mk.inclusiveLeft&&!dfrom){newParts.push({from:p.from,to:m.from})}if(0<dto||!mk.inclusiveRight&&!dto){newParts.push({from:m.to,to:p.to})}parts.splice.apply(parts,newParts);j+=newParts.length-3}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.detachLine(line)}line.markedSpans=null}function attachMarkedSpans(line,spans){if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.attachLine(line)}line.markedSpans=spans}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(0!=lenDiff){return lenDiff}var aPos=a.find(),bPos=b.find(),fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp){return-fromCmp}var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp){return toCmp}return b.id-a.id}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&null==(start?sp.from:sp.to)&&(!found||0>compareCollapsedMarkers(found,sp.marker))){found=sp.marker}}}return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,!0)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,!1)}function collapsedSpanAround(line,ch){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var i=0,sp;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(null==sp.from||sp.from<ch)&&(null==sp.to||sp.to>ch)&&(!found||0>compareCollapsedMarkers(found,sp.marker))){found=sp.marker}}}return found}function conflictingCollapsedRange(doc,lineNo$$1,from,to,marker){var line=getLine(doc,lineNo$$1),sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var i=0,sp;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed){continue}var found=sp.marker.find(0),fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker),toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(0<=fromCmp&&0>=toCmp||0>=fromCmp&&0<=toCmp){continue}if(0>=fromCmp&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?0<=cmp(found.to,from):0<cmp(found.to,from))||0<=fromCmp&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?0>=cmp(found.from,to):0>cmp(found.from,to))){return!0}}}}function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line)){line=merged.find(-1,!0).line}return line}function visualLineEnd(line){var merged;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,!0).line}return line}function visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,!0).line;(lines||(lines=[])).push(line)}return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis){return lineN}return lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine()){return lineN}var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line)){return lineN}while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,!0).line}return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed){continue}if(null==sp.from){return!0}if(sp.marker.widgetNode){continue}if(0==sp.from&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp)){return!0}}}}function lineIsHiddenInner(doc,line,span){if(null==span.to){var end=span.marker.find(1,!0);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length){return!0}for(var sp=void 0,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(null==sp.to||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp)){return!0}}}function heightAtLine(lineObj){lineObj=visualLine(lineObj);for(var h=0,chunk=lineObj.parent,i=0,line;i<chunk.lines.length;++i){line=chunk.lines[i];if(line==lineObj){break}else{h+=line.height}}for(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i$1=0,cur;i$1<p.children.length;++i$1){cur=p.children[i$1];if(cur==chunk){break}else{h+=cur.height}}}return h}function lineLength(line){if(0==line.height){return 0}var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,!0);cur=found.from.line;len+=found.from.ch-found.to.ch}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found$1=merged.find(0,!0);len-=cur.text.length-found$1.from.ch;cur=found$1.to.line;len+=cur.text.length-found$1.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=!0;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line}})}function iterateBidiSections(order,from,to,f){if(!order){return f(from,to,"ltr",0)}for(var found=!1,i=0,part;i<order.length;++i){part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(_Mathmax(part.from,from),_Mathmin(part.to,to),1==part.level?"rtl":"ltr",i);found=!0}}if(!found){f(from,to,"ltr")}}var bidiOther=null;function getBidiPartAt(order,ch,sticky){var found;bidiOther=null;for(var i=0,cur;i<order.length;++i){cur=order[i];if(cur.from<ch&&cur.to>ch){return i}if(cur.to==ch){if(cur.from!=cur.to&&"before"==sticky){found=i}else{bidiOther=i}}if(cur.from==ch){if(cur.from!=cur.to&&"before"!=sticky){found=i}else{bidiOther=i}}}return null!=found?found:bidiOther}var bidiOrdering=function(){var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",arabicTypes="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function charType(code){if(247>=code){return lowTypes.charAt(code)}else if(1424<=code&&1524>=code){return"R"}else if(1536<=code&&1785>=code){return arabicTypes.charAt(code-1536)}else if(1774<=code&&2220>=code){return"r"}else if(8192<=code&&8203>=code){return"w"}else if(8204==code){return"b"}else{return"L"}}var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to}return function(str,direction){var outerType="ltr"==direction?"L":"R";if(0==str.length||"ltr"==direction&&!bidiRE.test(str)){return!1}for(var len=str.length,types=[],i=0;i<len;++i){types.push(charType(str.charCodeAt(i)))}for(var i$1=0,prev=outerType,type;i$1<len;++i$1){type=types[i$1];if("m"==type){types[i$1]=prev}else{prev=type}}for(var i$2=0,cur=outerType,type$1;i$2<len;++i$2){type$1=types[i$2];if("1"==type$1&&"r"==cur){types[i$2]="n"}else if(isStrong.test(type$1)){cur=type$1;if("r"==type$1){types[i$2]="R"}}}for(var i$3=1,prev$1=types[0],type$2;i$3<len-1;++i$3){type$2=types[i$3];if("+"==type$2&&"1"==prev$1&&"1"==types[i$3+1]){types[i$3]="1"}else if(","==type$2&&prev$1==types[i$3+1]&&("1"==prev$1||"n"==prev$1)){types[i$3]=prev$1}prev$1=type$2}for(var i$4=0,type$3;i$4<len;++i$4){type$3=types[i$4];if(","==type$3){types[i$4]="N"}else if("%"==type$3){var end=void 0;for(end=i$4+1;end<len&&"%"==types[end];++end){}for(var replace=i$4&&"!"==types[i$4-1]||end<len&&"1"==types[end]?"1":"N",j=i$4;j<end;++j){types[j]=replace}i$4=end-1}}for(var i$5=0,cur$1=outerType,type$4;i$5<len;++i$5){type$4=types[i$5];if("L"==cur$1&&"1"==type$4){types[i$5]="L"}else if(isStrong.test(type$4)){cur$1=type$4}}for(var i$6=0;i$6<len;++i$6){if(isNeutral.test(types[i$6])){var end$1=void 0;for(end$1=i$6+1;end$1<len&&isNeutral.test(types[end$1]);++end$1){}for(var before="L"==(i$6?types[i$6-1]:outerType),after="L"==(end$1<len?types[end$1]:outerType),replace$1=before==after?before?"L":"R":outerType,j$1=i$6;j$1<end$1;++j$1){types[j$1]=replace$1}i$6=end$1-1}}for(var order=[],m,i$7=0;i$7<len;){if(countsAsLeft.test(types[i$7])){var start=i$7;for(++i$7;i$7<len&&countsAsLeft.test(types[i$7]);++i$7){}order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7,at=order.length;for(++i$7;i$7<len&&"L"!=types[i$7];++i$7){}for(var j$2=pos;j$2<i$7;){if(countsAsNum.test(types[j$2])){if(pos<j$2){order.splice(at,0,new BidiSpan(1,pos,j$2))}var nstart=j$2;for(++j$2;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2){}order.splice(at,0,new BidiSpan(2,nstart,j$2));pos=j$2}else{++j$2}}if(pos<i$7){order.splice(at,0,new BidiSpan(1,pos,i$7))}}}if("ltr"==direction){if(1==order[0].level&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length))}if(1==lst(order).level&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len))}}return"rtl"==direction?order.reverse():order}}();function getOrder(line,direction){var order=line.order;if(null==order){order=line.order=bidiOrdering(line.text,direction)}return order}var noHandlers=[],on=function(emitter,type,f){if(emitter.addEventListener){emitter.addEventListener(type,f,!1)}else if(emitter.attachEvent){emitter.attachEvent("on"+type,f)}else{var map$$1=emitter._handlers||(emitter._handlers={});map$$1[type]=(map$$1[type]||noHandlers).concat(f)}};function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||noHandlers}function off(emitter,type,f){if(emitter.removeEventListener){emitter.removeEventListener(type,f,!1)}else if(emitter.detachEvent){emitter.detachEvent("on"+type,f)}else{var map$$1=emitter._handlers,arr=map$$1&&map$$1[type];if(arr){var index=indexOf(arr,f);if(-1<index){map$$1[type]=arr.slice(0,index).concat(arr.slice(index+1))}}}}function signal(emitter,type){var handlers=getHandlers(emitter,type);if(!handlers.length){return}for(var args=Array.prototype.slice.call(arguments,2),i=0;i<handlers.length;++i){handlers[i].apply(null,args)}}function signalDOMEvent(cm,e,override){if("string"==typeof e){e={type:e,preventDefault:function(){this.defaultPrevented=!0}}}signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr){return}for(var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]),i=0;i<arr.length;++i){if(-1==indexOf(set,arr[i])){set.push(arr[i])}}}function hasHandler(emitter,type){return 0<getHandlers(emitter,type).length}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)};ctor.prototype.off=function(type,f){off(this,type,f)}}function e_preventDefault(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=!1}}function e_stopPropagation(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=!0}}function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:!1==e.returnValue}function e_stop(e){e_preventDefault(e);e_stopPropagation(e)}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;if(null==b){if(1&e.button){b=1}else if(2&e.button){b=3}else if(4&e.button){b=2}}if(mac&&e.ctrlKey&&1==b){b=3}return b}var dragAndDrop=function(){if(ie&&9>ie_version){return!1}var div=elt("div");return"draggable"in div||"dragDrop"in div}(),zwspSupported;function zeroWidthElement(measure){if(null==zwspSupported){var test=elt("span","\u200B");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(0!=measure.firstChild.offsetHeight){zwspSupported=1>=test.offsetWidth&&2<test.offsetHeight&&!(ie&&8>ie_version)}}var node=zwspSupported?elt("span","\u200B"):elt("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node}var badBidiRects;function hasBadBidiRects(measure){if(null!=badBidiRects){return badBidiRects}var txt=removeChildrenAndAdd(measure,document.createTextNode("A\u062EA")),r0=range(txt,0,1).getBoundingClientRect(),r1=range(txt,1,2).getBoundingClientRect();removeChildren(measure);if(!r0||r0.left==r0.right){return!1}return badBidiRects=3>r1.right-r0.right}var splitLinesAuto=3!="\n\nb".split(/\n/).length?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf("\n",pos);if(-1==nl){nl=string.length}var line=string.slice(pos,"\r"==string.charAt(nl-1)?nl-1:nl),rt=line.indexOf("\r");if(-1!=rt){result.push(line.slice(0,rt));pos+=rt+1}else{result.push(line);pos=nl+1}}return result}:function(string){return string.split(/\r\n?|\n/)},hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return!1}}:function(te){var range$$1;try{range$$1=te.ownerDocument.selection.createRange()}catch(e){}if(!range$$1||range$$1.parentElement()!=te){return!1}return 0!=range$$1.compareEndPoints("StartToEnd",range$$1)},hasCopyEvent=function(){var e=elt("div");if("oncopy"in e){return!0}e.setAttribute("oncopy","return;");return"function"==typeof e.oncopy}(),badZoomedRects=null;function hasBadZoomedRects(measure){if(null!=badZoomedRects){return badZoomedRects}var node=removeChildrenAndAdd(measure,elt("span","x")),normal=node.getBoundingClientRect(),fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=1<_Mathabs(normal.left-fromRange.left)}var modes={},mimeModes={};function defineMode(name,mode){if(2<arguments.length){mode.dependencies=Array.prototype.slice.call(arguments,2)}modes[name]=mode}function defineMIME(mime,spec){mimeModes[mime]=spec}function resolveMode(spec){if("string"==typeof spec&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec]}else if(spec&&"string"==typeof spec.name&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if("string"==typeof found){found={name:found}}spec=createObj(found,spec);spec.name=found.name}else if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec)){return resolveMode("application/xml")}else if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+json$/.test(spec)){return resolveMode("application/json")}if("string"==typeof spec){return{name:spec}}else{return spec||{name:"null"}}}function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory){return getMode(options,"text/plain")}var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop)){continue}if(modeObj.hasOwnProperty(prop)){modeObj["_"+prop]=modeObj[prop]}modeObj[prop]=exts[prop]}}modeObj.name=spec.name;if(spec.helperType){modeObj.helperType=spec.helperType}if(spec.modeProps){for(var prop$1 in spec.modeProps){modeObj[prop$1]=spec.modeProps[prop$1]}}return modeObj}var modeExtensions={};function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)}function copyState(mode,state){if(!0===state){return state}if(mode.copyState){return mode.copyState(state)}var nstate={};for(var n in state){var val=state[n];if(val instanceof Array){val=val.concat([])}nstate[n]=val}return nstate}function innerMode(mode,state){var info;while(mode.innerMode){info=mode.innerMode(state);if(!info||info.mode==mode){break}state=info.state;mode=info.mode}return info||{mode:mode,state:state}}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):!0}var StringStream=function(string,tabSize,lineOracle){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=lineOracle};StringStream.prototype.eol=function(){return this.pos>=this.string.length};StringStream.prototype.sol=function(){return this.pos==this.lineStart};StringStream.prototype.peek=function(){return this.string.charAt(this.pos)||void 0};StringStream.prototype.next=function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}};StringStream.prototype.eat=function(match){var ch=this.string.charAt(this.pos),ok;if("string"==typeof match){ok=ch==match}else{ok=ch&&(match.test?match.test(ch):match(ch))}if(ok){++this.pos;return ch}};StringStream.prototype.eatWhile=function(match){var start=this.pos;while(this.eat(match)){}return this.pos>start};StringStream.prototype.eatSpace=function(){var this$1=this,start=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this$1.pos}return this.pos>start};StringStream.prototype.skipToEnd=function(){this.pos=this.string.length};StringStream.prototype.skipTo=function(ch){var found=this.string.indexOf(ch,this.pos);if(-1<found){this.pos=found;return!0}};StringStream.prototype.backUp=function(n){this.pos-=n};StringStream.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.indentation=function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.match=function(pattern,consume,caseInsensitive){if("string"==typeof pattern){var cased=function(str){return caseInsensitive?str.toLowerCase():str},substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(!1!==consume){this.pos+=pattern.length}return!0}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&0<match.index){return null}if(match&&!1!==consume){this.pos+=match[0].length}return match}};StringStream.prototype.current=function(){return this.string.slice(this.start,this.pos)};StringStream.prototype.hideFirstChars=function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}};StringStream.prototype.lookAhead=function(n){var oracle=this.lineOracle;return oracle&&oracle.lookAhead(n)};StringStream.prototype.baseToken=function(){var oracle=this.lineOracle;return oracle&&oracle.baseToken(this.pos)};var SavedContext=function(state,lookAhead){this.state=state;this.lookAhead=lookAhead},Context=function(doc,state,line,lookAhead){this.state=state;this.doc=doc;this.line=line;this.maxLookAhead=lookAhead||0;this.baseTokens=null;this.baseTokenPos=1};Context.prototype.lookAhead=function(n){var line=this.doc.getLine(this.line+n);if(null!=line&&n>this.maxLookAhead){this.maxLookAhead=n}return line};Context.prototype.baseToken=function(n){var this$1=this;if(!this.baseTokens){return null}while(this.baseTokens[this.baseTokenPos]<=n){this$1.baseTokenPos+=2}var type=this.baseTokens[this.baseTokenPos+1];return{type:type&&type.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}};Context.prototype.nextLine=function(){this.line++;if(0<this.maxLookAhead){this.maxLookAhead--}};Context.fromSaved=function(doc,saved,line){if(saved instanceof SavedContext){return new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead)}else{return new Context(doc,copyState(doc.mode,saved),line)}};Context.prototype.save=function(copy){var state=!1!==copy?copyState(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new SavedContext(state,this.maxLookAhead):state};function highlightLine(cm,line,context,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,context,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);for(var state=context.state,loop=function(o){context.baseTokens=st;var overlay=cm.state.overlays[o],i=1,at=0;context.state=!0;runMode(cm,line.text,overlay.mode,context,function(end,style){var start=i;while(at<end){var i_end=st[i];if(i_end>end){st.splice(i,1,end,st[i+1],i_end)}i+=2;at=_Mathmin(end,i_end)}if(!style){return}if(overlay.opaque){st.splice(start,i-start,end,"overlay "+style);i=start+2}else{for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style}}},lineClasses);context.state=state;context.baseTokens=null;context.baseTokenPos=1},o=0;o<cm.state.overlays.length;++o)loop(o);return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var context=getContextBefore(cm,lineNo(line)),resetState=line.text.length>cm.options.maxHighlightLength&&copyState(cm.doc.mode,context.state),result=highlightLine(cm,line,context);if(resetState){context.state=resetState}line.stateAfter=context.save(!resetState);line.styles=result.styles;if(result.classes){line.styleClasses=result.classes}else if(line.styleClasses){line.styleClasses=null}if(updateFrontier===cm.doc.highlightFrontier){cm.doc.modeFrontier=_Mathmax(cm.doc.modeFrontier,++cm.doc.highlightFrontier)}}return line.styles}function getContextBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState){return new Context(doc,!0,n)}var start=findStartLine(cm,n,precise),saved=start>doc.first&&getLine(doc,start-1).stateAfter,context=saved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);doc.iter(start,n,function(line){processLine(cm,line.text,context);var pos=context.line;line.stateAfter=pos==n-1||0==pos%5||pos>=display.viewFrom&&pos<display.viewTo?context.save():null;context.nextLine()});if(precise){doc.modeFrontier=context.line}return context}function processLine(cm,text,context,startAt){var mode=cm.doc.mode,stream=new StringStream(text,cm.options.tabSize,context);stream.start=stream.pos=startAt||0;if(""==text){callBlankLine(mode,context.state)}while(!stream.eol()){readToken(mode,stream,context.state);stream.start=stream.pos}}function callBlankLine(mode,state){if(mode.blankLine){return mode.blankLine(state)}if(!mode.innerMode){return}var inner=innerMode(mode,state);if(inner.mode.blankLine){return inner.mode.blankLine(inner.state)}}function readToken(mode,stream,state,inner){for(var i=0;10>i;i++){if(inner){inner[0]=innerMode(mode,state).mode}var style=mode.token(stream,state);if(stream.pos>stream.start){return style}}throw new Error("Mode "+mode.name+" failed to advance stream.")}var Token=function(stream,type,state){this.start=stream.start;this.end=stream.pos;this.string=stream.current();this.type=type||null;this.state=state};function takeToken(cm,pos,precise,asArray){var doc=cm.doc,mode=doc.mode,style;pos=clipPos(doc,pos);var line=getLine(doc,pos.line),context=getContextBefore(cm,pos.line,precise),stream=new StringStream(line.text,cm.options.tabSize,context),tokens;if(asArray){tokens=[]}while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,context.state);if(asArray){tokens.push(new Token(stream,style,copyState(doc.mode,context.state)))}}return asArray?tokens:new Token(stream,style,context.state)}function extractLineClasses(type,output){if(type){for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass){break}type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(null==output[prop]){output[prop]=lineClass[2]}else if(!new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)").test(output[prop])){output[prop]+=" "+lineClass[2]}}}return type}function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(null==flattenSpans){flattenSpans=cm.options.flattenSpans}var curStart=0,curStyle=null,stream=new StringStream(text,cm.options.tabSize,context),style,inner=cm.options.addModeClass&&[null];if(""==text){extractLineClasses(callBlankLine(mode,context.state),lineClasses)}while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=!1;if(forceToEnd){processLine(cm,text,context,stream.pos)}stream.pos=text.length;style=null}else{style=extractLineClasses(readToken(mode,stream,context.state,inner),lineClasses)}if(inner){var mName=inner[0].name;if(mName){style="m-"+(style?mName+" "+style:mName)}}if(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=_Mathmin(stream.start,curStart+5e3);f(curStart,curStyle)}curStyle=style}stream.start=stream.pos}while(curStart<stream.pos){var pos=_Mathmin(stream.pos,curStart+5e3);f(pos,curStyle);curStart=pos}}function findStartLine(cm,n,precise){for(var minindent,minline,doc=cm.doc,lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100),search=n;search>lim;--search){if(search<=doc.first){return doc.first}var line=getLine(doc,search-1),after=line.stateAfter;if(after&&(!precise||search+(after instanceof SavedContext?after.lookAhead:0)<=doc.modeFrontier)){return search}var indented=countColumn(line.text,null,cm.options.tabSize);if(null==minline||minindent>indented){minline=search-1;minindent=indented}}return minline}function retreatFrontier(doc,n){doc.modeFrontier=_Mathmin(doc.modeFrontier,n);if(doc.highlightFrontier<n-10){return}for(var start=doc.first,line=n-1,saved;line>start;line--){saved=getLine(doc,line).stateAfter;if(saved&&(!(saved instanceof SavedContext)||line+saved.lookAhead<n)){start=line+1;break}}doc.highlightFrontier=_Mathmin(doc.highlightFrontier,start)}var Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1};Line.prototype.lineNo=function(){return lineNo(this)};eventMixin(Line);function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}if(null!=line.order){line.order=null}detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height){updateLineHeight(line,estHeight)}}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line)}var styleToClassCache={},styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style)){return null}var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=eltP("span",null,null,webkit?"padding-right: .1px":null),builder={pre:eltP("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:!1,splitSpaces:cm.getOption("lineWrapping")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order=void 0;builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line,cm.doc.direction))){builder.addToken=buildTokenBadBidi(builder.addToken,order)}builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass){builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"")}if(line.styleClasses.textClass){builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"")}}if(0==builder.map.length){builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)))}if(0==i){lineView.measure.map=builder.map;lineView.measure.cache={}}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({})}}if(webkit){var last=builder.content.lastChild;if(/\bcm-tab\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab")){builder.content.className="cm-tab-wrap-hack"}}signal(cm,"renderLine",cm,lineView.line,builder.pre);if(builder.pre.className){builder.textClass=joinClasses(builder.pre.className,builder.textClass||"")}return builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","\u2022","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token}function buildToken(builder,text,style,startStyle,endStyle,css,attributes){if(!text){return}var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):text,special=builder.cm.state.specialChars,mustWrap=!1,content;if(!special.test(text)){builder.col+=text.length;content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&9>ie_version){mustWrap=!0}builder.pos+=text.length}else{content=document.createDocumentFragment();var pos=0;while(!0){special.lastIndex=pos;var m=special.exec(text),skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&9>ie_version){content.appendChild(elt("span",[txt]))}else{content.appendChild(txt)}builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped}if(!m){break}pos+=skipped+1;var txt$1=void 0;if("\t"==m[0]){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;txt$1=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt$1.setAttribute("role","presentation");txt$1.setAttribute("cm-text","\t");builder.col+=tabWidth}else if("\r"==m[0]||"\n"==m[0]){txt$1=content.appendChild(elt("span","\r"==m[0]?"\u240D":"\u2424","cm-invalidchar"));txt$1.setAttribute("cm-text",m[0]);builder.col+=1}else{txt$1=builder.cm.options.specialCharPlaceholder(m[0]);txt$1.setAttribute("cm-text",m[0]);if(ie&&9>ie_version){content.appendChild(elt("span",[txt$1]))}else{content.appendChild(txt$1)}builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt$1);builder.pos++}}builder.trailingSpace=32==displayText.charCodeAt(text.length-1);if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";if(startStyle){fullStyle+=startStyle}if(endStyle){fullStyle+=endStyle}var token=elt("span",[content],fullStyle,css);if(attributes){for(var attr in attributes){if(attributes.hasOwnProperty(attr)&&"style"!=attr&&"class"!=attr){token.setAttribute(attr,attributes[attr])}}}return builder.content.appendChild(token)}builder.content.appendChild(content)}function splitSpaces(text,trailingBefore){if(1<text.length&&!/  /.test(text)){return text}for(var spaceBefore=trailingBefore,result="",i=0,ch;i<text.length;i++){ch=text.charAt(i);if(" "==ch&&spaceBefore&&(i==text.length-1||32==text.charCodeAt(i+1))){ch="\xA0"}result+=ch;spaceBefore=" "==ch}return result}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,css,attributes){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos,end=start+text.length;for(;;){for(var part=void 0,i=0;i<order.length;i++){part=order[i];if(part.to>start&&part.from<=start){break}}if(part.to>=end){return inner(builder,text,style,startStyle,endStyle,css,attributes)}inner(builder,text.slice(0,part.to-start),style,startStyle,null,css,attributes);startStyle=null;text=text.slice(part.to-start);start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget){builder.map.push(builder.pos,builder.pos+size,widget)}if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget){widget=builder.content.appendChild(document.createElement("span"))}widget.setAttribute("cm-marker",marker.id)}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget)}builder.pos+=size;builder.trailingSpace=!1}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i$1=1;i$1<styles.length;i$1+=2){builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options))}return}var len=allText.length,pos=0,i=1,text="",style,css,nextChange=0,spanStyle,spanEndStyle,spanStartStyle,collapsed,attributes;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=css="";attributes=null;collapsed=null;nextChange=1/0;for(var foundBookmarks=[],endStyles=void 0,j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if("bookmark"==m.type&&sp.from==pos&&m.widgetNode){foundBookmarks.push(m)}else if(sp.from<=pos&&(null==sp.to||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(null!=sp.to&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=""}if(m.className){spanStyle+=" "+m.className}if(m.css){css=(css?css+";":"")+m.css}if(m.startStyle&&sp.from==pos){spanStartStyle+=" "+m.startStyle}if(m.endStyle&&sp.to==nextChange){(endStyles||(endStyles=[])).push(m.endStyle,sp.to)}if(m.title){(attributes||(attributes={})).title=m.title}if(m.attributes){for(var attr in m.attributes){(attributes||(attributes={}))[attr]=m.attributes[attr]}}if(m.collapsed&&(!collapsed||0>compareCollapsedMarkers(collapsed.marker,m))){collapsed=sp}}else if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from}}if(endStyles){for(var j$1=0;j$1<endStyles.length;j$1+=2){if(endStyles[j$1+1]==nextChange){spanEndStyle+=" "+endStyles[j$1]}}}if(!collapsed||collapsed.from==pos){for(var j$2=0;j$2<foundBookmarks.length;++j$2){buildCollapsedSpan(builder,0,foundBookmarks[j$2])}}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(null==collapsed.to?len+1:collapsed.to)-pos,collapsed.marker,null==collapsed.from);if(null==collapsed.to){return}if(collapsed.to==pos){collapsed=!1}}}if(pos>=len){break}var upto=_Mathmin(len,nextChange);while(!0){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",css,attributes)}if(end>=upto){text=text.slice(upto-pos);pos=upto;break}pos=end;spanStartStyle=""}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options)}}}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){for(var array=[],nextPos,pos=from,view;pos<to;pos=nextPos){view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view)}return array}var operationGroup=null;function pushOperation(op){if(operationGroup){operationGroup.ops.push(op)}else{op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++){callbacks[i].call(null)}for(var j=0,op;j<group.ops.length;j++){op=group.ops[j];if(op.cursorActivityHandlers){while(op.cursorActivityCalled<op.cursorActivityHandlers.length){op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}}}while(i<callbacks.length)}function finishOperation(op,endCb){var group=op.ownsGroup;if(!group){return}try{fireCallbacksForOps(group)}finally{operationGroup=null;endCb(group)}}var orphanDelayedCallbacks=null;function signalLater(emitter,type){var arr=getHandlers(emitter,type);if(!arr.length){return}var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup){list=operationGroup.delayedCallbacks}else if(orphanDelayedCallbacks){list=orphanDelayedCallbacks}else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0)}for(var loop=function(i){list.push(function(){return arr[i].apply(null,args)})},i=0;i<arr.length;++i)loop(i)}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i){delayed[i]()}}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0,type;j<lineView.changes.length;j++){type=lineView.changes[j];if("text"==type){updateLineText(cm,lineView)}else if("gutter"==type){updateLineGutter(cm,lineView,lineN,dims)}else if("class"==type){updateLineClasses(cm,lineView)}else if("widget"==type){updateLineWidgets(cm,lineView,dims)}}lineView.changes=null}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode){lineView.text.parentNode.replaceChild(lineView.node,lineView.text)}lineView.node.appendChild(lineView.text);if(ie&&8>ie_version){lineView.node.style.zIndex=2}}return lineView.node}function updateLineBackground(cm,lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls){cls+=" CodeMirror-linebackground"}if(lineView.background){if(cls){lineView.background.className=cls}else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null}}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild);cm.display.input.setUneditable(lineView.background)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built}return buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className,built=getLineContent(cm,lineView);if(lineView.text==lineView.node){lineView.node=built.pre}lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(cm,lineView)}else if(cls){lineView.text.className=cls}}function updateLineClasses(cm,lineView){updateLineBackground(cm,lineView);if(lineView.line.wrapClass){ensureLineWrapped(lineView).className=lineView.line.wrapClass}else if(lineView.node!=lineView.text){lineView.node.className=""}var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");cm.display.input.setUneditable(lineView.gutterBackground);wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView),gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px");cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass){gutterWrap.className+=" "+lineView.line.gutterClass}if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"])){lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"))}if(markers){for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];if(found){gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable){lineView.alignable=null}for(var node=lineView.node.firstChild,next=void 0;node;node=next){next=node.nextSibling;if("CodeMirror-linewidget"==node.className){lineView.node.removeChild(node)}}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass){lineView.bgClass=built.bgClass}if(built.textClass){lineView.textClass=built.textClass}updateLineClasses(cm,lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node}function insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,!0);if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,!1)}}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets){return}for(var wrap=ensureLineWrapped(lineView),i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");if(!widget.handleMouseEvents){node.setAttribute("cm-ignore-events","true")}positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above){wrap.insertBefore(node,lineView.gutter||lineView.text)}else{wrap.appendChild(node)}signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+"px"}node.style.width=width+"px"}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll){node.style.marginLeft=-dims.gutterTotalWidth+"px"}}}function widgetHeight(widget){if(null!=widget.height){return widget.height}var cm=widget.doc.cm;if(!cm){return 0}if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter){parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;"}if(widget.noHScroll){parentStyle+="width: "+cm.display.wrapper.clientWidth+"px;"}removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==display.sizer&&n!=display.mover){return!0}}}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH){return display.cachedPaddingH}var e=removeChildrenAndAdd(display.measure,elt("pre","x")),style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right)){display.cachedPaddingH=data}return data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping,curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;for(var rects=lineView.text.firstChild.getClientRects(),i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(2<_Mathabs(cur.bottom-next.bottom)){heights.push((cur.bottom+next.top)/2-rect.top)}}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line){return{map:lineView.measure.map,cache:lineView.measure.cache}}for(var i=0;i<lineView.rest.length;i++){if(lineView.rest[i]==line){return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]}}}for(var i$1=0;i$1<lineView.rest.length;i$1++){if(lineNo(lineView.rest[i$1])>lineN){return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:!0}}}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line),view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo){return cm.display.view[findViewIndex(cm,lineN)]}var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size){return ext}}function prepareMeasureForLine(cm,line){var lineN=lineNo(line),view=findViewForLine(cm,lineN);if(view&&!view.text){view=null}else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=!0}if(!view){view=updateExternalMeasurement(cm,line)}var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:!1}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before){ch=-1}var key=ch+(bias||""),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key]}else{if(!prepared.rect){prepared.rect=prepared.view.text.getBoundingClientRect()}if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=!0}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus){prepared.cache[key]=found}}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}var nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map$$1,ch,bias){for(var node,start,end,collapse,mStart,mEnd,i=0;i<map$$1.length;i+=3){mStart=map$$1[i];mEnd=map$$1[i+1];if(ch<mStart){start=0;end=1;collapse="left"}else if(ch<mEnd){start=ch-mStart;end=start+1}else if(i==map$$1.length-3||ch==mEnd&&map$$1[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd){collapse="right"}}if(null!=start){node=map$$1[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right")){collapse=bias}if("left"==bias&&0==start){while(i&&map$$1[i-2]==map$$1[i-3]&&map$$1[i-1].insertLeft){node=map$$1[(i-=3)+2];collapse="left"}}if("right"==bias&&start==mEnd-mStart){while(i<map$$1.length-3&&map$$1[i+3]==map$$1[i+4]&&!map$$1[i+5].insertLeft){node=map$$1[(i+=3)+2];collapse="right"}}break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function getUsefulRect(rects,bias){var rect=nullRect;if("left"==bias){for(var i=0;i<rects.length;i++){if((rect=rects[i]).left!=rect.right){break}}}else{for(var i$1=rects.length-1;0<=i$1;i$1--){if((rect=rects[i$1]).left!=rect.right){break}}}return rect}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias),node=place.node,start=place.start,end=place.end,collapse=place.collapse,rect;if(3==node.nodeType){for(var i$1=0;4>i$1;i$1++){while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start))){--start}while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end))){++end}if(ie&&9>ie_version&&0==start&&end==place.coverEnd-place.coverStart){rect=node.parentNode.getBoundingClientRect()}else{rect=getUsefulRect(range(node,start,end).getClientRects(),bias)}if(rect.left||rect.right||0==start){break}end=start;start=start-1;collapse="right"}if(ie&&11>ie_version){rect=maybeUpdateRectForZooming(cm.display.measure,rect)}}else{if(0<start){collapse=bias="right"}var rects;if(cm.options.lineWrapping&&1<(rects=node.getClientRects()).length){rect=rects["right"==bias?rects.length-1:0]}else{rect=node.getBoundingClientRect()}}if(ie&&9>ie_version&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan){rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}}else{rect=nullRect}}var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top,mid=(rtop+rbot)/2,heights=prepared.view.measure.heights,i=0;for(;i<heights.length-1;i++){if(mid<heights[i]){break}}var top=i?heights[i-1]:0,bot=heights[i],result={left:("right"==collapse?rect.right:rect.left)-prepared.rect.left,right:("left"==collapse?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right){result.bogus=!0}if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot}return result}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure)){return rect}var scaleX=screen.logicalXDPI/screen.deviceXDPI,scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){lineView.measure.caches[i]={}}}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++){clearLineMeasurementCacheFor(cm.display.view[i])}}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping){cm.display.maxLineChanged=!0}cm.display.lineNumChars=null}function pageScrollX(){if(chrome&&android){return-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft))}return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){if(chrome&&android){return-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop))}return window.pageYOffset||(document.documentElement||document.body).scrollTop}function widgetTopHeight(lineObj){var height=0;if(lineObj.widgets){for(var i=0;i<lineObj.widgets.length;++i){if(lineObj.widgets[i].above){height+=widgetHeight(lineObj.widgets[i])}}}return height}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets){var height=widgetTopHeight(lineObj);rect.top+=height;rect.bottom+=height}if("line"==context){return rect}if(!context){context="local"}var yOff=heightAtLine(lineObj);if("local"==context){yOff+=paddingTop(cm.display)}else{yOff-=cm.display.viewOffset}if("page"==context||"window"==context){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+("window"==context?0:pageScrollY());var xOff=lOff.left+("window"==context?0:pageScrollX());rect.left+=xOff;rect.right+=xOff}rect.top+=yOff;rect.bottom+=yOff;return rect}function fromCoordSystem(cm,coords,context){if("div"==context){return coords}var left=coords.left,top=coords.top;if("page"==context){left-=pageScrollX();top-=pageScrollY()}else if("local"==context||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){if(!lineObj){lineObj=getLine(cm.doc,pos.line)}return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj)}function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);if(right){m.left=m.right}else{m.right=m.left}return intoCoordSystem(cm,lineObj,m,context)}var order=getOrder(lineObj,cm.doc.direction),ch=pos.ch,sticky=pos.sticky;if(ch>=lineObj.text.length){ch=lineObj.text.length;sticky="before"}else if(0>=ch){ch=0;sticky="after"}if(!order){return get("before"==sticky?ch-1:ch,"before"==sticky)}function getBidi(ch,partPos,invert){var part=order[partPos],right=1==part.level;return get(invert?ch-1:ch,right!=invert)}var partPos=getBidiPartAt(order,ch,sticky),other=bidiOther,val=getBidi(ch,partPos,"before"==sticky);if(null!=other){val.other=getBidi(ch,other,"before"!=sticky)}return val}function estimateCoords(cm,pos){var left=0;pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping){left=charWidth(cm.display)*pos.ch}var lineObj=getLine(cm.doc,pos.line),top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,sticky,outside,xRel){var pos=Pos(line,ch,sticky);pos.xRel=xRel;if(outside){pos.outside=!0}return pos}function coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(0>y){return PosWithInfo(doc.first,0,null,!0,-1)}var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last){return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,!0,1)}if(0>x){x=0}var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y),collapsed=collapsedSpanAround(lineObj,found.ch+(0<found.xRel?1:0));if(!collapsed){return found}var rangeEnd=collapsed.find(1);if(rangeEnd.line==lineN){return rangeEnd}lineObj=getLine(doc,lineN=rangeEnd.line)}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){y-=widgetTopHeight(lineObj);var end=lineObj.text.length,begin=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch-1).bottom<=y},end,0);end=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch).top>y},begin,end);return{begin:begin,end:end}}function wrappedLineExtentChar(cm,lineObj,preparedMeasure,target){if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj)}var targetTop=intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),"line").top;return wrappedLineExtent(cm,lineObj,preparedMeasure,targetTop)}function boxIsAfter(box,x,y,left){return box.bottom<=y?!1:box.top>y?!0:(left?box.left:box.right)>x}function coordsCharInner(cm,lineObj,lineNo$$1,x,y){y-=heightAtLine(lineObj);var preparedMeasure=prepareMeasureForLine(cm,lineObj),widgetHeight$$1=widgetTopHeight(lineObj),begin=0,end=lineObj.text.length,ltr=!0,order=getOrder(lineObj,cm.doc.direction);if(order){var part=(cm.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y);ltr=1!=part.level;begin=ltr?part.from:part.to-1;end=ltr?part.to:part.from-1}var chAround=null,boxAround=null,ch=findFirst(function(ch){var box=measureCharPrepared(cm,preparedMeasure,ch);box.top+=widgetHeight$$1;box.bottom+=widgetHeight$$1;if(!boxIsAfter(box,x,y,!1)){return!1}if(box.top<=y&&box.left<=x){chAround=ch;boxAround=box}return!0},begin,end),baseX,sticky,outside=!1;if(boxAround){var atLeft=x-boxAround.left<boxAround.right-x,atStart=atLeft==ltr;ch=chAround+(atStart?0:1);sticky=atStart?"after":"before";baseX=atLeft?boxAround.left:boxAround.right}else{if(!ltr&&(ch==end||ch==begin)){ch++}sticky=0==ch?"after":ch==lineObj.text.length?"before":measureCharPrepared(cm,preparedMeasure,ch-(ltr?1:0)).bottom+widgetHeight$$1<=y==ltr?"after":"before";var coords=cursorCoords(cm,Pos(lineNo$$1,ch,sticky),"line",lineObj,preparedMeasure);baseX=coords.left;outside=y<coords.top||y>=coords.bottom}ch=skipExtendingChars(lineObj.text,ch,1);return PosWithInfo(lineNo$$1,ch,sticky,outside,x-baseX)}function coordsBidiPart(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y){var index=findFirst(function(i){var part=order[i],ltr=1!=part.level;return boxIsAfter(cursorCoords(cm,Pos(lineNo$$1,ltr?part.to:part.from,ltr?"before":"after"),"line",lineObj,preparedMeasure),x,y,!0)},0,order.length-1),part=order[index];if(0<index){var ltr=1!=part.level,start=cursorCoords(cm,Pos(lineNo$$1,ltr?part.from:part.to,ltr?"after":"before"),"line",lineObj,preparedMeasure);if(boxIsAfter(start,x,y,!0)&&start.top>y){part=order[index-1]}}return part}function coordsBidiPartWrapped(cm,lineObj,_lineNo,preparedMeasure,order,x,y){var ref=wrappedLineExtent(cm,lineObj,preparedMeasure,y),begin=ref.begin,end=ref.end;if(/\s/.test(lineObj.text.charAt(end-1))){end--}for(var part=null,closestDist=null,i=0,p;i<order.length;i++){p=order[i];if(p.from>=end||p.to<=begin){continue}var ltr=1!=p.level,endX=measureCharPrepared(cm,preparedMeasure,ltr?_Mathmin(end,p.to)-1:_Mathmax(begin,p.from)).right,dist=endX<x?x-endX+1e9:endX-x;if(!part||closestDist>dist){part=p;closestDist=dist}}if(!part){part=order[order.length-1]}if(part.from<begin){part={from:begin,to:part.to,level:part.level}}if(part.to>end){part={from:part.from,to:end,level:part.level}}return part}var measureText;function textHeight(display){if(null!=display.cachedTextHeight){return display.cachedTextHeight}if(null==measureText){measureText=elt("pre");for(var i=0;49>i;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"))}measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(3<height){display.cachedTextHeight=height}removeChildren(display.measure);return height||1}function charWidth(display){if(null!=display.cachedCharWidth){return display.cachedCharWidth}var anchor=elt("span","xxxxxxxxxx"),pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(2<width){display.cachedCharWidth=width}return width||10}function getDimensions(cm){for(var d=cm.display,left={},width={},gutterLeft=d.gutters.clientLeft,n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft;width[cm.options.gutters[i]]=n.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping,perLine=wrapping&&_Mathmax(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line)){return 0}var widgetsHeight=0;if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height){widgetsHeight+=line.widgets[i].height}}}if(wrapping){return widgetsHeight+(_Mathceil(line.text.length/perLine)||1)*th}else{return widgetsHeight+th}}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height){updateLineHeight(line,estHeight)}})}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&"true"==e_target(e).getAttribute("cm-not-content")){return null}var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top}catch(e){return null}var coords=coordsChar(cm,x,y),line;if(forRect&&1==coords.xRel&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,_Mathmax(0,_Mathround((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function findViewIndex(cm,n){if(n>=cm.display.viewTo){return null}n-=cm.display.viewFrom;if(0>n){return null}for(var view=cm.display.view,i=0;i<view.length;i++){n-=view[i].size;if(0>n){return i}}}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){if(void 0===primary)primary=!0;for(var doc=cm.doc,result={},curFragment=result.cursors=document.createDocumentFragment(),selFragment=result.selection=document.createDocumentFragment(),i=0;i<doc.sel.ranges.length;i++){if(!primary&&i==doc.sel.primIndex){continue}var range$$1=doc.sel.ranges[i];if(range$$1.from().line>=cm.display.viewTo||range$$1.to().line<cm.display.viewFrom){continue}var collapsed=range$$1.empty();if(collapsed||cm.options.showCursorWhenSelecting){drawSelectionCursor(cm,range$$1.head,curFragment)}if(!collapsed){drawSelectionRange(cm,range$$1,selFragment)}}return result}function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine),cursor=output.appendChild(elt("div","\xA0","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=_Mathmax(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(pos.other){var otherCursor=output.appendChild(elt("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=.85*(pos.other.bottom-pos.other.top)+"px"}}function cmpCoords(a,b){return a.top-b.top||a.left-b.left}function drawSelectionRange(cm,range$$1,output){var display=cm.display,doc=cm.doc,fragment=document.createDocumentFragment(),padding=paddingH(cm.display),leftSide=padding.left,rightSide=_Mathmax(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right,docLTR="ltr"==doc.direction;function add(left,top,width,bottom){if(0>top){top=0}top=_Mathround(top);bottom=_Mathround(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px;\n                             top: "+top+"px; width: "+(null==width?rightSide-left:width)+"px;\n                             height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line),lineLen=lineObj.text.length,start,end;function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}function wrapX(pos,dir,side){var extent=wrappedLineExtentChar(cm,lineObj,null,pos),prop="ltr"==dir==("after"==side)?"left":"right",ch="after"==side?extent.begin:extent.end-(/\s/.test(lineObj.text.charAt(extent.end-1))?2:1);return coords(ch,prop)[prop]}var order=getOrder(lineObj,doc.direction);iterateBidiSections(order,fromArg||0,null==toArg?lineLen:toArg,function(from,to,dir,i){var ltr="ltr"==dir,fromPos=coords(from,ltr?"left":"right"),toPos=coords(to-1,ltr?"right":"left"),openStart=null==fromArg&&0==from,openEnd=null==toArg&&to==lineLen,first=0==i,last=!order||i==order.length-1;if(3>=toPos.top-fromPos.top){var openLeft=(docLTR?openStart:openEnd)&&first,openRight=(docLTR?openEnd:openStart)&&last,left=openLeft?leftSide:(ltr?fromPos:toPos).left,right=openRight?rightSide:(ltr?toPos:fromPos).right;add(left,fromPos.top,right-left,fromPos.bottom)}else{var topLeft,topRight,botLeft,botRight;if(ltr){topLeft=docLTR&&openStart&&first?leftSide:fromPos.left;topRight=docLTR?rightSide:wrapX(from,dir,"before");botLeft=docLTR?leftSide:wrapX(to,dir,"after");botRight=docLTR&&openEnd&&last?rightSide:toPos.right}else{topLeft=!docLTR?leftSide:wrapX(from,dir,"before");topRight=!docLTR&&openStart&&first?rightSide:fromPos.right;botLeft=!docLTR&&openEnd&&last?leftSide:toPos.left;botRight=!docLTR?rightSide:wrapX(to,dir,"after")}add(topLeft,fromPos.top,topRight-topLeft,fromPos.bottom);if(fromPos.bottom<toPos.top){add(leftSide,fromPos.bottom,null,toPos.top)}add(botLeft,toPos.top,botRight-botLeft,toPos.bottom)}if(!start||0>cmpCoords(fromPos,start)){start=fromPos}if(0>cmpCoords(toPos,start)){start=toPos}if(!end||0>cmpCoords(fromPos,end)){end=fromPos}if(0>cmpCoords(toPos,end)){end=toPos}});return{start:start,end:end}}var sFrom=range$$1.from(),sTo=range$$1.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch)}else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line),singleVLine=visualLine(fromLine)==visualLine(toLine),leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end,rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)}else{add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)}}if(leftEnd.bottom<rightStart.top){add(leftSide,leftEnd.bottom,null,rightStart.top)}}output.appendChild(fragment)}function restartBlink(cm){if(!cm.state.focused){return}var display=cm.display;clearInterval(display.blinker);var on=!0;display.cursorDiv.style.visibility="";if(0<cm.options.cursorBlinkRate){display.blinker=setInterval(function(){return display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate)}else if(0>cm.options.cursorBlinkRate){display.cursorDiv.style.visibility="hidden"}}function ensureFocus(cm){if(!cm.state.focused){cm.display.input.focus();onFocus(cm)}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=!0;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=!1;onBlur(cm)}},100)}function onFocus(cm,e){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=!1}if("nocursor"==cm.options.readOnly){return}if(!cm.state.focused){signal(cm,"focus",cm,e);cm.state.focused=!0;addClass(cm.display.wrapper,"CodeMirror-focused");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit){setTimeout(function(){return cm.display.input.reset(!0)},20)}}cm.display.input.receivedFocus()}restartBlink(cm)}function onBlur(cm,e){if(cm.state.delayingBlurEvent){return}if(cm.state.focused){signal(cm,"blur",cm,e);cm.state.focused=!1;rmClass(cm.display.wrapper,"CodeMirror-focused")}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused){cm.display.shift=!1}},150)}function updateHeightsInViewport(cm){for(var display=cm.display,prevBottom=display.lineDiv.offsetTop,i=0;i<display.view.length;i++){var cur=display.view[i],wrapping=cm.options.lineWrapping,height=void 0,width=0;if(cur.hidden){continue}if(ie&&8>ie_version){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top;if(!wrapping&&cur.text.firstChild){width=cur.text.firstChild.getBoundingClientRect().right-box.left-1}}var diff=cur.line.height-height;if(.005<diff||-.005>diff){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest){for(var j=0;j<cur.rest.length;j++){updateWidgetHeight(cur.rest[j])}}}if(width>cm.display.sizerWidth){var chWidth=_Mathceil(width/charWidth(cm.display));if(chWidth>cm.display.maxLineLength){cm.display.maxLineLength=chWidth;cm.display.maxLine=cur.line;cm.display.maxLineChanged=!0}}}}function updateWidgetHeight(line){if(line.widgets){for(var i=0;i<line.widgets.length;++i){var w=line.widgets[i],parent=w.node.parentNode;if(parent){w.height=parent.offsetHeight}}}}function visibleLines(display,doc,viewport){var top=viewport&&null!=viewport.top?_Mathmax(0,viewport.top):display.scroller.scrollTop;top=_Mathfloor(top-paddingTop(display));var bottom=viewport&&null!=viewport.bottom?viewport.bottom:top+display.wrapper.clientHeight,from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)}else if(_Mathmin(ensureTo,doc.lastLine())>=to){from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo}}return{from:from,to:_Mathmax(to,from+1)}}function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter)){return}for(var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft,gutterW=display.gutters.offsetWidth,left=comp+"px",i=0;i<view.length;i++){if(!view[i].hidden){if(cm.options.fixedGutter){if(view[i].gutter){view[i].gutter.style.left=left}if(view[i].gutterBackground){view[i].gutterBackground.style.left=left}}var align=view[i].alignable;if(align){for(var j=0;j<align.length;j++){align[j].style.left=left}}}}if(cm.options.fixedGutter){display.gutters.style.left=comp+gutterW+"px"}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers){return!1}var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt")),innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=_Mathmax(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm);return!0}return!1}function maybeScrollWindow(cm,rect){if(signalDOMEvent(cm,"scrollCursorIntoView")){return}var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(0>rect.top+box.top){doScroll=!0}else if(rect.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)){doScroll=!1}if(null!=doScroll&&!phantom){var scrollNode=elt("div","\u200B",null,"position: absolute;\n                         top: "+(rect.top-display.viewOffset-paddingTop(cm.display))+"px;\n                         height: "+(rect.bottom-rect.top+scrollGap(cm)+display.barHeight)+"px;\n                         left: "+rect.left+"px; width: "+_Mathmax(2,rect.right-rect.left)+"px;");cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode)}}function scrollPosIntoView(cm,pos,end,margin){if(null==margin){margin=0}var rect;if(!cm.options.lineWrapping&&pos==end){pos=pos.ch?Pos(pos.line,"before"==pos.sticky?pos.ch-1:pos.ch,"after"):pos;end="before"==pos.sticky?Pos(pos.line,pos.ch+1,"before"):pos}for(var limit=0;5>limit;limit++){var changed=!1,coords=cursorCoords(cm,pos),endCoords=!end||end==pos?coords:cursorCoords(cm,end);rect={left:_Mathmin(coords.left,endCoords.left),top:_Mathmin(coords.top,endCoords.top)-margin,right:_Mathmax(coords.left,endCoords.left),bottom:_Mathmax(coords.bottom,endCoords.bottom)+margin};var scrollPos=calculateScrollPos(cm,rect),startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(null!=scrollPos.scrollTop){updateScrollTop(cm,scrollPos.scrollTop);if(1<_Mathabs(cm.doc.scrollTop-startTop)){changed=!0}}if(null!=scrollPos.scrollLeft){setScrollLeft(cm,scrollPos.scrollLeft);if(1<_Mathabs(cm.doc.scrollLeft-startLeft)){changed=!0}}if(!changed){break}}return rect}function scrollIntoView(cm,rect){var scrollPos=calculateScrollPos(cm,rect);if(null!=scrollPos.scrollTop){updateScrollTop(cm,scrollPos.scrollTop)}if(null!=scrollPos.scrollLeft){setScrollLeft(cm,scrollPos.scrollLeft)}}function calculateScrollPos(cm,rect){var display=cm.display,snapMargin=textHeight(cm.display);if(0>rect.top){rect.top=0}var screentop=cm.curOp&&null!=cm.curOp.scrollTop?cm.curOp.scrollTop:display.scroller.scrollTop,screen=displayHeight(cm),result={};if(rect.bottom-rect.top>screen){rect.bottom=rect.top+screen}var docBottom=cm.doc.height+paddingVert(display),atTop=rect.top<snapMargin,atBottom=rect.bottom>docBottom-snapMargin;if(rect.top<screentop){result.scrollTop=atTop?0:rect.top}else if(rect.bottom>screentop+screen){var newTop=_Mathmin(rect.top,(atBottom?docBottom:rect.bottom)-screen);if(newTop!=screentop){result.scrollTop=newTop}}var screenleft=cm.curOp&&null!=cm.curOp.scrollLeft?cm.curOp.scrollLeft:display.scroller.scrollLeft,screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0),tooWide=rect.right-rect.left>screenw;if(tooWide){rect.right=rect.left+screenw}if(10>rect.left){result.scrollLeft=0}else if(rect.left<screenleft){result.scrollLeft=_Mathmax(0,rect.left-(tooWide?0:10))}else if(rect.right>screenw+screenleft-3){result.scrollLeft=rect.right+(tooWide?0:10)-screenw}return result}function addToScrollTop(cm,top){if(null==top){return}resolveScrollToPos(cm);cm.curOp.scrollTop=(null==cm.curOp.scrollTop?cm.doc.scrollTop:cm.curOp.scrollTop)+top}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor();cm.curOp.scrollToPos={from:cur,to:cur,margin:cm.options.cursorScrollMargin}}function scrollToCoords(cm,x,y){if(null!=x||null!=y){resolveScrollToPos(cm)}if(null!=x){cm.curOp.scrollLeft=x}if(null!=y){cm.curOp.scrollTop=y}}function scrollToRange(cm,range$$1){resolveScrollToPos(cm);cm.curOp.scrollToPos=range$$1}function resolveScrollToPos(cm){var range$$1=cm.curOp.scrollToPos;if(range$$1){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range$$1.from),to=estimateCoords(cm,range$$1.to);scrollToCoordsRange(cm,from,to,range$$1.margin)}}function scrollToCoordsRange(cm,from,to,margin){var sPos=calculateScrollPos(cm,{left:_Mathmin(from.left,to.left),top:_Mathmin(from.top,to.top)-margin,right:_Mathmax(from.right,to.right),bottom:_Mathmax(from.bottom,to.bottom)+margin});scrollToCoords(cm,sPos.scrollLeft,sPos.scrollTop)}function updateScrollTop(cm,val){if(2>_Mathabs(cm.doc.scrollTop-val)){return}if(!gecko){updateDisplaySimple(cm,{top:val})}setScrollTop(cm,val,!0);if(gecko){updateDisplaySimple(cm)}startWorker(cm,100)}function setScrollTop(cm,val,forceScroll){val=_Mathmin(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val);if(cm.display.scroller.scrollTop==val&&!forceScroll){return}cm.doc.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(cm.display.scroller.scrollTop!=val){cm.display.scroller.scrollTop=val}}function setScrollLeft(cm,val,isScroller,forceScroll){val=_Mathmin(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);if((isScroller?val==cm.doc.scrollLeft:2>_Mathabs(cm.doc.scrollLeft-val))&&!forceScroll){return}cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val){cm.display.scroller.scrollLeft=val}cm.display.scrollbars.setScrollLeft(val)}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth,docH=_Mathround(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}var NativeScrollbars=function(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");vert.tabIndex=horiz.tabIndex=-1;place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight){scroll(vert.scrollTop,"vertical")}});on(horiz,"scroll",function(){if(horiz.clientWidth){scroll(horiz.scrollLeft,"horizontal")}});this.checkedZeroWidth=!1;if(ie&&8>ie_version){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}};NativeScrollbars.prototype.update=function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1,needsV=measure.scrollHeight>measure.clientHeight+1,sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=_Mathmax(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(needsH){this.horiz.style.display="block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=_Mathmax(0,measure.scrollWidth-measure.clientWidth+totalWidth)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&0<measure.clientHeight){if(0==sWidth){this.zeroWidthHack()}this.checkedZeroWidth=!0}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0}};NativeScrollbars.prototype.setScrollLeft=function(pos){if(this.horiz.scrollLeft!=pos){this.horiz.scrollLeft=pos}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")}};NativeScrollbars.prototype.setScrollTop=function(pos){if(this.vert.scrollTop!=pos){this.vert.scrollTop=pos}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert,"vert")}};NativeScrollbars.prototype.zeroWidthHack=function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Delayed;this.disableVert=new Delayed};NativeScrollbars.prototype.enableZeroWidthBar=function(bar,delay,type){bar.style.pointerEvents="auto";function maybeDisable(){var box=bar.getBoundingClientRect(),elt$$1="vert"==type?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1);if(elt$$1!=bar){bar.style.pointerEvents="none"}else{delay.set(1e3,maybeDisable)}}delay.set(1e3,maybeDisable)};NativeScrollbars.prototype.clear=function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert)};var NullScrollbars=function(){};NullScrollbars.prototype.update=function(){return{bottom:0,right:0}};NullScrollbars.prototype.setScrollLeft=function(){};NullScrollbars.prototype.setScrollTop=function(){};NullScrollbars.prototype.clear=function(){};function updateScrollbars(cm,measure){if(!measure){measure=measureForScrollbars(cm)}var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;4>i&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping){updateHeightsInViewport(cm)}updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight}}function updateScrollbarsInner(cm,measure){var d=cm.display,sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px"}else{d.scrollbarFiller.style.display=""}if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=sizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px"}else{d.gutterFiller.style.display=""}}var scrollbarModel={native:NativeScrollbars,null:NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass){rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on(node,"mousedown",function(){if(cm.state.focused){setTimeout(function(){return cm.display.input.focus()},0)}});node.setAttribute("cm-not-content","true")},function(pos,axis){if("horizontal"==axis){setScrollLeft(cm,pos)}else{updateScrollTop(cm,pos)}},cm);if(cm.display.scrollbars.addClass){addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}var nextOpId=0;function startOperation(cm){cm.curOp={cm:cm,viewChanged:!1,startHeight:cm.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++nextOpId};pushOperation(cm.curOp)}function endOperation(cm){var op=cm.curOp;if(op){finishOperation(op,function(group){for(var i=0;i<group.ops.length;i++){group.ops[i].cm.curOp=null}endOperations(group)})}}function endOperations(group){for(var ops=group.ops,i=0;i<ops.length;i++){endOperation_R1(ops[i])}for(var i$1=0;i$1<ops.length;i$1++){endOperation_W1(ops[i$1])}for(var i$2=0;i$2<ops.length;i$2++){endOperation_R2(ops[i$2])}for(var i$3=0;i$3<ops.length;i$3++){endOperation_W2(ops[i$3])}for(var i$4=0;i$4<ops.length;i$4++){endOperation_finish(ops[i$4])}}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine){findMaxLine(cm)}op.mustUpdate=op.viewChanged||op.forceUpdate||null!=op.scrollTop||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay){updateHeightsInViewport(cm)}op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=_Mathmax(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=_Mathmax(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))}if(op.updatedDisplay||op.selectionChanged){op.preparedSelection=display.input.prepareSelection()}}function endOperation_W2(op){var cm=op.cm;if(null!=op.adjustWidthTo){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<cm.doc.scrollLeft){setScrollLeft(cm,_Mathmin(cm.display.scroller.scrollLeft,op.maxScrollLeft),!0)}cm.display.maxLineChanged=!1}var takeFocus=op.focus&&op.focus==activeElt();if(op.preparedSelection){cm.display.input.showSelection(op.preparedSelection,takeFocus)}if(op.updatedDisplay||op.startHeight!=cm.doc.height){updateScrollbars(cm,op.barMeasure)}if(op.updatedDisplay){setDocumentHeight(cm,op.barMeasure)}if(op.selectionChanged){restartBlink(cm)}if(cm.state.focused&&op.updateInput){cm.display.input.reset(op.typing)}if(takeFocus){ensureFocus(op.cm)}}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay){postUpdateDisplay(cm,op.update)}if(null!=display.wheelStartX&&(null!=op.scrollTop||null!=op.scrollLeft||op.scrollToPos)){display.wheelStartX=display.wheelStartY=null}if(null!=op.scrollTop){setScrollTop(cm,op.scrollTop,op.forceScroll)}if(null!=op.scrollLeft){setScrollLeft(cm,op.scrollLeft,!0,!0)}if(op.scrollToPos){var rect=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);maybeScrollWindow(cm,rect)}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden){for(var i=0;i<hidden.length;++i){if(!hidden[i].lines.length){signal(hidden[i],"hide")}}}if(unhidden){for(var i$1=0;i$1<unhidden.length;++i$1){if(unhidden[i$1].lines.length){signal(unhidden[i$1],"unhide")}}}if(display.wrapper.offsetHeight){doc.scrollTop=cm.display.scroller.scrollTop}if(op.changeObjs){signal(cm,"changes",cm,op.changeObjs)}if(op.update){op.update.finish()}}function runInOp(cm,f){if(cm.curOp){return f()}startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp){return f.apply(cm,arguments)}startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp){return f.apply(this,arguments)}startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp){return f.apply(this,arguments)}startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function regChange(cm,from,to,lendiff){if(null==from){from=cm.doc.first}if(null==to){to=cm.doc.first+cm.doc.size}if(!lendiff){lendiff=0}var display=cm.display;if(lendiff&&to<display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>from)){display.updateLineNumbers=from}cm.curOp.viewChanged=!0;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo){resetView(cm)}}else if(to<=display.viewFrom){if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm)}else{display.viewFrom+=lendiff;display.viewTo+=lendiff}}else if(from<=display.viewFrom&&to>=display.viewTo){resetView(cm)}else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff}else{resetView(cm)}}else if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);if(cut$1){display.view=display.view.slice(0,cut$1.index);display.viewTo=cut$1.lineN}else{resetView(cm)}}else{var cutTop=viewCuttingPoint(cm,from,from,-1),cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff}else{resetView(cm)}}var ext=display.externalMeasured;if(ext){if(to<ext.lineN){ext.lineN+=lendiff}else if(from<ext.lineN+ext.size){display.externalMeasured=null}}}function regLineChange(cm,line,type){cm.curOp.viewChanged=!0;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size){display.externalMeasured=null}if(line<display.viewFrom||line>=display.viewTo){return}var lineView=display.view[findViewIndex(cm,line)];if(null==lineView.node){return}var arr=lineView.changes||(lineView.changes=[]);if(-1==indexOf(arr,type)){arr.push(type)}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size){return{index:index,lineN:newN}}for(var n=cm.display.viewFrom,i=0;i<index;i++){n+=view[i].size}if(n!=oldN){if(0<dir){if(index==view.length-1){return null}diff=n+view[index].size-oldN;index++}else{diff=n-oldN}oldN+=diff;newN+=diff}while(visualLineNo(cm.doc,newN)!=newN){if(index==(0>dir?0:view.length-1)){return null}newN+=dir*view[index-(0>dir?1:0)].size;index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;if(0==view.length||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from}else{if(display.viewFrom>from){display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view)}else if(display.viewFrom<from){display.view=display.view.slice(findViewIndex(cm,from))}display.viewFrom=from;if(display.viewTo<to){display.view=display.view.concat(buildViewArray(cm,display.viewTo,to))}else if(display.viewTo>to){display.view=display.view.slice(0,findViewIndex(cm,to))}}display.viewTo=to}function countDirtyView(cm){for(var view=cm.display.view,dirty=0,i=0,lineView;i<view.length;i++){lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes)){++dirty}}return dirty}function startWorker(cm,time){if(cm.doc.highlightFrontier<cm.display.viewTo){cm.state.highlight.set(time,bind(highlightWorker,cm))}}function highlightWorker(cm){var doc=cm.doc;if(doc.highlightFrontier>=cm.display.viewTo){return}var end=+new Date+cm.options.workTime,context=getContextBefore(cm,doc.highlightFrontier),changedLines=[];doc.iter(context.line,_Mathmin(doc.first+doc.size,cm.display.viewTo+500),function(line){if(context.line>=cm.display.viewFrom){var oldStyles=line.styles,resetState=line.text.length>cm.options.maxHighlightLength?copyState(doc.mode,context.state):null,highlighted=highlightLine(cm,line,context,!0);if(resetState){context.state=resetState}line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls){line.styleClasses=newCls}else if(oldCls){line.styleClasses=null}for(var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass),i=0;!ischange&&i<oldStyles.length;++i){ischange=oldStyles[i]!=line.styles[i]}if(ischange){changedLines.push(context.line)}line.stateAfter=context.save();context.nextLine()}else{if(line.text.length<=cm.options.maxHighlightLength){processLine(cm,line.text,context)}line.stateAfter=0==context.line%5?context.save():null;context.nextLine()}if(+new Date>end){startWorker(cm,cm.options.workDelay);return!0}});doc.highlightFrontier=context.line;doc.modeFrontier=_Mathmax(doc.modeFrontier,context.line);if(changedLines.length){runInOp(cm,function(){for(var i=0;i<changedLines.length;i++){regLineChange(cm,changedLines[i],"text")}})}}var DisplayUpdate=function(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[]};DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type)){this.events.push(arguments)}};DisplayUpdate.prototype.finish=function(){for(var this$1=this,i=0;i<this.events.length;i++){signal.apply(null,this$1.events[i])}};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=!0}}function selectionSnapshot(cm){if(cm.hasFocus()){return null}var active=activeElt();if(!active||!contains(cm.display.lineDiv,active)){return null}var result={activeElt:active};if(window.getSelection){var sel=window.getSelection();if(sel.anchorNode&&sel.extend&&contains(cm.display.lineDiv,sel.anchorNode)){result.anchorNode=sel.anchorNode;result.anchorOffset=sel.anchorOffset;result.focusNode=sel.focusNode;result.focusOffset=sel.focusOffset}}return result}function restoreSelection(snapshot){if(!snapshot||!snapshot.activeElt||snapshot.activeElt==activeElt()){return}snapshot.activeElt.focus();if(snapshot.anchorNode&&contains(document.body,snapshot.anchorNode)&&contains(document.body,snapshot.focusNode)){var sel=window.getSelection(),range$$1=document.createRange();range$$1.setEnd(snapshot.anchorNode,snapshot.anchorOffset);range$$1.collapse(!1);sel.removeAllRanges();sel.addRange(range$$1);sel.extend(snapshot.focusNode,snapshot.focusOffset)}}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return!1}if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&0==countDirtyView(cm)){return!1}if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm)}var end=doc.first+doc.size,from=_Mathmax(update.visible.from-cm.options.viewportMargin,doc.first),to=_Mathmin(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&20>from-display.viewFrom){from=_Mathmax(doc.first,display.viewFrom)}if(display.viewTo>to&&20>display.viewTo-to){to=_Mathmin(end,display.viewTo)}if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to)}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&0==toUpdate&&!update.force&&display.renderedView==display.view&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)){return!1}var selSnapshot=selectionSnapshot(cm);if(4<toUpdate){display.lineDiv.style.display="none"}patchDisplay(cm,display.updateLineNumbers,update.dims);if(4<toUpdate){display.lineDiv.style.display=""}display.renderedView=display.view;restoreSelection(selSnapshot);removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400)}display.updateLineNumbers=null;return!0}function postUpdateDisplay(cm,update){for(var viewport=update.viewport,first=!0;;first=!1){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){if(viewport&&null!=viewport.top){viewport={top:_Mathmin(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}}update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo){break}}if(!updateDisplayIfNeeded(cm,update)){break}updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.force=!1}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish()}}function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers,container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node){node.style.display="none"}else{node.parentNode.removeChild(node)}return next}for(var view=display.view,lineN=display.viewFrom,i=0,lineView;i<view.length;i++){lineView=view[i];if(lineView.hidden);else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{while(cur!=lineView.node){cur=rm(cur)}var updateNumber=lineNumbers&&null!=updateNumbersFrom&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(-1<indexOf(lineView.changes,"gutter")){updateNumber=!1}updateLineForChanges(cm,lineView,lineN,dims)}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))}cur=lineView.node.nextSibling}lineN+=lineView.size}while(cur){cur=rm(cur)}}function updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+"px"}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px"}function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);var i=0;for(;i<specs.length;++i){var gutterClass=specs[i],gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));if("CodeMirror-linenumbers"==gutterClass){cm.display.lineGutter=gElt;gElt.style.width=(cm.display.lineNumWidth||1)+"px"}}gutters.style.display=i?"":"none";updateGutterSpace(cm)}function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,"CodeMirror-linenumbers");if(-1==found&&options.lineNumbers){options.gutters=options.gutters.concat(["CodeMirror-linenumbers"])}else if(-1<found&&!options.lineNumbers){options.gutters=options.gutters.slice(0);options.gutters.splice(found,1)}}var wheelSamples=0,wheelPixelsPerUnit=null;if(ie){wheelPixelsPerUnit=-.53}else if(gecko){wheelPixelsPerUnit=15}else if(chrome){wheelPixelsPerUnit=-.7}else if(safari){wheelPixelsPerUnit=-1/3}function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(null==dx&&e.detail&&e.axis==e.HORIZONTAL_AXIS){dx=e.detail}if(null==dy&&e.detail&&e.axis==e.VERTICAL_AXIS){dy=e.detail}else if(null==dy){dy=e.wheelDelta}return{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y,display=cm.display,scroll=display.scroller,canScrollX=scroll.scrollWidth>scroll.clientWidth,canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY)){return}if(dy&&mac&&webkit){outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}}}}if(dx&&!gecko&&!presto&&null!=wheelPixelsPerUnit){if(dy&&canScrollY){updateScrollTop(cm,_Mathmax(0,scroll.scrollTop+dy*wheelPixelsPerUnit))}setScrollLeft(cm,_Mathmax(0,scroll.scrollLeft+dx*wheelPixelsPerUnit));if(!dy||dy&&canScrollY){e_preventDefault(e)}display.wheelStartX=null;return}if(dy&&null!=wheelPixelsPerUnit){var pixels=dy*wheelPixelsPerUnit,top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(0>pixels){top=_Mathmax(0,top+pixels-50)}else{bot=_Mathmin(cm.doc.height,bot+pixels+50)}updateDisplaySimple(cm,{top:top,bottom:bot})}if(20>wheelSamples){if(null==display.wheelStartX){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(null==display.wheelStartX){return}var movedX=scroll.scrollLeft-display.wheelStartX,movedY=scroll.scrollTop-display.wheelStartY,sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample){return}wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples},200)}else{display.wheelDX+=dx;display.wheelDY+=dy}}}var Selection=function(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex};Selection.prototype.primary=function(){return this.ranges[this.primIndex]};Selection.prototype.equals=function(other){var this$1=this;if(other==this){return!0}if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length){return!1}for(var i=0;i<this.ranges.length;i++){var here=this$1.ranges[i],there=other.ranges[i];if(!equalCursorPos(here.anchor,there.anchor)||!equalCursorPos(here.head,there.head)){return!1}}return!0};Selection.prototype.deepCopy=function(){for(var this$1=this,out=[],i=0;i<this.ranges.length;i++){out[i]=new Range(copyPos(this$1.ranges[i].anchor),copyPos(this$1.ranges[i].head))}return new Selection(out,this.primIndex)};Selection.prototype.somethingSelected=function(){for(var this$1=this,i=0;i<this.ranges.length;i++){if(!this$1.ranges[i].empty()){return!0}}return!1};Selection.prototype.contains=function(pos,end){var this$1=this;if(!end){end=pos}for(var i=0,range;i<this.ranges.length;i++){range=this$1.ranges[i];if(0<=cmp(end,range.from())&&0>=cmp(pos,range.to())){return i}}return-1};var Range=function(anchor,head){this.anchor=anchor;this.head=head};Range.prototype.from=function(){return minPos(this.anchor,this.head)};Range.prototype.to=function(){return maxPos(this.anchor,this.head)};Range.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function normalizeSelection(cm,ranges,primIndex){var mayTouch=cm&&cm.options.selectionsMayTouch,prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1],diff=cmp(prev.to(),cur.from());if(mayTouch&&!cur.empty()?0<diff:0<=diff){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to()),inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex){--primIndex}ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function changeEnd(change){if(!change.text){return change.to}return Pos(change.from.line+change.text.length-1,lst(change.text).length+(1==change.text.length?change.from.ch:0))}function adjustForChange(pos,change){if(0>cmp(pos,change.from)){return pos}if(0>=cmp(pos,change.to)){return changeEnd(change)}var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line){ch+=changeEnd(change).ch-change.to.ch}return Pos(line,ch)}function computeSelAfterChange(doc,change){for(var out=[],i=0,range;i<doc.sel.ranges.length;i++){range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(doc.cm,out,doc.sel.primIndex)}function offsetPos(pos,old,nw){if(pos.line==old.line){return Pos(nw.line,pos.ch-old.ch+nw.ch)}else{return Pos(nw.line+(pos.line-old.line),pos.ch)}}function computeReplacedSel(doc,changes,hint){for(var out=[],oldPrev=Pos(doc.first,0),newPrev=oldPrev,i=0;i<changes.length;i++){var change=changes[i],from=offsetPos(change.from,oldPrev,newPrev),to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if("around"==hint){var range=doc.sel.ranges[i],inv=0>cmp(range.head,range.anchor);out[i]=new Range(inv?to:from,inv?from:to)}else{out[i]=new Range(from,from)}}return new Selection(out,doc.sel.primIndex)}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}});cm.doc.modeFrontier=cm.doc.highlightFrontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp){regChange(cm)}}function isWholeLineUpdate(doc,change){return 0==change.from.ch&&0==change.to.ch&&""==lst(change.text)&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight$$1){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight$$1);signalLater(line,"change",line,change)}function linesFor(start,end){for(var result=[],i=start;i<end;++i){result.push(new Line(text[i],spansFor(i),estimateHeight$$1))}return result}var from=change.from,to=change.to,text=change.text,firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line),lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length)}else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines){doc.remove(from.line,nlines)}if(added.length){doc.insert(from.line,added)}}else if(firstLine==lastLine){if(1==text.length){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans)}else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight$$1));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added$1)}}else if(1==text.length){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines)}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added$2=linesFor(1,text.length-1);if(1<nlines){doc.remove(from.line+1,nlines-1)}doc.insert(from.line+1,added$2)}signalLater(doc,"change",doc,change)}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked){for(var i=0,rel;i<doc.linked.length;++i){rel=doc.linked[i];if(rel.doc==skip){continue}var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared){continue}f(rel.doc,shared);propagate(rel.doc,doc,shared)}}}propagate(doc,null,!0)}function attachDoc(cm,doc){if(doc.cm){throw new Error("This document is already in use.")}cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);setDirectionClass(cm);if(!cm.options.lineWrapping){findMaxLine(cm)}cm.options.mode=doc.modeOption;regChange(cm)}function setDirectionClass(cm){("rtl"==cm.doc.direction?addClass:rmClass)(cm.display.lineDiv,"CodeMirror-rtl")}function directionChanged(cm){runInOp(cm,function(){setDirectionClass(cm);regChange(cm)})}function History(startGen){this.done=[];this.undone=[];this.undoDepth=1/0;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},!0);return histChange}function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges){array.pop()}else{break}}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done)}else if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done)}else if(1<hist.done.length&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done)}}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date,cur,last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&("+"==change.origin.charAt(0)&&hist.lastModTime>time-(doc.cm?doc.cm.options.historyEventDelay:500)||"*"==change.origin.charAt(0)))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){last=lst(cur.changes);if(0==cmp(change.from,change.to)&&0==cmp(change.from,last.to)){last.to=changeEnd(change)}else{cur.changes.push(historyChangeFromChange(doc,change))}}else{var before=lst(hist.done);if(!before||!before.ranges){pushSelectionToHistory(doc.sel,hist.done)}cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges){hist.done.shift()}}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last){signal(doc,"historyAdded")}}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return"*"==ch||"+"==ch&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))){hist.done[hist.done.length-1]=sel}else{pushSelectionToHistory(sel,hist.done)}hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&!1!==options.clearRedo){clearSelectionEvents(hist.undone)}}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel))){dest.push(sel)}}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(_Mathmax(doc.first,from),_Mathmin(doc.first+doc.size,to),function(line){if(line.markedSpans){(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans}++n})}function removeClearedSpans(spans){if(!spans){return null}for(var out,i=0;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out){out=spans.slice(0,i)}}else if(out){out.push(spans[i])}}return!out?spans:out.length?out:null}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found){return null}for(var nw=[],i=0;i<change.text.length;++i){nw.push(removeClearedSpans(found[i]))}return nw}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change),stretched=stretchSpansOverChange(doc,change);if(!old){return stretched}if(!stretched){return old}for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans:for(var j=0,span;j<stretchCur.length;++j){span=stretchCur[j];for(var k=0;k<oldCur.length;++k){if(oldCur[k].marker==span.marker){continue spans}}oldCur.push(span)}}else if(stretchCur){old[i]=stretchCur}}return old}function copyHistoryArray(events,newGroup,instantiateSel){for(var copy=[],i=0,event;i<events.length;++i){event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m=void 0;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup){for(var prop in change){if(m=prop.match(/^spans_(\d+)$/)){if(-1<indexOf(newGroup,+m[1])){lst(newChanges)[prop]=change[prop];delete change[prop]}}}}}}return copy}function extendRange(range,head,other,extend){if(extend){var anchor=range.anchor;if(other){var posBefore=0>cmp(head,anchor);if(posBefore!=0>cmp(other,anchor)){anchor=head;head=other}else if(posBefore!=0>cmp(head,other)){head=other}}return new Range(anchor,head)}else{return new Range(other||head,head)}}function extendSelection(doc,head,other,options,extend){if(null==extend){extend=doc.cm&&(doc.cm.display.shift||doc.extend)}setSelection(doc,new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options)}function extendSelections(doc,heads,options){for(var out=[],extend=doc.cm&&(doc.cm.display.shift||doc.extend),i=0;i<doc.sel.ranges.length;i++){out[i]=extendRange(doc.sel.ranges[i],heads[i],null,extend)}var newSel=normalizeSelection(doc.cm,out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(doc.cm,ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){var this$1=this;this.ranges=[];for(var i=0;i<ranges.length;i++){this$1.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))}},origin:options&&options.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeSelectionChange",doc.cm,obj)}if(obj.ranges!=sel.ranges){return normalizeSelection(doc.cm,obj.ranges,obj.ranges.length-1)}else{return sel}}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options)}else{setSelection(doc,sel,options)}}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange")){sel=filterSelectionChange(doc,sel,options)}var bias=options&&options.bias||(0>cmp(sel.primary().head,doc.sel.primary().head)?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,!0));if(!(options&&!1===options.scroll)&&doc.cm){ensureCursorVisible(doc.cm)}}function setSelectionInner(doc,sel){if(sel.equals(doc.sel)){return}doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=1;doc.cm.curOp.selectionChanged=!0;signalCursorActivity(doc.cm)}signalLater(doc,"cursorActivity",doc)}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,!1))}function skipAtomicInSelection(doc,sel,bias,mayClear){for(var out,i=0;i<sel.ranges.length;i++){var range=sel.ranges[i],old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i],newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear),newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out){out=sel.ranges.slice(0,i)}out[i]=new Range(newAnchor,newHead)}}return out?normalizeSelection(doc.cm,out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((null==sp.from||(m.inclusiveLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(null==sp.to||(m.inclusiveRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared){if(!line.markedSpans){break}else{--i;continue}}}if(!m.atomic){continue}if(oldPos){var near=m.find(0>dir?1:-1),diff=void 0;if(0>dir?m.inclusiveRight:m.inclusiveLeft){near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null)}if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(0>dir?0>diff:0<diff)){return skipAtomicInner(doc,near,pos,dir,mayClear)}}var far=m.find(0>dir?-1:1);if(0>dir?m.inclusiveLeft:m.inclusiveRight){far=movePos(doc,far,dir,far.line==pos.line?line:null)}return far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1,found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,!0)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,!0);if(!found){doc.cantEdit=!0;return Pos(doc.first,0)}return found}function movePos(doc,pos,dir,line){if(0>dir&&0==pos.ch){if(pos.line>doc.first){return clipPos(doc,Pos(pos.line-1))}else{return null}}else if(0<dir&&pos.ch==(line||getLine(doc,pos.line)).text.length){if(pos.line<doc.first+doc.size-1){return Pos(pos.line+1,0)}else{return null}}else{return new Pos(pos.line,pos.ch+dir)}}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)}function filterChange(doc,change,update){var obj={canceled:!1,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled=!0}};if(update){obj.update=function(from,to,text,origin){if(from){obj.from=clipPos(doc,from)}if(to){obj.to=clipPos(doc,to)}if(text){obj.text=text}if(origin!==void 0){obj.origin=origin}}}signal(doc,"beforeChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeChange",doc.cm,obj)}if(obj.canceled){if(doc.cm){doc.cm.curOp.updateInput=2}return null}return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp){return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly)}if(doc.cm.state.suppressEdits){return}}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,!0);if(!change){return}}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){for(var i=split.length-1;0<=i;--i){makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text,origin:change.origin})}}else{makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(1==change.text.length&&""==change.text[0]&&0==cmp(change.from,change.to)){return}var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&-1==indexOf(rebased,doc.history)){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}function makeChangeFromHistory(doc,type,allowSelectionOnly){var suppress=doc.cm&&doc.cm.state.suppressEdits;if(suppress&&!allowSelectionOnly){return}var hist=doc.history,event,selAfter=doc.sel,source="undo"==type?hist.done:hist.undone,dest="undo"==type?hist.undone:hist.done,i=0;for(;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges){break}}if(i==source.length){return}hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:!1});return}selAfter=event}else if(suppress){source.push(event);return}else{break}}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;for(var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"),loop=function(i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,!1)){source.length=0;return{}}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm){doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)})}var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&-1==indexOf(rebased,doc.history)){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})},i$1=event.changes.length-1,returned;0<=i$1;--i$1){returned=loop(i$1);if(returned)return returned.v}}function shiftDoc(doc,distance){if(0==distance){return}doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++){regLineChange(doc.cm,l,"gutter")}}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans)}if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return}if(change.from.line>doc.lastLine()){return}if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}}change.removed=getBetween(doc,change.from,change.to);if(!selAfter){selAfter=computeSelAfterChange(doc,change)}if(doc.cm){makeChangeSingleDocInEditor(doc.cm,change,spans)}else{updateDoc(doc,change,spans)}setSelectionNoUndo(doc,selAfter,sel_dontScroll)}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to,recomputeMaxLength=!1,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=!0;return!0}})}if(-1<doc.sel.contains(change.from,change.to)){signalCursorActivity(cm)}updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=!0;recomputeMaxLength=!1}});if(recomputeMaxLength){cm.curOp.updateMaxLine=!0}}retreatFrontier(doc,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full){regChange(cm)}else if(from.line==to.line&&1==change.text.length&&!isWholeLineUpdate(cm.doc,change)){regLineChange(cm,from.line,"text")}else{regChange(cm,from.line,to.line+1,lendiff)}var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler){signalLater(cm,"change",cm,obj)}if(changesHandler){(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){var assign;if(!to){to=from}if(0>cmp(to,from)){assign=[to,from],from=assign[0],to=assign[1]}if("string"==typeof code){code=doc.splitLines(code)}makeChange(doc,{from:from,to:to,text:code,origin:origin})}function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff}else if(from<pos.line){pos.line=from;pos.ch=0}}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=!0;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=!0}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}continue}for(var j$1=0,cur;j$1<sub.changes.length;++j$1){cur=sub.changes[j$1];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch)}else if(from<=cur.to.line){ok=!1;break}}if(!ok){array.splice(0,i+1);i=0}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff)}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;if("number"==typeof handle){line=getLine(doc,clipLine(doc,handle))}else{no=lineNo(handle)}if(null==no){return null}if(op(line,no)&&doc.cm){regLineChange(doc.cm,no,changeType)}return line}function LeafChunk(lines){var this$1=this;this.lines=lines;this.parent=null;for(var height=0,i=0;i<lines.length;++i){lines[i].parent=this$1;height+=lines[i].height}this.height=height}LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){for(var this$1=this,i=at,e=at+n,line;i<e;++i){line=this$1.lines[i];this$1.height-=line.height;cleanUpLine(line);signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){var this$1=this;this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i){lines[i].parent=this$1}},iterN:function(at,n,op){for(var this$1=this,e=at+n;at<e;++at){if(op(this$1.lines[at])){return!0}}}};function BranchChunk(children){var this$1=this;this.children=children;for(var size=0,height=0,i=0,ch;i<children.length;++i){ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this$1}this.size=size;this.height=height;this.parent=null}BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){var this$1=this;this.size-=n;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var rm=_Mathmin(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this$1.height-=oldHeight-child.height;if(sz==rm){this$1.children.splice(i--,1);child.parent=null}if(0==(n-=rm)){break}at=0}else{at-=sz}}if(25>this.size-n&&(1<this.children.length||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this}},collapse:function(lines){for(var this$1=this,i=0;i<this.children.length;++i){this$1.children[i].collapse(lines)}},insertInner:function(at,lines,height){var this$1=this;this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&50<child.lines.length){for(var remaining=child.lines.length%25+25,pos=remaining,leaf;pos<child.lines.length;){leaf=new LeafChunk(child.lines.slice(pos,pos+=25));child.height-=leaf.height;this$1.children.splice(++i,0,leaf);leaf.parent=this$1}child.lines=child.lines.slice(0,remaining);this$1.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(10>=this.children.length){return}var me=this;do{var spilled=me.children.splice(me.children.length-5,5),sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(10<me.children.length);me.parent.maybeSpill()},iterN:function(at,n,op){for(var this$1=this,i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var used=_Mathmin(n,sz-at);if(child.iterN(at,used,op)){return!0}if(0==(n-=used)){break}at=0}else{at-=sz}}}};var LineWidget=function(doc,node,options){var this$1=this;if(options){for(var opt in options){if(options.hasOwnProperty(opt)){this$1[opt]=options[opt]}}}this.doc=doc;this.node=node};LineWidget.prototype.clear=function(){var this$1=this,cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(null==no||!ws){return}for(var i=0;i<ws.length;++i){if(ws[i]==this$1){ws.splice(i--,1)}}if(!ws.length){line.widgets=null}var height=widgetHeight(this);updateLineHeight(line,_Mathmax(0,line.height-height));if(cm){runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget")});signalLater(cm,"lineWidgetCleared",cm,this,no)}};LineWidget.prototype.changed=function(){var this$1=this,oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff){return}if(!lineIsHidden(this.doc,line)){updateLineHeight(line,line.height+diff)}if(cm){runInOp(cm,function(){cm.curOp.forceUpdate=!0;adjustScrollWhenAboveVisible(cm,line,diff);signalLater(cm,"lineWidgetChanged",cm,this$1,lineNo(line))})}};eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)){addToScrollTop(cm,diff)}}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options),cm=doc.cm;if(cm&&widget.noHScroll){cm.display.alignWidgets=!0}changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(null==widget.insertAt){widgets.push(widget)}else{widgets.splice(_Mathmin(widgets.length-1,_Mathmax(0,widget.insertAt)),0,widget)}widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible){addToScrollTop(cm,widget.height)}cm.curOp.forceUpdate=!0}return!0});if(cm){signalLater(cm,"lineWidgetAdded",cm,widget,"number"==typeof handle?handle:lineNo(handle))}return widget}var nextMarkerId=0,TextMarker=function(doc,type){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId};TextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp){startOperation(cm)}if(hasHandler(this,"clear")){var found=this.find();if(found){signalLater(this,"clear",found.from,found.to)}}for(var min=null,max=null,i=0;i<this.lines.length;++i){var line=this$1.lines[i],span=getMarkedSpanFor(line.markedSpans,this$1);if(cm&&!this$1.collapsed){regLineChange(cm,lineNo(line),"text")}else if(cm){if(null!=span.to){max=lineNo(line)}if(null!=span.from){min=lineNo(line)}}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(null==span.from&&this$1.collapsed&&!lineIsHidden(this$1.doc,line)&&cm){updateLineHeight(line,textHeight(cm.display))}}if(cm&&this.collapsed&&!cm.options.lineWrapping){for(var i$1=0;i$1<this.lines.length;++i$1){var visual=visualLine(this$1.lines[i$1]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=!0}}}if(null!=min&&cm&&this.collapsed){regChange(cm,min,max+1)}this.lines.length=0;this.explicitlyCleared=!0;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=!1;if(cm){reCheckSelection(cm.doc)}}if(cm){signalLater(cm,"markerCleared",cm,this,min,max)}if(withOp){endOperation(cm)}if(this.parent){this.parent.clear()}};TextMarker.prototype.find=function(side,lineObj){var this$1=this;if(null==side&&"bookmark"==this.type){side=1}for(var from,to,i=0;i<this.lines.length;++i){var line=this$1.lines[i],span=getMarkedSpanFor(line.markedSpans,this$1);if(null!=span.from){from=Pos(lineObj?line:lineNo(line),span.from);if(-1==side){return from}}if(null!=span.to){to=Pos(lineObj?line:lineNo(line),span.to);if(1==side){return to}}}return from&&{from:from,to:to}};TextMarker.prototype.changed=function(){var this$1=this,pos=this.find(-1,!0),widget=this,cm=this.doc.cm;if(!pos||!cm){return}runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line),view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=!0}cm.curOp.updateMaxLine=!0;if(!lineIsHidden(widget.doc,line)&&null!=widget.height){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight){updateLineHeight(line,line.height+dHeight)}}signalLater(cm,"markerChanged",cm,this$1)})};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||-1==indexOf(op.maybeHiddenMarkers,this)){(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(line)};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};eventMixin(TextMarker);function markText(doc,from,to,options,type){if(options&&options.shared){return markTextShared(doc,from,to,options,type)}if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,markText)(doc,from,to,options,type)}var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options){copyObj(options,marker,!1)}if(0<diff||0==diff&&!1!==marker.clearWhenEmpty){return marker}if(marker.replacedWith){marker.collapsed=!0;marker.widgetNode=eltP("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents){marker.widgetNode.setAttribute("cm-ignore-events","true")}if(options.insertLeft){marker.widgetNode.insertLeft=!0}}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}seeCollapsedSpans()}if(marker.addToHistory){addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN)}var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine){updateMaxLine=!0}if(marker.collapsed&&curLine!=from.line){updateLineHeight(line,0)}addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine});if(marker.collapsed){doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line)){updateLineHeight(line,0)}})}if(marker.clearOnEnter){on(marker,"beforeCursorEnter",function(){return marker.clear()})}if(marker.readOnly){seeReadOnlySpans();if(doc.history.done.length||doc.history.undone.length){doc.clearHistory()}}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=!0}if(cm){if(updateMaxLine){cm.curOp.updateMaxLine=!0}if(marker.collapsed){regChange(cm,from.line,to.line+1)}else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title){for(var i=from.line;i<=to.line;i++){regLineChange(cm,i,"text")}}if(marker.atomic){reCheckSelection(cm.doc)}signalLater(cm,"markerAdded",cm,marker)}return marker}var SharedTextMarker=function(markers,primary){var this$1=this;this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i){markers[i].parent=this$1}};SharedTextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i){this$1.markers[i].clear()}signalLater(this,"clear")};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};eventMixin(SharedTextMarker);function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=!1;var markers=[markText(doc,from,to,options,type)],primary=markers[0],widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget){options.widgetNode=widget.cloneNode(!0)}markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i){if(doc.linked[i].isParent){return}}primary=lst(markers)});return new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find(),mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker}}}function detachSharedMarkers(markers){for(var loop=function(i){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){return linked.push(d)});for(var j=0,subMarker;j<marker.markers.length;j++){subMarker=marker.markers[j];if(-1==indexOf(linked,subMarker.doc)){subMarker.parent=null;marker.markers.splice(j--,1)}}},i=0;i<markers.length;i++)loop(i)}var nextDocId=0,Doc=function(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc)){return new Doc(text,mode,firstLine,lineSep,direction)}if(null==firstLine){firstLine=0}BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.direction="rtl"==direction?"rtl":"ltr";this.extend=!1;if("string"==typeof text){text=this.splitLines(text)}updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){if(op){this.iterN(from-this.first,to-from,op)}else{this.iterN(this.first,this.first+this.size,from)}},insert:function(at,lines){for(var height=0,i=0;i<lines.length;++i){height+=lines[i].height}this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(!1===lineSep){return lines}return lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:!0},!0);if(this.cm){scrollToCoords(this.cm,0,0)}setSelection(this,simpleSelection(top),sel_dontScroll)}),replaceRange:function(code,from,to,origin){from=clipPos(this,from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(!1===lineSep){return lines}return lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line)){return getLine(this,line)}},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){if("number"==typeof line){line=getLine(this,line)}return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range$$1=this.sel.primary(),pos;if(null==start||"head"==start){pos=range$$1.head}else if("anchor"==start){pos=range$$1.anchor}else if("end"==start||"to"==start||!1===start){pos=range$$1.to()}else{pos=range$$1.from()}return pos},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,"number"==typeof line?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options)}),setSelections:docMethodOp(function(ranges,primary,options){var this$1=this;if(!ranges.length){return}for(var out=[],i=0;i<ranges.length;i++){out[i]=new Range(clipPos(this$1,ranges[i].anchor),clipPos(this$1,ranges[i].head))}if(null==primary){primary=_Mathmin(ranges.length-1,this.sel.primIndex)}setSelection(this,normalizeSelection(this.cm,out,primary),options)}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(this.cm,ranges,ranges.length-1),options)}),getSelection:function(lineSep){for(var this$1=this,ranges=this.sel.ranges,lines,i=0,sel;i<ranges.length;i++){sel=getBetween(this$1,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}if(!1===lineSep){return lines}else{return lines.join(lineSep||this.lineSeparator())}},getSelections:function(lineSep){for(var this$1=this,parts=[],ranges=this.sel.ranges,i=0,sel;i<ranges.length;i++){sel=getBetween(this$1,ranges[i].from(),ranges[i].to());if(!1!==lineSep){sel=sel.join(lineSep||this$1.lineSeparator())}parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){for(var dup=[],i=0;i<this.sel.ranges.length;i++){dup[i]=code}this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){for(var this$1=this,changes=[],sel=this.sel,i=0,range$$1;i<sel.ranges.length;i++){range$$1=sel.ranges[i];changes[i]={from:range$$1.from(),to:range$$1.to(),text:this$1.splitLines(code[i]),origin:origin}}for(var newSel=collapse&&"end"!=collapse&&computeReplacedSel(this,changes,collapse),i$1=changes.length-1;0<=i$1;i$1--){makeChange(this$1,changes[i$1])}if(newSel){setSelectionReplaceHistory(this,newSel)}else if(this.cm){ensureCursorVisible(this.cm)}}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",!0)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){for(var hist=this.history,done=0,undone=0,i=0;i<hist.done.length;i++){if(!hist.done[i].ranges){++done}}for(var i$1=0;i$1<hist.undone.length;i$1++){if(!hist.undone[i$1].ranges){++undone}}return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(forceSplit){if(forceSplit){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,!0);hist.undone=copyHistoryArray(histData.undone.slice(0),null,!0)},setGutterMarker:docMethodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers)){line.gutterMarkers=null}return!0})}),clearGutter:docMethodOp(function(gutterID){var this$1=this;this.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){changeLine(this$1,line,"gutter",function(){line.gutterMarkers[gutterID]=null;if(isEmpty(line.gutterMarkers)){line.gutterMarkers=null}return!0})}})}),lineInfo:function(line){var n;if("number"==typeof line){if(!isLine(this,line)){return null}n=line;line=getLine(this,line);if(!line){return null}}else{n=lineNo(line);if(null==n){return null}}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass";if(!line[prop]){line[prop]=cls}else if(classTest(cls).test(line[prop])){return!1}else{line[prop]+=" "+cls}return!0})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass",cur=line[prop];if(!cur){return!1}else if(null==cls){line[prop]=null}else{var found=cur.match(classTest(cls));if(!found){return!1}var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null}return!0})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(null==options.nodeType?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:!1,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans){for(var i=0,span;i<spans.length;++i){span=spans[i];if((null==span.from||span.from<=pos.ch)&&(null==span.to||span.to>=pos.ch)){markers.push(span.marker.parent||span.marker)}}}return markers},findMarks:function(from,to,filter){from=clipPos(this,from);to=clipPos(this,to);var found=[],lineNo$$1=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans){for(var i=0,span;i<spans.length;i++){span=spans[i];if(!(null!=span.to&&lineNo$$1==from.line&&from.ch>=span.to||null==span.from&&lineNo$$1!=from.line||null!=span.from&&lineNo$$1==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker))){found.push(span.marker.parent||span.marker)}}}++lineNo$$1});return found},getAllMarks:function(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){if(null!=sps[i].from){markers.push(sps[i].marker)}}}});return markers},posFromIndex:function(off){var ch,lineNo$$1=this.first,sepSize=this.lineSeparator().length;this.iter(function(line){var sz=line.text.length+sepSize;if(sz>off){ch=off;return!0}off-=sz;++lineNo$$1});return clipPos(this,Pos(lineNo$$1,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||0>coords.ch){return 0}var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){index+=line.text.length+sepSize});return index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=!1;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory())}return doc},linkedDoc:function(options){if(!options){options={}}var from=this.first,to=this.first+this.size;if(null!=options.from&&options.from>from){from=options.from}if(null!=options.to&&options.to<to){to=options.to}var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,this.direction);if(options.sharedHist){copy.history=this.history}(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:!0,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy},unlinkDoc:function(other){var this$1=this;if(other instanceof CodeMirror){other=other.doc}if(this.linked){for(var i=0,link;i<this.linked.length;++i){link=this$1.linked[i];if(link.doc!=other){continue}this$1.linked.splice(i,1);other.unlinkDoc(this$1);detachSharedMarkers(findSharedMarkers(this$1));break}}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id)},!0);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){if(this.lineSep){return str.split(this.lineSep)}return splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:docMethodOp(function(dir){if("rtl"!=dir){dir="ltr"}if(dir==this.direction){return}this.direction=dir;this.iter(function(line){return line.order=null});if(this.cm){directionChanged(this.cm)}})});Doc.prototype.eachLine=Doc.prototype.iter;var lastDrop=0;function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);if(ie){lastDrop=+new Date}var pos=posFromMouse(cm,e,!0),files=e.dataTransfer.files;if(!pos||cm.isReadOnly()){return}if(files&&files.length&&window.FileReader&&window.File){for(var n=files.length,text=Array(n),read=0,loadFile=function(file,i){if(cm.options.allowDropFileTypes&&-1==indexOf(cm.options.allowDropFileTypes,file.type)){return}var reader=new FileReader;reader.onload=operation(cm,function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)){content=""}text[i]=content;if(++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}});reader.readAsText(file)},i=0;i<n;++i){loadFile(files[i],i)}}else{if(cm.state.draggingText&&-1<cm.doc.sel.contains(pos)){cm.state.draggingText(e);setTimeout(function(){return cm.display.input.focus()},20);return}try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy){selected=cm.listSelections()}setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected){for(var i$1=0;i$1<selected.length;++i$1){replaceRange(cm.doc,"",selected[i$1].anchor,selected[i$1].head,"drag")}}cm.replaceSelection(text$1,"around","paste");cm.display.input.focus()}}catch(e){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||100>+new Date-lastDrop)){e_stop(e);return}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove";if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop}e.dataTransfer.setDragImage(img,0,0);if(presto){img.parentNode.removeChild(img)}}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos){return}var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)}removeChildrenAndAdd(cm.display.dragCursor,frag)}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null}}function forEachCodeMirror(f){if(!document.getElementsByClassName){return}for(var byClass=document.getElementsByClassName("CodeMirror"),editors=[],i=0,cm;i<byClass.length;i++){cm=byClass[i].CodeMirror;if(cm){editors.push(cm)}}if(editors.length){editors[0].operation(function(){for(var i=0;i<editors.length;i++){f(editors[i])}})}}var globalsRegistered=!1;function ensureGlobalHandlers(){if(globalsRegistered){return}registerGlobalHandlers();globalsRegistered=!0}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){if(null==resizeTimer){resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize)},100)}});on(window,"blur",function(){return forEachCodeMirror(onBlur)})}function onResize(cm){var d=cm.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=!1;cm.setSize()}for(var keyNames={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},i=0;10>i;i++){keyNames[i+48]=keyNames[i+96]=i+""}for(var i$1=65;90>=i$1;i$1++){keyNames[i$1]=_StringfromCharCode(i$1)}for(var i$2=1;12>=i$2;i$2++){keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2}var keyMap={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=parts[parts.length-1];for(var alt,ctrl,shift,cmd,i=0,mod;i<parts.length-1;i++){mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod)){cmd=!0}else if(/^a(lt)?$/i.test(mod)){alt=!0}else if(/^(c|ctrl|control)$/i.test(mod)){ctrl=!0}else if(/^s(hift)?$/i.test(mod)){shift=!0}else{throw new Error("Unrecognized modifier name: "+mod)}}if(alt){name="Alt-"+name}if(ctrl){name="Ctrl-"+name}if(cmd){name="Cmd-"+name}if(shift){name="Shift-"+name}return name}function normalizeKeyMap(keymap){var copy={};for(var keyname in keymap){if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname)){continue}if("..."==value){delete keymap[keyname];continue}for(var keys=map(keyname.split(" "),normalizeKeyName),i=0;i<keys.length;i++){var val=void 0,name=void 0;if(i==keys.length-1){name=keys.join(" ");val=value}else{name=keys.slice(0,i+1).join(" ");val="..."}var prev=copy[name];if(!prev){copy[name]=val}else if(prev!=val){throw new Error("Inconsistent bindings for "+name)}}delete keymap[keyname]}}for(var prop in copy){keymap[prop]=copy[prop]}return keymap}function lookupKey(key,map$$1,handle,context){map$$1=getKeyMap(map$$1);var found=map$$1.call?map$$1.call(key,context):map$$1[key];if(!1===found){return"nothing"}if("..."===found){return"multi"}if(null!=found&&handle(found)){return"handled"}if(map$$1.fallthrough){if("[object Array]"!=Object.prototype.toString.call(map$$1.fallthrough)){return lookupKey(key,map$$1.fallthrough,handle,context)}for(var i=0,result;i<map$$1.fallthrough.length;i++){result=lookupKey(key,map$$1.fallthrough[i],handle,context);if(result){return result}}}}function isModifierKey(value){var name="string"==typeof value?value:keyNames[value.keyCode];return"Ctrl"==name||"Alt"==name||"Shift"==name||"Mod"==name}function addModifierNames(name,event,noShift){var base=name;if(event.altKey&&"Alt"!=base){name="Alt-"+name}if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&"Ctrl"!=base){name="Ctrl-"+name}if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&"Cmd"!=base){name="Cmd-"+name}if(!noShift&&event.shiftKey&&"Shift"!=base){name="Shift-"+name}return name}function keyName(event,noShift){if(presto&&34==event.keyCode&&event.char){return!1}var name=keyNames[event.keyCode];if(null==name||event.altGraphKey){return!1}if(3==event.keyCode&&event.code){name=event.code}return addModifierNames(name,event,noShift)}function getKeyMap(val){return"string"==typeof val?keyMap[val]:val}function deleteNearSelection(cm,compute){for(var ranges=cm.doc.sel.ranges,kill=[],i=0,toKill;i<ranges.length;i++){toKill=compute(ranges[i]);while(kill.length&&0>=cmp(toKill.from,lst(kill).to)){var replaced=kill.pop();if(0>cmp(replaced.from,toKill.from)){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;0<=i;i--){replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete")}ensureCursorVisible(cm)})}function moveCharLogically(line,ch,dir){var target=skipExtendingChars(line.text,ch+dir,dir);return 0>target||target>line.text.length?null:target}function moveLogically(line,start,dir){var ch=moveCharLogically(line,start.ch,dir);return null==ch?null:new Pos(start.line,ch,0>dir?"after":"before")}function endOfLine(visually,cm,lineObj,lineNo,dir){if(visually){var order=getOrder(lineObj,cm.doc.direction);if(order){var part=0>dir?lst(order):order[0],moveInStorageOrder=0>dir==(1==part.level),sticky=moveInStorageOrder?"after":"before",ch;if(0<part.level||"rtl"==cm.doc.direction){var prep=prepareMeasureForLine(cm,lineObj);ch=0>dir?lineObj.text.length-1:0;var targetTop=measureCharPrepared(cm,prep,ch).top;ch=findFirst(function(ch){return measureCharPrepared(cm,prep,ch).top==targetTop},0>dir==(1==part.level)?part.from:part.to-1,ch);if("before"==sticky){ch=moveCharLogically(lineObj,ch,1)}}else{ch=0>dir?part.to:part.from}return new Pos(lineNo,ch,sticky)}}return new Pos(lineNo,0>dir?lineObj.text.length:0,0>dir?"before":"after")}function moveVisually(cm,line,start,dir){var bidi=getOrder(line,cm.doc.direction);if(!bidi){return moveLogically(line,start,dir)}if(start.ch>=line.text.length){start.ch=line.text.length;start.sticky="before"}else if(0>=start.ch){start.ch=0;start.sticky="after"}var partPos=getBidiPartAt(bidi,start.ch,start.sticky),part=bidi[partPos];if("ltr"==cm.doc.direction&&0==part.level%2&&(0<dir?part.to>start.ch:part.from<start.ch)){return moveLogically(line,start,dir)}var mv=function(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir)},prep,getWrappedLineExtent=function(ch){if(!cm.options.lineWrapping){return{begin:0,end:line.text.length}}prep=prep||prepareMeasureForLine(cm,line);return wrappedLineExtentChar(cm,line,prep,ch)},wrappedLineExtent=getWrappedLineExtent("before"==start.sticky?mv(start,-1):start.ch);if("rtl"==cm.doc.direction||1==part.level){var moveInStorageOrder=1==part.level==0>dir,ch=mv(start,moveInStorageOrder?1:-1);if(null!=ch&&(!moveInStorageOrder?ch>=part.from&&ch>=wrappedLineExtent.begin:ch<=part.to&&ch<=wrappedLineExtent.end)){var sticky=moveInStorageOrder?"before":"after";return new Pos(start.line,ch,sticky)}}var searchInVisualLine=function(partPos,dir,wrappedLineExtent){var getRes=function(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),"before"):new Pos(start.line,ch,"after")};for(;0<=partPos&&partPos<bidi.length;partPos+=dir){var part=bidi[partPos],moveInStorageOrder=0<dir==(1!=part.level),ch=moveInStorageOrder?wrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from<=ch&&ch<part.to){return getRes(ch,moveInStorageOrder)}ch=moveInStorageOrder?part.from:mv(part.to,-1);if(wrappedLineExtent.begin<=ch&&ch<wrappedLineExtent.end){return getRes(ch,moveInStorageOrder)}}},res=searchInVisualLine(partPos+dir,dir,wrappedLineExtent);if(res){return res}var nextCh=0<dir?wrappedLineExtent.end:mv(wrappedLineExtent.begin,-1);if(null!=nextCh&&!(0<dir&&nextCh==line.text.length)){res=searchInVisualLine(0<dir?0:bidi.length-1,dir,getWrappedLineExtent(nextCh));if(res){return res}}return null}var commands={selectAll:selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine()){return{from:range.head,to:Pos(range.head.line+1,0)}}else{return{from:range.head,to:Pos(range.head.line,len)}}}else{return{from:range.from(),to:range.to()}}})},deleteLine:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){return cm.undo()},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},goDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5,pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\S/)){return lineStartSmart(cm,range.head)}return pos},sel_move)},goLineUp:function(cm){return cm.moveV(-1,"line")},goLineDown:function(cm){return cm.moveV(1,"line")},goPageUp:function(cm){return cm.moveV(-1,"page")},goPageDown:function(cm){return cm.moveV(1,"page")},goCharLeft:function(cm){return cm.moveH(-1,"char")},goCharRight:function(cm){return cm.moveH(1,"char")},goColumnLeft:function(cm){return cm.moveH(-1,"column")},goColumnRight:function(cm){return cm.moveH(1,"column")},goWordLeft:function(cm){return cm.moveH(-1,"word")},goGroupRight:function(cm){return cm.moveH(1,"group")},goGroupLeft:function(cm){return cm.moveH(-1,"group")},goWordRight:function(cm){return cm.moveH(1,"word")},delCharBefore:function(cm){return cm.deleteH(-1,"char")},delCharAfter:function(cm){return cm.deleteH(1,"char")},delWordBefore:function(cm){return cm.deleteH(-1,"word")},delWordAfter:function(cm){return cm.deleteH(1,"word")},delGroupBefore:function(cm){return cm.deleteH(-1,"group")},delGroupAfter:function(cm){return cm.deleteH(1,"group")},indentAuto:function(cm){return cm.indentSelection("smart")},indentMore:function(cm){return cm.indentSelection("add")},indentLess:function(cm){return cm.indentSelection("subtract")},insertTab:function(cm){return cm.replaceSelection("\t")},insertSoftTab:function(cm){for(var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize,i=0;i<ranges.length;i++){var pos=ranges[i].from(),col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){if(cm.somethingSelected()){cm.indentSelection("add")}else{cm.execCommand("insertTab")}},transposeChars:function(cm){return runInOp(cm,function(){for(var ranges=cm.listSelections(),newSel=[],i=0;i<ranges.length;i++){if(!ranges[i].empty()){continue}var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length){cur=new Pos(cur.line,cur.ch-1)}if(0<cur.ch){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose")}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev){cur=new Pos(cur.line,1);cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose")}}}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){return runInOp(cm,function(){for(var sels=cm.listSelections(),i=sels.length-1;0<=i;i--){cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input")}sels=cm.listSelections();for(var i$1=0;i$1<sels.length;i$1++){cm.indentLine(sels[i$1].from().line,null,!0)}ensureCursorVisible(cm)})},openLine:function(cm){return cm.replaceSelection("\n","start")},toggleOverwrite:function(cm){return cm.toggleOverwrite()}};function lineStart(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLine(line);if(visual!=line){lineN=lineNo(visual)}return endOfLine(!0,cm,visual,lineN,1)}function lineEnd(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLineEnd(line);if(visual!=line){lineN=lineNo(visual)}return endOfLine(!0,cm,line,lineN,-1)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line),line=getLine(cm.doc,start.line),order=getOrder(line,cm.doc.direction);if(!order||0==order[0].level){var firstNonWS=_Mathmax(0,line.text.search(/\S/)),inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS,start.sticky)}return start}function doHandleBinding(cm,bound,dropShift){if("string"==typeof bound){bound=commands[bound];if(!bound){return!1}}cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=!1;try{if(cm.isReadOnly()){cm.state.suppressEdits=!0}if(dropShift){cm.display.shift=!1}done=bound(cm)!=Pass}finally{cm.display.shift=prevShift;cm.state.suppressEdits=!1}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0,result;i<cm.state.keyMaps.length;i++){result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result){return result}}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}var stopSeq=new Delayed;function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name)){return"handled"}if(/\'$/.test(name)){cm.state.keySeq=null}else{stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset()}})}if(dispatchKeyInner(cm,seq+" "+name,e,handle)){return!0}}return dispatchKeyInner(cm,name,e,handle)}function dispatchKeyInner(cm,name,e,handle){var result=lookupKeyForEditor(cm,name,handle);if("multi"==result){cm.state.keySeq=name}if("handled"==result){signalLater(cm,"keyHandled",cm,name,e)}if("handled"==result||"multi"==result){e_preventDefault(e);restartBlink(cm)}return!!result}function handleKeyBinding(cm,e){var name=keyName(e,!0);if(!name){return!1}if(e.shiftKey&&!cm.state.keySeq){return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,!0)})||dispatchKey(cm,name,e,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion){return doHandleBinding(cm,b)}})}else{return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)})}}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,!0)})}var lastStoppedKey=null;function onKeyDown(e){var cm=this;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e)){return}if(ie&&11>ie_version&&27==e.keyCode){e.returnValue=!1}var code=e.keyCode;cm.display.shift=16==code||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&88==code&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)){cm.replaceSelection("",null,"cut")}}if(18==code&&!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)){showCrossHair(cm)}}function showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");function up(e){if(18==e.keyCode||!e.altKey){rmClass(lineDiv,"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up)}}on(document,"keyup",up);on(document,"mouseover",up)}function onKeyUp(e){if(16==e.keyCode){this.doc.sel.shift=!1}signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey){return}var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return}if(presto&&(!e.which||10>e.which)&&handleKeyBinding(cm,e)){return}var ch=_StringfromCharCode(null==charCode?keyCode:charCode);if("\b"==ch){return}if(handleCharBinding(cm,e,ch)){return}cm.display.input.onKeyPress(e)}var DOUBLECLICK_DELAY=400,PastClick=function(time,pos,button){this.time=time;this.pos=pos;this.button=button};PastClick.prototype.compare=function(time,pos,button){return this.time+DOUBLECLICK_DELAY>time&&0==cmp(pos,this.pos)&&button==this.button};var lastClick,lastDoubleClick;function clickRepeat(pos,button){var now=+new Date;if(lastDoubleClick&&lastDoubleClick.compare(now,pos,button)){lastClick=lastDoubleClick=null;return"triple"}else if(lastClick&&lastClick.compare(now,pos,button)){lastDoubleClick=new PastClick(now,pos,button);lastClick=null;return"double"}else{lastClick=new PastClick(now,pos,button);lastDoubleClick=null;return"single"}}function onMouseDown(e){var cm=this,display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch()){return}display.input.ensurePolled();display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=!1;setTimeout(function(){return display.scroller.draggable=!0},100)}return}if(clickInGutter(cm,e)){return}var pos=posFromMouse(cm,e),button=e_button(e),repeat=pos?clickRepeat(pos,button):"single";window.focus();if(1==button&&cm.state.selectingText){cm.state.selectingText(e)}if(pos&&handleMappedButton(cm,button,pos,repeat,e)){return}if(1==button){if(pos){leftButtonDown(cm,pos,repeat,e)}else if(e_target(e)==display.scroller){e_preventDefault(e)}}else if(2==button){if(pos){extendSelection(cm.doc,pos)}setTimeout(function(){return display.input.focus()},20)}else if(3==button){if(captureRightClick){cm.display.input.onContextMenu(e)}else{delayBlurEvent(cm)}}}function handleMappedButton(cm,button,pos,repeat,event){var name="Click";if("double"==repeat){name="Double"+name}else if("triple"==repeat){name="Triple"+name}name=(1==button?"Left":2==button?"Middle":"Right")+name;return dispatchKey(cm,addModifierNames(name,event),event,function(bound){if("string"==typeof bound){bound=commands[bound]}if(!bound){return!1}var done=!1;try{if(cm.isReadOnly()){cm.state.suppressEdits=!0}done=bound(cm,pos)!=Pass}finally{cm.state.suppressEdits=!1}return done})}function configureMouse(cm,repeat,event){var option=cm.getOption("configureMouse"),value=option?option(cm,repeat,event):{};if(null==value.unit){var rect=chromeOS?event.shiftKey&&event.metaKey:event.altKey;value.unit=rect?"rectangle":"single"==repeat?"char":"double"==repeat?"word":"line"}if(null==value.extend||cm.doc.extend){value.extend=cm.doc.extend||event.shiftKey}if(null==value.addNew){value.addNew=mac?event.metaKey:event.ctrlKey}if(null==value.moveOnDrag){value.moveOnDrag=!(mac?event.altKey:event.ctrlKey)}return value}function leftButtonDown(cm,pos,repeat,event){if(ie){setTimeout(bind(ensureFocus,cm),0)}else{cm.curOp.focus=activeElt()}var behavior=configureMouse(cm,repeat,event),sel=cm.doc.sel,contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&"single"==repeat&&-1<(contained=sel.contains(pos))&&(0>cmp((contained=sel.ranges[contained]).from(),pos)||0<pos.xRel)&&(0<cmp(contained.to(),pos)||0>pos.xRel)){leftButtonStartDrag(cm,event,pos,behavior)}else{leftButtonSelect(cm,event,pos,behavior)}}function leftButtonStartDrag(cm,event,pos,behavior){var display=cm.display,moved=!1,dragEnd=operation(cm,function(e){if(webkit){display.scroller.draggable=!1}cm.state.draggingText=!1;off(display.wrapper.ownerDocument,"mouseup",dragEnd);off(display.wrapper.ownerDocument,"mousemove",mouseMove);off(display.scroller,"dragstart",dragStart);off(display.scroller,"drop",dragEnd);if(!moved){e_preventDefault(e);if(!behavior.addNew){extendSelection(cm.doc,pos,null,null,behavior.extend)}if(webkit||ie&&9==ie_version){setTimeout(function(){display.wrapper.ownerDocument.body.focus();display.input.focus()},20)}else{display.input.focus()}}}),mouseMove=function(e2){moved=moved||10<=_Mathabs(event.clientX-e2.clientX)+_Mathabs(event.clientY-e2.clientY)},dragStart=function(){return moved=!0};if(webkit){display.scroller.draggable=!0}cm.state.draggingText=dragEnd;dragEnd.copy=!behavior.moveOnDrag;if(display.scroller.dragDrop){display.scroller.dragDrop()}on(display.wrapper.ownerDocument,"mouseup",dragEnd);on(display.wrapper.ownerDocument,"mousemove",mouseMove);on(display.scroller,"dragstart",dragStart);on(display.scroller,"drop",dragEnd);delayBlurEvent(cm);setTimeout(function(){return display.input.focus()},20)}function rangeForUnit(cm,pos,unit){if("char"==unit){return new Range(pos,pos)}if("word"==unit){return cm.findWordAt(pos)}if("line"==unit){return new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)))}var result=unit(cm,pos);return new Range(result.from,result.to)}function leftButtonSelect(cm,event,start,behavior){var display=cm.display,doc=cm.doc;e_preventDefault(event);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(behavior.addNew&&!behavior.extend){ourIndex=doc.sel.contains(start);if(-1<ourIndex){ourRange=ranges[ourIndex]}else{ourRange=new Range(start,start)}}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex}if("rectangle"==behavior.unit){if(!behavior.addNew){ourRange=new Range(start,start)}start=posFromMouse(cm,event,!0,!0);ourIndex=-1}else{var range$$1=rangeForUnit(cm,start,behavior.unit);if(behavior.extend){ourRange=extendRange(ourRange,range$$1.anchor,range$$1.head,behavior.extend)}else{ourRange=range$$1}}if(!behavior.addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel}else if(-1==ourIndex){ourIndex=ranges.length;setSelection(doc,normalizeSelection(cm,ranges.concat([ourRange]),ourIndex),{scroll:!1,origin:"*mouse"})}else if(1<ranges.length&&ranges[ourIndex].empty()&&"char"==behavior.unit&&!behavior.extend){setSelection(doc,normalizeSelection(cm,ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:!1,origin:"*mouse"});startSel=doc.sel}else{replaceOneSelection(doc,ourIndex,ourRange,sel_mouse)}var lastPos=start;function extendTo(pos){if(0==cmp(lastPos,pos)){return}lastPos=pos;if("rectangle"==behavior.unit){for(var ranges=[],tabSize=cm.options.tabSize,startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize),posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize),left=_Mathmin(startCol,posCol),right=_Mathmax(startCol,posCol),line=_Mathmin(start.line,pos.line),end=_Mathmin(cm.lastLine(),_Mathmax(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right){ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)))}else if(text.length>leftPos){ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}}if(!ranges.length){ranges.push(new Range(start,start))}setSelection(doc,normalizeSelection(cm,startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:!1});cm.scrollIntoView(pos)}else{var oldRange=ourRange,range$$1=rangeForUnit(cm,pos,behavior.unit),anchor=oldRange.anchor,head;if(0<cmp(range$$1.anchor,anchor)){head=range$$1.head;anchor=minPos(oldRange.from(),range$$1.anchor)}else{head=range$$1.anchor;anchor=maxPos(oldRange.to(),range$$1.head)}var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=bidiSimplify(cm,new Range(clipPos(doc,anchor),head));setSelection(doc,normalizeSelection(cm,ranges$1,ourIndex),sel_mouse)}}var editorSize=display.wrapper.getBoundingClientRect(),counter=0;function extend(e){var curCount=++counter,cur=posFromMouse(cm,e,!0,"rectangle"==behavior.unit);if(!cur){return}if(0!=cmp(cur,lastPos)){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from){setTimeout(operation(cm,function(){if(counter==curCount){extend(e)}}),150)}}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside){setTimeout(operation(cm,function(){if(counter!=curCount){return}display.scroller.scrollTop+=outside;extend(e)}),50)}}}function done(e){cm.state.selectingText=!1;counter=1/0;e_preventDefault(e);display.input.focus();off(display.wrapper.ownerDocument,"mousemove",move);off(display.wrapper.ownerDocument,"mouseup",up);doc.history.lastSelOrigin=null}var move=operation(cm,function(e){if(0===e.buttons||!e_button(e)){done(e)}else{extend(e)}}),up=operation(cm,done);cm.state.selectingText=up;on(display.wrapper.ownerDocument,"mousemove",move);on(display.wrapper.ownerDocument,"mouseup",up)}function bidiSimplify(cm,range$$1){var anchor=range$$1.anchor,head=range$$1.head,anchorLine=getLine(cm.doc,anchor.line);if(0==cmp(anchor,head)&&anchor.sticky==head.sticky){return range$$1}var order=getOrder(anchorLine);if(!order){return range$$1}var index=getBidiPartAt(order,anchor.ch,anchor.sticky),part=order[index];if(part.from!=anchor.ch&&part.to!=anchor.ch){return range$$1}var boundary=index+(part.from==anchor.ch==(1!=part.level)?0:1);if(0==boundary||boundary==order.length){return range$$1}var leftSide;if(head.line!=anchor.line){leftSide=0<(head.line-anchor.line)*("ltr"==cm.doc.direction?1:-1)}else{var headIndex=getBidiPartAt(order,head.ch,head.sticky),dir=headIndex-index||(head.ch-anchor.ch)*(1==part.level?-1:1);if(headIndex==boundary-1||headIndex==boundary){leftSide=0>dir}else{leftSide=0<dir}}var usePart=order[boundary+(leftSide?-1:0)],from=leftSide==(1==usePart.level),ch=from?usePart.from:usePart.to,sticky=from?"after":"before";return anchor.ch==ch&&anchor.sticky==sticky?range$$1:new Range(new Pos(anchor.line,ch,sticky),head)}function gutterEvent(cm,e,type,prevent){var mX,mY;if(e.touches){mX=e.touches[0].clientX;mY=e.touches[0].clientY}else{try{mX=e.clientX;mY=e.clientY}catch(e){return!1}}if(mX>=_Mathfloor(cm.display.gutters.getBoundingClientRect().right)){return!1}if(prevent){e_preventDefault(e)}var display=cm.display,lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type)){return e_defaultPrevented(e)}mY-=lineBox.top-display.viewOffset;for(var i=0,g;i<cm.options.gutters.length;++i){g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY),gutter=cm.options.gutters[i];signal(cm,type,cm,line,gutter,e);return e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",!0)}function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)){return}if(signalDOMEvent(cm,e,"contextmenu")){return}if(!captureRightClick){cm.display.input.onContextMenu(e)}}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu")){return!1}return gutterEvent(cm,e,"gutterContextMenu",!1)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm)}var Init={toString:function(){return"CodeMirror.Init"}},defaults={},optionHandlers={};function defineOptions(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle){optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init){handle(cm,val,old)}}:handle}}CodeMirror.defineOption=option;CodeMirror.Init=Init;option("value","",function(cm,val){return cm.setValue(val)},!0);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm)},!0);option("indentUnit",2,loadMode,!0);option("indentWithTabs",!1);option("smartIndent",!0);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},!0);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val){return}var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0,found;;){found=line.text.indexOf(val,pos);if(-1==found){break}pos=found+val.length;newBreaks.push(Pos(lineNo,found))}lineNo++});for(var i=newBreaks.length-1;0<=i;i--){replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))}});option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");if(old!=Init){cm.refresh()}});option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},!0);option("electricChars",!0);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0);option("spellcheck",!1,function(cm,val){return cm.getInputField().spellcheck=val},!0);option("autocorrect",!1,function(cm,val){return cm.getInputField().autocorrect=val},!0);option("autocapitalize",!1,function(cm,val){return cm.getInputField().autocapitalize=val},!0);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",!0);option("theme","default",function(cm){themeChanged(cm);guttersChanged(cm)},!0);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val),prev=old!=Init&&getKeyMap(old);if(prev&&prev.detach){prev.detach(cm,next)}if(next.attach){next.attach(cm,prev||null)}});option("extraKeys",null);option("configureMouse",null);option("lineWrapping",!1,wrappingChanged,!0);option("gutters",[],function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm)},!0);option("fixedGutter",!0,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh()},!0);option("coverGutterNextToScrollbar",!1,function(cm){return updateScrollbars(cm)},!0);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},!0);option("lineNumbers",!1,function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm)},!0);option("firstLineNumber",1,guttersChanged,!0);option("lineNumberFormatter",function(integer){return integer},guttersChanged,!0);option("showCursorWhenSelecting",!1,updateSelection,!0);option("resetSelectionOnContextMenu",!0);option("lineWiseCopyCut",!0);option("pasteLinesPerSelection",!0);option("selectionsMayTouch",!1);option("readOnly",!1,function(cm,val){if("nocursor"==val){onBlur(cm);cm.display.input.blur()}cm.display.input.readOnlyChanged(val)});option("disableInput",!1,function(cm,val){if(!val){cm.display.input.reset()}},!0);option("dragDrop",!0,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,!0);option("singleCursorHeightPerLine",!0,updateSelection,!0);option("workTime",100);option("workDelay",100);option("flattenSpans",!0,resetModeState,!0);option("addModeClass",!1,resetModeState,!0);option("pollInterval",100);option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){return cm.refresh()},!0);option("maxHighlightLength",1e4,resetModeState,!0);option("moveInputWithCursor",!0,function(cm,val){if(!val){cm.display.input.resetPosition()}});option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=val||""});option("autofocus",null);option("direction","ltr",function(cm,val){return cm.doc.setDirection(val)},!0);option("phrases",null)}function guttersChanged(cm){updateGutters(cm);regChange(cm);alignHorizontally(cm)}function dragDropChanged(cm,value,old){var wasOn=old&&old!=Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions,toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,"drop",funcs.drop)}}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null}else{rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm)}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm)},100)}function CodeMirror(place,options){var this$1=this;if(!(this instanceof CodeMirror)){return new CodeMirror(place,options)}this.options=options=options?copyObj(options):{};copyObj(defaults,options,!1);setGuttersForLineNumbers(options);var doc=options.value;if("string"==typeof doc){doc=new Doc(doc,options.mode,null,options.lineSeparator,options.direction)}else if(options.mode){doc.modeOption=options.mode}this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this),display=this.display=new Display(place,doc,input);display.wrapper.CodeMirror=this;updateGutters(this);themeChanged(this);if(options.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Delayed,keySeq:null,specialChars:null};if(options.autofocus&&!mobile){display.input.focus()}if(ie&&11>ie_version){setTimeout(function(){return this$1.display.input.reset(!0)},20)}registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=!0;attachDoc(this,doc);if(options.autofocus&&!mobile||this.hasFocus()){setTimeout(bind(onFocus,this),20)}else{onBlur(this)}for(var opt in optionHandlers){if(optionHandlers.hasOwnProperty(opt)){optionHandlers[opt](this$1,options[opt],Init)}}maybeUpdateLineNumberWidth(this);if(options.finishInit){options.finishInit(this)}for(var i=0;i<initHooks.length;++i){initHooks[i](this$1)}endOperation(this);if(webkit&&options.lineWrapping&&"optimizelegibility"==getComputedStyle(display.lineDiv).textRendering){display.lineDiv.style.textRendering="auto"}}CodeMirror.defaults=defaults;CodeMirror.optionHandlers=optionHandlers;function registerEventHandlers(cm){var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));if(ie&&11>ie_version){on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e)){return}var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}))}else{on(d.scroller,"dblclick",function(e){return signalDOMEvent(cm,e)||e_preventDefault(e)})}on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e)});var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){return d.activeTouch=null},1e3);prevTouch=d.activeTouch;prevTouch.end=+new Date}}function isMouseLikeTouchEvent(e){if(1!=e.touches.length){return!1}var touch=e.touches[0];return 1>=touch.radiusX&&1>=touch.radiusY}function farAway(touch,other){if(null==other.left){return!0}var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20}on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)&&!clickInGutter(cm,e)){d.input.ensurePolled();clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:!1,prev:300>=now-prevTouch.end?prevTouch:null};if(1==e.touches.length){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY}}});on(d.scroller,"touchmove",function(){if(d.activeTouch){d.activeTouch.moved=!0}});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&null!=touch.left&&!touch.moved&&300>new Date-touch.start){var pos=cm.coordsChar(d.activeTouch,"page"),range;if(!touch.prev||farAway(touch,touch.prev)){range=new Range(pos,pos)}else if(!touch.prev.prev||farAway(touch,touch.prev.prev)){range=cm.findWordAt(pos)}else{range=new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)))}cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e)}finishTouch()});on(d.scroller,"touchcancel",finishTouch);on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){updateScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,!0);signal(cm,"scroll",cm)}});on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e)});on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,e)});on(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(e){if(!signalDOMEvent(cm,e)){e_stop(e)}},over:function(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e)}},start:function(e){return onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function(e){if(!signalDOMEvent(cm,e)){clearDragCursor(cm)}}};var inp=d.input.getField();on(inp,"keyup",function(e){return onKeyUp.call(cm,e)});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",operation(cm,onKeyPress));on(inp,"focus",function(e){return onFocus(cm,e)});on(inp,"blur",function(e){return onBlur(cm,e)})}var initHooks=[];CodeMirror.defineInitHook=function(f){return initHooks.push(f)};function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(null==how){how="add"}if("smart"==how){if(!doc.mode.indent){how="prev"}else{state=getContextBefore(cm,n).state}}var tabSize=cm.options.tabSize,line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter){line.stateAfter=null}var curSpaceString=line.text.match(/^\s*/)[0],indentation;if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not"}else if("smart"==how){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||150<indentation){if(!aggressive){return}how="prev"}}if("prev"==how){if(n>doc.first){indentation=countColumn(getLine(doc,n-1).text,null,tabSize)}else{indentation=0}}else if("add"==how){indentation=curSpace+cm.options.indentUnit}else if("subtract"==how){indentation=curSpace-cm.options.indentUnit}else if("number"==typeof how){indentation=curSpace+how}indentation=_Mathmax(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs){for(var i=_Mathfloor(indentation/tabSize);i;--i){pos+=tabSize;indentString+="\t"}}if(pos<indentation){indentString+=spaceStr(indentation-pos)}if(indentString!=curSpaceString){replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return!0}else{for(var i$1=0,range;i$1<doc.sel.ranges.length;i$1++){range=doc.sel.ranges[i$1];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}}}var lastCopied=null;function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=!1;if(!sel){sel=doc.sel}var recent=+new Date-200,paste="paste"==origin||cm.state.pasteIncoming>recent,textLines=splitLinesAuto(inserted),multiPaste=null;if(paste&&1<sel.ranges.length){if(lastCopied&&lastCopied.text.join("\n")==inserted){if(0==sel.ranges.length%lastCopied.text.length){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++){multiPaste.push(doc.splitLines(lastCopied.text[i]))}}}else if(textLines.length==sel.ranges.length&&cm.options.pasteLinesPerSelection){multiPaste=map(textLines,function(l){return[l]})}}for(var updateInput=cm.curOp.updateInput,i$1=sel.ranges.length-1;0<=i$1;i$1--){var range$$1=sel.ranges[i$1],from=range$$1.from(),to=range$$1.to();if(range$$1.empty()){if(deleted&&0<deleted){from=Pos(from.line,from.ch-deleted)}else if(cm.state.overwrite&&!paste){to=Pos(to.line,_Mathmin(getLine(doc,to.line).text.length,to.ch+lst(textLines).length))}else if(paste&&lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==inserted){from=to=Pos(from.line,0)}}var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming>recent?"cut":"+input")};makeChange(cm.doc,changeEvent);signalLater(cm,"inputRead",cm,changeEvent)}if(inserted&&!paste){triggerElectric(cm,inserted)}ensureCursorVisible(cm);if(2>cm.curOp.updateInput){cm.curOp.updateInput=updateInput}cm.curOp.typing=!0;cm.state.pasteIncoming=cm.state.cutIncoming=-1}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput){runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,"paste")})}return!0}}function triggerElectric(cm,inserted){if(!cm.options.electricChars||!cm.options.smartIndent){return}for(var sel=cm.doc.sel,i=sel.ranges.length-1,range$$1;0<=i;i--){range$$1=sel.ranges[i];if(100<range$$1.head.ch||i&&sel.ranges[i-1].head.line==range$$1.head.line){continue}var mode=cm.getModeAt(range$$1.head),indented=!1;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++){if(-1<inserted.indexOf(mode.electricChars.charAt(j))){indented=indentLine(cm,range$$1.head.line,"smart");break}}}else if(mode.electricInput){if(mode.electricInput.test(getLine(cm.doc,range$$1.head.line).text.slice(0,range$$1.head.ch))){indented=indentLine(cm,range$$1.head.line,"smart")}}if(indented){signalLater(cm,"electricInput",cm,range$$1.head.line)}}}function copyableRanges(cm){for(var text=[],ranges=[],i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line,lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field,spellcheck,autocorrect,autocapitalize){field.setAttribute("autocorrect",!!autocorrect);field.setAttribute("autocapitalize",!!autocapitalize);field.setAttribute("spellcheck",!!spellcheck)}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(webkit){te.style.width="1000px"}else{te.setAttribute("wrap","off")}if(ios){te.style.border="1px solid black"}disableBrowserMagic(te);return div}function addEditorMethods(CodeMirror){var optionHandlers=CodeMirror.optionHandlers,helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];if(options[option]==value&&"mode"!=option){return}options[option]=value;if(optionHandlers.hasOwnProperty(option)){operation(this,optionHandlers[option])(this,value,old)}signal(this,"optionChange",this,option)},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map$$1,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map$$1))},removeKeyMap:function(map$$1){for(var maps=this.state.keyMaps,i=0;i<maps.length;++i){if(maps[i]==map$$1||maps[i].name==map$$1){maps.splice(i,1);return!0}}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState){throw new Error("Overlays may not be stateful.")}insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},function(overlay){return overlay.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){for(var this$1=this,overlays=this.state.overlays,i=0,cur;i<overlays.length;++i){cur=overlays[i].modeSpec;if(cur==spec||"string"==typeof spec&&cur.name==spec){overlays.splice(i,1);this$1.state.modeGen++;regChange(this$1);return}}}),indentLine:methodOp(function(n,dir,aggressive){if("string"!=typeof dir&&"number"!=typeof dir){if(null==dir){dir=this.options.smartIndent?"smart":"prev"}else{dir=dir?"add":"subtract"}}if(isLine(this.doc,n)){indentLine(this,n,dir,aggressive)}}),indentSelection:methodOp(function(how){for(var this$1=this,ranges=this.doc.sel.ranges,end=-1,i=0,range$$1;i<ranges.length;i++){range$$1=ranges[i];if(!range$$1.empty()){var from=range$$1.from(),to=range$$1.to(),start=_Mathmax(end,from.line);end=_Mathmin(this$1.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j){indentLine(this$1,j,how)}var newRanges=this$1.doc.sel.ranges;if(0==from.ch&&ranges.length==newRanges.length&&0<newRanges[i].from().ch){replaceOneSelection(this$1.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}}else if(range$$1.head.line>end){indentLine(this$1,range$$1.head.line,how,!0);end=range$$1.head.line;if(i==this$1.doc.sel.primIndex){ensureCursorVisible(this$1)}}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,!0)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line)),before=0,after=(styles.length-1)/2,ch=pos.ch,type;if(0==ch){type=styles[2]}else{for(;;){var mid=before+after>>1;if((mid?styles[2*mid-1]:0)>=ch){after=mid}else if(styles[2*mid+1]<ch){before=mid+1}else{type=styles[2*mid+2];break}}}var cut=type?type.indexOf("overlay "):-1;return 0>cut?type:0==cut?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode){return mode}return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var this$1=this,found=[];if(!helpers.hasOwnProperty(type)){return found}var help=helpers[type],mode=this.getModeAt(pos);if("string"==typeof mode[type]){if(help[mode[type]]){found.push(help[mode[type]])}}else if(mode[type]){for(var i=0,val;i<mode[type].length;i++){val=help[mode[type][i]];if(val){found.push(val)}}}else if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType])}else if(help[mode.name]){found.push(help[mode.name])}for(var i$1=0,cur;i$1<help._global.length;i$1++){cur=help._global[i$1];if(cur.pred(mode,this$1)&&-1==indexOf(found,cur.val)){found.push(cur.val)}}return found},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,null==line?doc.first+doc.size-1:line);return getContextBefore(this,line+1,precise).state},cursorCoords:function(start,mode){var pos,range$$1=this.doc.sel.primary();if(null==start){pos=range$$1.head}else if("object"==typeof start){pos=clipPos(this.doc,start)}else{pos=start?range$$1.from():range$$1.to()}return cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode,includeWidgets){var end=!1,lineObj;if("number"==typeof line){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first){line=this.doc.first}else if(line>last){line=last;end=!0}lineObj=getLine(this.doc,line)}else{lineObj=line}return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page",includeWidgets||end).top+(end?this.doc.height-heightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);if("over"==vert){top=pos.top}else if("above"==vert||"near"==vert){var vspace=_Mathmax(display.wrapper.clientHeight,this.doc.height),hspace=_Mathmax(display.sizer.clientWidth,display.lineSpace.clientWidth);if(("above"==vert||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight){top=pos.top-node.offsetHeight}else if(pos.bottom+node.offsetHeight<=vspace){top=pos.bottom}if(left+node.offsetWidth>hspace){left=hspace-node.offsetWidth}}node.style.top=top+"px";node.style.left=node.style.right="";if("right"==horiz){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px"}else{if("left"==horiz){left=0}else if("middle"==horiz){left=(display.sizer.clientWidth-node.offsetWidth)/2}node.style.left=left+"px"}if(scroll){scrollIntoView(this,{left:left,top:top,right:left+node.offsetWidth,bottom:top+node.offsetHeight})}},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(cmd){if(commands.hasOwnProperty(cmd)){return commands[cmd].call(null,this)}},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var this$1=this,dir=1;if(0>amount){dir=-1;amount=-amount}for(var cur=clipPos(this.doc,from),i=0;i<amount;++i){cur=findPosH(this$1.doc,cur,dir,unit,visually);if(cur.hitSide){break}}return cur},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range$$1){if(this$1.display.shift||this$1.doc.extend||range$$1.empty()){return findPosH(this$1.doc,range$$1.head,dir,unit,this$1.options.rtlMoveVisually)}else{return 0>dir?range$$1.from():range$$1.to()}},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected()){doc.replaceSelection("",null,"+delete")}else{deleteNearSelection(this,function(range$$1){var other=findPosH(doc,range$$1.head,dir,unit,!1);return 0>dir?{from:other,to:range$$1.head}:{from:range$$1.head,to:other}})}}),findPosV:function(from,amount,unit,goalColumn){var this$1=this,dir=1,x=goalColumn;if(0>amount){dir=-1;amount=-amount}for(var cur=clipPos(this.doc,from),i=0,coords;i<amount;++i){coords=cursorCoords(this$1,cur,"div");if(null==x){x=coords.left}else{coords.left=x}cur=findPosV(this$1,coords,dir,unit);if(cur.hitSide){break}}return cur},moveV:methodOp(function(dir,unit){var this$1=this,doc=this.doc,goals=[],collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range$$1){if(collapse){return 0>dir?range$$1.from():range$$1.to()}var headPos=cursorCoords(this$1,range$$1.head,"div");if(null!=range$$1.goalColumn){headPos.left=range$$1.goalColumn}goals.push(headPos.left);var pos=findPosV(this$1,headPos,dir,unit);if("page"==unit&&range$$1==doc.sel.primary()){addToScrollTop(this$1,charCoords(this$1,pos,"div").top-headPos.top)}return pos},sel_move);if(goals.length){for(var i=0;i<doc.sel.ranges.length;i++){doc.sel.ranges[i].goalColumn=goals[i]}}}),findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text,start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if(("before"==pos.sticky||end==line.length)&&start){--start}else{++end}var startChar=line.charAt(start),check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return /\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};while(0<start&&check(line.charAt(start-1))){--start}while(end<line.length&&check(line.charAt(end))){++end}}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){if(null!=value&&value==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){addClass(this.display.cursorDiv,"CodeMirror-overwrite")}else{rmClass(this.display.cursorDiv,"CodeMirror-overwrite")}signal(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(x,y){scrollToCoords(this,x,y)}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range$$1,margin){if(null==range$$1){range$$1={from:this.doc.sel.primary().head,to:null};if(null==margin){margin=this.options.cursorScrollMargin}}else if("number"==typeof range$$1){range$$1={from:Pos(range$$1,0),to:null}}else if(null==range$$1.from){range$$1={from:range$$1,to:null}}if(!range$$1.to){range$$1.to=range$$1.from}range$$1.margin=margin||0;if(null!=range$$1.from.line){scrollToRange(this,range$$1)}else{scrollToCoordsRange(this,range$$1.from,range$$1.to,range$$1.margin)}}),setSize:methodOp(function(width,height){var this$1=this,interpret=function(val){return"number"==typeof val||/^\d+$/.test(val+"")?val+"px":val};if(null!=width){this.display.wrapper.style.width=interpret(width)}if(null!=height){this.display.wrapper.style.height=interpret(height)}if(this.options.lineWrapping){clearLineMeasurementCache(this)}var lineNo$$1=this.display.viewFrom;this.doc.iter(lineNo$$1,this.display.viewTo,function(line){if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo$$1,"widget");break}}}++lineNo$$1});this.curOp.forceUpdate=!0;signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=!0;clearCaches(this);scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this);if(null==oldHeight||.5<_Mathabs(oldHeight-textHeight(this.display))){estimateLineHeights(this)}signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;attachDoc(this,doc);clearCaches(this);this.display.input.reset();scrollToCoords(this,doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=!0;signalLater(this,"swapDoc",this,old);return old}),phrase:function(phraseText){var phrases=this.options.phrases;return phrases&&Object.prototype.hasOwnProperty.call(phrases,phraseText)?phrases[phraseText]:phraseText},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};eventMixin(CodeMirror);CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type)){helpers[type]=CodeMirror[type]={_global:[]}}helpers[type][name]=value};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})}}function findPosH(doc,pos,dir,unit,visually){var oldPos=pos,origDir=dir,lineObj=getLine(doc,pos.line);function findNextLine(){var l=pos.line+dir;if(l<doc.first||l>=doc.first+doc.size){return!1}pos=new Pos(l,pos.ch,pos.sticky);return lineObj=getLine(doc,l)}function moveOnce(boundToLine){var next;if(visually){next=moveVisually(doc.cm,lineObj,pos,dir)}else{next=moveLogically(lineObj,pos,dir)}if(null==next){if(!boundToLine&&findNextLine()){pos=endOfLine(visually,doc.cm,lineObj,pos.line,dir)}else{return!1}}else{pos=next}return!0}if("char"==unit){moveOnce()}else if("column"==unit){moveOnce(!0)}else if("word"==unit||"group"==unit){for(var sawType=null,group="group"==unit,helper=doc.cm&&doc.cm.getHelper(pos,"wordChars"),first=!0;;first=!1){if(0>dir&&!moveOnce(!first)){break}var cur=lineObj.text.charAt(pos.ch)||"\n",type=isWordChar(cur,helper)?"w":group&&"\n"==cur?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type){type="s"}if(sawType&&sawType!=type){if(0>dir){dir=1;moveOnce();pos.sticky="after"}break}if(type){sawType=type}if(0<dir&&!moveOnce(!first)){break}}}var result=skipAtomic(doc,pos,oldPos,origDir,!0);if(equalCursorPos(oldPos,result)){result.hitSide=!0}return result}function findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if("page"==unit){var pageSize=_Mathmin(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),moveAmount=_Mathmax(pageSize-.5*textHeight(cm.display),3);y=(0<dir?pos.bottom:pos.top)+dir*moveAmount}else if("line"==unit){y=0<dir?pos.bottom+3:pos.top-3}var target;for(;;){target=coordsChar(cm,x,y);if(!target.outside){break}if(0>dir?0>=y:y>=doc.height){target.hitSide=!0;break}y+=5*dir}return target}var ContentEditableInput=function(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};ContentEditableInput.prototype.init=function(display){var this$1=this,input=this,cm=input.cm,div=input.div=display.lineDiv;disableBrowserMagic(div,cm.options.spellcheck,cm.options.autocorrect,cm.options.autocapitalize);on(div,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}if(11>=ie_version){setTimeout(operation(cm,function(){return this$1.updateFromDOM()}),20)}});on(div,"compositionstart",function(e){this$1.composing={data:e.data,done:!1}});on(div,"compositionupdate",function(e){if(!this$1.composing){this$1.composing={data:e.data,done:!1}}});on(div,"compositionend",function(e){if(this$1.composing){if(e.data!=this$1.composing.data){this$1.readFromDOMSoon()}this$1.composing.done=!0}});on(div,"touchstart",function(){return input.forceCompositionEnd()});on(div,"input",function(){if(!this$1.composing){this$1.readFromDOMSoon()}});function onCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:!1,text:cm.getSelections()});if("cut"==e.type){cm.replaceSelection("",null,"cut")}}else if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:!0,text:ranges.text});if("cut"==e.type){cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut")})}}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join("\n");e.clipboardData.setData("Text",content);if(e.clipboardData.getData("Text")==content){e.preventDefault();return}}var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\n");var hadFocus=document.activeElement;selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();if(hadFocus==div){input.showPrimarySelection()}},50)}on(div,"copy",onCopyCut);on(div,"cut",onCopyCut)};ContentEditableInput.prototype.prepareSelection=function(){var result=prepareSelection(this.cm,!1);result.focus=this.cm.state.focused;return result};ContentEditableInput.prototype.showSelection=function(info,takeFocus){if(!info||!this.cm.display.view.length){return}if(info.focus||takeFocus){this.showPrimarySelection()}this.showMultipleSelections(info)};ContentEditableInput.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};ContentEditableInput.prototype.showPrimarySelection=function(){var sel=this.getSelection(),cm=this.cm,prim=cm.doc.sel.primary(),from=prim.from(),to=prim.to();if(cm.display.viewTo==cm.display.viewFrom||from.line>=cm.display.viewTo||to.line<cm.display.viewFrom){sel.removeAllRanges();return}var curAnchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),curFocus=domToPos(cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&0==cmp(minPos(curAnchor,curFocus),from)&&0==cmp(maxPos(curAnchor,curFocus),to)){return}var view=cm.display.view,start=from.line>=cm.display.viewFrom&&posToDOM(cm,from)||{node:view[0].measure.map[2],offset:0},end=to.line<cm.display.viewTo&&posToDOM(cm,to);if(!end){var measure=view[view.length-1].measure,map$$1=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map$$1[map$$1.length-1],offset:map$$1[map$$1.length-2]-map$$1[map$$1.length-3]}}if(!start||!end){sel.removeAllRanges();return}var old=sel.rangeCount&&sel.getRangeAt(0),rng;try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}if(rng){if(!gecko&&cm.state.focused){sel.collapse(start.node,start.offset);if(!rng.collapsed){sel.removeAllRanges();sel.addRange(rng)}}else{sel.removeAllRanges();sel.addRange(rng)}if(old&&null==sel.anchorNode){sel.addRange(old)}else if(gecko){this.startGracePeriod()}}this.rememberSelection()};ContentEditableInput.prototype.startGracePeriod=function(){var this$1=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){this$1.gracePeriod=!1;if(this$1.selectionChanged()){this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=!0})}},20)};ContentEditableInput.prototype.showMultipleSelections=function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)};ContentEditableInput.prototype.rememberSelection=function(){var sel=this.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset};ContentEditableInput.prototype.selectionInEditor=function(){var sel=this.getSelection();if(!sel.rangeCount){return!1}var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)};ContentEditableInput.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),!0)}this.div.focus()}};ContentEditableInput.prototype.blur=function(){this.div.blur()};ContentEditableInput.prototype.getField=function(){return this.div};ContentEditableInput.prototype.supportsTouch=function(){return!0};ContentEditableInput.prototype.receivedFocus=function(){var input=this;if(this.selectionInEditor()){this.pollSelection()}else{runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=!0})}function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll)}}this.polling.set(this.cm.options.pollInterval,poll)};ContentEditableInput.prototype.selectionChanged=function(){var sel=this.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset};ContentEditableInput.prototype.pollSelection=function(){if(null!=this.readDOMTimeout||this.gracePeriod||!this.selectionChanged()){return}var sel=this.getSelection(),cm=this.cm;if(android&&chrome&&this.cm.options.gutters.length&&isInGutter(sel.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:_Mathabs});this.blur();this.focus();return}if(this.composing){return}this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head){runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad){cm.curOp.selectionChanged=!0}})}};ContentEditableInput.prototype.pollContent=function(){if(null!=this.readDOMTimeout){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary(),from=sel.from(),to=sel.to();if(0==from.ch&&from.line>cm.firstLine()){from=Pos(from.line-1,getLine(cm.doc,from.line-1).length)}if(to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine()){to=Pos(to.line+1,0)}if(from.line<display.viewFrom||to.line>display.viewTo-1){return!1}var fromIndex,fromLine,fromNode;if(from.line==display.viewFrom||0==(fromIndex=findViewIndex(cm,from.line))){fromLine=lineNo(display.view[0].line);fromNode=display.view[0].node}else{fromLine=lineNo(display.view[fromIndex].line);fromNode=display.view[fromIndex-1].node.nextSibling}var toIndex=findViewIndex(cm,to.line),toLine,toNode;if(toIndex==display.view.length-1){toLine=display.viewTo-1;toNode=display.lineDiv.lastChild}else{toLine=lineNo(display.view[toIndex+1].line)-1;toNode=display.view[toIndex+1].node.previousSibling}if(!fromNode){return!1}var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine)),oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(1<newText.length&&1<oldText.length){if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++}else{break}}var cutFront=0,cutEnd=0,newTop=newText[0],oldTop=oldText[0],maxCutFront=_Mathmin(newTop.length,oldTop.length);while(cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront)){++cutFront}var newBot=lst(newText),oldBot=lst(oldText),maxCutEnd=_Mathmin(newBot.length-(1==newText.length?cutFront:0),oldBot.length-(1==oldText.length?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){++cutEnd}if(1==newText.length&&1==oldText.length&&fromLine==from.line){while(cutFront&&cutFront>from.ch&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){cutFront--;cutEnd++}}newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd).replace(/^\u200b+/,"");newText[0]=newText[0].slice(cutFront).replace(/\u200b+$/,"");var chFrom=Pos(fromLine,cutFront),chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(1<newText.length||newText[0]||cmp(chFrom,chTo)){replaceRange(cm.doc,newText,chFrom,chTo,"+input");return!0}};ContentEditableInput.prototype.ensurePolled=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.reset=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.forceCompositionEnd=function(){if(!this.composing){return}clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()};ContentEditableInput.prototype.readFromDOMSoon=function(){var this$1=this;if(null!=this.readDOMTimeout){return}this.readDOMTimeout=setTimeout(function(){this$1.readDOMTimeout=null;if(this$1.composing){if(this$1.composing.done){this$1.composing=null}else{return}}this$1.updateFromDOM()},80)};ContentEditableInput.prototype.updateFromDOM=function(){var this$1=this;if(this.cm.isReadOnly()||!this.pollContent()){runInOp(this.cm,function(){return regChange(this$1.cm)})}};ContentEditableInput.prototype.setUneditable=function(node){node.contentEditable="false"};ContentEditableInput.prototype.onKeyPress=function(e){if(0==e.charCode||this.composing){return}e.preventDefault();if(!this.cm.isReadOnly()){operation(this.cm,applyTextInput)(this.cm,_StringfromCharCode(null==e.charCode?e.keyCode:e.charCode),0)}};ContentEditableInput.prototype.readOnlyChanged=function(val){this.div.contentEditable=("nocursor"!=val)+""};ContentEditableInput.prototype.onContextMenu=function(){};ContentEditableInput.prototype.resetPosition=function(){};ContentEditableInput.prototype.needsContentAttribute=!0;function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden){return null}var line=getLine(cm.doc,pos.line),info=mapFromLineView(view,line,pos.line),order=getOrder(line,cm.doc.direction),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset="right"==result.collapse?result.end:result.start;return result}function isInGutter(node){for(var scan=node;scan;scan=scan.parentNode){if(/CodeMirror-gutter-wrapper/.test(scan.className)){return!0}}return!1}function badPos(pos,bad){if(bad){pos.bad=!0}return pos}function domTextBetween(cm,from,to,fromLine,toLine){var text="",closing=!1,lineSep=cm.doc.lineSeparator(),extraLinebreak=!1;function recognizeMarker(id){return function(marker){return marker.id==id}}function close(){if(closing){text+=lineSep;if(extraLinebreak){text+=lineSep}closing=extraLinebreak=!1}}function addText(str){if(str){close();text+=str}}function walk(node){if(1==node.nodeType){var cmText=node.getAttribute("cm-text");if(cmText){addText(cmText);return}var markerID=node.getAttribute("cm-marker"),range$$1;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range$$1=found[0].find(0))){addText(getBetween(cm.doc,range$$1.from,range$$1.to).join(lineSep))}return}if("false"==node.getAttribute("contenteditable")){return}var isBlock=/^(pre|div|p|li|table|br)$/i.test(node.nodeName);if(!/^br$/i.test(node.nodeName)&&0==node.textContent.length){return}if(isBlock){close()}for(var i=0;i<node.childNodes.length;i++){walk(node.childNodes[i])}if(/^(pre|p)$/i.test(node.nodeName)){extraLinebreak=!0}if(isBlock){closing=!0}}else if(3==node.nodeType){addText(node.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}}for(;;){walk(from);if(from==to){break}from=from.nextSibling;extraLinebreak=!1}return text}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode){return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),!0)}node=null;offset=0}else{for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv){return null}if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv){break}}}for(var i=0,lineView;i<cm.display.view.length;i++){lineView=cm.display.view[i];if(lineView.node==lineNode){return locateNodeInLineView(lineView,node,offset)}}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=!1;if(!node||!contains(wrapper,node)){return badPos(Pos(lineNo(lineView.line),0),!0)}if(node==wrapper){bad=!0;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}}var textNode=3==node.nodeType?node:null,topNode=node;if(!textNode&&1==node.childNodes.length&&3==node.firstChild.nodeType){textNode=node.firstChild;if(offset){offset=textNode.nodeValue.length}}while(topNode.parentNode!=wrapper){topNode=topNode.parentNode}var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1,map$$1;i<(maps?maps.length:0);i++){map$$1=0>i?measure.map:maps[i];for(var j=0,curNode;j<map$$1.length;j+=3){curNode=map$$1[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(0>i?lineView.line:lineView.rest[i]),ch=map$$1[j]+offset;if(0>offset||curNode!=textNode){ch=map$$1[j+(offset?1:0)]}return Pos(line,ch)}}}}var found=find(textNode,topNode,offset);if(found){return badPos(found,bad)}for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found){return badPos(Pos(found.line,found.ch-dist),bad)}else{dist+=after.textContent.length}}for(var before=topNode.previousSibling,dist$1=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found){return badPos(Pos(found.line,found.ch+dist$1),bad)}else{dist$1+=before.textContent.length}}}var TextareaInput=function(cm){this.cm=cm;this.prevInput="";this.pollingFast=!1;this.polling=new Delayed;this.hasSelection=!1;this.composing=null};TextareaInput.prototype.init=function(display){var this$1=this,input=this,cm=this.cm;this.createField(display);var te=this.textarea;display.wrapper.insertBefore(this.wrapper,display.wrapper.firstChild);if(ios){te.style.width="0px"}on(te,"input",function(){if(ie&&9<=ie_version&&this$1.hasSelection){this$1.hasSelection=null}input.poll()});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}cm.state.pasteIncoming=+new Date;input.fastPoll()});function prepareCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:!1,text:cm.getSelections()})}else if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:!0,text:ranges.text});if("cut"==e.type){cm.setSelections(ranges.ranges,null,sel_dontScroll)}else{input.prevInput="";te.value=ranges.text.join("\n");selectInput(te)}}if("cut"==e.type){cm.state.cutIncoming=+new Date}}on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e)){return}if(!te.dispatchEvent){cm.state.pasteIncoming=+new Date;input.focus();return}var event=new Event("paste");event.clipboardData=e.clipboardData;te.dispatchEvent(event)});on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e)){e_preventDefault(e)}});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing){input.composing.range.clear()}input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();input.composing=null}})};TextareaInput.prototype.createField=function(_display){this.wrapper=hiddenTextarea();this.textarea=this.wrapper.firstChild};TextareaInput.prototype.prepareSelection=function(){var cm=this.cm,display=cm.display,doc=cm.doc,result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,"div"),wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=_Mathmax(0,_Mathmin(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=_Mathmax(0,_Mathmin(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result};TextareaInput.prototype.showSelection=function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(null!=drawn.teTop){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px"}};TextareaInput.prototype.reset=function(typing){if(this.contextMenuPending||this.composing){return}var cm=this.cm;if(cm.somethingSelected()){this.prevInput="";var content=cm.getSelection();this.textarea.value=content;if(cm.state.focused){selectInput(this.textarea)}if(ie&&9<=ie_version){this.hasSelection=content}}else if(!typing){this.prevInput=this.textarea.value="";if(ie&&9<=ie_version){this.hasSelection=null}}};TextareaInput.prototype.getField=function(){return this.textarea};TextareaInput.prototype.supportsTouch=function(){return!1};TextareaInput.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!mobile||activeElt()!=this.textarea)){try{this.textarea.focus()}catch(e){}}};TextareaInput.prototype.blur=function(){this.textarea.blur()};TextareaInput.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};TextareaInput.prototype.receivedFocus=function(){this.slowPoll()};TextareaInput.prototype.slowPoll=function(){var this$1=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();if(this$1.cm.state.focused){this$1.slowPoll()}})};TextareaInput.prototype.fastPoll=function(){var missed=!1,input=this;input.pollingFast=!0;function p(){var changed=input.poll();if(!changed&&!missed){missed=!0;input.polling.set(60,p)}else{input.pollingFast=!1;input.slowPoll()}}input.polling.set(20,p)};TextareaInput.prototype.poll=function(){var this$1=this,cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq){return!1}var text=input.value;if(text==prevInput&&!cm.somethingSelected()){return!1}if(ie&&9<=ie_version&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text)){cm.display.input.reset();return!1}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(8203==first&&!prevInput){prevInput="\u200B"}if(8666==first){this.reset();return this.cm.execCommand("undo")}}var same=0,l=_Mathmin(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same)){++same}runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null);if(1e3<text.length||-1<text.indexOf("\n")){input.value=this$1.prevInput=""}else{this$1.prevInput=text}if(this$1.composing){this$1.composing.range.clear();this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});return!0};TextareaInput.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll()){this.pollingFast=!1}};TextareaInput.prototype.onKeyPress=function(){if(ie&&9<=ie_version){this.hasSelection=null}this.fastPoll()};TextareaInput.prototype.onContextMenu=function(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;if(input.contextMenuPending){input.contextMenuPending()}var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto){return}var reset=cm.options.resetSelectionOnContextMenu;if(reset&&-1==cm.doc.sel.contains(pos)){operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll)}var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText,wrapperBox=input.wrapper.offsetParent.getBoundingClientRect();input.wrapper.style.cssText="position: static";te.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var oldScrollY;if(webkit){oldScrollY=window.scrollY}display.input.focus();if(webkit){window.scrollTo(null,oldScrollY)}display.input.reset();if(!cm.somethingSelected()){te.value=input.prevInput=" "}input.contextMenuPending=rehide;display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);function prepareSelectAllHack(){if(null!=te.selectionStart){var selected=cm.somethingSelected(),extval="\u200B"+(selected?te.value:"");te.value="\u21DA";te.value=extval;input.prevInput=selected?"":"\u200B";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending!=rehide){return}input.contextMenuPending=!1;input.wrapper.style.cssText=oldWrapperCSS;te.style.cssText=oldCSS;if(ie&&9>ie_version){display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos)}if(null!=te.selectionStart){if(!ie||ie&&9>ie_version){prepareSelectAllHack()}var i=0,poll=function(){if(display.selForContextMenu==cm.doc.sel&&0==te.selectionStart&&0<te.selectionEnd&&"\u200B"==input.prevInput){operation(cm,selectAll)(cm)}else if(10>i++){display.detectingSelectAll=setTimeout(poll,500)}else{display.selForContextMenu=null;display.input.reset()}};display.detectingSelectAll=setTimeout(poll,200)}}if(ie&&9<=ie_version){prepareSelectAllHack()}if(captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup);setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else{setTimeout(rehide,50)}};TextareaInput.prototype.readOnlyChanged=function(val){if(!val){this.reset()}this.textarea.disabled="nocursor"==val};TextareaInput.prototype.setUneditable=function(){};TextareaInput.prototype.needsContentAttribute=!1;function fromTextArea(textarea,options){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex){options.tabindex=textarea.tabIndex}if(!options.placeholder&&textarea.placeholder){options.placeholder=textarea.placeholder}if(null==options.autofocus){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||null!=textarea.getAttribute("autofocus")&&hasFocus==document.body}function save(){textarea.value=cm.getValue()}var realSubmit;if(textarea.form){on(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit}}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if("function"==typeof textarea.form.submit){textarea.form.submit=realSubmit}}}};textarea.style.display="none";var cm=CodeMirror(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm}function addLegacyProps(CodeMirror){CodeMirror.off=off;CodeMirror.on=on;CodeMirror.wheelEventPixels=wheelEventPixels;CodeMirror.Doc=Doc;CodeMirror.splitLines=splitLinesAuto;CodeMirror.countColumn=countColumn;CodeMirror.findColumn=findColumn;CodeMirror.isWordChar=isWordCharBasic;CodeMirror.Pass=Pass;CodeMirror.signal=signal;CodeMirror.Line=Line;CodeMirror.changeEnd=changeEnd;CodeMirror.scrollbarModel=scrollbarModel;CodeMirror.Pos=Pos;CodeMirror.cmpPos=cmp;CodeMirror.modes=modes;CodeMirror.mimeModes=mimeModes;CodeMirror.resolveMode=resolveMode;CodeMirror.getMode=getMode;CodeMirror.modeExtensions=modeExtensions;CodeMirror.extendMode=extendMode;CodeMirror.copyState=copyState;CodeMirror.startState=startState;CodeMirror.innerMode=innerMode;CodeMirror.commands=commands;CodeMirror.keyMap=keyMap;CodeMirror.keyName=keyName;CodeMirror.isModifierKey=isModifierKey;CodeMirror.lookupKey=lookupKey;CodeMirror.normalizeKeyMap=normalizeKeyMap;CodeMirror.StringStream=StringStream;CodeMirror.SharedTextMarker=SharedTextMarker;CodeMirror.TextMarker=TextMarker;CodeMirror.LineWidget=LineWidget;CodeMirror.e_preventDefault=e_preventDefault;CodeMirror.e_stopPropagation=e_stopPropagation;CodeMirror.e_stop=e_stop;CodeMirror.addClass=addClass;CodeMirror.contains=contains;CodeMirror.rmClass=rmClass;CodeMirror.keyNames=keyNames}defineOptions(CodeMirror);addEditorMethods(CodeMirror);var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype){if(Doc.prototype.hasOwnProperty(prop)&&0>indexOf(dontDelegate,prop)){CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop])}}eventMixin(Doc);CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput};CodeMirror.defineMode=function(name){if(!CodeMirror.defaults.mode&&"null"!=name){CodeMirror.defaults.mode=name}defineMode.apply(this,arguments)};CodeMirror.defineMIME=defineMIME;CodeMirror.defineMode("null",function(){return{token:function(stream){return stream.skipToEnd()}}});CodeMirror.defineMIME("text/plain","null");CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func};CodeMirror.fromTextArea=fromTextArea;addLegacyProps(CodeMirror);CodeMirror.version="5.44.0";return CodeMirror});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module)mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineMode("css",function(config,parserConfig){var inline=parserConfig.inline;if(!parserConfig.propertyKeywords)parserConfig=CodeMirror.resolveMode("text/css");var indentUnit=config.indentUnit,tokenHooks=parserConfig.tokenHooks,documentTypes=parserConfig.documentTypes||{},mediaTypes=parserConfig.mediaTypes||{},mediaFeatures=parserConfig.mediaFeatures||{},mediaValueKeywords=parserConfig.mediaValueKeywords||{},propertyKeywords=parserConfig.propertyKeywords||{},nonStandardPropertyKeywords=parserConfig.nonStandardPropertyKeywords||{},fontProperties=parserConfig.fontProperties||{},counterDescriptors=parserConfig.counterDescriptors||{},colorKeywords=parserConfig.colorKeywords||{},valueKeywords=parserConfig.valueKeywords||{},allowNested=parserConfig.allowNested,lineComment=parserConfig.lineComment,supportsAtComponent=!0===parserConfig.supportsAtComponent,type,override;function ret(style,tp){type=tp;return style}function tokenBase(stream,state){var ch=stream.next();if(tokenHooks[ch]){var result=tokenHooks[ch](stream,state);if(!1!==result)return result}if("@"==ch){stream.eatWhile(/[\w\\\-]/);return ret("def",stream.current())}else if("="==ch||("~"==ch||"|"==ch)&&stream.eat("=")){return ret(null,"compare")}else if("\""==ch||"'"==ch){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if("#"==ch){stream.eatWhile(/[\w\\\-]/);return ret("atom","hash")}else if("!"==ch){stream.match(/^\s*\w*/);return ret("keyword","important")}else if(/\d/.test(ch)||"."==ch&&stream.eat(/\d/)){stream.eatWhile(/[\w.%]/);return ret("number","unit")}else if("-"===ch){if(/[\d.]/.test(stream.peek())){stream.eatWhile(/[\w.%]/);return ret("number","unit")}else if(stream.match(/^-[\w\\\-]*/)){stream.eatWhile(/[\w\\\-]/);if(stream.match(/^\s*:/,!1))return ret("variable-2","variable-definition");return ret("variable-2","variable")}else if(stream.match(/^\w+-/)){return ret("meta","meta")}}else if(/[,+>*\/]/.test(ch)){return ret(null,"select-op")}else if("."==ch&&stream.match(/^-?[_a-z][_a-z0-9-]*/i)){return ret("qualifier","qualifier")}else if(/[:;{}\[\]\(\)]/.test(ch)){return ret(null,ch)}else if(stream.match(/[\w-.]+(?=\()/)){if(/^(url(-prefix)?|domain|regexp)$/.test(stream.current().toLowerCase())){state.tokenize=tokenParenthesized}return ret("variable callee","variable")}else if(/[\w\\\-]/.test(ch)){stream.eatWhile(/[\w\\\-]/);return ret("property","word")}else{return ret(null,null)}}function tokenString(quote){return function(stream,state){var escaped=!1,ch;while(null!=(ch=stream.next())){if(ch==quote&&!escaped){if(")"==quote)stream.backUp(1);break}escaped=!escaped&&"\\"==ch}if(ch==quote||!escaped&&")"!=quote)state.tokenize=null;return ret("string","string")}}function tokenParenthesized(stream,state){stream.next();if(!stream.match(/\s*[\"\')]/,!1))state.tokenize=tokenString(")");else state.tokenize=null;return ret(null,"(")}function Context(type,indent,prev){this.type=type;this.indent=indent;this.prev=prev}function pushContext(state,stream,type,indent){state.context=new Context(type,stream.indentation()+(!1===indent?0:indentUnit),state.context);return type}function popContext(state){if(state.context.prev)state.context=state.context.prev;return state.context.type}function pass(type,stream,state){return states[state.context.type](type,stream,state)}function popAndPass(type,stream,state,n){for(var i=n||1;0<i;i--)state.context=state.context.prev;return pass(type,stream,state)}function wordAsValue(stream){var word=stream.current().toLowerCase();if(valueKeywords.hasOwnProperty(word))override="atom";else if(colorKeywords.hasOwnProperty(word))override="keyword";else override="variable"}var states={top:function(type,stream,state){if("{"==type){return pushContext(state,stream,"block")}else if("}"==type&&state.context.prev){return popContext(state)}else if(supportsAtComponent&&/@component/i.test(type)){return pushContext(state,stream,"atComponentBlock")}else if(/^@(-moz-)?document$/i.test(type)){return pushContext(state,stream,"documentTypes")}else if(/^@(media|supports|(-moz-)?document|import)$/i.test(type)){return pushContext(state,stream,"atBlock")}else if(/^@(font-face|counter-style)/i.test(type)){state.stateArg=type;return"restricted_atBlock_before"}else if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)){return"keyframes"}else if(type&&"@"==type.charAt(0)){return pushContext(state,stream,"at")}else if("hash"==type){override="builtin"}else if("word"==type){override="tag"}else if("variable-definition"==type){return"maybeprop"}else if("interpolation"==type){return pushContext(state,stream,"interpolation")}else if(":"==type){return"pseudo"}else if(allowNested&&"("==type){return pushContext(state,stream,"parens")}return state.context.type}};states.block=function(type,stream,state){if("word"==type){var word=stream.current().toLowerCase();if(propertyKeywords.hasOwnProperty(word)){override="property";return"maybeprop"}else if(nonStandardPropertyKeywords.hasOwnProperty(word)){override="string-2";return"maybeprop"}else if(allowNested){override=stream.match(/^\s*:(?:\s|$)/,!1)?"property":"tag";return"block"}else{override+=" error";return"maybeprop"}}else if("meta"==type){return"block"}else if(!allowNested&&("hash"==type||"qualifier"==type)){override="error";return"block"}else{return states.top(type,stream,state)}};states.maybeprop=function(type,stream,state){if(":"==type)return pushContext(state,stream,"prop");return pass(type,stream,state)};states.prop=function(type,stream,state){if(";"==type)return popContext(state);if("{"==type&&allowNested)return pushContext(state,stream,"propBlock");if("}"==type||"{"==type)return popAndPass(type,stream,state);if("("==type)return pushContext(state,stream,"parens");if("hash"==type&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())){override+=" error"}else if("word"==type){wordAsValue(stream)}else if("interpolation"==type){return pushContext(state,stream,"interpolation")}return"prop"};states.propBlock=function(type,_stream,state){if("}"==type)return popContext(state);if("word"==type){override="property";return"maybeprop"}return state.context.type};states.parens=function(type,stream,state){if("{"==type||"}"==type)return popAndPass(type,stream,state);if(")"==type)return popContext(state);if("("==type)return pushContext(state,stream,"parens");if("interpolation"==type)return pushContext(state,stream,"interpolation");if("word"==type)wordAsValue(stream);return"parens"};states.pseudo=function(type,stream,state){if("meta"==type)return"pseudo";if("word"==type){override="variable-3";return state.context.type}return pass(type,stream,state)};states.documentTypes=function(type,stream,state){if("word"==type&&documentTypes.hasOwnProperty(stream.current())){override="tag";return state.context.type}else{return states.atBlock(type,stream,state)}};states.atBlock=function(type,stream,state){if("("==type)return pushContext(state,stream,"atBlock_parens");if("}"==type||";"==type)return popAndPass(type,stream,state);if("{"==type)return popContext(state)&&pushContext(state,stream,allowNested?"block":"top");if("interpolation"==type)return pushContext(state,stream,"interpolation");if("word"==type){var word=stream.current().toLowerCase();if("only"==word||"not"==word||"and"==word||"or"==word)override="keyword";else if(mediaTypes.hasOwnProperty(word))override="attribute";else if(mediaFeatures.hasOwnProperty(word))override="property";else if(mediaValueKeywords.hasOwnProperty(word))override="keyword";else if(propertyKeywords.hasOwnProperty(word))override="property";else if(nonStandardPropertyKeywords.hasOwnProperty(word))override="string-2";else if(valueKeywords.hasOwnProperty(word))override="atom";else if(colorKeywords.hasOwnProperty(word))override="keyword";else override="error"}return state.context.type};states.atComponentBlock=function(type,stream,state){if("}"==type)return popAndPass(type,stream,state);if("{"==type)return popContext(state)&&pushContext(state,stream,allowNested?"block":"top",!1);if("word"==type)override="error";return state.context.type};states.atBlock_parens=function(type,stream,state){if(")"==type)return popContext(state);if("{"==type||"}"==type)return popAndPass(type,stream,state,2);return states.atBlock(type,stream,state)};states.restricted_atBlock_before=function(type,stream,state){if("{"==type)return pushContext(state,stream,"restricted_atBlock");if("word"==type&&"@counter-style"==state.stateArg){override="variable";return"restricted_atBlock_before"}return pass(type,stream,state)};states.restricted_atBlock=function(type,stream,state){if("}"==type){state.stateArg=null;return popContext(state)}if("word"==type){if("@font-face"==state.stateArg&&!fontProperties.hasOwnProperty(stream.current().toLowerCase())||"@counter-style"==state.stateArg&&!counterDescriptors.hasOwnProperty(stream.current().toLowerCase()))override="error";else override="property";return"maybeprop"}return"restricted_atBlock"};states.keyframes=function(type,stream,state){if("word"==type){override="variable";return"keyframes"}if("{"==type)return pushContext(state,stream,"top");return pass(type,stream,state)};states.at=function(type,stream,state){if(";"==type)return popContext(state);if("{"==type||"}"==type)return popAndPass(type,stream,state);if("word"==type)override="tag";else if("hash"==type)override="builtin";return"at"};states.interpolation=function(type,stream,state){if("}"==type)return popContext(state);if("{"==type||";"==type)return popAndPass(type,stream,state);if("word"==type)override="variable";else if("variable"!=type&&"("!=type&&")"!=type)override="error";return"interpolation"};return{startState:function(base){return{tokenize:null,state:inline?"block":"top",stateArg:null,context:new Context(inline?"block":"top",base||0,null)}},token:function(stream,state){if(!state.tokenize&&stream.eatSpace())return null;var style=(state.tokenize||tokenBase)(stream,state);if(style&&"object"==typeof style){type=style[1];style=style[0]}override=style;if("comment"!=type)state.state=states[state.state](type,stream,state);return override},indent:function(state,textAfter){var cx=state.context,ch=textAfter&&textAfter.charAt(0),indent=cx.indent;if("prop"==cx.type&&("}"==ch||")"==ch))cx=cx.prev;if(cx.prev){if("}"==ch&&("block"==cx.type||"top"==cx.type||"interpolation"==cx.type||"restricted_atBlock"==cx.type)){cx=cx.prev;indent=cx.indent}else if(")"==ch&&("parens"==cx.type||"atBlock_parens"==cx.type)||"{"==ch&&("at"==cx.type||"atBlock"==cx.type)){indent=Math.max(0,cx.indent-indentUnit)}}return indent},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:lineComment,fold:"brace"}});function keySet(array){for(var keys={},i=0;i<array.length;++i){keys[array[i].toLowerCase()]=!0}return keys}var documentTypes_=["domain","regexp","url","url-prefix"],documentTypes=keySet(documentTypes_),mediaTypes_=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],mediaTypes=keySet(mediaTypes_),mediaFeatures_=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],mediaFeatures=keySet(mediaFeatures_),mediaValueKeywords_=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],mediaValueKeywords=keySet(mediaValueKeywords_),propertyKeywords_=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],propertyKeywords=keySet(propertyKeywords_),nonStandardPropertyKeywords_=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],nonStandardPropertyKeywords=keySet(nonStandardPropertyKeywords_),fontProperties_=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],fontProperties=keySet(fontProperties_),counterDescriptors_=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],counterDescriptors=keySet(counterDescriptors_),colorKeywords_=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],colorKeywords=keySet(colorKeywords_),valueKeywords_=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],valueKeywords=keySet(valueKeywords_),allWords=documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_).concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_).concat(valueKeywords_);CodeMirror.registerHelper("hintWords","css",allWords);function tokenCComment(stream,state){var maybeEnd=!1,ch;while(null!=(ch=stream.next())){if(maybeEnd&&"/"==ch){state.tokenize=null;break}maybeEnd="*"==ch}return["comment","comment"]}CodeMirror.defineMIME("text/css",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,tokenHooks:{"/":function(stream,state){if(!stream.eat("*"))return!1;state.tokenize=tokenCComment;return tokenCComment(stream,state)}},name:"css"});CodeMirror.defineMIME("text/x-scss",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(stream,state){if(stream.eat("/")){stream.skipToEnd();return["comment","comment"]}else if(stream.eat("*")){state.tokenize=tokenCComment;return tokenCComment(stream,state)}else{return["operator","operator"]}},":":function(stream){if(stream.match(/\s*\{/,!1))return[null,null];return!1},$:function(stream){stream.match(/^[\w-]+/);if(stream.match(/^\s*:/,!1))return["variable-2","variable-definition"];return["variable-2","variable"]},"#":function(stream){if(!stream.eat("{"))return!1;return[null,"interpolation"]}},name:"css",helperType:"scss"});CodeMirror.defineMIME("text/x-less",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(stream,state){if(stream.eat("/")){stream.skipToEnd();return["comment","comment"]}else if(stream.eat("*")){state.tokenize=tokenCComment;return tokenCComment(stream,state)}else{return["operator","operator"]}},"@":function(stream){if(stream.eat("{"))return[null,"interpolation"];if(stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1))return!1;stream.eatWhile(/[\w\\\-]/);if(stream.match(/^\s*:/,!1))return["variable-2","variable-definition"];return["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"});CodeMirror.defineMIME("text/x-gss",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,supportsAtComponent:!0,tokenHooks:{"/":function(stream,state){if(!stream.eat("*"))return!1;state.tokenize=tokenCComment;return tokenCComment(stream,state)}},name:"css",helperType:"gss"})});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module)mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var HINT_ELEMENT_CLASS="CodeMirror-hint",ACTIVE_HINT_ELEMENT_CLASS="CodeMirror-hint-active";CodeMirror.showHint=function(cm,getHints,options){if(!getHints)return cm.showHint(options);if(options&&options.async)getHints.async=!0;var newOpts={hint:getHints};if(options)for(var prop in options)newOpts[prop]=options[prop];return cm.showHint(newOpts)};CodeMirror.defineExtension("showHint",function(options){options=parseOptions(this,this.getCursor("start"),options);var selections=this.listSelections();if(1<selections.length)return;if(this.somethingSelected()){if(!options.hint.supportsSelection)return;for(var i=0;i<selections.length;i++)if(selections[i].head.line!=selections[i].anchor.line)return}if(this.state.completionActive)this.state.completionActive.close();var completion=this.state.completionActive=new Completion(this,options);if(!completion.options.hint)return;CodeMirror.signal(this,"startCompletion",this);completion.update(!0)});CodeMirror.defineExtension("closeHint",function(){if(this.state.completionActive)this.state.completionActive.close()});function Completion(cm,options){this.cm=cm;this.options=options;this.widget=null;this.debounce=0;this.tick=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var self=this;cm.on("cursorActivity",this.activityFunc=function(){self.cursorActivity()})}var requestAnimationFrame=window.requestAnimationFrame||function(fn){return setTimeout(fn,1e3/60)},cancelAnimationFrame=window.cancelAnimationFrame||clearTimeout;Completion.prototype={close:function(){if(!this.active())return;this.cm.state.completionActive=null;this.tick=null;this.cm.off("cursorActivity",this.activityFunc);if(this.widget&&this.data)CodeMirror.signal(this.data,"close");if(this.widget)this.widget.close();CodeMirror.signal(this.cm,"endCompletion",this.cm)},active:function(){return this.cm.state.completionActive==this},pick:function(data,i){var completion=data.list[i];if(completion.hint)completion.hint(this.cm,data,completion);else this.cm.replaceRange(getText(completion),completion.from||data.from,completion.to||data.to,"complete");CodeMirror.signal(data,"pick",completion);this.close()},cursorActivity:function(){if(this.debounce){cancelAnimationFrame(this.debounce);this.debounce=0}var pos=this.cm.getCursor(),line=this.cm.getLine(pos.line);if(pos.line!=this.startPos.line||line.length-pos.ch!=this.startLen-this.startPos.ch||pos.ch<this.startPos.ch||this.cm.somethingSelected()||!pos.ch||this.options.closeCharacters.test(line.charAt(pos.ch-1))){this.close()}else{var self=this;this.debounce=requestAnimationFrame(function(){self.update()});if(this.widget)this.widget.disable()}},update:function(first){if(null==this.tick)return;var self=this,myTick=++this.tick;fetchHints(this.options.hint,this.cm,this.options,function(data){if(self.tick==myTick)self.finishUpdate(data,first)})},finishUpdate:function(data,first){if(this.data)CodeMirror.signal(this.data,"update");var picked=this.widget&&this.widget.picked||first&&this.options.completeSingle;if(this.widget)this.widget.close();this.data=data;if(data&&data.list.length){if(picked&&1==data.list.length){this.pick(data,0)}else{this.widget=new Widget(this,data);CodeMirror.signal(data,"shown")}}}};function parseOptions(cm,pos,options){var editor=cm.options.hintOptions,out={};for(var prop in defaultOptions)out[prop]=defaultOptions[prop];if(editor)for(var prop in editor)if(editor[prop]!==void 0)out[prop]=editor[prop];if(options)for(var prop in options)if(options[prop]!==void 0)out[prop]=options[prop];if(out.hint.resolve)out.hint=out.hint.resolve(cm,pos);return out}function getText(completion){if("string"==typeof completion)return completion;else return completion.text}function buildKeyMap(completion,handle){var baseMap={Up:function(){handle.moveFocus(-1)},Down:function(){handle.moveFocus(1)},PageUp:function(){handle.moveFocus(-handle.menuSize()+1,!0)},PageDown:function(){handle.moveFocus(handle.menuSize()-1,!0)},Home:function(){handle.setFocus(0)},End:function(){handle.setFocus(handle.length-1)},Enter:handle.pick,Tab:handle.pick,Esc:handle.close},mac=/Mac/.test(navigator.platform);if(mac){baseMap["Ctrl-P"]=function(){handle.moveFocus(-1)};baseMap["Ctrl-N"]=function(){handle.moveFocus(1)}}var custom=completion.options.customKeys,ourMap=custom?{}:baseMap;function addBinding(key,val){var bound;if("string"!=typeof val)bound=function(cm){return val(cm,handle)};else if(baseMap.hasOwnProperty(val))bound=baseMap[val];else bound=val;ourMap[key]=bound}if(custom)for(var key in custom)if(custom.hasOwnProperty(key))addBinding(key,custom[key]);var extra=completion.options.extraKeys;if(extra)for(var key in extra)if(extra.hasOwnProperty(key))addBinding(key,extra[key]);return ourMap}function getHintElement(hintsElement,el){while(el&&el!=hintsElement){if("LI"===el.nodeName.toUpperCase()&&el.parentNode==hintsElement)return el;el=el.parentNode}}function Widget(completion,data){var _Mathmax=Math.max;this.completion=completion;this.data=data;this.picked=!1;var widget=this,cm=completion.cm,ownerDocument=cm.getInputField().ownerDocument,parentWindow=ownerDocument.defaultView||ownerDocument.parentWindow,hints=this.hints=ownerDocument.createElement("ul"),theme=completion.cm.options.theme;hints.className="CodeMirror-hints "+theme;this.selectedHint=data.selectedHint||0;for(var completions=data.list,i=0;i<completions.length;++i){var elt=hints.appendChild(ownerDocument.createElement("li")),cur=completions[i],className=HINT_ELEMENT_CLASS+(i!=this.selectedHint?"":" "+ACTIVE_HINT_ELEMENT_CLASS);if(null!=cur.className)className=cur.className+" "+className;elt.className=className;if(cur.render)cur.render(elt,data,cur);else elt.appendChild(ownerDocument.createTextNode(cur.displayText||getText(cur)));elt.hintId=i}var pos=cm.cursorCoords(completion.options.alignWithWord?data.from:null),left=pos.left,top=pos.bottom,below=!0;hints.style.left=left+"px";hints.style.top=top+"px";var winW=parentWindow.innerWidth||_Mathmax(ownerDocument.body.offsetWidth,ownerDocument.documentElement.offsetWidth),winH=parentWindow.innerHeight||_Mathmax(ownerDocument.body.offsetHeight,ownerDocument.documentElement.offsetHeight);(completion.options.container||ownerDocument.body).appendChild(hints);var box=hints.getBoundingClientRect(),overlapY=box.bottom-winH,scrolls=hints.scrollHeight>hints.clientHeight+1,startScroll=cm.getScrollInfo();if(0<overlapY){var height=box.bottom-box.top,curTop=pos.top-(pos.bottom-box.top);if(0<curTop-height){hints.style.top=(top=pos.top-height)+"px";below=!1}else if(height>winH){hints.style.height=winH-5+"px";hints.style.top=(top=pos.bottom-box.top)+"px";var cursor=cm.getCursor();if(data.from.ch!=cursor.ch){pos=cm.cursorCoords(cursor);hints.style.left=(left=pos.left)+"px";box=hints.getBoundingClientRect()}}}var overlapX=box.right-winW;if(0<overlapX){if(box.right-box.left>winW){hints.style.width=winW-5+"px";overlapX-=box.right-box.left-winW}hints.style.left=(left=pos.left-overlapX)+"px"}if(scrolls)for(var node=hints.firstChild;node;node=node.nextSibling)node.style.paddingRight=cm.display.nativeBarWidth+"px";cm.addKeyMap(this.keyMap=buildKeyMap(completion,{moveFocus:function(n,avoidWrap){widget.changeActive(widget.selectedHint+n,avoidWrap)},setFocus:function(n){widget.changeActive(n)},menuSize:function(){return widget.screenAmount()},length:completions.length,close:function(){completion.close()},pick:function(){widget.pick()},data:data}));if(completion.options.closeOnUnfocus){var closingOnBlur;cm.on("blur",this.onBlur=function(){closingOnBlur=setTimeout(function(){completion.close()},100)});cm.on("focus",this.onFocus=function(){clearTimeout(closingOnBlur)})}cm.on("scroll",this.onScroll=function(){var curScroll=cm.getScrollInfo(),editor=cm.getWrapperElement().getBoundingClientRect(),newTop=top+startScroll.top-curScroll.top,point=newTop-(parentWindow.pageYOffset||(ownerDocument.documentElement||ownerDocument.body).scrollTop);if(!below)point+=hints.offsetHeight;if(point<=editor.top||point>=editor.bottom)return completion.close();hints.style.top=newTop+"px";hints.style.left=left+startScroll.left-curScroll.left+"px"});CodeMirror.on(hints,"dblclick",function(e){var t=getHintElement(hints,e.target||e.srcElement);if(t&&null!=t.hintId){widget.changeActive(t.hintId);widget.pick()}});CodeMirror.on(hints,"click",function(e){var t=getHintElement(hints,e.target||e.srcElement);if(t&&null!=t.hintId){widget.changeActive(t.hintId);if(completion.options.completeOnSingleClick)widget.pick()}});CodeMirror.on(hints,"mousedown",function(){setTimeout(function(){cm.focus()},20)});CodeMirror.signal(data,"select",completions[this.selectedHint],hints.childNodes[this.selectedHint]);return!0}Widget.prototype={close:function(){if(this.completion.widget!=this)return;this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var cm=this.completion.cm;if(this.completion.options.closeOnUnfocus){cm.off("blur",this.onBlur);cm.off("focus",this.onFocus)}cm.off("scroll",this.onScroll)},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var widget=this;this.keyMap={Enter:function(){widget.picked=!0}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,avoidWrap){if(i>=this.data.list.length)i=avoidWrap?this.data.list.length-1:0;else if(0>i)i=avoidWrap?0:this.data.list.length-1;if(this.selectedHint==i)return;var node=this.hints.childNodes[this.selectedHint];if(node)node.className=node.className.replace(" "+ACTIVE_HINT_ELEMENT_CLASS,"");node=this.hints.childNodes[this.selectedHint=i];node.className+=" "+ACTIVE_HINT_ELEMENT_CLASS;if(node.offsetTop<this.hints.scrollTop)this.hints.scrollTop=node.offsetTop-3;else if(node.offsetTop+node.offsetHeight>this.hints.scrollTop+this.hints.clientHeight)this.hints.scrollTop=node.offsetTop+node.offsetHeight-this.hints.clientHeight+3;CodeMirror.signal(this.data,"select",this.data.list[this.selectedHint],node)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}};function applicableHelpers(cm,helpers){if(!cm.somethingSelected())return helpers;for(var result=[],i=0;i<helpers.length;i++)if(helpers[i].supportsSelection)result.push(helpers[i]);return result}function fetchHints(hint,cm,options,callback){if(hint.async){hint(cm,callback,options)}else{var result=hint(cm,options);if(result&&result.then)result.then(callback);else callback(result)}}function resolveAutoHints(cm,pos){var helpers=cm.getHelpers(pos,"hint"),words;if(helpers.length){var resolved=function(cm,callback,options){var app=applicableHelpers(cm,helpers);function run(i){if(i==app.length)return callback(null);fetchHints(app[i],cm,options,function(result){if(result&&0<result.list.length)callback(result);else run(i+1)})}run(0)};resolved.async=!0;resolved.supportsSelection=!0;return resolved}else if(words=cm.getHelper(cm.getCursor(),"hintWords")){return function(cm){return CodeMirror.hint.fromList(cm,{words:words})}}else if(CodeMirror.hint.anyword){return function(cm,options){return CodeMirror.hint.anyword(cm,options)}}else{return function(){}}}CodeMirror.registerHelper("hint","auto",{resolve:resolveAutoHints});CodeMirror.registerHelper("hint","fromList",function(cm,options){var cur=cm.getCursor(),token=cm.getTokenAt(cur),term,from=CodeMirror.Pos(cur.line,token.start),to=cur;if(token.start<cur.ch&&/\w/.test(token.string.charAt(cur.ch-token.start-1))){term=token.string.substr(0,cur.ch-token.start)}else{term="";from=cur}for(var found=[],i=0,word;i<options.words.length;i++){word=options.words[i];if(word.slice(0,term.length)==term)found.push(word)}if(found.length)return{list:found,from:from,to:to}});CodeMirror.commands.autocomplete=CodeMirror.showHint;var defaultOptions={hint:CodeMirror.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};CodeMirror.defineOption("hintOptions",null)});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module)mod(require("../../lib/codemirror"),require("../../mode/css/css"));else if("function"==typeof define&&define.amd)define(["../../lib/codemirror","../../mode/css/css"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var pseudoClasses={link:1,visited:1,active:1,hover:1,focus:1,"first-letter":1,"first-line":1,"first-child":1,before:1,after:1,lang:1};CodeMirror.registerHelper("hint","css",function(cm){var cur=cm.getCursor(),token=cm.getTokenAt(cur),inner=CodeMirror.innerMode(cm.getMode(),token.state);if("css"!=inner.mode.name)return;if("keyword"==token.type&&0=="!important".indexOf(token.string))return{list:["!important"],from:CodeMirror.Pos(cur.line,token.start),to:CodeMirror.Pos(cur.line,token.end)};var start=token.start,end=cur.ch,word=token.string.slice(0,end-start);if(/[^\w$_-]/.test(word)){word="";start=end=cur.ch}var spec=CodeMirror.resolveMode("text/css"),result=[];function add(keywords){for(var name in keywords)if(!word||0==name.lastIndexOf(word,0))result.push(name)}var st=inner.state.state;if("pseudo"==st||"variable-3"==token.type){add(pseudoClasses)}else if("block"==st||"maybeprop"==st){add(spec.propertyKeywords)}else if("prop"==st||"parens"==st||"at"==st||"params"==st){add(spec.valueKeywords);add(spec.colorKeywords)}else if("media"==st||"media_parens"==st){add(spec.mediaTypes);add(spec.mediaFeatures)}if(result.length)return{list:result,from:CodeMirror.Pos(cur.line,start),to:CodeMirror.Pos(cur.line,end)}})});</script><style>body{width:100%;height:100%;background-color:#223;color:white;overflow:hidden;}#container{display:grid;grid-template-columns:15vw auto 15vw 15vw;width:100%;height:calc(100% - 2rem);}#paper{box-sizing:border-box;width:100%;height:100%;overflow:hidden;background-color:#888;}#palette{height:100vh;overflow-y:auto;padding:1em;border-right:1px solid gray;border-top:1px solid gray;}#outline{width:100%;height:50%;width:15vw;border-top:1px solid gray;}#outline div{margin-left:1em;}#attributes{width:100%;height:50%;border:none;border-top:1px solid gray;width:15vw;background-color:#223;color:white;}#marker{display:none;position:absolute;border:1px solid red;z-index:10000;}#element-preview{display:none;position:absolute;background-color:#aad;border:1px solid black;z-index:10000;padding:1em;}.palette-section{height:3em;overflow:hidden;color:#aaa;transition:all 300ms ease-in-out;}.palette-section:hover{color:white;}#text-editor{height:100%;}.CodeMirror{height:100%;}#design-details{height:1rem;}</style></head><body><div id="marker"></div><div id="element-preview"></div><span id="design-details"><a href="https://vaadin.com" style="color:white">Learn more about Vaadin</a> | <span>Design name: <input id="design-name" type="text"> <button id="save-design">Save Design</button> </span><span>Load: <select id="choose-design"></select> </span><span>Export: <select id="choose-export-format"><option disabled="">Choose export format</option><option>Flow</option><option>LitElement</option><option>VanillaJS</option><option disabled="">--------</option><option>Angular</option><option>Preact</option><option>React</option><option>Svelte</option><option disabled="">Vaadin on Kotlin</option><option>Vue</option><option disabled="">--------</option><option>Raw</option></select> <button id="export-design">Export</button> </span><span>Import: <input type="file" id="import-file-input"> <button id="import-file">Import Raw</button></span></span><div id="container"><div id="text-editor"></div><div id="paper">paper</div><div><div id="palette">&nbsp;</div></div><div><div id="outline">outline</div><textarea id="attributes" wrap="soft">attributes</textarea></div></div><script>"use strict";(function(){function a(a,b,c){var d=a;if(d.state=b,d.stateData=c,0<d.onNextStateChange.length){var e=d.onNextStateChange.slice();d.onNextStateChange.length=0;for(var f,g=0,h=e;g<h.length;g++)f=h[g],f()}return d}function b(b){function d(){try{document.head.removeChild(f)}catch(a){}}var e=a(b,"Loading",void 0),f=document.createElement("script");return f.src=b.url,null!==b.crossorigin&&f.setAttribute("crossorigin",b.crossorigin),f.onload=function(){var a,b,f;void 0===r?(b=[],f=void 0):(a=r(),b=a[0],f=a[1]),c(e,b,f),d()},f.onerror=function(){g(b,new TypeError("Failed to fetch "+b.url)),d()},document.head.appendChild(f),e}function c(b,c,e){var f=d(b,c),g=f[0],h=f[1];return a(b,"WaitingForTurn",{args:g,deps:h,moduleBody:e})}function d(a,c){for(var e,f=[],g=[],i=0,j=c;i<j.length;i++){if(e=j[i],"exports"===e){f.push(a.exports);continue}if("require"===e){f.push(function(b,c,e){var f=d(a,b),g=f[0],i=f[1];h(i,function(){c&&c.apply(null,g)},e)});continue}if("meta"===e){f.push({url:!0===a.isTopLevel?a.url.substring(0,a.url.lastIndexOf("#")):a.url});continue}var l=k(n(a.urlBase,e),a.crossorigin);f.push(l.exports),g.push(l),"Initialized"===l.state&&b(l)}return[f,g]}function e(b){var c=a(b,"WaitingOnDeps",b.stateData);return h(b.stateData.deps,function(){return f(c)},function(a){return g(c,a)}),c}function f(b){var c=b.stateData;if(null!=c.moduleBody)try{c.moduleBody.apply(null,c.args)}catch(a){return g(b,a)}return a(b,"Executed",void 0)}function g(b,c){return!0===b.isTopLevel&&setTimeout(function(){throw c}),a(b,"Failed",c)}function h(a,b,c){var d=a.shift();return void 0===d?void(b&&b()):"WaitingOnDeps"===d.state?(!1,void h(a,b,c)):void i(d,function(){h(a,b,c)},c)}function i(a,b,c){switch(a.state){case"WaitingForTurn":return e(a),void i(a,b,c);case"Failed":return void(c&&c(a.stateData));case"Executed":return void b();case"Loading":case"WaitingOnDeps":return void a.onNextStateChange.push(function(){return i(a,b,c)});case"Initialized":throw new Error("All dependencies should be loading already before pressureDependencyToExecute is called.");default:throw new Error("Impossible module state: "+a.state);}}function j(a,b){switch(a.state){case"Executed":case"Failed":return void b();default:a.onNextStateChange.push(function(){return j(a,b)});}}function k(a,b){void 0===b&&(b="anonymous");var c=q[a];return void 0===c&&(c=q[a]={url:a,urlBase:m(a),exports:Object.create(null),state:"Initialized",stateData:void 0,isTopLevel:!1,crossorigin:b,onNextStateChange:[]}),c}function l(a){return v.href=a,v.href}function m(a){return a=a.split("?")[0],a=a.split("#")[0],a.substring(0,a.lastIndexOf("/")+1)}function n(a,b){return-1===b.indexOf("://")?l("/"===b[0]?b:a+b):b}function o(){return document.baseURI||(document.querySelector("base")||window.location).href}function p(){var b=document.currentScript;if(!b)return u;if(window.HTMLImports){var c=window.HTMLImports.importForElement(b);return c?c.href:u}var d=b.ownerDocument.createElement("a");return d.href="",d.href}if(!window.define){var q=Object.create(null),r=void 0,s=0,t=void 0,u=o();window.define=function(a,b){var d=!1;r=function(){return d=!0,r=void 0,[a,b]};var f=p(),g=document.currentScript&&document.currentScript.getAttribute("crossorigin")||"anonymous";setTimeout(function(){if(!1==d){r=void 0;var h=f+"#"+s++,i=k(h,g);i.isTopLevel=!0;var l=c(i,a,b);void 0===t?e(l):j(k(t),function(){e(l)}),t=h}},0)},window.define._reset=function(){for(var a in q)delete q[a];r=void 0,s=0,t=void 0,u=o()};var v=document.createElement("a")}})();</script><script>define(["meta"],function(meta){"use strict";meta=babelHelpers.interopRequireWildcard(meta);var _StringfromCharCode=String.fromCharCode,_Mathround=Math.round,_Mathmax=Math.max,_Mathceil=Math.ceil,_Mathabs=Math.abs,_Mathmin=Math.min,_Mathfloor=Math.floor;let jsImports={"vaadin-notification":"import \"@vaadin/vaadin-notification/theme/lumo/vaadin-notification.js\";","vaadin-checkbox":"import \"@vaadin/vaadin-checkbox/theme/lumo/vaadin-checkbox.js\";","vaadin-checkbox-group":"import \"@vaadin/vaadin-checkbox/theme/lumo/vaadin-checkbox-group.js\";","vaadin-button":"import \"@vaadin/vaadin-button/theme/lumo/vaadin-button.js\";","vaadin-overlay":"import \"@vaadin/vaadin-overlay/theme/lumo/vaadin-overlay\";","vaadin-date-picker":"import \"@vaadin/vaadin-date-picker/theme/lumo/vaadin-date-picker.js\";","vaadin-date-picker-light":"import \"@vaadin/vaadin-date-picker/theme/lumo/vaadin-date-picker-light.js\";","vaadin-infinite-scroller":"import \"@vaadin/vaadin-date-picker/src/vaadin-infinite-scroller.js\";","vaadin-date-picker-overlay":"import \"@vaadin/vaadin-date-picker/src/vaadin-date-picker-overlay.js\";","vaadin-date-picker-overlay-content":"import \"@vaadin/vaadin-date-picker/src/vaadin-date-picker-overlay-content.js\";","vaadin-month-calendar":"import \"@vaadin/vaadin-date-picker/src/vaadin-month-calendar.js\";","vaadin-split-layout":"import \"@vaadin/vaadin-split-layout/theme/lumo/vaadin-split-layout.js\";","observer-component":"import \"@vaadin/vaadin-split-layout/test/observer-component.js\";","vaadin-progress-bar":"import \"@vaadin/vaadin-progress-bar/theme/lumo/vaadin-progress-bar.js\";","vaadin-combo-box-item":"import \"@vaadin/vaadin-combo-box/src/vaadin-combo-box-item.js\";","vaadin-combo-box-light":"import \"@vaadin/vaadin-combo-box/theme/lumo/vaadin-combo-box-light.js\";","vaadin-combo-box-dropdown":"import \"@vaadin/vaadin-combo-box/src/vaadin-combo-box-dropdown.js\";","vaadin-combo-box-dropdown-wrapper":"import \"@vaadin/vaadin-combo-box/src/vaadin-combo-box-dropdown-wrapper.js\";","vaadin-combo-box":"import \"@vaadin/vaadin-combo-box/theme/lumo/vaadin-combo-box.js\";","vaadin-text-field":"import \"@vaadin/vaadin-text-field/theme/lumo/vaadin-text-field.js\";","vaadin-password-field":"import \"@vaadin/vaadin-text-field/theme/lumo/vaadin-password-field.js\";","vaadin-text-area":"import \"@vaadin/vaadin-text-field/theme/lumo/vaadin-text-area.js\";","vaadin-context-menu":"import \"@vaadin/vaadin-context-menu/theme/lumo/vaadin-context-menu.js\";","vaadin-device-detector":"import \"@vaadin/vaadin-context-menu/src/vaadin-device-detector.js\";","vaadin-context-menu-overlay":"import \"@vaadin/vaadin-context-menu/src/vaadin-context-menu-overlay.js\";","vaadin-tabs":"import \"@vaadin/vaadin-tabs/theme/lumo/vaadin-tabs.js\";","vaadin-tab":"import \"@vaadin/vaadin-tabs/theme/lumo/vaadin-tab.js\";","vaadin-item:":"import \"@vaadin/vaadin-item/theme/lumo/vaadin-item.js\";","vaadin-horizontal-layout":"import \"@vaadin/vaadin-ordered-layout/theme/lumo/vaadin-horizontal-layout.js\";","vaadin-vertical-layout":"import \"@vaadin/vaadin-ordered-layout/theme/lumo/vaadin-vertical-layout.js\";","vaadin-form-layout":"import \"@vaadin/vaadin-form-layout/theme/lumo/vaadin-form-layout.js\";","vaadin-form-item":"import \"@vaadin/vaadin-form-layout/theme/lumo/vaadin-form-item.js\";","vaadin-list-box":"import \"@vaadin/vaadin-list-box/theme/lumo/vaadin-list-box.js\";","vaadin-dropdown-menu-overlay":"import \"@vaadin/vaadin-dropdown-menu/src/vaadin-dropdown-menu-overlay.js\";","vaadin-select":"import \"@vaadin/vaadin-select/theme/lumo/vaadin-select.js\";","vaadin-dropdown-menu-text-field":"import \"@vaadin/vaadin-dropdown-menu/src/vaadin-dropdown-menu-text-field.js\";","vaadin-upload-file":"import \"@vaadin/vaadin-upload/src/vaadin-upload-file.js\";","vaadin-upload":"import \"@vaadin/vaadin-upload/theme/lumo/vaadin-upload.js\";","vaadin-dialog":"import \"@vaadin/vaadin-dialog/theme/lumo/vaadin-dialog.js\";","vaadin-radio-group":"import \"@vaadin/vaadin-radio-button/theme/lumo/vaadin-radio-group.js\";","vaadin-radio-button":"import \"@vaadin/vaadin-radio-button/theme/lumo/vaadin-radio-button.js\";","unide-grid":"import \"./unide-grid.js\""},exportToAngular=project=>{let zip=new JSZip,designs=project.designs,keys=Object.keys(designs),litElements=[];for(let i in keys){let key=keys[i];zip.file(key+".component.ts",modelToAngular(key,designs[key].tree))}zip.generateAsync({type:"blob"}).then(content=>{saveAs(content,"angular-designs.zip")})},kebabToPascalCase=str=>{let parts=str.split("-"),result="";for(let i in parts){result=result.concat(parts[i][0].toUpperCase()+parts[i].slice(1))}return result},modelToAngular=(tagName,code)=>{let pascalCaseName=kebabToPascalCase(tagName),importedTags=new Set,stack=[],tree=[],tagTree=[],current=document.createElement("div"),currentTag="",currentClosed=!0,props={},propCount=0,result="";code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":if(!currentClosed){result=result.concat(">\n");currentClosed=!0}let old=current;tree.push(current);tagTree.push(currentTag);currentTag=stack.pop();if(currentTag in jsImports){importedTags.add(currentTag)}current=document.createElement(currentTag);result=result.concat("<"+currentTag);old.appendChild(current);currentClosed=!1;break;case")":if(!currentClosed){result=result.concat(">\n");currentClosed=!0}current=tree.pop();result=result.concat(`</${currentTag}>\n`);currentTag=tagTree.pop();break;case"=":let tos=stack.pop(),nos=stack.pop();if(!nos||!tos){return}if(nos in current&&"style"!==nos){let propName="prop"+propCount;propCount++;props[propName]=tos;result=result.concat(` ${nos}="{{data.${propName}}}"`)}else{result=result.concat(` ${nos}="${tos}"`)}break;default:stack.push(trimmed);}});let importStrings="";importedTags.forEach(tag=>{importStrings=importStrings.concat(`${jsImports[tag]}\n`)});let propString=0<propCount?`data =  ${JSON.stringify(props)}`:"";return`import { Component } from '@angular/core';
          ${importStrings}
          @Component({
            selector: '${tagName}',
            template: \` ${result}\`
          })
          export class ${pascalCaseName} {
            ${propString}
          };`};const getIndexHTML=views=>{let imports="";views.forEach(viewName=>{imports=imports.concat(`import './${viewName}';`)});return`<html>
<head>
    <title>UniDe VanillaJS</title>
    <script src='./node_modules/universal-router/universal-router.js'><\/script>
</head>
<body>
<div id="content"></div>

<script type="module">
${imports}

const routes = [];
${JSON.stringify(views)}.forEach( viewName => {
  routes.push({path: '/' + viewName, action: () => \`<\${viewName}></\${viewName}>\`});
});
const router = new window.UniversalRouter(routes)
window.UniDe = {};
window.UniDe.route = (viewName) => {
    router.resolve('/'+viewName).then(html => {
        document.getElementById('content').innerHTML = html;
    });
};
window.UniDe.route('login-view');
<\/script>
</body>
</html>`};let exportToLitElement=project=>{let zip=new JSZip,designs=project.designs,keys=Object.keys(designs),litElements=[];for(let i in keys){let key=keys[i];zip.file(key+".js",modelToLitElement(key,designs[key].tree))}zip.file("package.json",packageJson);zip.file("index.html",getIndexHTML(keys));zip.generateAsync({type:"blob"}).then(content=>{saveAs(content,"lit-element-designs.zip")})},kebabToPascalCase$1=str=>{let parts=str.split("-"),result="";for(let i in parts){result=result.concat(parts[i][0].toUpperCase()+parts[i].slice(1))}return result},modelToLitElement=(tagName,code)=>{let pascalCaseName=kebabToPascalCase$1(tagName),importedTags=new Set,stack=[],tree=[],tagTree=[],current=document.createElement("div"),currentTag="",currentClosed=!0,result="";code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":if(!currentClosed){result=result.concat(">\n");currentClosed=!0}let old=current;tree.push(current);tagTree.push(currentTag);currentTag=stack.pop();if(currentTag in jsImports){importedTags.add(currentTag)}current=document.createElement(currentTag);result=result.concat("<"+currentTag);old.appendChild(current);currentClosed=!1;break;case")":if(!currentClosed){result=result.concat(">\n");currentClosed=!0}current=tree.pop();result=result.concat(`</${currentTag}>\n`);currentTag=tagTree.pop();break;case"=":let tos=stack.pop(),nos=stack.pop();if(!nos||!tos){return}if("targetRoute"==nos){result=result.concat(`  @click = \${event => {
              window.UniDe.route("${tos}");
            }}\n`)}else if(nos in current){try{let json=JSON.parse(tos);current[nos]=json;result=result.concat(` .${nos}=\${${tos}}`)}catch(e){current[nos]=tos;result=result.concat(` .${nos}=\$\{"${tos}"\}`)}}else{result=result.concat(` ${nos}="${tos}"`);current.setAttribute(nos,tos)}break;default:stack.push(trimmed);}});let importStrings="";importedTags.forEach(tag=>{importStrings=importStrings.concat(`${jsImports[tag]}\n`)});return prettier.format(`import { LitElement, html } from 'lit-element';
    ${importStrings}
    class ${pascalCaseName} extends LitElement {
      render() {
        return html\`${result}\`;
      }
    }
    customElements.define("${tagName}", ${pascalCaseName});`,{parser:"babel",plugins:prettierPlugins})};const packageJson=`{
  "name": "vanilla",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \\"Error: no test specified\\" && exit 1"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "universal-router": "^8.1.0",
    "@vaadin/vaadin-core": "^13.0.1",
    "@vaadin/vaadin-grid": "^5.3.3",
    "@vaadin/vaadin-tabs": "^2.1.2",
    "lit-element": "^2.0.1"
  }
}`;let flowImports={a:{name:"Anchor",import:"import com.vaadin.flow.component.html.Anchor;"},article:{name:"Article",import:"import com.vaadin.flow.component.html.Article;"},aside:{name:"Aside",import:"import com.vaadin.flow.component.html.Aside;"},div:{name:"Div",import:"import com.vaadin.flow.component.html.Div;"},emp:{name:"Emphasis",import:"import com.vaadin.flow.component.html.Emphasis;"},footer:{name:"Footer",import:"import com.vaadin.flow.component.html.Footer;"},h1:{name:"H1",import:"import com.vaadin.flow.component.html.H1;"},h2:{name:"H2",import:"import com.vaadin.flow.component.html.H2;"},h3:{name:"H3",import:"import com.vaadin.flow.component.html.H3;"},h4:{name:"H4",import:"import com.vaadin.flow.component.html.H4;"},h5:{name:"H5",import:"import com.vaadin.flow.component.html.H5;"},h6:{name:"H6",import:"import com.vaadin.flow.component.html.H6;"},header:{name:"Header",import:"import com.vaadin.flow.component.html.Header;"},hr:{name:"Hr",import:"import com.vaadin.flow.component.html.Hr;"},image:{name:"Image",import:"import com.vaadin.flow.component.html.Image;"},input:{name:"Input",import:"import com.vaadin.flow.component.html.Input;"},label:{name:"Label",import:"import com.vaadin.flow.component.html.Label;"},li:{name:"ListItem",import:"import com.vaadin.flow.component.html.ListItem;"},main:{name:"Main",import:"import com.vaadin.flow.component.html.Main;"},button:{name:"NativeButton",import:"import com.vaadin.flow.component.html.NativeButton;"},nav:{name:"Nav",import:"import com.vaadin.flow.component.html.Nav;"},ol:{name:"OrderedList",import:"import com.vaadin.flow.component.html.OrderedList;"},p:{name:"Paragraph",import:"import com.vaadin.flow.component.html.Paragraph;"},section:{name:"Section",import:"import com.vaadin.flow.component.html.Section;"},span:{name:"Span",import:"import com.vaadin.flow.component.html.Span;"},ul:{name:"UnorderedList",import:"import com.vaadin.flow.component.html.UnorderedList;"},"vaadin-notification":{name:"Notification",import:"import com.vaadin.flow.component.notification.Notification;"},"vaadin-checkbox":{name:"Checkbox",import:"import com.vaadin.flow.component.checkbox.CheckBox;"},"vaadin-checkbox-group":{name:"CheckboxGroup",import:"import com.vaadin.flow.component.checkbox.CheckBoxGroup;"},"vaadin-radio-group":{name:"RadioButtonGroup",import:"import com.vaadin.flow.component.radiobutton.RadioButtonGroup;"},"vaadin-radio-button":{name:"RadioButton",import:"import com.vaadin.flow.component.radiobutton.RadioButton;"},"vaadin-button":{name:"Button",import:"import com.vaadin.flow.component.button.Button;"},"vaadin-date-picker":{name:"DatePicker",import:"import com.vaadin.flow.component.datepicker.DatePicker;"},"vaadin-split-layout":{name:"SplitLayout",import:"import com.vaadin.flow.component.splitlayout.SplitLayout;"},"vaadin-progress-bar":{name:"VaadinProgressBar",import:"import /node_modules/@vaadin/vaadin-progress-bar/theme/lumo/vaadin-progress-bar.js;"},"vaadin-combo-box":{name:"ComboBox",import:"import com.vaadin.flow.component.combobox.ComboBox;"},"vaadin-text-field":{name:"TextField",import:"import com.vaadin.flow.component.textfield.TextField;"},"vaadin-password-field":{name:"PasswordField",import:"import com.vaadin.flow.component.textfield.PasswordField;"},"vaadin-text-area":{name:"TextArea",import:"import com.vaadin.flow.component.textfield.TextArea;"},"vaadin-context-menu":{name:"ContextMenu",import:"import com.vaadin.flow.component.contextmenu.ContextMenu;"},"vaadin-tabs":{name:"Tabs",import:"import com.vaadin.flow.component.tabs.Tabs;"},"vaadin-tab":{name:"Tab",import:"import com.vaadin.flow.component.tabs.Tab;"},"vaadin-item":{name:"MenuItem",import:"import com.vaadin.flow.component.contextmenu.MenuItem;"},"vaadin-horizontal-layout":{name:"HorizontalLayout",import:"com.vaadin.flow.component.orderedlayout.HorizontalLayout;"},"vaadin-vertical-layout":{name:"VerticalLayout",import:"com.vaadin.flow.component.orderedlayout.VerticalLayout;"},"vaadin-form-layout":{name:"FormLayout",import:"import com.vaadin.flow.component.formlayout.FormLayout;"},"vaadin-form-item":{name:"FormItem",import:"import import com.vaadin.flow.component.formlayout.FormLayout.FormItem;"},"unide-grid":{name:"Grid",import:"import com.vaadin.flow.component.grid.Grid;"},"vaadin-list-box":{name:"VaadinListBox",import:"import /node_modules/@vaadin/vaadin-list-box/theme/lumo/vaadin-list-box.js;"},"vaadin-select":{name:"Select",import:"import /node_modules/@vaadin/vaadin-dropdown-menu/theme/lumo/vaadin-dropdown-menu.js;"},"vaadin-upload-file":{name:"VaadinUploadFile",import:"import /node_modules/@vaadin/vaadin-upload/src/vaadin-upload-file.js;"},"vaadin-upload":{name:"Upload",import:"import com.vaadin.flow.component.upload.Upload;"},"vaadin-dialog":{name:"Dialog",import:"import com.vaadin.flow.component.dialog.Dialog;"}},kebabToPascalCase$2=str=>{let parts=str.split("-"),result="";for(let i in parts){result=result.concat(parts[i][0].toUpperCase()+parts[i].slice(1))}return result},exportToFlow=project=>{let zip=new JSZip,designs=project.designs,keys=Object.keys(designs),litElements=[];for(let i in keys){let key=keys[i],pascalCaseName=kebabToPascalCase$2(key);zip.file("src/main/java/unide/app/"+pascalCaseName+".java",modelToFlow$1(pascalCaseName,designs[key].tree))}zip.file("pom.xml",pomXML);zip.file("src/main/webapp/frontend/css/shared-styles.html",sharedStyles);zip.generateAsync({type:"blob"}).then(content=>{saveAs(content,"flow-designs.zip")})},modelToFlow$1=(pascalCaseName,code)=>{let importedTags=new Set,internalClasses="",stack=[],tree=[],tagTree=[],variableCount=0,variableStack=[],current=document.createElement("div"),currentTag="",currentVar="this";importedTags.add("div");let result="";code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":currentTag=stack.pop();let elementClass=flowImports[currentTag]?flowImports[currentTag].name:kebabToPascalCase$2(currentTag),old=current;tree.push(current);current=document.createElement(currentTag);old.appendChild(current);let newVar="el"+variableCount;variableCount++;if("unide-grid"===currentTag){result+=`${elementClass}<${pascalCaseName}GridType> ${newVar} = new ${elementClass}<>();
          ${currentVar}.add(${newVar});\n`}else{result+=`${elementClass} ${newVar} = new ${elementClass}();
          ${currentVar}.add(${newVar});\n`}variableStack.push(currentVar);currentVar=newVar;if(currentTag in flowImports){importedTags.add(currentTag)}break;case")":current=tree.pop();currentVar=variableStack.pop();break;case"=":let tos=stack.pop(),nos=stack.pop();if(!nos||!tos){return}if("unide-grid"===currentTag){if("items"===nos){let obj=JSON.parse(tos),gridItems=` ArrayList<${pascalCaseName}GridType> items = new ArrayList<>();
                              ${pascalCaseName}GridType item;\n`;obj.forEach(values=>{let item=`item = new ${pascalCaseName}GridType();\n`;Object.keys(values).forEach(key=>{item=item.concat(`item.set${key}("${values[key]}");`)});item=item.concat(`items.add(item);`);gridItems=gridItems.concat(item)});result=result.concat(gridItems).concat(`${currentVar}.setItems(items);\n`);return}else if("columnCaptions"===nos){let obj=JSON.parse(tos),methods="",fields="",creation="";obj.forEach(pair=>{creation=creation.concat(`${currentVar}.addColumn(${pascalCaseName}GridType::get${pair.path}).setHeader("${pair.name}");\n`);fields=fields.concat(`private String ${pair.path};\n`);methods=methods.concat(`public String get${pair.path}() {
                  return this.${pair.path};
              }
              public void set${pair.path}(String value) {
                this.${pair.path}=value;
              }
                `)});internalClasses=internalClasses+`public static class ${pascalCaseName}GridType {
              ${fields}
              ${methods}
            }`;result=result.concat(creation);return}}if("targetRoute"===nos){result=result.concat(`${currentVar}.getElement().addEventListener("click", e-> {
              ${currentVar}.getUI().ifPresent(ui -> ui.navigate("${kebabToPascalCase$2(tos)}"));
       });`)}else if(nos in current){try{let json=JSON.parse(tos);if("textContent"===nos){result=result.concat(`${currentVar}.getElement().setText("${tos}");\n`)}else{result=result.concat(`${currentVar}.getElement().setProperty("${nos}","${tos.replace(/\"/g,"'")}");\n`)}}catch(e){if("textContent"===nos){result=result.concat(`${currentVar}.getElement().setText("${tos}");\n`)}else{result=result.concat(`${currentVar}.getElement().setProperty("${nos}","${tos}");\n`)}}}else{result=result.concat(`${currentVar}.getElement().setAttribute("${nos}","${tos}");\n`)}break;default:stack.push(trimmed);}});let importStrings="";importedTags.forEach(tag=>{importStrings=importStrings.concat(`${flowImports[tag].import}\n`)});return`package unide.app;
  ${importStrings}
  import java.util.ArrayList;
  import com.vaadin.flow.component.dependency.HtmlImport;
  import com.vaadin.flow.router.PageTitle;
  import com.vaadin.flow.router.Route;
  @Route("${pascalCaseName}")
  @HtmlImport("css/shared-styles.html")
  public class ${pascalCaseName} extends Div {
    ${internalClasses}
    public ${pascalCaseName}() {
          ${result}
      }
    }
  `},pomXML=`<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>unide.app</groupId>
    <artifactId>app</artifactId>
    <name>Project base for Vaadin Flow</name>
    <version>1.0-SNAPSHOT</version>
    <packaging>war</packaging>

    <properties>
        <maven.compiler.source>1.8</maven.compiler.source>
        <maven.compiler.target>1.8</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <failOnMissingWebXml>false</failOnMissingWebXml>
        
        <vaadin.version>13.0.1</vaadin.version>
    </properties>

    <repositories>
        \x3c!-- Repository used by many Vaadin add-ons --\x3e
        <repository>
                         <id>Vaadin Directory</id>
            <url>http://maven.vaadin.com/vaadin-addons</url>
        </repository>
    </repositories>

    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>com.vaadin</groupId>
                <artifactId>vaadin-bom</artifactId>
                <type>pom</type>
                <scope>import</scope>
                <version>\${vaadin.version}</version>
            </dependency>
        </dependencies>
    </dependencyManagement>

    <dependencies>
        <dependency>
            <groupId>com.vaadin</groupId>
            <artifactId>vaadin-core</artifactId>
        </dependency>

        \x3c!-- Added to provide logging output as Flow uses --\x3e
        \x3c!-- the unbound SLF4J no-operation (NOP) logger implementation --\x3e
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-simple</artifactId>
        </dependency>

        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>javax.servlet-api</artifactId>
            <version>3.1.0</version>
            <scope>provided</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            \x3c!-- Jetty plugin for easy testing without a server --\x3e
            <plugin>
                <groupId>org.eclipse.jetty</groupId>
                <artifactId>jetty-maven-plugin</artifactId>
                <version>9.4.11.v20180605</version>
                <configuration>
                    <scanIntervalSeconds>1</scanIntervalSeconds>
                </configuration>
            </plugin>
        </plugins>
    </build>

    <profiles>
        <profile>
            \x3c!-- Production mode can be activated with either property or profile --\x3e
            <id>production-mode</id>
            <activation>
                <property>
                    <name>vaadin.productionMode</name>
                </property>
            </activation>
            <properties>
                <vaadin.productionMode>true</vaadin.productionMode>
            </properties>

            <dependencies>
                <dependency>
                    <groupId>com.vaadin</groupId>
                    <artifactId>flow-server-production-mode</artifactId>
                </dependency>
            </dependencies>

            <build>
                <plugins>
                    <plugin>
                        <groupId>com.vaadin</groupId>
                        <artifactId>vaadin-maven-plugin</artifactId>
                        <version>\${vaadin.version}</version>
                        <executions>
                            <execution>
                                <goals>
                                    <goal>copy-production-files</goal>
                                    <goal>package-for-production</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
    </profiles>
</project>
`;const sharedStyles=`\x3c!-- The shared-styles.html is used instead of shared-styles.css so that
-- the styles are also used for browsers that do not support CSS Custom Properties
-- (mainly to support IE11)
-- for more information see: https://cdn.vaadin.com/vaadin-lumo-styles/1.3.1/demo/compatibility.html
--\x3e
\x3c!-- Remember to import custom-style, which is included in the Polymer package --\x3e
<link rel="import"
    href="../bower_components/polymer/lib/elements/custom-style.html">

<custom-style>
  <style>
      /* The CSS magic goes here */
  </style>
</custom-style>
`;let exportToPreact=project=>{let zip=new JSZip,designs=project.designs,keys=Object.keys(designs),litElements=[];for(let i in keys){let key=keys[i];zip.file(key+".js",modelToPreact(key,designs[key].tree))}zip.generateAsync({type:"blob"}).then(content=>{saveAs(content,"preact-designs.zip")})},kebabToPascalCase$3=str=>{let parts=str.split("-"),result="";for(let i in parts){result=result.concat(parts[i][0].toUpperCase()+parts[i].slice(1))}return result},modelToPreact=(tagName,code)=>{let pascalCaseName=kebabToPascalCase$3(tagName),importedTags=new Set,stack=[],tree=[],tagTree=[],current=document.createElement("div"),currentTag="",currentClosed=!0,result=`import { h, render, Component } from 'preact';
     /** @jsx h */
     class ${pascalCaseName} extends Component {
       render() {\``;code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":if(!currentClosed){result=result.concat(">\n");currentClosed=!0}let old=current;tree.push(current);tagTree.push(currentTag);currentTag=stack.pop();if(currentTag in jsImports){importedTags.add(currentTag)}current=document.createElement(currentTag);result=result.concat("<"+currentTag);old.appendChild(current);currentClosed=!1;break;case")":if(!currentClosed){result=result.concat(">\n");currentClosed=!0}current=tree.pop();result=result.concat(`</${currentTag}>\n`);currentTag=tagTree.pop();break;case"=":let tos=stack.pop(),nos=stack.pop();if(!nos||!tos){return}result=result.concat(` ${nos}="${tos}"`);current.setAttribute(nos,tos);break;default:stack.push(trimmed);}});let importStrings="";importedTags.forEach(tag=>{importStrings=importStrings.concat(`${jsImports[tag]}\n`)});return`${importStrings}
          ${result}\`
      }
    }
  `},kebabToPascalCase$4=str=>{let parts=str.split("-"),result="";for(let i in parts){result=result.concat(parts[i][0].toUpperCase()+parts[i].slice(1))}return result},exportToReact=project=>{let zip=new JSZip,designs=project.designs,keys=Object.keys(designs);for(let i in keys){let key=keys[i];zip.file(kebabToPascalCase$4(key)+".js",modelToReact(key,designs[key].tree))}zip.generateAsync({type:"blob"}).then(content=>{saveAs(content,"react-designs.zip")})},modelToReact=(tagName,code)=>{let pascalCaseName=kebabToPascalCase$4(tagName),importedTags=new Set,stack=[],tree=[],tagTree=[],current=document.createElement("div"),currentTag="",currentClosed=!0,result="";code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":if(!currentClosed){result=result.concat(">\n");currentClosed=!0}let old=current;tree.push(current);tagTree.push(currentTag);currentTag=stack.pop();if(currentTag in jsImports){importedTags.add(currentTag)}current=document.createElement(currentTag);result=result.concat("<"+currentTag);old.appendChild(current);currentClosed=!1;break;case")":if(!currentClosed){result=result.concat(">\n");currentClosed=!0}current=tree.pop();result=result.concat(`</${currentTag}>\n`);currentTag=tagTree.pop();break;case"=":let tos=stack.pop(),nos=stack.pop();if(!nos||!tos){return}if(nos in current){current[nos]=tos;if("style"===nos){result=result.concat(` ${nos}={{${tos.replace(/;/g,"\",").replace(/-([a-z])/g,function(g){return g[1].toUpperCase()}).replace(/:/g,":\"").concat("\"")}}}`)}else{result=result.concat(` ${nos}="${tos}"`)}}else{result=result.concat(` ${nos}="${tos}"`);current.setAttribute(nos,tos)}break;default:stack.push(trimmed);}});let importStrings="";importedTags.forEach(tag=>{importStrings=importStrings.concat(`${jsImports[tag]}\n`)});return` 
  import React from 'react';
  ${importStrings}
  function  ${pascalCaseName}() {
    return ${result};
  }        
  export default ${pascalCaseName};`},exportToRaw=designs=>{const json=JSON.stringify(designs);saveAs(new Blob([json],{type:"text/plain;charset=utf-8"}),"raw-designs.json")},kebabToPascalCase$5=str=>{let parts=str.split("-"),result="";for(let i in parts){result=result.concat(parts[i][0].toUpperCase()+parts[i].slice(1))}return result},exportToSvelte=project=>{let zip=new JSZip,designs=project.designs,keys=Object.keys(designs),litElements=[];for(let i in keys){let key=keys[i];zip.file(kebabToPascalCase$5(key)+".svelte",modelToSvelte(key,designs[key].tree))}zip.generateAsync({type:"blob"}).then(content=>{saveAs(content,"svelte-designs.zip")})},modelToSvelte=(tagName,code)=>{let pascalCaseName=kebabToPascalCase$5(tagName),importedTags=new Set,stack=[],tree=[],tagTree=[],current=document.createElement("div"),currentTag="",currentClosed=!0,hasTextContent=!1,textContent="",props={},propCount=0,result="";code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":if(!currentClosed){result=result.concat(`>${hasTextContent?textContent:""}\n`);currentClosed=!0}let old=current;tree.push(current);tagTree.push(currentTag);currentTag=stack.pop();if(currentTag in jsImports){importedTags.add(currentTag)}current=document.createElement(currentTag);result=result.concat("<"+currentTag);old.appendChild(current);hasTextContent=!1;currentClosed=!1;break;case")":if(!currentClosed){result=result.concat(`>${hasTextContent?textContent:""}\n`);currentClosed=!0}current=tree.pop();result=result.concat(`</${currentTag}>\n`);currentTag=tagTree.pop();break;case"=":let tos=stack.pop(),nos=stack.pop();if(!nos||!tos){return}if(nos in current){if("textContent"===nos){hasTextContent=!0;textContent=tos}else{let propName="prop"+propCount;propCount++;props[propName]=tos;result=result.concat(` ${nos}={${propName}}`)}}else{result=result.concat(` ${nos}="${tos}"`)}break;default:stack.push(trimmed);}});let importStrings="";importedTags.forEach(tag=>{importStrings=importStrings.concat(`${jsImports[tag]}\n`)});let propString=0<propCount?`export default { data: () => {return ${JSON.stringify(props)};}}`:"";return` 
  ${result}
  <script>
  ${importStrings}
  ${propString}
  <\/script>`},exportToVanilla=project=>{let zip=new JSZip,designs=project.designs,keys=Object.keys(designs),litElements=[];for(let i in keys){let key=keys[i];zip.file(key+".js",modelToVanilla(key,designs[key].tree))}zip.file("package.json",packageJson$1);zip.file("index.html",getIndexHTML(keys));zip.generateAsync({type:"blob"}).then(content=>{saveAs(content,"js-designs.zip")})},kebabToPascalCase$6=str=>{let parts=str.split("-"),result="";for(let i in parts){result=result.concat(parts[i][0].toUpperCase()+parts[i].slice(1))}return result},modelToVanilla=(tagName,code)=>{let pascalCaseName=kebabToPascalCase$6(tagName),importedTags=new Set,stack=[],tree=[],tagTree=[],current=document.createElement("div"),currentTag="",currentClosed=!0,varCount=0,currentVar="this",varStack=[],elementStack=[],currentElement="this",result="";code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":let old=current;tree.push(current);tagTree.push(currentTag);currentTag=stack.pop();if(currentTag in jsImports){importedTags.add(currentTag)}current=document.createElement(currentTag);varStack.push(currentVar);let newVar="el"+varCount;varCount++;result=result.concat(`const ${newVar} = document.createElement("${currentTag}");
          ${currentVar}.appendChild(${newVar});\n`);old.appendChild(current);currentVar=newVar;break;case")":currentVar=varStack.pop();current=tree.pop();currentTag=tagTree.pop();break;case"=":let tos=stack.pop(),nos=stack.pop();if(!nos||!tos){return}if("targetRoute"==nos){result=result.concat(` ${currentVar}.onclick = event => {window.UniDe.route("${tos}")};\n`)}else if(nos in current){try{let json=JSON.parse(tos);result=result.concat(` ${currentVar}["${nos}"]=${tos};\n`)}catch(e){result=result.concat(` ${currentVar}["${nos}"]="${tos}";\n`)}}else{result=result.concat(`${currentVar}.setAttribute("${nos}","${tos}");\n`)}break;default:stack.push(trimmed);}});let importStrings="";importedTags.forEach(tag=>{importStrings=importStrings.concat(`${jsImports[tag]}\n`)});return prettier.format(`${importStrings}
   class ${pascalCaseName} extends HTMLElement {
    constructor() {
      super();
        ${result}
      }
    }
    customElements.define("${tagName}", ${pascalCaseName});
  `,{parser:"babylon",plugins:prettierPlugins})};const packageJson$1=`{
  "name": "vanilla",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \\"Error: no test specified\\" && exit 1"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "universal-router": "^8.1.0",
    "@vaadin/vaadin-core": "^13.0.1",
    "@vaadin/vaadin-grid": "^5.3.3",
    "@vaadin/vaadin-tabs": "^2.1.2"
  }
}`;let exportToVoK=project=>{let zip=new JSZip,designs=project.designs,keys=Object.keys(designs),litElements=[];for(let i in keys){let key=keys[i];zip.file(key+".kt",modelToFlow(key,designs[key].tree))}zip.generateAsync({type:"blob"}).then(content=>{saveAs(content,"vaadin-on-kotlin-designs.zip")})},kebabToPascalCase$7=str=>{let parts=str.split("-"),result="";for(let i in parts){result=result.concat(parts[i][0].toUpperCase()+parts[i].slice(1))}return result},modelToVoK=(tagName,code)=>{let pascalCaseName=kebabToPascalCase$7(tagName),importedTags=new Set;importedTags.add("div");let stack=[],tree=[],tagTree=[],variableCount=0,variableStack=[],current=document.createElement("div"),currentTag="",currentVar="this",result=`class ${pascalCaseName} extends Div {
       public ${pascalCaseName}() {\``;code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":currentTag=stack.pop();let elementClass=flowImports[currentTag]?flowImports[currentTag].name:kebabToPascalCase$7(currentTag),old=current;tree.push(current);current=document.createElement(currentTag);old.appendChild(current);let newVar="el"+variableCount;variableCount++;result+=`${elementClass} ${newVar} = new ${elementClass}();
        ${currentVar}.addComponent(${newVar});\n`;variableStack.push(currentVar);currentVar=newVar;if(currentTag in flowImports){importedTags.add(currentTag)}break;case")":current=tree.pop();currentVar=variableStack.pop();break;case"=":let tos=stack.pop(),nos=stack.pop();if(!nos||!tos){return}if(nos in current){try{let json=JSON.parse(tos);current[nos]=json;result=result.concat(`${currentVar}.setProperty("${nos}","${tos}");\n`)}catch(e){current[nos]=tos;result=result.concat(`${currentVar}.setProperty("${nos}","${tos}");\n`)}}else{result=result.concat(`${currentVar}.setAttribute("${nos}","${tos}");\n`)}break;default:stack.push(trimmed);}});let importStrings="";importedTags.forEach(tag=>{importStrings=importStrings.concat(`${flowImports[tag].import}\n`)});return`${importStrings}
          ${result}\`
      }
    }
  `},kebabToPascalCase$8=str=>{let parts=str.split("-"),result="";for(let i in parts){result=result.concat(parts[i][0].toUpperCase()+parts[i].slice(1))}return result},exportToVue=project=>{let zip=new JSZip,designs=project.designs,keys=Object.keys(designs),litElements=[];for(let i in keys){let key=keys[i];zip.file(kebabToPascalCase$8(key)+".vue",modelToVue(key,designs[key].tree))}zip.generateAsync({type:"blob"}).then(content=>{saveAs(content,"vue-designs.zip")})},modelToVue=(tagName,code)=>{let pascalCaseName=kebabToPascalCase$8(tagName),importedTags=new Set,stack=[],tree=[],tagTree=[],current=document.createElement("div"),currentTag="",currentClosed=!0,hasTextContent=!1,textContent="",props={},propCount=0,result="";code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":if(!currentClosed){result=result.concat(`>${hasTextContent?textContent:""}\n`);currentClosed=!0}let old=current;tree.push(current);tagTree.push(currentTag);currentTag=stack.pop();if(currentTag in jsImports){importedTags.add(currentTag)}current=document.createElement(currentTag);result=result.concat("<"+currentTag);old.appendChild(current);hasTextContent=!1;currentClosed=!1;break;case")":if(!currentClosed){result=result.concat(`>${hasTextContent?textContent:""}\n`);currentClosed=!0}current=tree.pop();result=result.concat(`</${currentTag}>\n`);currentTag=tagTree.pop();break;case"=":let tos=stack.pop(),nos=stack.pop();if(!nos||!tos){return}if(nos in current&&"style"!==nos){if("textContent"===nos){hasTextContent=!0;textContent=tos}else{let propName="prop"+propCount;propCount++;props[propName]=tos;result=result.concat(` :${nos}.prop={${propName}}`)}}else{result=result.concat(` ${nos}="${tos}"`)}break;default:stack.push(trimmed);}});let importStrings="";importedTags.forEach(tag=>{importStrings=importStrings.concat(`${jsImports[tag]}\n`)});let propString=0<propCount?`,data: () => {return ${JSON.stringify(props)}}`:"";return` 
  <template>
  ${result}
  </template>
  <script>
  ${importStrings}
  export default {
    name: '${pascalCaseName}'
    ${propString}
  }
  <\/script>`};class Lumo extends HTMLElement{static get version(){return"1.4.1"}}customElements.define("vaadin-lumo-styles",Lumo);"use strict";let readyPromise=null,whenReady=window.HTMLImports&&window.HTMLImports.whenReady||null,resolveFn;function documentWait(callback){requestAnimationFrame(function(){if(whenReady){whenReady(callback)}else{if(!readyPromise){readyPromise=new Promise(resolve=>{resolveFn=resolve});if("complete"===document.readyState){resolveFn()}else{document.addEventListener("readystatechange",()=>{if("complete"===document.readyState){resolveFn()}})}}readyPromise.then(function(){callback&&callback()})}})}"use strict";let CustomStyleProvider;const SEEN_MARKER="__seenByShadyCSS",CACHED_STYLE="__shadyCSSCachedStyle";let transformFn=null,validateFn=null;class CustomStyleInterface{constructor(){this.customStyles=[];this.enqueued=!1;documentWait(()=>{if(window.ShadyCSS.flushCustomStyles){window.ShadyCSS.flushCustomStyles()}})}enqueueDocumentValidation(){if(this.enqueued||!validateFn){return}this.enqueued=!0;documentWait(validateFn)}addCustomStyle(style){if(!style[SEEN_MARKER]){style[SEEN_MARKER]=!0;this.customStyles.push(style);this.enqueueDocumentValidation()}}getStyleForCustomStyle(customStyle){if(customStyle[CACHED_STYLE]){return customStyle[CACHED_STYLE]}let style;if(customStyle.getStyle){style=customStyle.getStyle()}else{style=customStyle}return style}processStyles(){const cs=this.customStyles;for(let i=0;i<cs.length;i++){const customStyle=cs[i];if(customStyle[CACHED_STYLE]){continue}const style=this.getStyleForCustomStyle(customStyle);if(style){const styleToTransform=style.__appliedElement||style;if(transformFn){transformFn(styleToTransform)}customStyle[CACHED_STYLE]=styleToTransform}}return cs}}CustomStyleInterface.prototype.addCustomStyle=CustomStyleInterface.prototype.addCustomStyle;CustomStyleInterface.prototype.getStyleForCustomStyle=CustomStyleInterface.prototype.getStyleForCustomStyle;CustomStyleInterface.prototype.processStyles=CustomStyleInterface.prototype.processStyles;Object.defineProperties(CustomStyleInterface.prototype,{transformCallback:{get(){return transformFn},set(fn){transformFn=fn}},validateCallback:{get(){return validateFn},set(fn){let needsEnqueue=!1;if(!validateFn){needsEnqueue=!0}validateFn=fn;if(needsEnqueue){this.enqueueDocumentValidation()}}}});const CustomStyleInterfaceInterface={},VAR_ASSIGN=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,MIXIN_MATCH=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED=/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH=/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH=/@media\s(.*)/,IS_VAR=/^--/,BRACKETED=/\{[^}]*\}/g,HOST_PREFIX="(?:^|[^.#[:])",HOST_SUFFIX="($|[.:[\\s>+~])";"use strict";function updateNativeProperties(element,properties){for(let p in properties){if(null===p){element.style.removeProperty(p)}else{element.style.setProperty(p,properties[p])}}}function getComputedStyleValue(element,property){const value=window.getComputedStyle(element).getPropertyValue(property);if(!value){return""}else{return value.trim()}}function detectMixin(cssText){const has=MIXIN_MATCH.test(cssText)||VAR_ASSIGN.test(cssText);MIXIN_MATCH.lastIndex=0;VAR_ASSIGN.lastIndex=0;return has}"use strict";const nativeShadow=!(window.ShadyDOM&&window.ShadyDOM.inUse);let nativeCssVariables_;function calcCssVariables(settings){if(settings&&settings.shimcssproperties){nativeCssVariables_=!1}else{nativeCssVariables_=nativeShadow||!!(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)"))}}let cssBuild;if(window.ShadyCSS&&window.ShadyCSS.cssBuild!==void 0){cssBuild=window.ShadyCSS.cssBuild}const disableRuntime=!!(window.ShadyCSS&&window.ShadyCSS.disableRuntime);if(window.ShadyCSS&&window.ShadyCSS.nativeCss!==void 0){nativeCssVariables_=window.ShadyCSS.nativeCss}else if(window.ShadyCSS){calcCssVariables(window.ShadyCSS);window.ShadyCSS=void 0}else{calcCssVariables(window.WebComponents&&window.WebComponents.flags)}const nativeCssVariables=nativeCssVariables_;"use strict";const customStyleInterface=new CustomStyleInterface;if(!window.ShadyCSS){window.ShadyCSS={prepareTemplate(template,elementName,elementExtends){},prepareTemplateDom(template,elementName){},prepareTemplateStyles(template,elementName,elementExtends){},styleSubtree(element,properties){customStyleInterface.processStyles();updateNativeProperties(element,properties)},styleElement(element){customStyleInterface.processStyles()},styleDocument(properties){customStyleInterface.processStyles();updateNativeProperties(document.body,properties)},getComputedStyleValue(element,property){return getComputedStyleValue(element,property)},flushCustomStyles(){},nativeCss:nativeCssVariables,nativeShadow:nativeShadow,cssBuild:cssBuild,disableRuntime:disableRuntime}}window.ShadyCSS.CustomStyleInterface=customStyleInterface;window.JSCompiler_renameProperty=function(prop,obj){return prop};let CSS_URL_RX=/(url\()([^)]*)(\))/g,ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/,workingURL,resolveDoc;function resolveUrl(url,baseURI){if(url&&ABS_URL.test(url)){return url}if(workingURL===void 0){workingURL=!1;try{const u=new URL("b","http://a");u.pathname="c%20d";workingURL="http://a/c%20d"===u.href}catch(e){}}if(!baseURI){baseURI=document.baseURI||window.location.href}if(workingURL){return new URL(url,baseURI).href}if(!resolveDoc){resolveDoc=document.implementation.createHTMLDocument("temp");resolveDoc.base=resolveDoc.createElement("base");resolveDoc.head.appendChild(resolveDoc.base);resolveDoc.anchor=resolveDoc.createElement("a");resolveDoc.body.appendChild(resolveDoc.anchor)}resolveDoc.base.href=baseURI;resolveDoc.anchor.href=url;return resolveDoc.anchor.href||url}function resolveCss(cssText,baseURI){return cssText.replace(CSS_URL_RX,function(m,pre,url,post){return pre+"'"+resolveUrl(url.replace(/["']/g,""),baseURI)+"'"+post})}function pathFromUrl(url){return url.substring(0,url.lastIndexOf("/")+1)}const useShadow=!window.ShadyDOM,useNativeCSSProperties=!!(!window.ShadyCSS||window.ShadyCSS.nativeCss),useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback;let rootPath=void 0||pathFromUrl(document.baseURI||window.location.href);const setRootPath=function(path){rootPath=path};let sanitizeDOMValue=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;const setSanitizeDOMValue=function(newSanitizeDOMValue){sanitizeDOMValue=newSanitizeDOMValue};let passiveTouchGestures=!1;const setPassiveTouchGestures=function(usePassive){passiveTouchGestures=usePassive};let strictTemplatePolicy=!1;const setStrictTemplatePolicy=function(useStrictPolicy){strictTemplatePolicy=useStrictPolicy};let allowTemplateFromDomModule=!1;const setAllowTemplateFromDomModule=function(allowDomModule){allowTemplateFromDomModule=allowDomModule};let modules={},lcModules={};function setModule(id,module){modules[id]=lcModules[id.toLowerCase()]=module}function findModule(id){return modules[id]||lcModules[id.toLowerCase()]}function styleOutsideTemplateCheck(inst){if(inst.querySelector("style")){console.warn("dom-module %s has style outside template",inst.id)}}class DomModule extends HTMLElement{static get observedAttributes(){return["id"]}static import(id,selector){if(id){let m=findModule(id);if(m&&selector){return m.querySelector(selector)}return m}return null}attributeChangedCallback(name,old,value,namespace){if(old!==value){this.register()}}get assetpath(){if(!this.__assetpath){const owner=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,url=resolveUrl(this.getAttribute("assetpath")||"",owner.baseURI);this.__assetpath=pathFromUrl(url)}return this.__assetpath}register(id){id=id||this.id;if(id){if(strictTemplatePolicy&&findModule(id)!==void 0){setModule(id,null);throw new Error(`strictTemplatePolicy: dom-module ${id} re-registered`)}this.id=id;setModule(id,this);styleOutsideTemplateCheck(this)}}}DomModule.prototype.modules=modules;customElements.define("dom-module",DomModule);const MODULE_STYLE_LINK_SELECTOR="link[rel=import][type~=css]",INCLUDE_ATTR="include",SHADY_UNSCOPED_ATTR="shady-unscoped";function importModule(moduleId){return DomModule.import(moduleId)}function styleForImport(importDoc){let container=importDoc.body?importDoc.body:importDoc;const importCss=resolveCss(container.textContent,importDoc.baseURI),style=document.createElement("style");style.textContent=importCss;return style}let templateWithAssetPath;function stylesFromModules(moduleIds){const modules=moduleIds.trim().split(/\s+/),styles=[];for(let i=0;i<modules.length;i++){styles.push(...stylesFromModule(modules[i]))}return styles}function stylesFromModule(moduleId){const m=importModule(moduleId);if(!m){console.warn("Could not find style data in module named",moduleId);return[]}if(m._styles===void 0){const styles=[..._stylesFromModuleImports(m)],template=m.querySelector("template");if(template){styles.push(...stylesFromTemplate(template,m.assetpath))}m._styles=styles}return m._styles}function stylesFromTemplate(template,baseURI){if(!template._styles){const styles=[],e$=template.content.querySelectorAll("style");for(let i=0;i<e$.length;i++){let e=e$[i],include=e.getAttribute(INCLUDE_ATTR);if(include){styles.push(...stylesFromModules(include).filter(function(item,index,self){return self.indexOf(item)===index}))}if(baseURI){e.textContent=resolveCss(e.textContent,baseURI)}styles.push(e)}template._styles=styles}return template._styles}function stylesFromModuleImports(moduleId){let m=importModule(moduleId);return m?_stylesFromModuleImports(m):[]}function _stylesFromModuleImports(module){const styles=[],p$=module.querySelectorAll(MODULE_STYLE_LINK_SELECTOR);for(let i=0,p;i<p$.length;i++){p=p$[i];if(p.import){const importDoc=p.import,unscoped=p.hasAttribute(SHADY_UNSCOPED_ATTR);if(unscoped&&!importDoc._unscopedStyle){const style=styleForImport(importDoc);style.setAttribute(SHADY_UNSCOPED_ATTR,"");importDoc._unscopedStyle=style}else if(!importDoc._style){importDoc._style=styleForImport(importDoc)}styles.push(unscoped?importDoc._unscopedStyle:importDoc._style)}}return styles}function cssFromModules(moduleIds){let modules=moduleIds.trim().split(/\s+/),cssText="";for(let i=0;i<modules.length;i++){cssText+=cssFromModule(modules[i])}return cssText}function cssFromModule(moduleId){let m=importModule(moduleId);if(m&&m._cssText===void 0){let cssText=_cssFromModuleImports(m),t=m.querySelector("template");if(t){cssText+=cssFromTemplate(t,m.assetpath)}m._cssText=cssText||null}if(!m){console.warn("Could not find style data in module named",moduleId)}return m&&m._cssText||""}function cssFromTemplate(template,baseURI){let cssText="";const e$=stylesFromTemplate(template,baseURI);for(let i=0,e;i<e$.length;i++){e=e$[i];if(e.parentNode){e.parentNode.removeChild(e)}cssText+=e.textContent}return cssText}function cssFromModuleImports(moduleId){let m=importModule(moduleId);return m?_cssFromModuleImports(m):""}function _cssFromModuleImports(module){let cssText="",styles=_stylesFromModuleImports(module);for(let i=0;i<styles.length;i++){cssText+=styles[i].textContent}return cssText}const attr="include",CustomStyleInterface$1=window.ShadyCSS.CustomStyleInterface;class CustomStyle extends HTMLElement{constructor(){super();this._style=null;CustomStyleInterface$1.addCustomStyle(this)}getStyle(){if(this._style){return this._style}const style=this.querySelector("style");if(!style){return null}this._style=style;const include=style.getAttribute(attr);if(include){style.removeAttribute(attr);style.textContent=cssFromModules(include)+style.textContent}if(this.ownerDocument!==window.document){window.document.head.appendChild(this)}return this._style}}window.customElements.define("custom-style",CustomStyle);const $_documentContainer=document.createElement("template");$_documentContainer.innerHTML=`<custom-style>
  <style>
    html {
      /* Base (background) */
      --lumo-base-color: #FFF;

      /* Tint */
      --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);
      --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);
      --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);
      --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);
      --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);
      --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);
      --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);
      --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);
      --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);
      --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);
      --lumo-tint: #FFF;

      /* Shade */
      --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);
      --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);
      --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);
      --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);
      --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);
      --lumo-shade-50pct: hsla(214, 45%, 20%, 0.5);
      --lumo-shade-60pct: hsla(214, 43%, 19%, 0.61);
      --lumo-shade-70pct: hsla(214, 42%, 18%, 0.72);
      --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);
      --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);
      --lumo-shade: hsl(214, 35%, 15%);

      /* Contrast */
      --lumo-contrast-5pct: var(--lumo-shade-5pct);
      --lumo-contrast-10pct: var(--lumo-shade-10pct);
      --lumo-contrast-20pct: var(--lumo-shade-20pct);
      --lumo-contrast-30pct: var(--lumo-shade-30pct);
      --lumo-contrast-40pct: var(--lumo-shade-40pct);
      --lumo-contrast-50pct: var(--lumo-shade-50pct);
      --lumo-contrast-60pct: var(--lumo-shade-60pct);
      --lumo-contrast-70pct: var(--lumo-shade-70pct);
      --lumo-contrast-80pct: var(--lumo-shade-80pct);
      --lumo-contrast-90pct: var(--lumo-shade-90pct);
      --lumo-contrast: var(--lumo-shade);

      /* Text */
      --lumo-header-text-color: var(--lumo-contrast);
      --lumo-body-text-color: var(--lumo-contrast-90pct);
      --lumo-secondary-text-color: var(--lumo-contrast-70pct);
      --lumo-tertiary-text-color: var(--lumo-contrast-50pct);
      --lumo-disabled-text-color: var(--lumo-contrast-30pct);

      /* Primary */
      --lumo-primary-color: hsl(214, 90%, 52%);
      --lumo-primary-color-50pct: hsla(214, 90%, 52%, 0.5);
      --lumo-primary-color-10pct: hsla(214, 90%, 52%, 0.1);
      --lumo-primary-text-color: var(--lumo-primary-color);
      --lumo-primary-contrast-color: #FFF;

      /* Error */
      --lumo-error-color: hsl(3, 100%, 61%);
      --lumo-error-color-50pct: hsla(3, 100%, 60%, 0.5);
      --lumo-error-color-10pct: hsla(3, 100%, 60%, 0.1);
      --lumo-error-text-color: hsl(3, 92%, 53%);
      --lumo-error-contrast-color: #FFF;

      /* Success */
      --lumo-success-color: hsl(145, 80%, 42%); /* hsl(144,82%,37%); */
      --lumo-success-color-50pct: hsla(145, 76%, 44%, 0.55);
      --lumo-success-color-10pct: hsla(145, 76%, 44%, 0.12);
      --lumo-success-text-color: hsl(145, 100%, 32%);
      --lumo-success-contrast-color: #FFF;
    }
  </style>
</custom-style><dom-module id="lumo-color">
  <template>
    <style>
      [theme~="dark"] {
        /* Base (background) */
        --lumo-base-color: hsl(214, 35%, 21%);

        /* Tint */
        --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);
        --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);
        --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);
        --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);
        --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);
        --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);
        --lumo-tint-60pct: hsla(214, 82%, 90%, 0.6);
        --lumo-tint-70pct: hsla(214, 87%, 92%, 0.7);
        --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);
        --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);
        --lumo-tint: hsl(214, 100%, 98%);

        /* Shade */
        --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);
        --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);
        --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);
        --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);
        --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);
        --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);
        --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);
        --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);
        --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);
        --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);
        --lumo-shade: hsl(214, 33%, 13%);

        /* Contrast */
        --lumo-contrast-5pct: var(--lumo-tint-5pct);
        --lumo-contrast-10pct: var(--lumo-tint-10pct);
        --lumo-contrast-20pct: var(--lumo-tint-20pct);
        --lumo-contrast-30pct: var(--lumo-tint-30pct);
        --lumo-contrast-40pct: var(--lumo-tint-40pct);
        --lumo-contrast-50pct: var(--lumo-tint-50pct);
        --lumo-contrast-60pct: var(--lumo-tint-60pct);
        --lumo-contrast-70pct: var(--lumo-tint-70pct);
        --lumo-contrast-80pct: var(--lumo-tint-80pct);
        --lumo-contrast-90pct: var(--lumo-tint-90pct);
        --lumo-contrast: var(--lumo-tint);

        /* Text */
        --lumo-header-text-color: var(--lumo-contrast);
        --lumo-body-text-color: var(--lumo-contrast-90pct);
        --lumo-secondary-text-color: var(--lumo-contrast-70pct);
        --lumo-tertiary-text-color: var(--lumo-contrast-50pct);
        --lumo-disabled-text-color: var(--lumo-contrast-30pct);

        /* Primary */
        --lumo-primary-color: hsl(214, 86%, 55%);
        --lumo-primary-color-50pct: hsla(214, 86%, 55%, 0.5);
        --lumo-primary-color-10pct: hsla(214, 90%, 63%, 0.1);
        --lumo-primary-text-color: hsl(214, 100%, 70%);
        --lumo-primary-contrast-color: #FFF;

        /* Error */
        --lumo-error-color: hsl(3, 90%, 63%);
        --lumo-error-color-50pct: hsla(3, 90%, 63%, 0.5);
        --lumo-error-color-10pct: hsla(3, 90%, 63%, 0.1);
        --lumo-error-text-color: hsl(3, 100%, 67%);

        /* Success */
        --lumo-success-color: hsl(145, 65%, 42%);
        --lumo-success-color-50pct: hsla(145, 65%, 42%, 0.5);
        --lumo-success-color-10pct: hsla(145, 65%, 42%, 0.1);
        --lumo-success-text-color: hsl(145, 85%, 47%);
      }

      html {
        color: var(--lumo-body-text-color);
        background-color: var(--lumo-base-color);
      }

      [theme~="dark"] {
        color: var(--lumo-body-text-color);
        background-color: var(--lumo-base-color);
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        color: var(--lumo-header-text-color);
      }

      a {
        color: var(--lumo-primary-text-color);
      }

      blockquote {
        color: var(--lumo-secondary-text-color);
      }

      code,
      pre {
        background-color: var(--lumo-contrast-10pct);
        border-radius: var(--lumo-border-radius-m);
      }
    </style>
  </template>
</dom-module><dom-module id="lumo-color-legacy">
  <template>
    <style include="lumo-color">
      :host {
        color: var(--lumo-body-text-color) !important;
        background-color: var(--lumo-base-color) !important;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer.content);;const $_documentContainer$1=document.createElement("template");$_documentContainer$1.innerHTML=`<custom-style>
  <style>
    html {
      /* Square */
      --lumo-space-xs: 0.25rem;
      --lumo-space-s: 0.5rem;
      --lumo-space-m: 1rem;
      --lumo-space-l: 1.5rem;
      --lumo-space-xl: 2.5rem;

      /* Wide */
      --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);
      --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);
      --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);
      --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);
      --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);

      /* Tall */
      --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);
      --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);
      --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);
      --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);
      --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);
    }
  </style>
</custom-style>`;document.head.appendChild($_documentContainer$1.content);const $_documentContainer$2=document.createElement("template");$_documentContainer$2.innerHTML=`<custom-style>
  <style>
    @font-face {
      font-family: 'lumo-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABEgAAsAAAAAIiwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAIUuKY21hcAAAAYgAAAD4AAADrsCU8d5nbHlmAAACgAAAC2MAABd4h9To2WhlYWQAAA3kAAAAMQAAADYSnCkuaGhlYQAADhgAAAAdAAAAJAbpA35obXR4AAAOOAAAABAAAACspBAAAGxvY2EAAA5IAAAAWAAAAFh55IAsbWF4cAAADqAAAAAfAAAAIAFKAXBuYW1lAAAOwAAAATEAAAIuUUJZCHBvc3QAAA/0AAABKwAAAelm8SzVeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS+yDiBgZWBgamKaQ8DA0MPhGZ8wGDIyAQUZWBlZsAKAtJcUxgcXjG+0mIO+p/FEMUcxDANKMwIkgMABn8MLQB4nO3SWW6DMABF0UtwCEnIPM/zhLK8LqhfXRybSP14XUYtHV9hGYQwQBNIo3cUIPkhQeM7rib1ekqnXg981XuC1qvy84lzojleh3puxL0hPjGjRU473teloEefAUNGjJkwZcacBUtWrNmwZceeA0dOnLlw5cadB09elPGhGf+j0NTI/65KfXerT6JhqKnpRKtgOpuqaTrtKjPUlqHmhto21I7pL6i6hlqY3q7qGWrfUAeGOjTUkaGODXViqFNDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUB+G+jTUl6GWRvkL24BkEXictVh9bFvVFb/nxvbz+7Rf/N6zHcd2bCfP+Wgc1Z9N0jpNnEL6kbRVS6HA2hQYGh9TGR1CbCqa2rXrWOkQE/sHNJgmtZvoVNZqE1B1DNHxzTQxCehUTYiJTQyENui0qSLezr3PduyQfgmRWOfde8+9551z7rnn/O4jLoJ/bRP0UaKQMLFJjpBAvphLZC3Dk0ok7WBzR2/upJs7Ryw/nfFbln/uuN/apCvwrKLrSvUqRufbm5pn0fs0w4gYxnGVP6qHnO4bWiDQGQgwtS6lm3lB3QoX1M2vwEmuzirF39y+Es2+DJ8d1pkyqBIqoze3D1+Zz4DrFoazxI8dWwMrDlZ2DMqQAR9AROsJU+2cmlTPazTco52F1xTa2a2+K8vvq92dVHmtLoPeQX/AZPRYGthDYOeZjBjKoFsVGulR3lWU95WeCK44qHU7MhWUGUKZDT3oKUcG2GWuh+EDDfUYA/jhAhl0TOsJNYSEu7mQmi3UzfXwZKA4BsVsHLXQYGgRW95uEtpJ1Vfn9XiLriRBlFEqxsDjA09yCNUoQxxwd7KWSTt2y3GTKiflqHRSoWZc3m11Wa/fJdFgXD4sSYfleJBKd8GMz7J8dZn/cGRCcKGDnA2Ge3fKzcvlnTDNthGWLXzX/WaXtUAmRgeLlHSr30r0G9UTXMb0AtmwzOoy73fkSlHZkduw/TYuU9cAD4YutPoxTTsA3797wVr4Z/1NC5zARHr4vtxJjxIfiZMhMkbWk+14BnJZKwqGZwDfswLyxWDSg11rFLJF7Nopxjd1h1/QOT+oezgfu3Yq+Hk+duf5x+40o1GTkaIgikK/IEnC6aYxCUBaZJSN4XTYFjU/YMNIKqJwhDGOCCI8FDXnXmXjtGhGJyShqjAOnBOkW2JG9S7GgYeMWAU5JzhnWmBOaOM+CKEPoqSfFDC2Unq+DLlUgUVUFFLZGJg6jtlojsdsa8kPObPuJdi5dnBdBsLJMGTWDa4t2JvtwuPo9s+Y86suv/W33QG1rAaOAUV+vx4K6f2D04PVKlC7WLSrZzAi45ZV6lIC7WoXqmRyvUqoVwrzUoVsIjeTXWQv+RH5GTlBXiB/In8ln0IbBCAFOajAJrgZYyOHWqOfUe/aHjI12R6OQo1jCgt215l+4f6XPb+0MNou0V+43n2F77tSfRb24d7zitgnKmvYHs69zugaPvBwv6ioXkb2LdL65Atw51uLkXlu1bhMMRcXSPcYoqKIRlh34lQP8/5JbuUFye4vxD6/6MxFF11C0uVLr9Ulgw44tS3pMViNLUExbycFgLIct+QDMibRimx1ydUz8FXZiuOIDBOMVX2nUZc+huNE5XUJ81uiJoiabwqaVF0uacKbau/pl4R2VW0XXlJra6boVrYG646TF5NYzwy4vjENVrDlcNpZPl8DH6XX8XWCx0mvWVZY6KFLrvsY66/zPict5FnxaNUR/juvZCM3TvD60E2W1tZizbXTPDuabcm0nbbzpWKpmA1ayBQ8giedLUM+A0kNjBjQjmuYz7YrgIXYvmF63ZLBwSXrpn9Tb9wwdd/U1H0PMQK3XcO8ul3WT7PyPPdpy0TemKxNRcJNauiXJnnUDpUppQWs4SnUIy0EESGYqJYQLGHxzaGWwVIaS6Y7mQFM8ZjYDQ3axjf61SWjU33JwOZA1pwaG1L9mzf71aHRdX1JHw6Fp0aXhNwbqyeGNg4NbdzGCBxoz4ZXjy4Nu69Zr6sDY6vMrLU5nA1P8JkbdWXJ6ERfMryvNh1JfQ9+T4dIhGvK9w3dxjBBzatsQ/MlOHVIDnYpDz6odAXlQ01t2Pa5Iafd8MMpxAeDKP0C6CjgVLT5osB6icUx01lWjXxzT/GyRF2welEM5Z/7jG3VjQ1SrNn5IbyzOG5dobB3/QHxyZvsXcoz8IoEwS7plCg+zxHQk424q9BfEpkESJbFHQusDBSWFkuBkoPO0kLKwRVYjxGXlHTcTDQMJ/H6TX9afkO7mnraTO1feTnZAXLu4cp7HAXMmNG1yeFk9TgS/NHhZR/4QoBTr/ZB+6hCgyl15Nq1UbN6nE1/ZnP1U2cizCBpvs8cJQZJ4LkYx5N/yZPAUZNQQ0V4f3BQllWrK3YRzl30dOT6RVn2upNur6woSa8CqpdT/aKnBM4o3jNur9d9xqtUT6veBEt9Ca9at+ERzEEhUkR8sa5mQ4aVvJoVeEA8zI4ei5mULXFGyU7z/6TAeYLVcpzSWZY8PYYF5yrTV60sT0+XV141vX++Wf16V2bFeGVPZXxFpkvyeKTWLlzfW0mnKxsY6Y3294/0998SCfX1blm5pbcvFGlq/r07MRAMhYIDiW5JFKWW3vdrEpCsZSJG+om7Zu/PSScZJhNkLbmW5Wsr12pWqW5zKtlwRS4bFOxUw17mCzy6lskCDl1WYOGWDYrADrMA7BDDweWWNd5koiJnR1dz+ytLP2q0SqPB1lnK2ccB7RYe4FSoPks3iB3t4txTSHctb2sy1ivk0pvHuCNm6w1f6wxv3+OCgN78LqdQnUVh7R0oTAp0zOf2rbW770Vu5C2dIyGdTnHo8zSji7dppj0USoVCz+lhRMTh53Teq9VbGfbjuSbAooSdXayY4PYHg374C6f7gl1B/DXuJ4/QXxOBdJFJspFsI3egpoWUUCjlTIFnNYNl+ZyZKmBeYKGHkD1QyDlhaKbKwKcIJqJ4TLJ2OmdY/JWXae4DdGBw8HZ7eXcgFF2zr2SoalDry5iKqoa0Puhe3hPQ2s3elTYM+MI+n3rK0KgL7/La3GeMLt6m7u912vGnvtORiIa0qBmhqVi+XW9XNBmqb8eVgKzIHfGI5bNoG7X0UCzeISmqIcO/nY8FH7U8avX9fx/ST+hx0sezPw9Qy8Mum3GWf2N4Uy/yIYGVBXbJHWIZp7dfTcptdMTr9Qmq7DaiK/ukqCL4kt4RUfS5XPnMtmT22/mQFqF7emSqtrlu8SVElxDRJrZODkpuwe0VfTfjdEp1f7A7v+fozNBXUJ/6WTuK2TtFlpFVZAZ3LcFvUi1Z2p2YT+EMAkGJVStOzLTAPg4IqWIAlzRSjOBkl2zxj3TKycpzT/MnvX3uaSMWM+gU0rkXjohhefVRMaps3/kLMSKv23lT23uxQrkQjyOJleMDsdhAnD6ZGElWZ5MjCXzCE/hkWX+WF4knzGhVOyK2eQZekV3eyo0zL8kuYWCnDCvjjhAkcTPOBDXVdoav3HVcFnQjLvtV9S2p0zA6JegPwMQxt+yFb3ll9zGlq/5dRKb3cEyQYoaNYpharJ7xCB7AWxsLY3jjZXY0XsZj0Wjwc9I6PP/dKABnCZaqHpaZEACxk4ZeLZSKNgZABl+lYQX1sJQOSX3n6r410evcoud5JeAGUXVP9H1tZOKejTq4Ono0z0erro1FrnOpohva1d/hTdtVsQdKN5W9RlT3NjD0nznyKNTgKAMfWNWcyodV0IGLPIHOF0o4JyqufaK4z6WIIzuGh3d8c8cwQg8ER+OVxyrjdm8vNuhts4LoOihGxIMuUdgzwiYN7xhh1+oZnJNuTG7gQZvu4XWZ9GAZZjGEubwePqYhtKDTH+9VQkl17/iGybsnJ+8+sKtyPrcll9ty65Zsdst/9iqpEKh7M5VdBxh3csOdNc6tW3I1uyM1PzOXegSOrLFsFNI2O27M+TF2ApnN9MUv5ud6LjxIvEQnHRzxIu4IsA9MLFkJn2tcZoZ7ON7dXe7ujrc8HrusPKamlqXwd77lQUuLpilau4PUMapueBb7irU4RoUXEYXuVuIGlRGmOp+2lNkaRPVziOqmlaZvaqG4dFgSj0jxEJWrv12IUWntmw+rfQarRE0Aph4ocI6nlUlGqs+u3/+T/ethW62PpHp2eHbZstnh/wOO95yDAHicY2BkYGAAYi2NOJ94fpuvDNzML4AiDNc/fzqEoP+/Zp7KdAvI5WBgAokCAGkcDfgAAAB4nGNgZGBgDvqfBSRfMAAB81QGRgZUoA0AVvYDbwAAAHicY2BgYGB+MTQwAM8EJo8AAAAAAE4AmgDoAQoBLAFOAXABmgHEAe4CGgKcAugEmgS8BNYE8gUOBSoFegXQBf4GRAZmBrYHGAeQCBgIUghqCP4JRgm+CdoKBAo8CoIKuArwC1ALlgu8eJxjYGRgYNBmTGEQZQABJiDmAkIGhv9gPgMAGJQBvAB4nG2RPU7DMBiG3/QP0UoIBGJh8QILavozdmRo9w7d09RpUzlx5LgVvQMn4BAcgoEzcAgOwVvzSZVQbcnf48fvFysJgGt8IcJxROiG9TgauODuj5ukG+EW+UG4jR4ehTv0Q+EunjER7uEWmk+IWpc0d3gVbuAKb8JN+nfhFvlDuI17fAp36L+Fu1jgR7iHp+jF7Arbz1Nb1nO93pnEncSJFtrVuS3VKB6e5EyX2iVer9TyoOr9eux9pjJnCzW1pdfGWFU5u9WpjzfeV5PBIBMfp7aAwQ4FLPrIkbKWqDHn+67pDRK4s4lzbsEux5qHvcIIMb/nueSMyTKkE3jWFdNLHLjW2PPmMa1Hxn3GjGW/wjT0HtOG09JU4WxLk9LH2ISuiv9twJn9y8fh9uIXI+BknAAAAHicbY7ZboMwEEW5CVBCSLrv+76kfJRjTwHFsdGAG+Xvy5JUfehIHp0rnxmNN/D6ir3/a4YBhvARIMQOIowQY4wEE0yxiz3s4wCHOMIxTnCKM5zjApe4wjVucIs73OMBj3jCM17wije84wMzfHqJ0EVmUkmmJo77oOmrHvfIRZbXsTCZplTZldlgb3TYGVHProwFs11t1A57tcON2rErR3PBqcwF1/6ctI6k0GSU4JHMSS6WghdJQ99sTbfuN7QLJ9vQ37dNrgyktnIxlDYLJNuqitpRbYWKFNuyDT6pog6oOYKHtKakeakqKjHXpPwlGRcsC+OqxLIiJpXqoqqDMreG2l5bv9Ri3TRX+c23DZna9WFFgmXuO6Ps1Jm/w6ErW8N3FbHn/QC444j0AA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }

    html {
      --lumo-icons-align-center: "\\ea01";
      --lumo-icons-align-left: "\\ea02";
      --lumo-icons-align-right: "\\ea03";
      --lumo-icons-angle-down: "\\ea04";
      --lumo-icons-angle-left: "\\ea05";
      --lumo-icons-angle-right: "\\ea06";
      --lumo-icons-angle-up: "\\ea07";
      --lumo-icons-arrow-down: "\\ea08";
      --lumo-icons-arrow-left: "\\ea09";
      --lumo-icons-arrow-right: "\\ea0a";
      --lumo-icons-arrow-up: "\\ea0b";
      --lumo-icons-bar-chart: "\\ea0c";
      --lumo-icons-bell: "\\ea0d";
      --lumo-icons-calendar: "\\ea0e";
      --lumo-icons-checkmark: "\\ea0f";
      --lumo-icons-chevron-down: "\\ea10";
      --lumo-icons-chevron-left: "\\ea11";
      --lumo-icons-chevron-right: "\\ea12";
      --lumo-icons-chevron-up: "\\ea13";
      --lumo-icons-clock: "\\ea14";
      --lumo-icons-cog: "\\ea15";
      --lumo-icons-cross: "\\ea16";
      --lumo-icons-download: "\\ea17";
      --lumo-icons-dropdown: "\\ea18";
      --lumo-icons-edit: "\\ea19";
      --lumo-icons-error: "\\ea1a";
      --lumo-icons-eye: "\\ea1b";
      --lumo-icons-eye-disabled: "\\ea1c";
      --lumo-icons-menu: "\\ea1d";
      --lumo-icons-minus: "\\ea1e";
      --lumo-icons-ordered-list: "\\ea1f";
      --lumo-icons-phone: "\\ea20";
      --lumo-icons-photo: "\\ea21";
      --lumo-icons-play: "\\ea22";
      --lumo-icons-plus: "\\ea23";
      --lumo-icons-redo: "\\ea24";
      --lumo-icons-reload: "\\ea25";
      --lumo-icons-search: "\\ea26";
      --lumo-icons-undo: "\\ea27";
      --lumo-icons-unordered-list: "\\ea28";
      --lumo-icons-upload: "\\ea29";
      --lumo-icons-user: "\\ea2a";
    }
  </style>
</custom-style>`;document.head.appendChild($_documentContainer$2.content);;const $_documentContainer$3=document.createElement("template");$_documentContainer$3.innerHTML=`<custom-style>
  <style>
    html {
      --lumo-size-xs: 1.625rem;
      --lumo-size-s: 1.875rem;
      --lumo-size-m: 2.25rem;
      --lumo-size-l: 2.75rem;
      --lumo-size-xl: 3.5rem;

      /* Icons */
      --lumo-icon-size-s: 1.25em;
      --lumo-icon-size-m: 1.5em;
      --lumo-icon-size-l: 2.25em;
      /* For backwards compatibility */
      --lumo-icon-size: var(--lumo-icon-size-m);
    }
  </style>
</custom-style>`;document.head.appendChild($_documentContainer$3.content);const $_documentContainer$4=document.createElement("template");$_documentContainer$4.innerHTML=`<custom-style>
  <style>
    html {
      /* Border radius */
      --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */
      --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */
      --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */
      --lumo-border-radius: 0.25em; /* Deprecated */

      /* Shadow */
      --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);
      --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);
      --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);
      --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);
      --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);

      /* Clickable element cursor */
      --lumo-clickable-cursor: default;
    }
  </style>
</custom-style>`;document.head.appendChild($_documentContainer$4.content);const $_documentContainer$5=document.createElement("template");$_documentContainer$5.innerHTML=`<custom-style>
  <style>
    html {
      /* Font families */
      --lumo-font-family: -apple-system, BlinkMacSystemFont, "Roboto", "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";

      /* Font sizes */
      --lumo-font-size-xxs: .75rem;
      --lumo-font-size-xs: .8125rem;
      --lumo-font-size-s: .875rem;
      --lumo-font-size-m: 1rem;
      --lumo-font-size-l: 1.125rem;
      --lumo-font-size-xl: 1.375rem;
      --lumo-font-size-xxl: 1.75rem;
      --lumo-font-size-xxxl: 2.5rem;

      /* Line heights */
      --lumo-line-height-xs: 1.25;
      --lumo-line-height-s: 1.375;
      --lumo-line-height-m: 1.625;
    }

  </style>
</custom-style><dom-module id="lumo-typography">
  <template>
    <style>
      html {
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size, var(--lumo-font-size-m));
        line-height: var(--lumo-line-height-m);
        -webkit-text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* Cant combine with the above selector because that doesnt work in browsers without native shadow dom */
      :host {
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size, var(--lumo-font-size-m));
        line-height: var(--lumo-line-height-m);
        -webkit-text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      small,
      [theme~="font-size-s"] {
        font-size: var(--lumo-font-size-s);
        line-height: var(--lumo-line-height-s);
      }

      [theme~="font-size-xs"] {
        font-size: var(--lumo-font-size-xs);
        line-height: var(--lumo-line-height-xs);
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-weight: 600;
        line-height: var(--lumo-line-height-xs);
        margin-top: 1.25em;
      }

      h1 {
        font-size: var(--lumo-font-size-xxxl);
        margin-bottom: 0.75em;
      }

      h2 {
        font-size: var(--lumo-font-size-xxl);
        margin-bottom: 0.5em;
      }

      h3 {
        font-size: var(--lumo-font-size-xl);
        margin-bottom: 0.5em;
      }

      h4 {
        font-size: var(--lumo-font-size-l);
        margin-bottom: 0.5em;
      }

      h5 {
        font-size: var(--lumo-font-size-m);
        margin-bottom: 0.25em;
      }

      h6 {
        font-size: var(--lumo-font-size-xs);
        margin-bottom: 0;
        text-transform: uppercase;
        letter-spacing: 0.03em;
      }

      p,
      blockquote {
        margin-top: 0.5em;
        margin-bottom: 0.75em;
      }

      a {
        text-decoration: none;
      }

      a:hover {
        text-decoration: underline;
      }

      hr {
        display: block;
        align-self: stretch;
        height: 1px;
        border: 0;
        padding: 0;
        margin: var(--lumo-space-s) calc(var(--lumo-border-radius-m) / 2);
        background-color: var(--lumo-contrast-10pct);
      }

      blockquote {
        border-left: 2px solid var(--lumo-contrast-30pct);
      }

      b,
      strong {
        font-weight: 600;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$5.content);class LiteralString{constructor(string){this.value=string.toString()}toString(){return this.value}}function literalValue(value){if(value instanceof LiteralString){return value.value}else{throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${value}`)}}function htmlValue(value){if(value instanceof HTMLTemplateElement){return value.innerHTML}else if(value instanceof LiteralString){return literalValue(value)}else{throw new Error(`non-template value passed to Polymer's html function: ${value}`)}}const html=function html(strings,...values){const template=document.createElement("template");template.innerHTML=values.reduce((acc,v,idx)=>acc+htmlValue(v)+strings[idx+1],strings[0]);return template},htmlLiteral=function(strings,...values){return new LiteralString(values.reduce((acc,v,idx)=>acc+literalValue(v)+strings[idx+1],strings[0]))},$_documentContainer$6=html`<dom-module id="lumo-details" theme-for="vaadin-details">
  <template>
    <style>
      :host {
        margin: var(--lumo-space-xs) 0;
        outline: none;
      }

      [part="summary"] {
        display: flex;
        align-items: center;
        width: 100%;
        outline: none;
        padding: var(--lumo-space-s) 0;
        box-sizing: border-box;
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        font-weight: 500;
        line-height: var(--lumo-line-height-xs);
        color: var(--lumo-secondary-text-color);
        background-color: inherit;
        border-radius: var(--lumo-border-radius-m);
        cursor: default;
        -webkit-tap-highlight-color: transparent;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      :host([focus-ring]) [part="summary"] {
        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      [part="toggle"] {
        display: block;
        width: 1em;
        height: 1em;
        margin-left: calc(var(--lumo-space-xs) * -1);
        margin-right: var(--lumo-space-xs);
        font-size: var(--lumo-icon-size-s);
        line-height: 1;
        color: var(--lumo-contrast-60pct);
        font-family: "lumo-icons";
      }

      :host([disabled]) [part="summary"],
      :host([disabled]) [part="toggle"] {
        color: var(--lumo-disabled-text-color);
      }

      @media (hover: hover) {
        :host(:not([disabled])) [part="summary"]:hover,
        :host(:not([disabled])) [part="summary"]:hover [part="toggle"] {
          color: var(--lumo-contrast-80pct);
        }
      }

      [part="toggle"]::before {
        content: var(--lumo-icons-angle-right);
      }

      :host([opened]) [part="toggle"] {
        transform: rotate(90deg);
      }

      [part="content"] {
        padding: var(--lumo-space-xs) 0 var(--lumo-space-s);
        font-size: var(--lumo-font-size-m);
        line-height: var(--lumo-line-height-m);
      }

      :host([theme~="filled"]) {
        background-color: var(--lumo-contrast-5pct);
        border-radius: var(--lumo-border-radius-m);
      }

      :host([theme~="filled"]) [part="summary"] {
        padding: var(--lumo-space-s) calc(var(--lumo-space-s) + var(--lumo-space-xs) / 2);
      }

      :host([theme~="filled"]) [part="content"] {
        padding-left: var(--lumo-space-m);
        padding-right: var(--lumo-space-m);
      }

      :host([theme~="small"]) [part="summary"] {
        padding-top: var(--lumo-space-xs);
        padding-bottom: var(--lumo-space-xs);
      }

      :host([theme~="small"]) [part="toggle"] {
        margin-right: calc(var(--lumo-space-xs) / 2);
      }

      :host([theme~="small"]) [part\$="content"] {
        font-size: var(--lumo-font-size-s);
      }

      :host([theme~="reverse"]) [part="summary"] {
        justify-content: space-between;
      }

      :host([theme~="reverse"]) [part="toggle"] {
        order: 1;
        margin-right: 0;
      }

      :host([theme~="reverse"][theme~="filled"]) [part="summary"] {
        padding-left: var(--lumo-space-m);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$6.content);const $_documentContainer$7=html`<dom-module id="lumo-accordion-panel" theme-for="vaadin-accordion-panel">
  <template>
    <style include="lumo-details">
      :host {
        margin: 0;
        border-bottom: solid 1px var(--lumo-contrast-10pct);
      }

      :host(:last-child) {
        border-bottom: none;
      }

      :host([theme~="filled"]) {
        border-bottom: none;
      }

      :host([theme~="filled"]:not(:last-child)) {
        margin-bottom: 2px;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$7.content);let dedupeId=0;function MixinFunction(){}MixinFunction.prototype.__mixinApplications;MixinFunction.prototype.__mixinSet;const dedupingMixin=function(mixin){let mixinApplications=mixin.__mixinApplications;if(!mixinApplications){mixinApplications=new WeakMap;mixin.__mixinApplications=mixinApplications}let mixinDedupeId=dedupeId++;function dedupingMixin(base){let baseSet=base.__mixinSet;if(baseSet&&baseSet[mixinDedupeId]){return base}let map=mixinApplications,extended=map.get(base);if(!extended){extended=mixin(base);map.set(base,extended)}let mixinSet=Object.create(extended.__mixinSet||baseSet||null);mixinSet[mixinDedupeId]=!0;extended.__mixinSet=mixinSet;return extended}return dedupingMixin};function isPath(path){return 0<=path.indexOf(".")}function root(path){let dotIndex=path.indexOf(".");if(-1===dotIndex){return path}return path.slice(0,dotIndex)}function isAncestor(base,path){return 0===base.indexOf(path+".")}function isDescendant(base,path){return 0===path.indexOf(base+".")}function translate(base,newBase,path){return newBase+path.slice(base.length)}function matches(base,path){return base===path||isAncestor(base,path)||isDescendant(base,path)}function normalize(path){if(Array.isArray(path)){let parts=[];for(let i=0,args;i<path.length;i++){args=path[i].toString().split(".");for(let j=0;j<args.length;j++){parts.push(args[j])}}return parts.join(".")}else{return path}}function split(path){if(Array.isArray(path)){return normalize(path).split(".")}return path.toString().split(".")}function get(root,path,info){let prop=root,parts=split(path);for(let i=0;i<parts.length;i++){if(!prop){return}let part=parts[i];prop=prop[part]}if(info){info.path=parts.join(".")}return prop}function set(root,path,value){let prop=root,parts=split(path),last=parts[parts.length-1];if(1<parts.length){for(let i=0,part;i<parts.length-1;i++){part=parts[i];prop=prop[part];if(!prop){return}}prop[last]=value}else{prop[path]=value}return parts.join(".")}const isDeep=isPath,caseMap={},DASH_TO_CAMEL=/-[a-z]/g,CAMEL_TO_DASH=/([A-Z])/g;function dashToCamelCase(dash){return caseMap[dash]||(caseMap[dash]=0>dash.indexOf("-")?dash:dash.replace(DASH_TO_CAMEL,m=>m[1].toUpperCase()))}function camelToDashCase(camel){return caseMap[camel]||(caseMap[camel]=camel.replace(CAMEL_TO_DASH,"-$1").toLowerCase())}let microtaskCurrHandle=0,microtaskLastHandle=0,microtaskCallbacks=[],microtaskNodeContent=0,microtaskNode=document.createTextNode("");new window.MutationObserver(microtaskFlush).observe(microtaskNode,{characterData:!0});function microtaskFlush(){const len=microtaskCallbacks.length;for(let i=0,cb;i<len;i++){cb=microtaskCallbacks[i];if(cb){try{cb()}catch(e){setTimeout(()=>{throw e})}}}microtaskCallbacks.splice(0,len);microtaskLastHandle+=len}const timeOut={after(delay){return{run(fn){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}}},run(fn,delay){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}},animationFrame={run(fn){return window.requestAnimationFrame(fn)},cancel(handle){window.cancelAnimationFrame(handle)}},idlePeriod={run(fn){return window.requestIdleCallback?window.requestIdleCallback(fn):window.setTimeout(fn,16)},cancel(handle){window.cancelIdleCallback?window.cancelIdleCallback(handle):window.clearTimeout(handle)}},microTask={run(callback){microtaskNode.textContent=microtaskNodeContent++;microtaskCallbacks.push(callback);return microtaskCurrHandle++},cancel(handle){const idx=handle-microtaskLastHandle;if(0<=idx){if(!microtaskCallbacks[idx]){throw new Error("invalid async handle: "+handle)}microtaskCallbacks[idx]=null}}},microtask=microTask,PropertiesChanged=dedupingMixin(superClass=>{class PropertiesChanged extends superClass{static createProperties(props){const proto=this.prototype;for(let prop in props){if(!(prop in proto)){proto._createPropertyAccessor(prop)}}}static attributeNameForProperty(property){return property.toLowerCase()}static typeForProperty(name){}_createPropertyAccessor(property,readOnly){this._addPropertyToAttributeMap(property);if(!this.hasOwnProperty("__dataHasAccessor")){this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)}if(!this.__dataHasAccessor[property]){this.__dataHasAccessor[property]=!0;this._definePropertyAccessor(property,readOnly)}}_addPropertyToAttributeMap(property){if(!this.hasOwnProperty("__dataAttributes")){this.__dataAttributes=Object.assign({},this.__dataAttributes)}if(!this.__dataAttributes[property]){const attr=this.constructor.attributeNameForProperty(property);this.__dataAttributes[attr]=property}}_definePropertyAccessor(property,readOnly){Object.defineProperty(this,property,{get(){return this._getProperty(property)},set:readOnly?function(){}:function(value){this._setProperty(property,value)}})}constructor(){super();this.__dataEnabled=!1;this.__dataReady=!1;this.__dataInvalid=!1;this.__data={};this.__dataPending=null;this.__dataOld=null;this.__dataInstanceProps=null;this.__serializing=!1;this._initializeProperties()}ready(){this.__dataReady=!0;this._flushProperties()}_initializeProperties(){for(let p in this.__dataHasAccessor){if(this.hasOwnProperty(p)){this.__dataInstanceProps=this.__dataInstanceProps||{};this.__dataInstanceProps[p]=this[p];delete this[p]}}}_initializeInstanceProperties(props){Object.assign(this,props)}_setProperty(property,value){if(this._setPendingProperty(property,value)){this._invalidateProperties()}}_getProperty(property){return this.__data[property]}_setPendingProperty(property,value,ext){let old=this.__data[property],changed=this._shouldPropertyChange(property,value,old);if(changed){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(this.__dataOld&&!(property in this.__dataOld)){this.__dataOld[property]=old}this.__data[property]=value;this.__dataPending[property]=value}return changed}_invalidateProperties(){if(!this.__dataInvalid&&this.__dataReady){this.__dataInvalid=!0;microtask.run(()=>{if(this.__dataInvalid){this.__dataInvalid=!1;this._flushProperties()}})}}_enableProperties(){if(!this.__dataEnabled){this.__dataEnabled=!0;if(this.__dataInstanceProps){this._initializeInstanceProperties(this.__dataInstanceProps);this.__dataInstanceProps=null}this.ready()}}_flushProperties(){const props=this.__data,changedProps=this.__dataPending,old=this.__dataOld;if(this._shouldPropertiesChange(props,changedProps,old)){this.__dataPending=null;this.__dataOld=null;this._propertiesChanged(props,changedProps,old)}}_shouldPropertiesChange(currentProps,changedProps,oldProps){return!!changedProps}_propertiesChanged(currentProps,changedProps,oldProps){}_shouldPropertyChange(property,value,old){return old!==value&&(old===old||value===value)}attributeChangedCallback(name,old,value,namespace){if(old!==value){this._attributeToProperty(name,value)}if(super.attributeChangedCallback){super.attributeChangedCallback(name,old,value,namespace)}}_attributeToProperty(attribute,value,type){if(!this.__serializing){const map=this.__dataAttributes,property=map&&map[attribute]||attribute;this[property]=this._deserializeValue(value,type||this.constructor.typeForProperty(property))}}_propertyToAttribute(property,attribute,value){this.__serializing=!0;value=3>arguments.length?this[property]:value;this._valueToNodeAttribute(this,value,attribute||this.constructor.attributeNameForProperty(property));this.__serializing=!1}_valueToNodeAttribute(node,value,attribute){const str=this._serializeValue(value);if(str===void 0){node.removeAttribute(attribute)}else{node.setAttribute(attribute,str)}}_serializeValue(value){switch(typeof value){case"boolean":return value?"":void 0;default:return null!=value?value.toString():void 0;}}_deserializeValue(value,type){switch(type){case Boolean:return null!==value;case Number:return+value;default:return value;}}}return PropertiesChanged}),nativeProperties={};let proto=HTMLElement.prototype;while(proto){let props=Object.getOwnPropertyNames(proto);for(let i=0;i<props.length;i++){nativeProperties[props[i]]=!0}proto=Object.getPrototypeOf(proto)}function saveAccessorValue(model,property){if(!nativeProperties[property]){let value=model[property];if(value!==void 0){if(model.__data){model._setPendingProperty(property,value)}else{if(!model.__dataProto){model.__dataProto={}}else if(!model.hasOwnProperty(JSCompiler_renameProperty("__dataProto",model))){model.__dataProto=Object.create(model.__dataProto)}model.__dataProto[property]=value}}}}const PropertyAccessors=dedupingMixin(superClass=>{const base=PropertiesChanged(superClass);class PropertyAccessors extends base{static createPropertiesForAttributes(){let a$=this.observedAttributes;for(let i=0;i<a$.length;i++){this.prototype._createPropertyAccessor(dashToCamelCase(a$[i]))}}static attributeNameForProperty(property){return camelToDashCase(property)}_initializeProperties(){if(this.__dataProto){this._initializeProtoProperties(this.__dataProto);this.__dataProto=null}super._initializeProperties()}_initializeProtoProperties(props){for(let p in props){this._setProperty(p,props[p])}}_ensureAttribute(attribute,value){const el=this;if(!el.hasAttribute(attribute)){this._valueToNodeAttribute(el,value,attribute)}}_serializeValue(value){switch(typeof value){case"object":if(value instanceof Date){return value.toString()}else if(value){try{return JSON.stringify(value)}catch(x){return""}}default:return super._serializeValue(value);}}_deserializeValue(value,type){let outValue;switch(type){case Object:try{outValue=JSON.parse(value)}catch(x){outValue=value}break;case Array:try{outValue=JSON.parse(value)}catch(x){outValue=null;console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${value}`)}break;case Date:outValue=isNaN(value)?value+"":+value;outValue=new Date(outValue);break;default:outValue=super._deserializeValue(value,type);break;}return outValue}_definePropertyAccessor(property,readOnly){saveAccessorValue(this,property);super._definePropertyAccessor(property,readOnly)}_hasAccessor(property){return this.__dataHasAccessor&&this.__dataHasAccessor[property]}_isPropertyPending(prop){return!!(this.__dataPending&&prop in this.__dataPending)}}return PropertyAccessors}),templateExtensions={"dom-if":!0,"dom-repeat":!0};function wrapTemplateExtension(node){let is=node.getAttribute("is");if(is&&templateExtensions[is]){let t=node;t.removeAttribute("is");node=t.ownerDocument.createElement(is);t.parentNode.replaceChild(node,t);node.appendChild(t);while(t.attributes.length){node.setAttribute(t.attributes[0].name,t.attributes[0].value);t.removeAttribute(t.attributes[0].name)}}return node}function findTemplateNode(root,nodeInfo){let parent=nodeInfo.parentInfo&&findTemplateNode(root,nodeInfo.parentInfo);if(parent){for(let n=parent.firstChild,i=0;n;n=n.nextSibling){if(nodeInfo.parentIndex===i++){return n}}}else{return root}}function applyIdToMap(inst,map,node,nodeInfo){if(nodeInfo.id){map[nodeInfo.id]=node}}function applyEventListener(inst,node,nodeInfo){if(nodeInfo.events&&nodeInfo.events.length){for(let j=0,e$=nodeInfo.events,e;j<e$.length&&(e=e$[j]);j++){inst._addMethodEventListenerToNode(node,e.name,e.value,inst)}}}function applyTemplateContent(inst,node,nodeInfo){if(nodeInfo.templateInfo){node._templateInfo=nodeInfo.templateInfo}}function createNodeEventHandler(context,eventName,methodName){context=context._methodHost||context;let handler=function(e){if(context[methodName]){context[methodName](e,e.detail)}else{console.warn("listener method `"+methodName+"` not defined")}};return handler}const TemplateStamp=dedupingMixin(superClass=>{class TemplateStamp extends superClass{static _parseTemplate(template,outerTemplateInfo){if(!template._templateInfo){let templateInfo=template._templateInfo={};templateInfo.nodeInfoList=[];templateInfo.stripWhiteSpace=outerTemplateInfo&&outerTemplateInfo.stripWhiteSpace||template.hasAttribute("strip-whitespace");this._parseTemplateContent(template,templateInfo,{parent:null})}return template._templateInfo}static _parseTemplateContent(template,templateInfo,nodeInfo){return this._parseTemplateNode(template.content,templateInfo,nodeInfo)}static _parseTemplateNode(node,templateInfo,nodeInfo){let noted,element=node;if("template"==element.localName&&!element.hasAttribute("preserve-content")){noted=this._parseTemplateNestedTemplate(element,templateInfo,nodeInfo)||noted}else if("slot"===element.localName){templateInfo.hasInsertionPoint=!0}if(element.firstChild){noted=this._parseTemplateChildNodes(element,templateInfo,nodeInfo)||noted}if(element.hasAttributes&&element.hasAttributes()){noted=this._parseTemplateNodeAttributes(element,templateInfo,nodeInfo)||noted}return noted}static _parseTemplateChildNodes(root,templateInfo,nodeInfo){if("script"===root.localName||"style"===root.localName){return}for(let node=root.firstChild,parentIndex=0,next;node;node=next){if("template"==node.localName){node=wrapTemplateExtension(node)}next=node.nextSibling;if(node.nodeType===Node.TEXT_NODE){let n=next;while(n&&n.nodeType===Node.TEXT_NODE){node.textContent+=n.textContent;next=n.nextSibling;root.removeChild(n);n=next}if(templateInfo.stripWhiteSpace&&!node.textContent.trim()){root.removeChild(node);continue}}let childInfo={parentIndex,parentInfo:nodeInfo};if(this._parseTemplateNode(node,templateInfo,childInfo)){childInfo.infoIndex=templateInfo.nodeInfoList.push(childInfo)-1}if(node.parentNode){parentIndex++}}}static _parseTemplateNestedTemplate(node,outerTemplateInfo,nodeInfo){let templateInfo=this._parseTemplate(node,outerTemplateInfo),content=templateInfo.content=node.content.ownerDocument.createDocumentFragment();content.appendChild(node.content);nodeInfo.templateInfo=templateInfo;return!0}static _parseTemplateNodeAttributes(node,templateInfo,nodeInfo){let noted=!1,attrs=Array.from(node.attributes);for(let i=attrs.length-1,a;a=attrs[i];i--){noted=this._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,a.name,a.value)||noted}return noted}static _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){if("on-"===name.slice(0,3)){node.removeAttribute(name);nodeInfo.events=nodeInfo.events||[];nodeInfo.events.push({name:name.slice(3),value});return!0}else if("id"===name){nodeInfo.id=value;return!0}return!1}static _contentForTemplate(template){let templateInfo=template._templateInfo;return templateInfo&&templateInfo.content||template.content}_stampTemplate(template){if(template&&!template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate){HTMLTemplateElement.decorate(template)}let templateInfo=this.constructor._parseTemplate(template),nodeInfo=templateInfo.nodeInfoList,content=templateInfo.content||template.content,dom=document.importNode(content,!0);dom.__noInsertionPoint=!templateInfo.hasInsertionPoint;let nodes=dom.nodeList=Array(nodeInfo.length);dom.$={};for(let i=0,l=nodeInfo.length,info,node;i<l&&(info=nodeInfo[i]);i++){node=nodes[i]=findTemplateNode(dom,info);applyIdToMap(this,dom.$,node,info);applyTemplateContent(this,node,info);applyEventListener(this,node,info)}dom=dom;return dom}_addMethodEventListenerToNode(node,eventName,methodName,context){context=context||node;let handler=createNodeEventHandler(context,eventName,methodName);this._addEventListenerToNode(node,eventName,handler);return handler}_addEventListenerToNode(node,eventName,handler){node.addEventListener(eventName,handler)}_removeEventListenerFromNode(node,eventName,handler){node.removeEventListener(eventName,handler)}}return TemplateStamp});let dedupeId$1=0;const TYPES={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},capitalAttributeRegex=/[A-Z]/;let DataTrigger,DataEffect,PropertyEffectsType;function ensureOwnEffectMap(model,type){let effects=model[type];if(!effects){effects=model[type]={}}else if(!model.hasOwnProperty(type)){effects=model[type]=Object.create(model[type]);for(let p in effects){let protoFx=effects[p],instFx=effects[p]=Array(protoFx.length);for(let i=0;i<protoFx.length;i++){instFx[i]=protoFx[i]}}}return effects}function runEffects(inst,effects,props,oldProps,hasPaths,extraArgs){if(effects){let ran=!1,id=dedupeId$1++;for(let prop in props){if(runEffectsForProperty(inst,effects,id,prop,props,oldProps,hasPaths,extraArgs)){ran=!0}}return ran}return!1}function runEffectsForProperty(inst,effects,dedupeId,prop,props,oldProps,hasPaths,extraArgs){let ran=!1,rootProperty=hasPaths?root(prop):prop,fxs=effects[rootProperty];if(fxs){for(let i=0,l=fxs.length,fx;i<l&&(fx=fxs[i]);i++){if((!fx.info||fx.info.lastRun!==dedupeId)&&(!hasPaths||pathMatchesTrigger(prop,fx.trigger))){if(fx.info){fx.info.lastRun=dedupeId}fx.fn(inst,prop,props,oldProps,fx.info,hasPaths,extraArgs);ran=!0}}}return ran}function pathMatchesTrigger(path,trigger){if(trigger){let triggerPath=trigger.name;return triggerPath==path||trigger.structured&&isAncestor(triggerPath,path)||trigger.wildcard&&isDescendant(triggerPath,path)}else{return!0}}function runObserverEffect(inst,property,props,oldProps,info){let fn="string"===typeof info.method?inst[info.method]:info.method,changedProp=info.property;if(fn){fn.call(inst,inst.__data[changedProp],oldProps[changedProp])}else if(!info.dynamicFn){console.warn("observer method `"+info.method+"` not defined")}}function runNotifyEffects(inst,notifyProps,props,oldProps,hasPaths){let fxs=inst[TYPES.NOTIFY],notified,id=dedupeId$1++;for(let prop in notifyProps){if(notifyProps[prop]){if(fxs&&runEffectsForProperty(inst,fxs,id,prop,props,oldProps,hasPaths)){notified=!0}else if(hasPaths&&notifyPath(inst,prop,props)){notified=!0}}}let host;if(notified&&(host=inst.__dataHost)&&host._invalidateProperties){host._invalidateProperties()}}function notifyPath(inst,path,props){let rootProperty=root(path);if(rootProperty!==path){let eventName=camelToDashCase(rootProperty)+"-changed";dispatchNotifyEvent(inst,eventName,props[path],path);return!0}return!1}function dispatchNotifyEvent(inst,eventName,value,path){let detail={value:value,queueProperty:!0};if(path){detail.path=path}inst.dispatchEvent(new CustomEvent(eventName,{detail}))}function runNotifyEffect(inst,property,props,oldProps,info,hasPaths){let rootProperty=hasPaths?root(property):property,path=rootProperty!=property?property:null,value=path?get(inst,path):inst.__data[property];if(path&&value===void 0){value=props[property]}dispatchNotifyEvent(inst,info.eventName,value,path)}function handleNotification(event,inst,fromProp,toPath,negate){let value,detail=event.detail,fromPath=detail&&detail.path;if(fromPath){toPath=translate(fromProp,toPath,fromPath);value=detail&&detail.value}else{value=event.currentTarget[fromProp]}value=negate?!value:value;if(!inst[TYPES.READ_ONLY]||!inst[TYPES.READ_ONLY][toPath]){if(inst._setPendingPropertyOrPath(toPath,value,!0,!!fromPath)&&(!detail||!detail.queueProperty)){inst._invalidateProperties()}}}function runReflectEffect(inst,property,props,oldProps,info){let value=inst.__data[property];if(sanitizeDOMValue){value=sanitizeDOMValue(value,info.attrName,"attribute",inst)}inst._propertyToAttribute(property,info.attrName,value)}function runComputedEffects(inst,changedProps,oldProps,hasPaths){let computeEffects=inst[TYPES.COMPUTE];if(computeEffects){let inputProps=changedProps;while(runEffects(inst,computeEffects,inputProps,oldProps,hasPaths)){Object.assign(oldProps,inst.__dataOld);Object.assign(changedProps,inst.__dataPending);inputProps=inst.__dataPending;inst.__dataPending=null}}}function runComputedEffect(inst,property,props,oldProps,info){let result=runMethodEffect(inst,property,props,oldProps,info),computedProp=info.methodInfo;if(inst.__dataHasAccessor&&inst.__dataHasAccessor[computedProp]){inst._setPendingProperty(computedProp,result,!0)}else{inst[computedProp]=result}}function computeLinkedPaths(inst,path,value){let links=inst.__dataLinkedPaths;if(links){let link;for(let a in links){let b=links[a];if(isDescendant(a,path)){link=translate(a,b,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}else if(isDescendant(b,path)){link=translate(b,a,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}}}}function addBinding(constructor,templateInfo,nodeInfo,kind,target,parts,literal){nodeInfo.bindings=nodeInfo.bindings||[];let binding={kind,target,parts,literal,isCompound:1!==parts.length};nodeInfo.bindings.push(binding);if(shouldAddListener(binding)){let{event,negate}=binding.parts[0];binding.listenerEvent=event||camelToDashCase(target)+"-changed";binding.listenerNegate=negate}let index=templateInfo.nodeInfoList.length;for(let i=0,part;i<binding.parts.length;i++){part=binding.parts[i];part.compoundIndex=i;addEffectForBindingPart(constructor,templateInfo,binding,part,index)}}function addEffectForBindingPart(constructor,templateInfo,binding,part,index){if(!part.literal){if("attribute"===binding.kind&&"-"===binding.target[0]){console.warn("Cannot set attribute "+binding.target+" because \"-\" is not a valid attribute starting character")}else{let dependencies=part.dependencies,info={index,binding,part,evaluator:constructor};for(let j=0,trigger;j<dependencies.length;j++){trigger=dependencies[j];if("string"==typeof trigger){trigger=parseArg(trigger);trigger.wildcard=!0}constructor._addTemplatePropertyEffect(templateInfo,trigger.rootProperty,{fn:runBindingEffect,info,trigger})}}}}function runBindingEffect(inst,path,props,oldProps,info,hasPaths,nodeList){let node=nodeList[info.index],binding=info.binding,part=info.part;if(hasPaths&&part.source&&path.length>part.source.length&&"property"==binding.kind&&!binding.isCompound&&node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[binding.target]){let value=props[path];path=translate(part.source,binding.target,path);if(node._setPendingPropertyOrPath(path,value,!1,!0)){inst._enqueueClient(node)}}else{let value=info.evaluator._evaluateBinding(inst,part,path,props,oldProps,hasPaths);applyBindingValue(inst,node,binding,part,value)}}function applyBindingValue(inst,node,binding,part,value){value=computeBindingValue(node,value,binding,part);if(sanitizeDOMValue){value=sanitizeDOMValue(value,binding.target,binding.kind,node)}if("attribute"==binding.kind){inst._valueToNodeAttribute(node,value,binding.target)}else{let prop=binding.target;if(node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[prop]){if(!node[TYPES.READ_ONLY]||!node[TYPES.READ_ONLY][prop]){if(node._setPendingProperty(prop,value)){inst._enqueueClient(node)}}}else{inst._setUnmanagedPropertyToNode(node,prop,value)}}}function computeBindingValue(node,value,binding,part){if(binding.isCompound){let storage=node.__dataCompoundStorage[binding.target];storage[part.compoundIndex]=value;value=storage.join("")}if("attribute"!==binding.kind){if("textContent"===binding.target||"value"===binding.target&&("input"===node.localName||"textarea"===node.localName)){value=value==void 0?"":value}}return value}function shouldAddListener(binding){return!!binding.target&&"attribute"!=binding.kind&&"text"!=binding.kind&&!binding.isCompound&&"{"===binding.parts[0].mode}function setupBindings(inst,templateInfo){let{nodeList,nodeInfoList}=templateInfo;if(nodeInfoList.length){for(let i=0;i<nodeInfoList.length;i++){let info=nodeInfoList[i],node=nodeList[i],bindings=info.bindings;if(bindings){for(let i=0,binding;i<bindings.length;i++){binding=bindings[i];setupCompoundStorage(node,binding);addNotifyListener(node,inst,binding)}}node.__dataHost=inst}}}function setupCompoundStorage(node,binding){if(binding.isCompound){let storage=node.__dataCompoundStorage||(node.__dataCompoundStorage={}),parts=binding.parts,literals=Array(parts.length);for(let j=0;j<parts.length;j++){literals[j]=parts[j].literal}let target=binding.target;storage[target]=literals;if(binding.literal&&"property"==binding.kind){node[target]=binding.literal}}}function addNotifyListener(node,inst,binding){if(binding.listenerEvent){let part=binding.parts[0];node.addEventListener(binding.listenerEvent,function(e){handleNotification(e,inst,binding.target,part.source,part.negate)})}}function createMethodEffect(model,sig,type,effectFn,methodInfo,dynamicFn){dynamicFn=sig.static||dynamicFn&&("object"!==typeof dynamicFn||dynamicFn[sig.methodName]);let info={methodName:sig.methodName,args:sig.args,methodInfo,dynamicFn};for(let i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++){if(!arg.literal){model._addPropertyEffect(arg.rootProperty,type,{fn:effectFn,info:info,trigger:arg})}}if(dynamicFn){model._addPropertyEffect(sig.methodName,type,{fn:effectFn,info:info})}}function runMethodEffect(inst,property,props,oldProps,info){let context=inst._methodHost||inst,fn=context[info.methodName];if(fn){let args=inst._marshalArgs(info.args,property,props);return fn.apply(context,args)}else if(!info.dynamicFn){console.warn("method `"+info.methodName+"` not defined")}}const emptyArray=[],IDENT="(?:"+"[a-zA-Z_$][\\w.:$\\-*]*"+")",NUMBER="(?:"+"[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?"+")",SQUOTE_STRING="(?:"+"'(?:[^'\\\\]|\\\\.)*'"+")",DQUOTE_STRING="(?:"+"\"(?:[^\"\\\\]|\\\\.)*\""+")",STRING="(?:"+SQUOTE_STRING+"|"+DQUOTE_STRING+")",ARGUMENT="(?:("+IDENT+"|"+NUMBER+"|"+STRING+")\\s*"+")",ARGUMENTS="(?:"+ARGUMENT+"(?:,\\s*"+ARGUMENT+")*"+")",ARGUMENT_LIST="(?:"+"\\(\\s*"+"(?:"+ARGUMENTS+"?"+")"+"\\)\\s*"+")",BINDING="("+IDENT+"\\s*"+ARGUMENT_LIST+"?"+")",OPEN_BRACKET="(\\[\\[|{{)"+"\\s*",CLOSE_BRACKET="(?:]]|}})",NEGATE="(?:(!)\\s*)?",EXPRESSION=OPEN_BRACKET+NEGATE+BINDING+CLOSE_BRACKET,bindingRegex=new RegExp(EXPRESSION,"g");function literalFromParts(parts){let s="";for(let i=0,literal;i<parts.length;i++){literal=parts[i].literal;s+=literal||""}return s}function parseMethod(expression){let m=expression.match(/([^\s]+?)\(([\s\S]*)\)/);if(m){let methodName=m[1],sig={methodName,static:!0,args:emptyArray};if(m[2].trim()){let args=m[2].replace(/\\,/g,"&comma;").split(",");return parseArgs(args,sig)}else{return sig}}return null}function parseArgs(argList,sig){sig.args=argList.map(function(rawArg){let arg=parseArg(rawArg);if(!arg.literal){sig.static=!1}return arg},this);return sig}function parseArg(rawArg){let arg=rawArg.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),a={name:arg,value:"",literal:!1},fc=arg[0];if("-"===fc){fc=arg[1]}if("0"<=fc&&"9">=fc){fc="#"}switch(fc){case"'":case"\"":a.value=arg.slice(1,-1);a.literal=!0;break;case"#":a.value=+arg;a.literal=!0;break;}if(!a.literal){a.rootProperty=root(arg);a.structured=isPath(arg);if(a.structured){a.wildcard=".*"==arg.slice(-2);if(a.wildcard){a.name=arg.slice(0,-2)}}}return a}function notifySplices(inst,array,path,splices){let splicesPath=path+".splices";inst.notifyPath(splicesPath,{indexSplices:splices});inst.notifyPath(path+".length",array.length);inst.__data[splicesPath]={indexSplices:null}}function notifySplice(inst,array,path,index,addedCount,removed){notifySplices(inst,array,path,[{index:index,addedCount:addedCount,removed:removed,object:array,type:"splice"}])}function upper(name){return name[0].toUpperCase()+name.substring(1)}const PropertyEffects=dedupingMixin(superClass=>{const propertyEffectsBase=TemplateStamp(PropertyAccessors(superClass));class PropertyEffects extends propertyEffectsBase{constructor(){super();this.__isPropertyEffectsClient=!0;this.__dataCounter=0;this.__dataClientsReady;this.__dataPendingClients;this.__dataToNotify;this.__dataLinkedPaths;this.__dataHasPaths;this.__dataCompoundStorage;this.__dataHost;this.__dataTemp;this.__dataClientsInitialized;this.__data;this.__dataPending;this.__dataOld;this.__computeEffects;this.__reflectEffects;this.__notifyEffects;this.__propagateEffects;this.__observeEffects;this.__readOnly;this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return TYPES}_initializeProperties(){super._initializeProperties();hostStack.registerHost(this);this.__dataClientsReady=!1;this.__dataPendingClients=null;this.__dataToNotify=null;this.__dataLinkedPaths=null;this.__dataHasPaths=!1;this.__dataCompoundStorage=this.__dataCompoundStorage||null;this.__dataHost=this.__dataHost||null;this.__dataTemp={};this.__dataClientsInitialized=!1}_initializeProtoProperties(props){this.__data=Object.create(props);this.__dataPending=Object.create(props);this.__dataOld={}}_initializeInstanceProperties(props){let readOnly=this[TYPES.READ_ONLY];for(let prop in props){if(!readOnly||!readOnly[prop]){this.__dataPending=this.__dataPending||{};this.__dataOld=this.__dataOld||{};this.__data[prop]=this.__dataPending[prop]=props[prop]}}}_addPropertyEffect(property,type,effect){this._createPropertyAccessor(property,type==TYPES.READ_ONLY);let effects=ensureOwnEffectMap(this,type)[property];if(!effects){effects=this[type][property]=[]}effects.push(effect)}_removePropertyEffect(property,type,effect){let effects=ensureOwnEffectMap(this,type)[property],idx=effects.indexOf(effect);if(0<=idx){effects.splice(idx,1)}}_hasPropertyEffect(property,type){let effects=this[type];return!!(effects&&effects[property])}_hasReadOnlyEffect(property){return this._hasPropertyEffect(property,TYPES.READ_ONLY)}_hasNotifyEffect(property){return this._hasPropertyEffect(property,TYPES.NOTIFY)}_hasReflectEffect(property){return this._hasPropertyEffect(property,TYPES.REFLECT)}_hasComputedEffect(property){return this._hasPropertyEffect(property,TYPES.COMPUTE)}_setPendingPropertyOrPath(path,value,shouldNotify,isPathNotification){if(isPathNotification||root(Array.isArray(path)?path[0]:path)!==path){if(!isPathNotification){let old=get(this,path);path=set(this,path,value);if(!path||!super._shouldPropertyChange(path,value,old)){return!1}}this.__dataHasPaths=!0;if(this._setPendingProperty(path,value,shouldNotify)){computeLinkedPaths(this,path,value);return!0}}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[path]){return this._setPendingProperty(path,value,shouldNotify)}else{this[path]=value}}return!1}_setUnmanagedPropertyToNode(node,prop,value){if(value!==node[prop]||"object"==typeof value){node[prop]=value}}_setPendingProperty(property,value,shouldNotify){let propIsPath=this.__dataHasPaths&&isPath(property),prevProps=propIsPath?this.__dataTemp:this.__data;if(this._shouldPropertyChange(property,value,prevProps[property])){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(!(property in this.__dataOld)){this.__dataOld[property]=this.__data[property]}if(propIsPath){this.__dataTemp[property]=value}else{this.__data[property]=value}this.__dataPending[property]=value;if(propIsPath||this[TYPES.NOTIFY]&&this[TYPES.NOTIFY][property]){this.__dataToNotify=this.__dataToNotify||{};this.__dataToNotify[property]=shouldNotify}return!0}return!1}_setProperty(property,value){if(this._setPendingProperty(property,value,!0)){this._invalidateProperties()}}_invalidateProperties(){if(this.__dataReady){this._flushProperties()}}_enqueueClient(client){this.__dataPendingClients=this.__dataPendingClients||[];if(client!==this){this.__dataPendingClients.push(client)}}_flushProperties(){this.__dataCounter++;super._flushProperties();this.__dataCounter--}_flushClients(){if(!this.__dataClientsReady){this.__dataClientsReady=!0;this._readyClients();this.__dataReady=!0}else{this.__enableOrFlushClients()}}__enableOrFlushClients(){let clients=this.__dataPendingClients;if(clients){this.__dataPendingClients=null;for(let i=0,client;i<clients.length;i++){client=clients[i];if(!client.__dataEnabled){client._enableProperties()}else if(client.__dataPending){client._flushProperties()}}}}_readyClients(){this.__enableOrFlushClients()}setProperties(props,setReadOnly){for(let path in props){if(setReadOnly||!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){this._setPendingPropertyOrPath(path,props[path],!0)}}this._invalidateProperties()}ready(){this._flushProperties();if(!this.__dataClientsReady){this._flushClients()}if(this.__dataPending){this._flushProperties()}}_propertiesChanged(currentProps,changedProps,oldProps){let hasPaths=this.__dataHasPaths;this.__dataHasPaths=!1;runComputedEffects(this,changedProps,oldProps,hasPaths);let notifyProps=this.__dataToNotify;this.__dataToNotify=null;this._propagatePropertyChanges(changedProps,oldProps,hasPaths);this._flushClients();runEffects(this,this[TYPES.REFLECT],changedProps,oldProps,hasPaths);runEffects(this,this[TYPES.OBSERVE],changedProps,oldProps,hasPaths);if(notifyProps){runNotifyEffects(this,notifyProps,changedProps,oldProps,hasPaths)}if(1==this.__dataCounter){this.__dataTemp={}}}_propagatePropertyChanges(changedProps,oldProps,hasPaths){if(this[TYPES.PROPAGATE]){runEffects(this,this[TYPES.PROPAGATE],changedProps,oldProps,hasPaths)}let templateInfo=this.__templateInfo;while(templateInfo){runEffects(this,templateInfo.propertyEffects,changedProps,oldProps,hasPaths,templateInfo.nodeList);templateInfo=templateInfo.nextTemplateInfo}}linkPaths(to,from){to=normalize(to);from=normalize(from);this.__dataLinkedPaths=this.__dataLinkedPaths||{};this.__dataLinkedPaths[to]=from}unlinkPaths(path){path=normalize(path);if(this.__dataLinkedPaths){delete this.__dataLinkedPaths[path]}}notifySplices(path,splices){let info={path:""},array=get(this,path,info);notifySplices(this,array,info.path,splices)}get(path,root){return get(root||this,path)}set(path,value,root){if(root){set(root,path,value)}else{if(!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){if(this._setPendingPropertyOrPath(path,value,!0)){this._invalidateProperties()}}}}push(path,...items){let info={path:""},array=get(this,path,info),len=array.length,ret=array.push(...items);if(items.length){notifySplice(this,array,info.path,len,items.length,[])}return ret}pop(path){let info={path:""},array=get(this,path,info),hadLength=!!array.length,ret=array.pop();if(hadLength){notifySplice(this,array,info.path,array.length,0,[ret])}return ret}splice(path,start,deleteCount,...items){let info={path:""},array=get(this,path,info);if(0>start){start=array.length-_Mathfloor(-start)}else if(start){start=_Mathfloor(start)}let ret;if(2===arguments.length){ret=array.splice(start)}else{ret=array.splice(start,deleteCount,...items)}if(items.length||ret.length){notifySplice(this,array,info.path,start,items.length,ret)}return ret}shift(path){let info={path:""},array=get(this,path,info),hadLength=!!array.length,ret=array.shift();if(hadLength){notifySplice(this,array,info.path,0,0,[ret])}return ret}unshift(path,...items){let info={path:""},array=get(this,path,info),ret=array.unshift(...items);if(items.length){notifySplice(this,array,info.path,0,items.length,[])}return ret}notifyPath(path,value){let propPath;if(1==arguments.length){let info={path:""};value=get(this,path,info);propPath=info.path}else if(Array.isArray(path)){propPath=normalize(path)}else{propPath=path}if(this._setPendingPropertyOrPath(propPath,value,!0,!0)){this._invalidateProperties()}}_createReadOnlyProperty(property,protectedSetter){this._addPropertyEffect(property,TYPES.READ_ONLY);if(protectedSetter){this["_set"+upper(property)]=function(value){this._setProperty(property,value)}}}_createPropertyObserver(property,method,dynamicFn){let info={property,method,dynamicFn:!!dynamicFn};this._addPropertyEffect(property,TYPES.OBSERVE,{fn:runObserverEffect,info,trigger:{name:property}});if(dynamicFn){this._addPropertyEffect(method,TYPES.OBSERVE,{fn:runObserverEffect,info,trigger:{name:method}})}}_createMethodObserver(expression,dynamicFn){let sig=parseMethod(expression);if(!sig){throw new Error("Malformed observer expression '"+expression+"'")}createMethodEffect(this,sig,TYPES.OBSERVE,runMethodEffect,null,dynamicFn)}_createNotifyingProperty(property){this._addPropertyEffect(property,TYPES.NOTIFY,{fn:runNotifyEffect,info:{eventName:camelToDashCase(property)+"-changed",property:property}})}_createReflectedProperty(property){let attr=this.constructor.attributeNameForProperty(property);if("-"===attr[0]){console.warn("Property "+property+" cannot be reflected to attribute "+attr+" because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property instead.")}else{this._addPropertyEffect(property,TYPES.REFLECT,{fn:runReflectEffect,info:{attrName:attr}})}}_createComputedProperty(property,expression,dynamicFn){let sig=parseMethod(expression);if(!sig){throw new Error("Malformed computed expression '"+expression+"'")}createMethodEffect(this,sig,TYPES.COMPUTE,runComputedEffect,property,dynamicFn)}_marshalArgs(args,path,props){const data=this.__data;let values=[];for(let i=0,l=args.length;i<l;i++){let arg=args[i],name=arg.name,v;if(arg.literal){v=arg.value}else{if(arg.structured){v=get(data,name);if(v===void 0){v=props[name]}}else{v=data[name]}}if(arg.wildcard){let baseChanged=0===name.indexOf(path+"."),matches=0===path.indexOf(name)&&!baseChanged;values[i]={path:matches?path:name,value:matches?props[path]:v,base:v}}else{values[i]=v}}return values}static addPropertyEffect(property,type,effect){this.prototype._addPropertyEffect(property,type,effect)}static createPropertyObserver(property,method,dynamicFn){this.prototype._createPropertyObserver(property,method,dynamicFn)}static createMethodObserver(expression,dynamicFn){this.prototype._createMethodObserver(expression,dynamicFn)}static createNotifyingProperty(property){this.prototype._createNotifyingProperty(property)}static createReadOnlyProperty(property,protectedSetter){this.prototype._createReadOnlyProperty(property,protectedSetter)}static createReflectedProperty(property){this.prototype._createReflectedProperty(property)}static createComputedProperty(property,expression,dynamicFn){this.prototype._createComputedProperty(property,expression,dynamicFn)}static bindTemplate(template){return this.prototype._bindTemplate(template)}_bindTemplate(template,instanceBinding){let templateInfo=this.constructor._parseTemplate(template),wasPreBound=this.__templateInfo==templateInfo;if(!wasPreBound){for(let prop in templateInfo.propertyEffects){this._createPropertyAccessor(prop)}}if(instanceBinding){templateInfo=Object.create(templateInfo);templateInfo.wasPreBound=wasPreBound;if(!wasPreBound&&this.__templateInfo){let last=this.__templateInfoLast||this.__templateInfo;this.__templateInfoLast=last.nextTemplateInfo=templateInfo;templateInfo.previousTemplateInfo=last;return templateInfo}}return this.__templateInfo=templateInfo}static _addTemplatePropertyEffect(templateInfo,prop,effect){let hostProps=templateInfo.hostProps=templateInfo.hostProps||{};hostProps[prop]=!0;let effects=templateInfo.propertyEffects=templateInfo.propertyEffects||{},propEffects=effects[prop]=effects[prop]||[];propEffects.push(effect)}_stampTemplate(template){hostStack.beginHosting(this);let dom=super._stampTemplate(template);hostStack.endHosting(this);let templateInfo=this._bindTemplate(template,!0);templateInfo.nodeList=dom.nodeList;if(!templateInfo.wasPreBound){let nodes=templateInfo.childNodes=[];for(let n=dom.firstChild;n;n=n.nextSibling){nodes.push(n)}}dom.templateInfo=templateInfo;setupBindings(this,templateInfo);if(this.__dataReady){runEffects(this,templateInfo.propertyEffects,this.__data,null,!1,templateInfo.nodeList)}return dom}_removeBoundDom(dom){let templateInfo=dom.templateInfo;if(templateInfo.previousTemplateInfo){templateInfo.previousTemplateInfo.nextTemplateInfo=templateInfo.nextTemplateInfo}if(templateInfo.nextTemplateInfo){templateInfo.nextTemplateInfo.previousTemplateInfo=templateInfo.previousTemplateInfo}if(this.__templateInfoLast==templateInfo){this.__templateInfoLast=templateInfo.previousTemplateInfo}templateInfo.previousTemplateInfo=templateInfo.nextTemplateInfo=null;let nodes=templateInfo.childNodes;for(let i=0,node;i<nodes.length;i++){node=nodes[i];node.parentNode.removeChild(node)}}static _parseTemplateNode(node,templateInfo,nodeInfo){let noted=super._parseTemplateNode(node,templateInfo,nodeInfo);if(node.nodeType===Node.TEXT_NODE){let parts=this._parseBindings(node.textContent,templateInfo);if(parts){node.textContent=literalFromParts(parts)||" ";addBinding(this,templateInfo,nodeInfo,"text","textContent",parts);noted=!0}}return noted}static _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){let parts=this._parseBindings(value,templateInfo);if(parts){let origName=name,kind="property";if(capitalAttributeRegex.test(name)){kind="attribute"}else if("$"==name[name.length-1]){name=name.slice(0,-1);kind="attribute"}let literal=literalFromParts(parts);if(literal&&"attribute"==kind){node.setAttribute(name,literal)}if("input"===node.localName&&"value"===origName){node.setAttribute(origName,"")}node.removeAttribute(origName);if("property"===kind){name=dashToCamelCase(name)}addBinding(this,templateInfo,nodeInfo,kind,name,parts,literal);return!0}else{return super._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value)}}static _parseTemplateNestedTemplate(node,templateInfo,nodeInfo){let noted=super._parseTemplateNestedTemplate(node,templateInfo,nodeInfo),hostProps=nodeInfo.templateInfo.hostProps,mode="{";for(let source in hostProps){let parts=[{mode,source,dependencies:[source]}];addBinding(this,templateInfo,nodeInfo,"property","_host_"+source,parts)}return noted}static _parseBindings(text,templateInfo){let parts=[],lastIndex=0,m;while(null!==(m=bindingRegex.exec(text))){if(m.index>lastIndex){parts.push({literal:text.slice(lastIndex,m.index)})}let mode=m[1][0],negate=!!m[2],source=m[3].trim(),customEvent=!1,notifyEvent="",colon=-1;if("{"==mode&&0<(colon=source.indexOf("::"))){notifyEvent=source.substring(colon+2);source=source.substring(0,colon);customEvent=!0}let signature=parseMethod(source),dependencies=[];if(signature){let{args,methodName}=signature;for(let i=0,arg;i<args.length;i++){arg=args[i];if(!arg.literal){dependencies.push(arg)}}let dynamicFns=templateInfo.dynamicFns;if(dynamicFns&&dynamicFns[methodName]||signature.static){dependencies.push(methodName);signature.dynamicFn=!0}}else{dependencies.push(source)}parts.push({source,mode,negate,customEvent,signature,dependencies,event:notifyEvent});lastIndex=bindingRegex.lastIndex}if(lastIndex&&lastIndex<text.length){let literal=text.substring(lastIndex);if(literal){parts.push({literal:literal})}}if(parts.length){return parts}else{return null}}static _evaluateBinding(inst,part,path,props,oldProps,hasPaths){let value;if(part.signature){value=runMethodEffect(inst,path,props,oldProps,part.signature)}else if(path!=part.source){value=get(inst,part.source)}else{if(hasPaths&&isPath(path)){value=get(inst,path)}else{value=inst.__data[path]}}if(part.negate){value=!value}return value}}PropertyEffectsType=PropertyEffects;return PropertyEffects});class HostStack{constructor(){this.stack=[]}registerHost(inst){if(this.stack.length){let host=this.stack[this.stack.length-1];host._enqueueClient(inst)}}beginHosting(inst){this.stack.push(inst)}endHosting(inst){let stackLen=this.stack.length;if(stackLen&&this.stack[stackLen-1]==inst){this.stack.pop()}}}const hostStack=new HostStack;function normalizeProperties(props){const output={};for(let p in props){const o=props[p];output[p]="function"===typeof o?{type:o}:o}return output}const PropertiesMixin=dedupingMixin(superClass=>{const base=PropertiesChanged(superClass);function superPropertiesClass(constructor){const superCtor=Object.getPrototypeOf(constructor);return superCtor.prototype instanceof PropertiesMixin?superCtor:null}function ownProperties(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",constructor))){let props=null;if(constructor.hasOwnProperty(JSCompiler_renameProperty("properties",constructor))){const properties=constructor.properties;if(properties){props=normalizeProperties(properties)}}constructor.__ownProperties=props}return constructor.__ownProperties}class PropertiesMixin extends base{static get observedAttributes(){const props=this._properties;return props?Object.keys(props).map(p=>this.attributeNameForProperty(p)):[]}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const superCtor=superPropertiesClass(this);if(superCtor){superCtor.finalize()}this.__finalized=!0;this._finalizeClass()}}static _finalizeClass(){const props=ownProperties(this);if(props){this.createProperties(props)}}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const superCtor=superPropertiesClass(this);this.__properties=Object.assign({},superCtor&&superCtor._properties,ownProperties(this))}return this.__properties}static typeForProperty(name){const info=this._properties[name];return info&&info.type}_initializeProperties(){this.constructor.finalize();super._initializeProperties()}connectedCallback(){if(super.connectedCallback){super.connectedCallback()}this._enableProperties()}disconnectedCallback(){if(super.disconnectedCallback){super.disconnectedCallback()}}}return PropertiesMixin}),bundledImportMeta=babelHelpers.objectSpread({},meta,{url:new URL("./node_modules/%40polymer/polymer/lib/mixins/element-mixin.js",meta.url).href}),version="3.0.5",ElementMixin=dedupingMixin(base=>{const polymerElementBase=PropertiesMixin(PropertyEffects(base));function propertyDefaults(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",constructor))){constructor.__propertyDefaults=null;let props=constructor._properties;for(let p in props){let info=props[p];if("value"in info){constructor.__propertyDefaults=constructor.__propertyDefaults||{};constructor.__propertyDefaults[p]=info}}}return constructor.__propertyDefaults}function ownObservers(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",constructor))){constructor.__ownObservers=constructor.hasOwnProperty(JSCompiler_renameProperty("observers",constructor))?constructor.observers:null}return constructor.__ownObservers}function createPropertyFromConfig(proto,name,info,allProps){if(info.computed){info.readOnly=!0}if(info.computed&&!proto._hasReadOnlyEffect(name)){proto._createComputedProperty(name,info.computed,allProps)}if(info.readOnly&&!proto._hasReadOnlyEffect(name)){proto._createReadOnlyProperty(name,!info.computed)}if(info.reflectToAttribute&&!proto._hasReflectEffect(name)){proto._createReflectedProperty(name)}if(info.notify&&!proto._hasNotifyEffect(name)){proto._createNotifyingProperty(name)}if(info.observer){proto._createPropertyObserver(name,info.observer,allProps[info.observer])}proto._addPropertyToAttributeMap(name)}function processElementStyles(klass,template,is,baseURI){const templateStyles=template.content.querySelectorAll("style"),stylesWithImports=stylesFromTemplate(template),linkedStyles=stylesFromModuleImports(is),firstTemplateChild=template.content.firstElementChild;for(let idx=0,s;idx<linkedStyles.length;idx++){s=linkedStyles[idx];s.textContent=klass._processStyleText(s.textContent,baseURI);template.content.insertBefore(s,firstTemplateChild)}let templateStyleIndex=0;for(let i=0;i<stylesWithImports.length;i++){let s=stylesWithImports[i],templateStyle=templateStyles[templateStyleIndex];if(templateStyle!==s){s=s.cloneNode(!0);templateStyle.parentNode.insertBefore(s,templateStyle)}else{templateStyleIndex++}s.textContent=klass._processStyleText(s.textContent,baseURI)}if(window.ShadyCSS){window.ShadyCSS.prepareTemplate(template,is)}}function getTemplateFromDomModule(is){let template=null;if(is&&(!strictTemplatePolicy||allowTemplateFromDomModule)){template=DomModule.import(is,"template");if(strictTemplatePolicy&&!template){throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${is}`)}}return template}class PolymerElement extends polymerElementBase{static get polymerElementVersion(){return version}static _finalizeClass(){super._finalizeClass();if(this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&this.is){register(this.prototype)}const observers=ownObservers(this);if(observers){this.createObservers(observers,this._properties)}let template=this.template;if(template){if("string"===typeof template){console.error("template getter must return HTMLTemplateElement");template=null}else{template=template.cloneNode(!0)}}this.prototype._template=template}static createProperties(props){for(let p in props){createPropertyFromConfig(this.prototype,p,props[p],props)}}static createObservers(observers,dynamicFns){const proto=this.prototype;for(let i=0;i<observers.length;i++){proto._createMethodObserver(observers[i],dynamicFns)}}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){this._template=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:getTemplateFromDomModule(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(value){this._template=value}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const meta=this.importMeta;if(meta){this._importPath=pathFromUrl(meta.url)}else{const module=DomModule.import(this.is);this._importPath=module&&module.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super();this._template;this._importPath;this.rootPath;this.importPath;this.root;this.$}_initializeProperties(){instanceCount++;this.constructor.finalize();this.constructor._finalizeTemplate(this.localName);super._initializeProperties();this.rootPath=rootPath;this.importPath=this.constructor.importPath;let p$=propertyDefaults(this.constructor);if(!p$){return}for(let p in p$){let info=p$[p];if(!this.hasOwnProperty(p)){let value="function"==typeof info.value?info.value.call(this):info.value;if(this._hasAccessor(p)){this._setPendingProperty(p,value,!0)}else{this[p]=value}}}}static _processStyleText(cssText,baseURI){return resolveCss(cssText,baseURI)}static _finalizeTemplate(is){const template=this.prototype._template;if(template&&!template.__polymerFinalized){template.__polymerFinalized=!0;const importPath=this.importPath,baseURI=importPath?resolveUrl(importPath):"";processElementStyles(this,template,is,baseURI);this.prototype._bindTemplate(template)}}connectedCallback(){if(window.ShadyCSS&&this._template){window.ShadyCSS.styleElement(this)}super.connectedCallback()}ready(){if(this._template){this.root=this._stampTemplate(this._template);this.$=this.root.$}super.ready()}_readyClients(){if(this._template){this.root=this._attachDom(this.root)}super._readyClients()}_attachDom(dom){if(this.attachShadow){if(dom){if(!this.shadowRoot){this.attachShadow({mode:"open"})}this.shadowRoot.appendChild(dom);return this.shadowRoot}return null}else{throw new Error("ShadowDOM not available. "+"PolymerElement can create dom as children instead of in "+"ShadowDOM by setting `this.root = this;` before `ready`.")}}updateStyles(properties){if(window.ShadyCSS){window.ShadyCSS.styleSubtree(this,properties)}}resolveUrl(url,base){if(!base&&this.importPath){base=resolveUrl(this.importPath)}return resolveUrl(url,base)}static _parseTemplateContent(template,templateInfo,nodeInfo){templateInfo.dynamicFns=templateInfo.dynamicFns||this._properties;return super._parseTemplateContent(template,templateInfo,nodeInfo)}}return PolymerElement});let instanceCount=0;const registrations=[];function _regLog(prototype){console.log("["+prototype.is+"]: registered")}function register(prototype){registrations.push(prototype)}function dumpRegistrations(){registrations.forEach(_regLog)}const updateStyles=function(props){if(window.ShadyCSS){window.ShadyCSS.styleDocument(props)}},PolymerElement=ElementMixin(HTMLElement),ThemePropertyMixin=superClass=>class VaadinThemePropertyMixin extends superClass{static get properties(){return{theme:{type:String,readOnly:!0}}}attributeChangedCallback(name,oldValue,newValue){super.attributeChangedCallback(name,oldValue,newValue);if("theme"===name){this._setTheme(newValue)}}},ThemableMixin=superClass=>class VaadinThemableMixin extends ThemePropertyMixin(superClass){static finalize(){super.finalize();const template=this.prototype._template,hasOwnTemplate=this.template&&this.template.parentElement&&this.template.parentElement.id===this.is,inheritedTemplate=Object.getPrototypeOf(this.prototype)._template;if(inheritedTemplate&&!hasOwnTemplate){Array.from(inheritedTemplate.content.querySelectorAll("style[include]")).forEach(s=>{this._includeStyle(s.getAttribute("include"),template)})}this._includeMatchingThemes(template)}static _includeMatchingThemes(template){const domModule=DomModule,modules=domModule.prototype.modules;let hasThemes=!1;const defaultModuleName=this.is+"-default-theme";Object.keys(modules).sort((moduleNameA,moduleNameB)=>{const vaadinA=0===moduleNameA.indexOf("vaadin-"),vaadinB=0===moduleNameB.indexOf("vaadin-"),vaadinThemePrefixes=["lumo-","material-"],vaadinThemeA=0<vaadinThemePrefixes.filter(prefix=>0===moduleNameA.indexOf(prefix)).length,vaadinThemeB=0<vaadinThemePrefixes.filter(prefix=>0===moduleNameB.indexOf(prefix)).length;if(vaadinA!==vaadinB){return vaadinA?-1:1}else if(vaadinThemeA!==vaadinThemeB){return vaadinThemeA?-1:1}else{return 0}}).forEach(moduleName=>{if(moduleName!==defaultModuleName){const themeFor=modules[moduleName].getAttribute("theme-for");if(themeFor){themeFor.split(" ").forEach(themeForToken=>{if(new RegExp("^"+themeForToken.split("*").join(".*")+"$").test(this.is)){hasThemes=!0;this._includeStyle(moduleName,template)}})}}});if(!hasThemes&&modules[defaultModuleName]){this._includeStyle(defaultModuleName,template)}}static _includeStyle(moduleName,template){if(template&&!template.content.querySelector(`style[include="${moduleName}"]`)){const styleEl=document.createElement("style");styleEl.setAttribute("include",moduleName);template.content.appendChild(styleEl)}}};class Debouncer{constructor(){this._asyncModule=null;this._callback=null;this._timer=null}setConfig(asyncModule,callback){this._asyncModule=asyncModule;this._callback=callback;this._timer=this._asyncModule.run(()=>{this._timer=null;this._callback()})}cancel(){if(this.isActive()){this._asyncModule.cancel(this._timer);this._timer=null}}flush(){if(this.isActive()){this.cancel();this._callback()}}isActive(){return null!=this._timer}static debounce(debouncer,asyncModule,callback){if(debouncer instanceof Debouncer){debouncer.cancel()}else{debouncer=new Debouncer}debouncer.setConfig(asyncModule,callback);return debouncer}}let debouncerQueue=[];const enqueueDebouncer=function(debouncer){debouncerQueue.push(debouncer)};function flushDebouncers(){const didFlush=!!debouncerQueue.length;while(debouncerQueue.length){try{debouncerQueue.shift().flush()}catch(e){setTimeout(()=>{throw e})}}return didFlush}const flush=function(){let shadyDOM,debouncers;do{shadyDOM=window.ShadyDOM&&ShadyDOM.flush();if(window.ShadyCSS&&window.ShadyCSS.ScopingShim){window.ShadyCSS.ScopingShim.flush()}debouncers=flushDebouncers()}while(shadyDOM||debouncers)},DEV_MODE_CODE_REGEXP=/\/\*\*\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i;function isMinified(){function test(){return!0}return uncommentAndRun(test)}function isDevelopmentMode(){try{return isForcedDevelopmentMode()||isLocalhost()&&!isMinified()&&!isFlowProductionMode()}catch(e){return!1}}function isForcedDevelopmentMode(){return localStorage.getItem("vaadin.developmentmode.force")}function isLocalhost(){return 0<=["localhost","127.0.0.1"].indexOf(window.location.hostname)}function isFlowProductionMode(){if(window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients){const productionModeApps=Object.keys(window.Vaadin.Flow.clients).map(key=>window.Vaadin.Flow.clients[key]).filter(client=>client.productionMode);if(0<productionModeApps.length){return!0}}return!1}function uncommentAndRun(callback,args){if("function"!==typeof callback){return}const match=DEV_MODE_CODE_REGEXP.exec(callback.toString());if(match){try{callback=new Function(match[1])}catch(e){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",e)}}return callback(args)}window.Vaadin=window.Vaadin||{};const runIfDevelopmentMode=function(callback,args){if(window.Vaadin.developmentMode){return uncommentAndRun(callback,args)}};if(window.Vaadin.developmentMode===void 0){window.Vaadin.developmentMode=isDevelopmentMode()}function maybeGatherAndSendStats(){}const usageStatistics=function(){if("function"===typeof runIfDevelopmentMode){return runIfDevelopmentMode(maybeGatherAndSendStats)}};if(!window.Vaadin){window.Vaadin={}}window.Vaadin.registrations=window.Vaadin.registrations||[];window.Vaadin.developmentModeCallback=window.Vaadin.developmentModeCallback||{};window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]=function(){if(usageStatistics){usageStatistics()}};let statsJob;const ElementMixin$1=superClass=>class VaadinElementMixin extends superClass{static _finalizeClass(){super._finalizeClass();if(this.is){window.Vaadin.registrations.push(this);if(window.Vaadin.developmentModeCallback){statsJob=Debouncer.debounce(statsJob,idlePeriod,()=>{window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]()});enqueueDebouncer(statsJob)}}}ready(){super.ready();if(null===document.doctype){console.warn("Vaadin components require the \"standards mode\" declaration. Please add <!DOCTYPE html> to the HTML document.")}}},TabIndexMixin=superClass=>class VaadinTabIndexMixin extends superClass{static get properties(){var properties={tabindex:{type:Number,value:0,reflectToAttribute:!0,observer:"_tabindexChanged"}};if(window.ShadyDOM){properties.tabIndex=properties.tabindex}return properties}},ControlStateMixin=superClass=>class VaadinControlStateMixin extends TabIndexMixin(superClass){static get properties(){return{autofocus:{type:Boolean},_previousTabIndex:{type:Number},disabled:{type:Boolean,observer:"_disabledChanged",reflectToAttribute:!0},_isShiftTabbing:{type:Boolean}}}ready(){this.addEventListener("focusin",e=>{if(e.composedPath()[0]===this){this._focus(e)}else if(-1!==e.composedPath().indexOf(this.focusElement)&&!this.disabled){this._setFocused(!0)}});this.addEventListener("focusout",e=>this._setFocused(!1));super.ready();const ensureEventComposed=e=>{if(!e.composed){e.target.dispatchEvent(new CustomEvent(e.type,{bubbles:!0,composed:!0,cancelable:!1}))}};this.shadowRoot.addEventListener("focusin",ensureEventComposed);this.shadowRoot.addEventListener("focusout",ensureEventComposed);this.addEventListener("keydown",e=>{if(!e.defaultPrevented&&9===e.keyCode){if(e.shiftKey){this._isShiftTabbing=!0;HTMLElement.prototype.focus.apply(this);this._setFocused(!1);setTimeout(()=>this._isShiftTabbing=!1,0)}else{const firefox=window.navigator.userAgent.match(/Firefox\/(\d\d\.\d)/);if(firefox&&63<=parseFloat(firefox[1])&&66>parseFloat(firefox[1])&&this.parentNode&&this.nextSibling){const fakeTarget=document.createElement("input");fakeTarget.style.position="absolute";fakeTarget.style.opacity=0;fakeTarget.tabIndex=this.tabIndex;this.parentNode.insertBefore(fakeTarget,this.nextSibling);fakeTarget.focus();fakeTarget.addEventListener("focusout",()=>this.parentNode.removeChild(fakeTarget))}}}});if(this.autofocus&&!this.focused&&!this.disabled){window.requestAnimationFrame(()=>{this._focus();this._setFocused(!0);this.setAttribute("focus-ring","")})}this._boundKeydownListener=this._bodyKeydownListener.bind(this);this._boundKeyupListener=this._bodyKeyupListener.bind(this)}connectedCallback(){super.connectedCallback();document.body.addEventListener("keydown",this._boundKeydownListener,!0);document.body.addEventListener("keyup",this._boundKeyupListener,!0)}disconnectedCallback(){super.disconnectedCallback();document.body.removeEventListener("keydown",this._boundKeydownListener,!0);document.body.removeEventListener("keyup",this._boundKeyupListener,!0);if(this.hasAttribute("focused")){this._setFocused(!1)}}_setFocused(focused){if(focused){this.setAttribute("focused","")}else{this.removeAttribute("focused")}if(focused&&this._tabPressed){this.setAttribute("focus-ring","")}else{this.removeAttribute("focus-ring")}}_bodyKeydownListener(e){this._tabPressed=9===e.keyCode}_bodyKeyupListener(){this._tabPressed=!1}get focusElement(){window.console.warn(`Please implement the 'focusElement' property in <${this.localName}>`);return this}_focus(e){if(this._isShiftTabbing){return}this.focusElement.focus();this._setFocused(!0)}focus(){if(!this.focusElement||this.disabled){return}this.focusElement.focus();this._setFocused(!0)}blur(){this.focusElement.blur();this._setFocused(!1)}_disabledChanged(disabled){this.focusElement.disabled=disabled;if(disabled){this.blur();this._previousTabIndex=this.tabindex;this.tabindex=-1;this.setAttribute("aria-disabled","true")}else{if("undefined"!==typeof this._previousTabIndex){this.tabindex=this._previousTabIndex}this.removeAttribute("aria-disabled")}}_tabindexChanged(tabindex){if(tabindex!==void 0){this.focusElement.tabIndex=tabindex}if(this.disabled&&this.tabindex){if(-1!==this.tabindex){this._previousTabIndex=this.tabindex}this.tabindex=tabindex=void 0}if(window.ShadyDOM){this.setProperties({tabIndex:tabindex,tabindex:tabindex})}}click(){if(!this.disabled){super.click()}}};class DetailsElement extends ControlStateMixin(ElementMixin$1(ThemableMixin(PolymerElement))){static get template(){return html`
    <style>
      :host {
        display: block;
      }

      :host([hidden]) {
        display: none !important;
      }

      [part="content"] {
        display: none;
        overflow: hidden;
      }

      [part="summary"][disabled] {
        pointer-events: none;
      }

      :host([opened]) [part="content"] {
        display: block;
        overflow: visible;
      }
    </style>
    <div role="heading">
      <div role="button" part="summary" on-click="_onToggleClick" on-keydown="_onToggleKeyDown" disabled\$="[[disabled]]" aria-expanded\$="[[_getAriaExpanded(opened)]]">
        <span part="toggle"></span>
        <span part="summary-content"><slot name="summary"></slot></span>
      </div>
    </div>
    <div part="content" aria-hidden\$="[[_getAriaHidden(opened)]]">
      <slot></slot>
    </div>
`}static get is(){return"vaadin-details"}static get version(){return"1.0.1"}static get properties(){return{opened:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_openedChanged"}}}get _collapsible(){return this.shadowRoot.querySelector("[part=\"content\"]")}get focusElement(){return this.shadowRoot.querySelector("[part=\"summary\"]")}ready(){super.ready();this._collapsible.addEventListener("keydown",e=>{if(e.shiftKey&&9===e.keyCode){e.stopPropagation()}})}_getAriaExpanded(opened){return opened?"true":"false"}_getAriaHidden(opened){return opened?"false":"true"}_openedChanged(opened){this._collapsible.style.maxHeight=opened?"":"0px"}_onToggleClick(e){this.opened=!this.opened}_onToggleKeyDown(e){if(-1<[13,32].indexOf(e.keyCode)){e.preventDefault();this.opened=!this.opened}}}customElements.define(DetailsElement.is,DetailsElement);class AccordionPanelElement extends DetailsElement{static get is(){return"vaadin-accordion-panel"}}customElements.define(AccordionPanelElement.is,AccordionPanelElement);function newSplice(index,removed,addedCount){return{index:index,removed:removed,addedCount:addedCount}}const EDIT_LEAVE=0,EDIT_UPDATE=1,EDIT_ADD=2,EDIT_DELETE=3;function calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd){let rowCount=oldEnd-oldStart+1,columnCount=currentEnd-currentStart+1,distances=Array(rowCount);for(let i=0;i<rowCount;i++){distances[i]=Array(columnCount);distances[i][0]=i}for(let j=0;j<columnCount;j++)distances[0][j]=j;for(let i=1;i<rowCount;i++){for(let j=1;j<columnCount;j++){if(equals(current[currentStart+j-1],old[oldStart+i-1]))distances[i][j]=distances[i-1][j-1];else{let north=distances[i-1][j]+1,west=distances[i][j-1]+1;distances[i][j]=north<west?north:west}}}return distances}function spliceOperationsFromEditDistances(distances){let i=distances.length-1,j=distances[0].length-1,current=distances[i][j],edits=[];while(0<i||0<j){if(0==i){edits.push(EDIT_ADD);j--;continue}if(0==j){edits.push(EDIT_DELETE);i--;continue}let northWest=distances[i-1][j-1],west=distances[i-1][j],north=distances[i][j-1],min;if(west<north)min=west<northWest?west:northWest;else min=north<northWest?north:northWest;if(min==northWest){if(northWest==current){edits.push(EDIT_LEAVE)}else{edits.push(EDIT_UPDATE);current=northWest}i--;j--}else if(min==west){edits.push(EDIT_DELETE);i--;current=west}else{edits.push(EDIT_ADD);j--;current=north}}edits.reverse();return edits}function calcSplices(current,currentStart,currentEnd,old,oldStart,oldEnd){let prefixCount=0,suffixCount=0,splice,minLength=_Mathmin(currentEnd-currentStart,oldEnd-oldStart);if(0==currentStart&&0==oldStart)prefixCount=sharedPrefix(current,old,minLength);if(currentEnd==current.length&&oldEnd==old.length)suffixCount=sharedSuffix(current,old,minLength-prefixCount);currentStart+=prefixCount;oldStart+=prefixCount;currentEnd-=suffixCount;oldEnd-=suffixCount;if(0==currentEnd-currentStart&&0==oldEnd-oldStart)return[];if(currentStart==currentEnd){splice=newSplice(currentStart,[],0);while(oldStart<oldEnd)splice.removed.push(old[oldStart++]);return[splice]}else if(oldStart==oldEnd)return[newSplice(currentStart,[],currentEnd-currentStart)];let ops=spliceOperationsFromEditDistances(calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd));splice=void 0;let splices=[],index=currentStart,oldIndex=oldStart;for(let i=0;i<ops.length;i++){switch(ops[i]){case EDIT_LEAVE:if(splice){splices.push(splice);splice=void 0}index++;oldIndex++;break;case EDIT_UPDATE:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;splice.removed.push(old[oldIndex]);oldIndex++;break;case EDIT_ADD:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;break;case EDIT_DELETE:if(!splice)splice=newSplice(index,[],0);splice.removed.push(old[oldIndex]);oldIndex++;break;}}if(splice){splices.push(splice)}return splices}function sharedPrefix(current,old,searchLength){for(let i=0;i<searchLength;i++)if(!equals(current[i],old[i]))return i;return searchLength}function sharedSuffix(current,old,searchLength){let index1=current.length,index2=old.length,count=0;while(count<searchLength&&equals(current[--index1],old[--index2]))count++;return count}function calculateSplices(current,previous){return calcSplices(current,0,current.length,previous,0,previous.length)}function equals(currentValue,previousValue){return currentValue===previousValue}function isSlot(node){return"slot"===node.localName}class FlattenedNodesObserver{static getFlattenedNodes(node){if(isSlot(node)){node=node;return node.assignedNodes({flatten:!0})}else{return Array.from(node.childNodes).map(node=>{if(isSlot(node)){node=node;return node.assignedNodes({flatten:!0})}else{return[node]}}).reduce((a,b)=>a.concat(b),[])}}constructor(target,callback){this._shadyChildrenObserver=null;this._nativeChildrenObserver=null;this._connected=!1;this._target=target;this.callback=callback;this._effectiveNodes=[];this._observer=null;this._scheduled=!1;this._boundSchedule=()=>{this._schedule()};this.connect();this._schedule()}connect(){if(isSlot(this._target)){this._listenSlots([this._target])}else if(this._target.children){this._listenSlots(this._target.children);if(window.ShadyDOM){this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,mutations=>{this._processMutations(mutations)})}else{this._nativeChildrenObserver=new MutationObserver(mutations=>{this._processMutations(mutations)});this._nativeChildrenObserver.observe(this._target,{childList:!0})}}this._connected=!0}disconnect(){if(isSlot(this._target)){this._unlistenSlots([this._target])}else if(this._target.children){this._unlistenSlots(this._target.children);if(window.ShadyDOM&&this._shadyChildrenObserver){ShadyDOM.unobserveChildren(this._shadyChildrenObserver);this._shadyChildrenObserver=null}else if(this._nativeChildrenObserver){this._nativeChildrenObserver.disconnect();this._nativeChildrenObserver=null}}this._connected=!1}_schedule(){if(!this._scheduled){this._scheduled=!0;microTask.run(()=>this.flush())}}_processMutations(mutations){this._processSlotMutations(mutations);this.flush()}_processSlotMutations(mutations){if(mutations){for(let i=0,mutation;i<mutations.length;i++){mutation=mutations[i];if(mutation.addedNodes){this._listenSlots(mutation.addedNodes)}if(mutation.removedNodes){this._unlistenSlots(mutation.removedNodes)}}}}flush(){if(!this._connected){return!1}if(window.ShadyDOM){ShadyDOM.flush()}if(this._nativeChildrenObserver){this._processSlotMutations(this._nativeChildrenObserver.takeRecords())}else if(this._shadyChildrenObserver){this._processSlotMutations(this._shadyChildrenObserver.takeRecords())}this._scheduled=!1;let info={target:this._target,addedNodes:[],removedNodes:[]},newNodes=this.constructor.getFlattenedNodes(this._target),splices=calculateSplices(newNodes,this._effectiveNodes);for(let i=0,s;i<splices.length&&(s=splices[i]);i++){for(let j=0,n;j<s.removed.length&&(n=s.removed[j]);j++){info.removedNodes.push(n)}}for(let i=0,s;i<splices.length&&(s=splices[i]);i++){for(let j=s.index;j<s.index+s.addedCount;j++){info.addedNodes.push(newNodes[j])}}this._effectiveNodes=newNodes;let didFlush=!1;if(info.addedNodes.length||info.removedNodes.length){didFlush=!0;this.callback.call(this._target,info)}return didFlush}_listenSlots(nodeList){for(let i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.addEventListener("slotchange",this._boundSchedule)}}}_unlistenSlots(nodeList){for(let i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.removeEventListener("slotchange",this._boundSchedule)}}}}class AccordionElement extends ThemableMixin(ElementMixin$1(PolymerElement)){static get template(){return html`
    <style>
      :host {
        display: block;
      }

      :host([hidden]) {
        display: none !important;
      }
    </style>
    <slot></slot>
`}static get is(){return"vaadin-accordion"}static get version(){return"1.0.0"}static get properties(){return{opened:{type:Number,value:0,notify:!0,reflectToAttribute:!0},items:{type:Array,readOnly:!0,notify:!0}}}static get observers(){return["_updateItems(items, opened)"]}constructor(){super();this._boundUpdateOpened=this._updateOpened.bind(this)}get focused(){return this.getRootNode().activeElement}focus(){if(this._observer){this._observer.flush()}const focusable=Array.isArray(this.items)&&this.items[0];if(focusable){focusable.focus()}}ready(){super.ready();this.addEventListener("keydown",e=>this._onKeydown(e));this._observer=new FlattenedNodesObserver(this,info=>{this._setItems(this._filterItems(Array.from(this.children)));this._filterItems(info.addedNodes).forEach(el=>{el.addEventListener("opened-changed",this._boundUpdateOpened)})})}_filterItems(array){return array.filter(el=>el instanceof AccordionPanelElement)}_updateItems(items,opened){if(items){const itemToOpen=items[opened];items.forEach(item=>{item.opened=item===itemToOpen})}}_onKeydown(event){const item=event.composedPath()[0];if(!this.items.some(el=>el.focusElement===item)){return}const key=event.key.replace(/^Arrow/,""),currentIdx=this.items.indexOf(this.focused);let idx,increment;switch(key){case"Up":increment=-1;idx=currentIdx-1;break;case"Down":increment=1;idx=currentIdx+1;break;case"Home":increment=1;idx=0;break;case"End":increment=-1;idx=this.items.length-1;break;default:}idx=this._getAvailableIndex(idx,increment);if(0<=idx){this.items[idx].focus();this.items[idx].setAttribute("focus-ring","");event.preventDefault()}}_getAvailableIndex(index,increment){const totalItems=this.items.length;let idx=index;for(let i=0;"number"===typeof idx&&i<totalItems;i++,idx+=increment||1){if(0>idx){idx=totalItems-1}else if(idx>=totalItems){idx=0}const item=this.items[idx];if(!item.disabled){return idx}}return-1}_updateOpened(e){const target=this._filterItems(e.composedPath())[0],idx=this.items.indexOf(target);if(e.detail.value){if(target.disabled||-1===idx){return}this.opened=idx;this.items.forEach(item=>{if(item!==target&&item.opened){item.opened=!1}})}else if(!this.items.some(item=>item.opened)){this.opened=null}}}customElements.define(AccordionElement.is,AccordionElement);const $_documentContainer$8=html`<dom-module id="lumo-notification-card" theme-for="vaadin-notification-card">
  <template>
    <style>
      :host {
        position: relative;
        margin: var(--lumo-space-s);
      }

      [part="overlay"] {
        background: var(--lumo-base-color) linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
        border-radius: var(--lumo-border-radius);
        box-shadow: 0 0 0 1px var(--lumo-contrast-10pct), var(--lumo-box-shadow-l);
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        font-weight: 400;
        line-height: var(--lumo-line-height-s);
        letter-spacing: 0;
        text-transform: none;
        -webkit-text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      [part="content"] {
        padding: var(--lumo-space-wide-l);
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      [part="content"] ::slotted(vaadin-button) {
        flex: none;
        margin: 0 calc(var(--lumo-space-s) * -1) 0 var(--lumo-space-m);
      }

      :host([slot^="middle"]) {
        width: 20em;
        max-width: 80vw;
        margin: var(--lumo-space-s) auto;
      }

      :host([slot\$="stretch"]) {
        margin: 0;
      }

      :host([slot\$="stretch"]) [part="overlay"] {
        border-radius: 0;
      }

      @media (min-width: 421px) {
        :host(:not([slot\$="stretch"])) {
          display: flex;
        }

        :host([slot\$="end"]) {
          justify-content: flex-end;
        }

        :host([slot^="middle"]),
        :host([slot\$="center"]) {
          display: flex;
          justify-content: center;
        }
      }

      @keyframes lumo-notification-exit-fade-out {
        100% {
          opacity: 0;
        }
      }

      @keyframes lumo-notification-enter-fade-in {
        0% {
          opacity: 0;
        }
      }

      @keyframes lumo-notification-enter-slide-down {
        0% {
          transform: translateY(-200%);
          opacity: 0;
        }
      }

      @keyframes lumo-notification-exit-slide-up {
        100% {
          transform: translateY(-200%);
          opacity: 0;
        }
      }

      @keyframes lumo-notification-enter-slide-up {
        0% {
          transform: translateY(200%);
          opacity: 0;
        }
      }

      @keyframes lumo-notification-exit-slide-down {
        100% {
          transform: translateY(200%);
          opacity: 0;
        }
      }

      :host([slot="middle"][opening]) {
        animation: lumo-notification-enter-fade-in 300ms;
      }

      :host([slot="middle"][closing]) {
        animation: lumo-notification-exit-fade-out 300ms;
      }

      :host([slot^="top"][opening]) {
        animation: lumo-notification-enter-slide-down 300ms;
      }

      :host([slot^="top"][closing]) {
        animation: lumo-notification-exit-slide-up 300ms;
      }

      :host([slot^="bottom"][opening]) {
        animation: lumo-notification-enter-slide-up 300ms;
      }

      :host([slot^="bottom"][closing]) {
        animation: lumo-notification-exit-slide-down 300ms;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$8.content);function mutablePropertyChange(inst,property,value,old,mutableData){let isObject;if(mutableData){isObject="object"===typeof value&&null!==value;if(isObject){old=inst.__dataTemp[property]}}let shouldChange=old!==value&&(old===old||value===value);if(isObject&&shouldChange){inst.__dataTemp[property]=value}return shouldChange}const MutableData=dedupingMixin(superClass=>{class MutableData extends superClass{_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,!0)}}return MutableData}),OptionalMutableData=dedupingMixin(superClass=>{class OptionalMutableData extends superClass{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,this.mutableData)}}return OptionalMutableData});MutableData._mutablePropertyChange=mutablePropertyChange;let newInstance=null;function HTMLTemplateElementExtension(){return newInstance}HTMLTemplateElementExtension.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:HTMLTemplateElementExtension,writable:!0}});const DataTemplate=PropertyEffects(HTMLTemplateElementExtension),MutableDataTemplate=MutableData(DataTemplate);function upgradeTemplate(template,constructor){newInstance=template;Object.setPrototypeOf(template,constructor.prototype);new constructor;newInstance=null}const base=PropertyEffects(class{});class TemplateInstanceBase extends base{constructor(props){super();this._configureProperties(props);this.root=this._stampTemplate(this.__dataHost);let children=this.children=[];for(let n=this.root.firstChild;n;n=n.nextSibling){children.push(n);n.__templatizeInstance=this}if(this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__){this._showHideChildren(!0)}let options=this.__templatizeOptions;if(props&&options.instanceProps||!options.instanceProps){this._enableProperties()}}_configureProperties(props){let options=this.__templatizeOptions;if(options.forwardHostProp){for(let hprop in this.__hostProps){this._setPendingProperty(hprop,this.__dataHost["_host_"+hprop])}}for(let iprop in props){this._setPendingProperty(iprop,props[iprop])}}forwardHostProp(prop,value){if(this._setPendingPropertyOrPath(prop,value,!1,!0)){this.__dataHost._enqueueClient(this)}}_addEventListenerToNode(node,eventName,handler){if(this._methodHost&&this.__templatizeOptions.parentModel){this._methodHost._addEventListenerToNode(node,eventName,e=>{e.model=this;handler(e)})}else{let templateHost=this.__dataHost.__dataHost;if(templateHost){templateHost._addEventListenerToNode(node,eventName,handler)}}}_showHideChildren(hide){let c=this.children;for(let i=0,n;i<c.length;i++){n=c[i];if(!!hide!=!!n.__hideTemplateChildren__){if(n.nodeType===Node.TEXT_NODE){if(hide){n.__polymerTextContent__=n.textContent;n.textContent=""}else{n.textContent=n.__polymerTextContent__}}else if("slot"===n.localName){if(hide){n.__polymerReplaced__=document.createComment("hidden-slot");n.parentNode.replaceChild(n.__polymerReplaced__,n)}else{const replace=n.__polymerReplaced__;if(replace){replace.parentNode.replaceChild(n,replace)}}}else if(n.style){if(hide){n.__polymerDisplay__=n.style.display;n.style.display="none"}else{n.style.display=n.__polymerDisplay__}}}n.__hideTemplateChildren__=hide;if(n._showHideChildren){n._showHideChildren(hide)}}}_setUnmanagedPropertyToNode(node,prop,value){if(node.__hideTemplateChildren__&&node.nodeType==Node.TEXT_NODE&&"textContent"==prop){node.__polymerTextContent__=value}else{super._setUnmanagedPropertyToNode(node,prop,value)}}get parentModel(){let model=this.__parentModel;if(!model){let options;model=this;do{model=model.__dataHost.__dataHost}while((options=model.__templatizeOptions)&&!options.parentModel);this.__parentModel=model}return model}dispatchEvent(event){return!0}}TemplateInstanceBase.prototype.__dataHost;TemplateInstanceBase.prototype.__templatizeOptions;TemplateInstanceBase.prototype._methodHost;TemplateInstanceBase.prototype.__templatizeOwner;TemplateInstanceBase.prototype.__hostProps;const MutableTemplateInstanceBase=MutableData(TemplateInstanceBase);function findMethodHost(template){let templateHost=template.__dataHost;return templateHost&&templateHost._methodHost||templateHost}function createTemplatizerClass(template,templateInfo,options){let base=options.mutableData?MutableTemplateInstanceBase:TemplateInstanceBase,klass=class extends base{};klass.prototype.__templatizeOptions=options;klass.prototype._bindTemplate(template);addNotifyEffects(klass,template,templateInfo,options);return klass}function addPropagateEffects(template,templateInfo,options){let userForwardHostProp=options.forwardHostProp;if(userForwardHostProp){let klass=templateInfo.templatizeTemplateClass;if(!klass){let base=options.mutableData?MutableDataTemplate:DataTemplate;klass=templateInfo.templatizeTemplateClass=class TemplatizedTemplate extends base{};let hostProps=templateInfo.hostProps;for(let prop in hostProps){klass.prototype._addPropertyEffect("_host_"+prop,klass.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:createForwardHostPropEffect(prop,userForwardHostProp)});klass.prototype._createNotifyingProperty("_host_"+prop)}}upgradeTemplate(template,klass);if(template.__dataProto){Object.assign(template.__data,template.__dataProto)}template.__dataTemp={};template.__dataPending=null;template.__dataOld=null;template._enableProperties()}}function createForwardHostPropEffect(hostProp,userForwardHostProp){return function forwardHostProp(template,prop,props){userForwardHostProp.call(template.__templatizeOwner,prop.substring("_host_".length),props[prop])}}function addNotifyEffects(klass,template,templateInfo,options){let hostProps=templateInfo.hostProps||{};for(let iprop in options.instanceProps){delete hostProps[iprop];let userNotifyInstanceProp=options.notifyInstanceProp;if(userNotifyInstanceProp){klass.prototype._addPropertyEffect(iprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyInstancePropEffect(iprop,userNotifyInstanceProp)})}}if(options.forwardHostProp&&template.__dataHost){for(let hprop in hostProps){klass.prototype._addPropertyEffect(hprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyHostPropEffect()})}}}function createNotifyInstancePropEffect(instProp,userNotifyInstanceProp){return function notifyInstanceProp(inst,prop,props){userNotifyInstanceProp.call(inst.__templatizeOwner,inst,prop,props[prop])}}function createNotifyHostPropEffect(){return function notifyHostProp(inst,prop,props){inst.__dataHost._setPendingPropertyOrPath("_host_"+prop,props[prop],!0,!0)}}function templatize(template,owner,options){if(strictTemplatePolicy&&!findMethodHost(template)){throw new Error("strictTemplatePolicy: template owner not trusted")}options=options||{};if(template.__templatizeOwner){throw new Error("A <template> can only be templatized once")}template.__templatizeOwner=owner;const ctor=owner?owner.constructor:TemplateInstanceBase;let templateInfo=ctor._parseTemplate(template),baseClass=templateInfo.templatizeInstanceClass;if(!baseClass){baseClass=createTemplatizerClass(template,templateInfo,options);templateInfo.templatizeInstanceClass=baseClass}addPropagateEffects(template,templateInfo,options);let klass=class TemplateInstance extends baseClass{};klass.prototype._methodHost=findMethodHost(template);klass.prototype.__dataHost=template;klass.prototype.__templatizeOwner=owner;klass.prototype.__hostProps=templateInfo.hostProps;klass=klass;return klass}function modelForElement(template,node){let model;while(node){if(model=node.__templatizeInstance){if(model.__dataHost!=template){node=model.__dataHost}else{return model}}else{node=node.parentNode}}return null}class NotificationContainer extends ThemableMixin(ElementMixin$1(PolymerElement)){static get template(){return html`
    <style>
      :host {
        position: fixed;
        z-index: 1000;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        box-sizing: border-box;

        display: flex;
        flex-direction: column;
        align-items: stretch;
        pointer-events: none;
      }

      [region-group] {
        flex: 1 1 0%;
        display: flex;
      }

      [region-group="top"] {
        align-items: flex-start;
      }

      [region-group="bottom"] {
        align-items: flex-end;
      }

      [region-group] > [region] {
        flex: 1 1 0%;
      }

      @media (max-width: 420px) {
        [region-group] {
          flex-direction: column;
          align-items: stretch;
        }

        [region-group="top"] {
          justify-content: flex-start;
        }

        [region-group="bottom"] {
          justify-content: flex-end;
        }

        [region-group] > [region] {
          flex: initial;
        }
      }
    </style>

    <div region="top-stretch"><slot name="top-stretch"></slot></div>
    <div region-group="top">
      <div region="top-start"><slot name="top-start"></slot></div>
      <div region="top-center"><slot name="top-center"></slot></div>
      <div region="top-end"><slot name="top-end"></slot></div>
    </div>
    <div region="middle"><slot name="middle"></slot></div>
    <div region-group="bottom">
      <div region="bottom-start"><slot name="bottom-start"></slot></div>
      <div region="bottom-center"><slot name="bottom-center"></slot></div>
      <div region="bottom-end"><slot name="bottom-end"></slot></div>
    </div>
    <div region="bottom-stretch"><slot name="bottom-stretch"></slot></div>
`}static get is(){return"vaadin-notification-container"}static get properties(){return{opened:{type:Boolean,value:!1,observer:"_openedChanged"}}}_openedChanged(opened){if(opened){document.body.appendChild(this);if(this._boundIosResizeListener){this._detectIosNavbar();window.addEventListener("resize",this._boundIosResizeListener)}}else{document.body.removeChild(this);if(this._boundIosResizeListener){window.removeEventListener("resize",this._boundIosResizeListener)}}}constructor(){super();if(/iPad|iPhone|iPod/.test(navigator.userAgent)){this._boundIosResizeListener=()=>this._detectIosNavbar()}}_detectIosNavbar(){const innerHeight=window.innerHeight,innerWidth=window.innerWidth,landscape=innerWidth>innerHeight,clientHeight=document.documentElement.clientHeight;if(landscape&&clientHeight>innerHeight){this.style.bottom=clientHeight-innerHeight+"px"}else{this.style.bottom="0"}}}class NotificationCard extends ThemableMixin(PolymerElement){static get template(){return html`
    <style>
      :host {
        display: block;
        pointer-events: auto;
      }
    </style>

    <div part="overlay">
      <div part="content">
        <slot></slot>
      </div>
    </div>
`}static get is(){return"vaadin-notification-card"}ready(){super.ready();this.setAttribute("role","alert");this.setAttribute("aria-live","polite")}}class NotificationElement extends ThemePropertyMixin(ElementMixin$1(PolymerElement)){static get template(){return html`
    <style>
      :host {
        display: none;
      }
    </style>
    <vaadin-notification-card id="vaadin-notification-card" theme\$="[[theme]]">
    </vaadin-notification-card>
`}static get is(){return"vaadin-notification"}static get version(){return"1.2.1"}static get properties(){return{duration:{type:Number,value:5e3},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},position:{type:String,value:"bottom-start",observer:"_positionChanged"},renderer:Function,_notificationTemplate:Object}}static get observers(){return["_durationChanged(duration, opened)","_templateOrRendererChanged(_notificationTemplate, renderer, opened)"]}ready(){super.ready();this._observer=new FlattenedNodesObserver(this,info=>{this._setTemplateFromNodes(info.addedNodes)})}_setTemplateFromNodes(nodes){this._notificationTemplate=nodes.filter(node=>node.localName&&"template"===node.localName)[0]||this._notificationTemplate}render(){if("function"!==typeof this.renderer){return}this.renderer(this._card,this)}_removeNewRendererOrTemplate(template,oldTemplate,renderer,oldRenderer){if(template!==oldTemplate){this._notificationTemplate=void 0}else if(renderer!==oldRenderer){this.renderer=void 0}}_templateOrRendererChanged(template,renderer,opened){if(template&&renderer){this._removeNewRendererOrTemplate(template,this._oldTemplate,renderer,this._oldRenderer);throw new Error("You should only use either a renderer or a template for notification content")}this._oldTemplate=template;const rendererChanged=this._oldRenderer!==renderer;this._oldRenderer=renderer;if(renderer){this._card=this.$["vaadin-notification-card"];if(rendererChanged){while(this._card.firstChild){this._card.removeChild(this._card.firstChild)}}if(opened){if(!this._didAnimateNotificationAppend){this._animatedAppendNotificationCard()}this.render()}}}open(){this.opened=!0}close(){this.opened=!1}get _container(){if(!NotificationElement._container){NotificationElement._container=document.createElement("vaadin-notification-container");document.body.appendChild(NotificationElement._container)}return NotificationElement._container}_openedChanged(opened){if(opened){this._container.opened=!0;if(!this._instance&&!this.renderer){this._ensureTemplatized()}this._animatedAppendNotificationCard()}else if(this._card){this._closeNotificationCard()}}_ensureTemplatized(){this._notificationTemplate=this.querySelector("template")||this._notificationTemplate;if(!this._notificationTemplate){return}if(!this._notificationTemplate._Templatizer){this._notificationTemplate._Templatizer=templatize(this._notificationTemplate,this,{forwardHostProp:function(prop,value){if(this._instance){this._instance.forwardHostProp(prop,value)}}})}this._instance=new this._notificationTemplate._Templatizer({});const templateRoot=this._notificationTemplate.getRootNode(),isScoped=templateRoot!==document;this._card=this.$["vaadin-notification-card"];this._cardContent=this._card.shadowRoot.querySelector("[part~=\"content\"]");if(isScoped){if(!this._cardContent.shadowRoot){this._cardContent.attachShadow({mode:"open"})}if(window.ShadyCSS&&!window.ShadyCSS.nativeShadow){var shadyStyleScope=templateRoot.host&&templateRoot.host.localName;if(shadyStyleScope&&-1===shadyStyleScope.indexOf("-")){shadyStyleScope=templateRoot.host.getAttribute("is")}if(shadyStyleScope){this._cardContent.setAttribute("is",shadyStyleScope)}}else{const scopeCssText=Array.from(templateRoot.querySelectorAll("style")).reduce((result,style)=>result+style.textContent,"").replace(/:host/g,":host-nomatch");if(scopeCssText){const style=document.createElement("style");style.textContent=scopeCssText;this._cardContent.shadowRoot.appendChild(style)}}this._cardContent.shadowRoot.appendChild(this._instance.root)}else{this._card.appendChild(this._instance.root)}this._card.setAttribute("aria-label",this._card.textContent.trim())}_animatedAppendNotificationCard(){if(this._card){this._card.setAttribute("opening","");this._appendNotificationCard();const listener=()=>{this._card.removeEventListener("animationend",listener);this._card.removeAttribute("opening")};this._card.addEventListener("animationend",listener);this._didAnimateNotificationAppend=!0}else{this._didAnimateNotificationAppend=!1}}_appendNotificationCard(){if(!this._card){return}if(!this._container.shadowRoot.querySelector(`slot[name="${this.position}"]`)){window.console.warn(`Invalid alignment parameter provided: position=${this.position}`);return}this._card.slot=this.position;if(this._container.firstElementChild&&/top/.test(this.position)){this._container.insertBefore(this._card,this._container.firstElementChild)}else{this._container.appendChild(this._card)}}_removeNotificationCard(){this._card.parentNode&&this._card.parentNode.removeChild(this._card);this._card.removeAttribute("closing");this._container.opened=!!this._container.firstElementChild}_closeNotificationCard(){this._durationTimeoutId&&clearTimeout(this._durationTimeoutId);this._animatedRemoveNotificationCard()}_animatedRemoveNotificationCard(){this._card.setAttribute("closing","");const name=getComputedStyle(this._card).getPropertyValue("animation-name");if(name&&"none"!=name){const listener=()=>{this._removeNotificationCard();this._card.removeEventListener("animationend",listener)};this._card.addEventListener("animationend",listener)}else{this._removeNotificationCard()}}_positionChanged(position){if(this.opened){this._animatedAppendNotificationCard()}}_durationChanged(duration,opened){if(opened){clearTimeout(this._durationTimeoutId);if(0<duration){this._durationTimeoutId=setTimeout(()=>this.close(),duration)}}}}customElements.define(NotificationContainer.is,NotificationContainer);customElements.define(NotificationCard.is,NotificationCard);customElements.define(NotificationElement.is,NotificationElement);const $_documentContainer$9=html`<dom-module id="lumo-checkbox" theme-for="vaadin-checkbox">
  <template>
    <style include="lumo-checkbox-style lumo-checkbox-effects">
      /* IE11 only */
      ::-ms-backdrop,
      [part="checkbox"] {
        line-height: 1;
      }
    </style>
  </template>
</dom-module><dom-module id="lumo-checkbox-style">
  <template>
    <style>
      :host {
        -webkit-tap-highlight-color: transparent;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: default;
        outline: none;
      }

      [part="label"]:not([empty]) {
        margin: 0.1875em 0.875em 0.1875em 0.375em;
      }

      [part="checkbox"] {
        width: calc(1em + 2px);
        height: calc(1em + 2px);
        margin: 0.1875em;
        position: relative;
        border-radius: var(--lumo-border-radius);
        background-color: var(--lumo-contrast-20pct);
        transition: transform 0.2s cubic-bezier(.12, .32, .54, 2), background-color 0.15s;
        pointer-events: none;
        line-height: 1.2;
      }

      :host([indeterminate]) [part="checkbox"],
      :host([checked]) [part="checkbox"] {
        background-color: var(--lumo-primary-color);
      }

      /* Needed to align the checkbox nicely on the baseline */
      [part="checkbox"]::before {
        content: "\\2003";
      }

      /* Checkmark */
      [part="checkbox"]::after {
        content: "";
        display: inline-block;
        width: 0;
        height: 0;
        border: 0 solid var(--lumo-primary-contrast-color);
        border-width: 0.1875em 0 0 0.1875em;
        box-sizing: border-box;
        transform-origin: 0 0;
        position: absolute;
        top: 0.8125em;
        left: 0.5em;
        transform: scale(0.55) rotate(-135deg);
        opacity: 0;
      }

      :host([checked]) [part="checkbox"]::after {
        opacity: 1;
        width: 0.625em;
        height: 1.0625em;
      }

      /* Indeterminate checkmark */

      :host([indeterminate]) [part="checkbox"]::after {
        transform: none;
        opacity: 1;
        top: 45%;
        height: 10%;
        left: 22%;
        right: 22%;
        width: auto;
        border: 0;
        background-color: var(--lumo-primary-contrast-color);
        transition: opacity 0.25s;
      }

      /* Focus ring */

      :host([focus-ring]) [part="checkbox"] {
        box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);
      }

      /* Disabled */

      :host([disabled]) {
        pointer-events: none;
        color: var(--lumo-disabled-text-color);
      }

      :host([disabled]) [part="label"] ::slotted(*) {
        color: inherit;
      }

      :host([disabled]) [part="checkbox"] {
        background-color: var(--lumo-contrast-10pct);
      }

      :host([disabled]) [part="checkbox"]::after {
        border-color: var(--lumo-contrast-30pct);
      }

      :host([indeterminate][disabled]) [part="checkbox"]::after {
        background-color: var(--lumo-contrast-30pct);
      }
    </style>
  </template>
</dom-module><dom-module id="lumo-checkbox-effects">
  <template>
    <style>
      /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */
      :host(:hover) [part="checkbox"]::after {
        transition: width 0.1s, height 0.25s;
      }

      /* Used for activation "halo" */
      [part="checkbox"]::before {
        color: transparent;
        display: inline-block;
        width: 100%;
        height: 100%;
        border-radius: inherit;
        background-color: inherit;
        transform: scale(1.4);
        opacity: 0;
        transition: transform 0.1s, opacity 0.8s;
      }

      /* Hover */

      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part="checkbox"] {
        background-color: var(--lumo-contrast-30pct);
      }

      /* Disable hover for touch devices */
      @media (pointer: coarse) {
        :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part="checkbox"] {
          background-color: var(--lumo-contrast-20pct);
        }
      }

      /* Active */

      :host([active]) [part="checkbox"] {
        transform: scale(0.9);
        transition-duration: 0.05s;
      }

      :host([active][checked]) [part="checkbox"] {
        transform: scale(1.1);
      }

      :host([active]:not([checked])) [part="checkbox"]::before {
        transition-duration: 0.01s, 0.01s;
        transform: scale(0);
        opacity: 0.4;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$9.content);let HAS_NATIVE_TA="string"===typeof document.head.style.touchAction,GESTURE_KEY="__polymerGestures",HANDLED_OBJ="__polymerGesturesHandled",TOUCH_ACTION="__polymerGesturesTouchAction",TAP_DISTANCE=25,TRACK_DISTANCE=5,TRACK_LENGTH=2,MOUSE_TIMEOUT=2500,MOUSE_EVENTS=["mousedown","mousemove","mouseup","click"],MOUSE_WHICH_TO_BUTTONS=[0,1,4,2],MOUSE_HAS_BUTTONS=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function isMouseEvent(name){return-1<MOUSE_EVENTS.indexOf(name)}let SUPPORTS_PASSIVE=!1;(function(){try{let opts=Object.defineProperty({},"passive",{get(){SUPPORTS_PASSIVE=!0}});window.addEventListener("test",null,opts);window.removeEventListener("test",null,opts)}catch(e){}})();function PASSIVE_TOUCH(eventName){if(isMouseEvent(eventName)||"touchend"===eventName){return}if(HAS_NATIVE_TA&&SUPPORTS_PASSIVE&&passiveTouchGestures){return{passive:!0}}else{return}}let IS_TOUCH_ONLY=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const clickedLabels=[],labellable={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},canBeDisabled={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function canBeLabelled(el){return labellable[el.localName]||!1}function matchingLabels(el){let labels=Array.prototype.slice.call(el.labels||[]);if(!labels.length){labels=[];let root=el.getRootNode();if(el.id){let matching=root.querySelectorAll(`label[for = ${el.id}]`);for(let i=0;i<matching.length;i++){labels.push(matching[i])}}}return labels}let mouseCanceller=function(mouseEvent){let sc=mouseEvent.sourceCapabilities;if(sc&&!sc.firesTouchEvents){return}mouseEvent[HANDLED_OBJ]={skip:!0};if("click"===mouseEvent.type){let clickFromLabel=!1,path=mouseEvent.composedPath&&mouseEvent.composedPath();if(path){for(let i=0;i<path.length;i++){if(path[i].nodeType===Node.ELEMENT_NODE){if("label"===path[i].localName){clickedLabels.push(path[i])}else if(canBeLabelled(path[i])){let ownerLabels=matchingLabels(path[i]);for(let j=0;j<ownerLabels.length;j++){clickFromLabel=clickFromLabel||-1<clickedLabels.indexOf(ownerLabels[j])}}}if(path[i]===POINTERSTATE.mouse.target){return}}}if(clickFromLabel){return}mouseEvent.preventDefault();mouseEvent.stopPropagation()}};function setupTeardownMouseCanceller(setup){let events=IS_TOUCH_ONLY?["click"]:MOUSE_EVENTS;for(let i=0,en;i<events.length;i++){en=events[i];if(setup){clickedLabels.length=0;document.addEventListener(en,mouseCanceller,!0)}else{document.removeEventListener(en,mouseCanceller,!0)}}}function ignoreMouse(e){if(!POINTERSTATE.mouse.mouseIgnoreJob){setupTeardownMouseCanceller(!0)}let unset=function(){setupTeardownMouseCanceller();POINTERSTATE.mouse.target=null;POINTERSTATE.mouse.mouseIgnoreJob=null};POINTERSTATE.mouse.target=e.composedPath()[0];POINTERSTATE.mouse.mouseIgnoreJob=Debouncer.debounce(POINTERSTATE.mouse.mouseIgnoreJob,timeOut.after(MOUSE_TIMEOUT),unset)}function hasLeftMouseButton(ev){let type=ev.type;if(!isMouseEvent(type)){return!1}if("mousemove"===type){let buttons=ev.buttons===void 0?1:ev.buttons;if(ev instanceof window.MouseEvent&&!MOUSE_HAS_BUTTONS){buttons=MOUSE_WHICH_TO_BUTTONS[ev.which]||0}return!!(1&buttons)}else{let button=ev.button===void 0?0:ev.button;return 0===button}}function isSyntheticClick(ev){if("click"===ev.type){if(0===ev.detail){return!0}let t=_findOriginalTarget(ev);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE){return!0}let bcr=t.getBoundingClientRect(),x=ev.pageX,y=ev.pageY;return!(x>=bcr.left&&x<=bcr.right&&y>=bcr.top&&y<=bcr.bottom)}return!1}let POINTERSTATE={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function firstTouchAction(ev){let ta="auto",path=ev.composedPath&&ev.composedPath();if(path){for(let i=0,n;i<path.length;i++){n=path[i];if(n[TOUCH_ACTION]){ta=n[TOUCH_ACTION];break}}}return ta}function trackDocument(stateObj,movefn,upfn){stateObj.movefn=movefn;stateObj.upfn=upfn;document.addEventListener("mousemove",movefn);document.addEventListener("mouseup",upfn)}function untrackDocument(stateObj){document.removeEventListener("mousemove",stateObj.movefn);document.removeEventListener("mouseup",stateObj.upfn);stateObj.movefn=null;stateObj.upfn=null}document.addEventListener("touchend",ignoreMouse,SUPPORTS_PASSIVE?{passive:!0}:!1);const gestures={},recognizers=[];function deepTargetFind(x,y){let node=document.elementFromPoint(x,y),next=node;while(next&&next.shadowRoot&&!window.ShadyDOM){let oldNext=next;next=next.shadowRoot.elementFromPoint(x,y);if(oldNext===next){break}if(next){node=next}}return node}function _findOriginalTarget(ev){if(ev.composedPath){const targets=ev.composedPath();return 0<targets.length?targets[0]:ev.target}return ev.target}function _handleNative(ev){let handled,type=ev.type,node=ev.currentTarget,gobj=node[GESTURE_KEY];if(!gobj){return}let gs=gobj[type];if(!gs){return}if(!ev[HANDLED_OBJ]){ev[HANDLED_OBJ]={};if("touch"===type.slice(0,5)){ev=ev;let t=ev.changedTouches[0];if("touchstart"===type){if(1===ev.touches.length){POINTERSTATE.touch.id=t.identifier}}if(POINTERSTATE.touch.id!==t.identifier){return}if(!HAS_NATIVE_TA){if("touchstart"===type||"touchmove"===type){_handleTouchAction(ev)}}}}handled=ev[HANDLED_OBJ];if(handled.skip){return}for(let i=0,r;i<recognizers.length;i++){r=recognizers[i];if(gs[r.name]&&!handled[r.name]){if(r.flow&&-1<r.flow.start.indexOf(ev.type)&&r.reset){r.reset()}}}for(let i=0,r;i<recognizers.length;i++){r=recognizers[i];if(gs[r.name]&&!handled[r.name]){handled[r.name]=!0;r[type](ev)}}}function _handleTouchAction(ev){let t=ev.changedTouches[0],type=ev.type;if("touchstart"===type){POINTERSTATE.touch.x=t.clientX;POINTERSTATE.touch.y=t.clientY;POINTERSTATE.touch.scrollDecided=!1}else if("touchmove"===type){if(POINTERSTATE.touch.scrollDecided){return}POINTERSTATE.touch.scrollDecided=!0;let ta=firstTouchAction(ev),shouldPrevent=!1,dx=_Mathabs(POINTERSTATE.touch.x-t.clientX),dy=_Mathabs(POINTERSTATE.touch.y-t.clientY);if(!ev.cancelable){}else if("none"===ta){shouldPrevent=!0}else if("pan-x"===ta){shouldPrevent=dy>dx}else if("pan-y"===ta){shouldPrevent=dx>dy}if(shouldPrevent){ev.preventDefault()}else{prevent("track")}}}function addListener(node,evType,handler){if(gestures[evType]){_add(node,evType,handler);return!0}return!1}function removeListener(node,evType,handler){if(gestures[evType]){_remove(node,evType,handler);return!0}return!1}function _add(node,evType,handler){let recognizer=gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(!gobj){node[GESTURE_KEY]=gobj={}}for(let i=0,dep,gd;i<deps.length;i++){dep=deps[i];if(IS_TOUCH_ONLY&&isMouseEvent(dep)&&"click"!==dep){continue}gd=gobj[dep];if(!gd){gobj[dep]=gd={_count:0}}if(0===gd._count){node.addEventListener(dep,_handleNative,PASSIVE_TOUCH(dep))}gd[name]=(gd[name]||0)+1;gd._count=(gd._count||0)+1}node.addEventListener(evType,handler);if(recognizer.touchAction){setTouchAction(node,recognizer.touchAction)}}function _remove(node,evType,handler){let recognizer=gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(gobj){for(let i=0,dep,gd;i<deps.length;i++){dep=deps[i];gd=gobj[dep];if(gd&&gd[name]){gd[name]=(gd[name]||1)-1;gd._count=(gd._count||1)-1;if(0===gd._count){node.removeEventListener(dep,_handleNative,PASSIVE_TOUCH(dep))}}}}node.removeEventListener(evType,handler)}function register$1(recog){recognizers.push(recog);for(let i=0;i<recog.emits.length;i++){gestures[recog.emits[i]]=recog}}function _findRecognizerByEvent(evName){for(let i=0,r;i<recognizers.length;i++){r=recognizers[i];for(let j=0,n;j<r.emits.length;j++){n=r.emits[j];if(n===evName){return r}}}return null}function setTouchAction(node,value){if(HAS_NATIVE_TA&&node instanceof HTMLElement){microTask.run(()=>{node.style.touchAction=value})}node[TOUCH_ACTION]=value}function _fire(target,type,detail){let ev=new Event(type,{bubbles:!0,cancelable:!0,composed:!0});ev.detail=detail;target.dispatchEvent(ev);if(ev.defaultPrevented){let preventer=detail.preventer||detail.sourceEvent;if(preventer&&preventer.preventDefault){preventer.preventDefault()}}}function prevent(evName){let recognizer=_findRecognizerByEvent(evName);if(recognizer.info){recognizer.info.prevent=!0}}function resetMouseCanceller(){if(POINTERSTATE.mouse.mouseIgnoreJob){POINTERSTATE.mouse.mouseIgnoreJob.flush()}}register$1({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){untrackDocument(this.info)},mousedown:function(e){if(!hasLeftMouseButton(e)){return}let t=_findOriginalTarget(e),self=this,movefn=function movefn(e){if(!hasLeftMouseButton(e)){downupFire("up",t,e);untrackDocument(self.info)}},upfn=function upfn(e){if(hasLeftMouseButton(e)){downupFire("up",t,e)}untrackDocument(self.info)};trackDocument(this.info,movefn,upfn);downupFire("down",t,e)},touchstart:function(e){downupFire("down",_findOriginalTarget(e),e.changedTouches[0],e)},touchend:function(e){downupFire("up",_findOriginalTarget(e),e.changedTouches[0],e)}});function downupFire(type,target,event,preventer){if(!target){return}_fire(target,type,{x:event.clientX,y:event.clientY,sourceEvent:event,preventer:preventer,prevent:function(e){return prevent(e)}})}register$1({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(move){if(this.moves.length>TRACK_LENGTH){this.moves.shift()}this.moves.push(move)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start";this.info.started=!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;untrackDocument(this.info)},mousedown:function(e){if(!hasLeftMouseButton(e)){return}let t=_findOriginalTarget(e),self=this,movefn=function movefn(e){let x=e.clientX,y=e.clientY;if(trackHasMovedEnough(self.info,x,y)){self.info.state=self.info.started?"mouseup"===e.type?"end":"track":"start";if("start"===self.info.state){prevent("tap")}self.info.addMove({x:x,y:y});if(!hasLeftMouseButton(e)){self.info.state="end";untrackDocument(self.info)}if(t){trackFire(self.info,t,e)}self.info.started=!0}},upfn=function upfn(e){if(self.info.started){movefn(e)}untrackDocument(self.info)};trackDocument(this.info,movefn,upfn);this.info.x=e.clientX;this.info.y=e.clientY},touchstart:function(e){let ct=e.changedTouches[0];this.info.x=ct.clientX;this.info.y=ct.clientY},touchmove:function(e){let t=_findOriginalTarget(e),ct=e.changedTouches[0],x=ct.clientX,y=ct.clientY;if(trackHasMovedEnough(this.info,x,y)){if("start"===this.info.state){prevent("tap")}this.info.addMove({x:x,y:y});trackFire(this.info,t,ct);this.info.state="track";this.info.started=!0}},touchend:function(e){let t=_findOriginalTarget(e),ct=e.changedTouches[0];if(this.info.started){this.info.state="end";this.info.addMove({x:ct.clientX,y:ct.clientY});trackFire(this.info,t,ct)}}});function trackHasMovedEnough(info,x,y){if(info.prevent){return!1}if(info.started){return!0}let dx=_Mathabs(info.x-x),dy=_Mathabs(info.y-y);return dx>=TRACK_DISTANCE||dy>=TRACK_DISTANCE}function trackFire(info,target,touch){if(!target){return}let secondlast=info.moves[info.moves.length-2],lastmove=info.moves[info.moves.length-1],dx=lastmove.x-info.x,dy=lastmove.y-info.y,ddx,ddy=0;if(secondlast){ddx=lastmove.x-secondlast.x;ddy=lastmove.y-secondlast.y}_fire(target,"track",{state:info.state,x:touch.clientX,y:touch.clientY,dx:dx,dy:dy,ddx:ddx,ddy:ddy,sourceEvent:touch,hover:function(){return deepTargetFind(touch.clientX,touch.clientY)}})}register$1({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=!1},mousedown:function(e){if(hasLeftMouseButton(e)){this.info.x=e.clientX;this.info.y=e.clientY}},click:function(e){if(hasLeftMouseButton(e)){trackForward(this.info,e)}},touchstart:function(e){const touch=e.changedTouches[0];this.info.x=touch.clientX;this.info.y=touch.clientY},touchend:function(e){trackForward(this.info,e.changedTouches[0],e)}});function trackForward(info,e,preventer){let dx=_Mathabs(e.clientX-info.x),dy=_Mathabs(e.clientY-info.y),t=_findOriginalTarget(preventer||e);if(!t||canBeDisabled[t.localName]&&t.hasAttribute("disabled")){return}if(isNaN(dx)||isNaN(dy)||dx<=TAP_DISTANCE&&dy<=TAP_DISTANCE||isSyntheticClick(e)){if(!info.prevent){_fire(t,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:preventer})}}}const findOriginalTarget=_findOriginalTarget,add=addListener,remove=removeListener,GestureEventListeners=dedupingMixin(superClass=>{class GestureEventListeners extends superClass{_addEventListenerToNode(node,eventName,handler){if(!addListener(node,eventName,handler)){super._addEventListenerToNode(node,eventName,handler)}}_removeEventListenerFromNode(node,eventName,handler){if(!removeListener(node,eventName,handler)){super._removeEventListenerFromNode(node,eventName,handler)}}}return GestureEventListeners});class CheckboxElement extends ElementMixin$1(ControlStateMixin(ThemableMixin(GestureEventListeners(PolymerElement)))){static get template(){return html`
    <style>
      :host {
        display: inline-block;
      }

      :host([hidden]) {
        display: none !important;
      }

      label {
        display: inline-flex;
        align-items: baseline;
        outline: none;
      }

      [part="checkbox"] {
        position: relative;
        display: inline-block;
        flex: none;
      }

      input[type="checkbox"] {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: inherit;
        margin: 0;
      }

      :host([disabled]) {
        -webkit-tap-highlight-color: transparent;
      }
    </style>

    <label>
      <span part="checkbox">
        <input type="checkbox" checked="{{checked::change}}" disabled\$="[[disabled]]" indeterminate="{{indeterminate::change}}" role="presentation" tabindex="-1">
      </span>

      <span part="label">
        <slot></slot>
      </span>
    </label>
`}static get is(){return"vaadin-checkbox"}static get version(){return"2.2.7"}static get properties(){return{checked:{type:Boolean,value:!1,notify:!0,observer:"_checkedChanged",reflectToAttribute:!0},indeterminate:{type:Boolean,notify:!0,observer:"_indeterminateChanged",reflectToAttribute:!0,value:!1},value:{type:String,value:"on"},_nativeCheckbox:{type:Object}}}constructor(){super();this.name}get name(){return this.checked?this._storedName:""}set name(name){this._storedName=name}ready(){super.ready();this.setAttribute("role","checkbox");this._nativeCheckbox=this.shadowRoot.querySelector("input[type=\"checkbox\"]");this.addEventListener("click",this._handleClick.bind(this));this._addActiveListeners();const attrName=this.getAttribute("name");if(attrName){this.name=attrName}this.shadowRoot.querySelector("[part~=\"label\"]").querySelector("slot").addEventListener("slotchange",this._updateLabelAttribute.bind(this));this._updateLabelAttribute()}_updateLabelAttribute(){const label=this.shadowRoot.querySelector("[part~=\"label\"]"),assignedNodes=label.firstElementChild.assignedNodes();if(this._isAssignedNodesEmpty(assignedNodes)){label.setAttribute("empty","")}else{label.removeAttribute("empty")}}_isAssignedNodesEmpty(nodes){return 0===nodes.length||1==nodes.length&&nodes[0].nodeType==Node.TEXT_NODE&&""===nodes[0].textContent.trim()}_checkedChanged(checked){if(this.indeterminate){this.setAttribute("aria-checked","mixed")}else{this.setAttribute("aria-checked",checked)}}_indeterminateChanged(indeterminate){if(indeterminate){this.setAttribute("aria-checked","mixed")}else{this.setAttribute("aria-checked",this.checked)}}_addActiveListeners(){this._addEventListenerToNode(this,"down",e=>{if(this.__interactionsAllowed(e)){this.setAttribute("active","")}});this._addEventListenerToNode(this,"up",()=>this.removeAttribute("active"));this.addEventListener("keydown",e=>{if(this.__interactionsAllowed(e)&&32===e.keyCode){e.preventDefault();this.setAttribute("active","")}});this.addEventListener("keyup",e=>{if(this.__interactionsAllowed(e)&&32===e.keyCode){e.preventDefault();this._toggleChecked();this.removeAttribute("active");if(this.indeterminate){this.indeterminate=!1}}})}get focusElement(){return this.shadowRoot.querySelector("input")}__interactionsAllowed(e){if(this.disabled){return!1}if("a"===e.target.localName){return!1}return!0}_handleClick(e){if(this.__interactionsAllowed(e)){if(!this.indeterminate){if(e.composedPath()[0]!==this._nativeCheckbox){e.preventDefault();this._toggleChecked()}}else{this.indeterminate=!1;e.preventDefault();this._toggleChecked()}}}_toggleChecked(){this.checked=!this.checked;this.dispatchEvent(new CustomEvent("change",{composed:!0,bubbles:!0}))}}customElements.define(CheckboxElement.is,CheckboxElement);const $_documentContainer$a=document.createElement("template");$_documentContainer$a.innerHTML=`<dom-module id="lumo-required-field">
  <template>
    <style>
      [part="label"] {
        align-self: flex-start;
        color: var(--lumo-secondary-text-color);
        font-weight: 500;
        font-size: var(--lumo-font-size-s);
        margin-left: calc(var(--lumo-border-radius-m) / 4);
        transition: color 0.2s;
        line-height: 1;
        padding-bottom: 0.5em;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        position: relative;
        max-width: 100%;
        box-sizing: border-box;
      }

      :host([has-label])::before {
        margin-top: calc(var(--lumo-font-size-s) * 1.5);
      }

      :host([has-label]) {
        padding-top: var(--lumo-space-m);
      }

      :host([required]) [part="label"] {
        padding-right: 1em;
      }

      [part="label"]::after {
        content: var(--lumo-required-field-indicator, "");
        transition: opacity 0.2s;
        opacity: 0;
        color: var(--lumo-primary-text-color);
        position: absolute;
        right: 0;
        width: 1em;
        text-align: center;
      }

      :host([required]:not([has-value])) [part="label"]::after {
        opacity: 1;
      }

      :host([invalid]) [part="label"]::after {
        color: var(--lumo-error-text-color);
      }

      [part="error-message"] {
        margin-left: calc(var(--lumo-border-radius-m) / 4);
        font-size: var(--lumo-font-size-xs);
        line-height: var(--lumo-line-height-xs);
        color: var(--lumo-error-text-color);
        will-change: max-height;
        transition: 0.4s max-height;
        max-height: 5em;
      }

      /* Margin that doesnt reserve space when theres no error message */
      [part="error-message"]:not(:empty)::before,
      [part="error-message"]:not(:empty)::after {
        content: "";
        display: block;
        height: 0.4em;
      }

      :host(:not([invalid])) [part="error-message"] {
        max-height: 0;
        overflow: hidden;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$a.content);const $_documentContainer$b=html`<dom-module id="lumo-checkbox-group" theme-for="vaadin-checkbox-group">
  <template>
    <style include="lumo-required-field">
      :host {
        color: var(--lumo-body-text-color);
        font-size: var(--lumo-font-size-m);
        font-family: var(--lumo-font-family);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        -webkit-tap-highlight-color: transparent;
        padding: var(--lumo-space-xs) 0;
      }

      :host::before {
        height: var(--lumo-size-m);
        box-sizing: border-box;
        display: inline-flex;
        align-items: center;
      }

      :host([theme~="vertical"]) [part="group-field"] {
        display: flex;
        flex-direction: column;
      }

      [part="label"] {
        padding-bottom: 0.7em;
      }

      :host([disabled]) [part="label"] {
        color: var(--lumo-disabled-text-color);
        -webkit-text-fill-color: var(--lumo-disabled-text-color);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$b.content);class CheckboxGroupElement extends ThemableMixin(PolymerElement){static get template(){return html`
    <style>
      :host {
        display: inline-flex;
      }

      :host::before {
        content: "\\2003";
        width: 0;
        display: inline-block;
      }

      :host([hidden]) {
        display: none !important;
      }

      .vaadin-group-field-container {
        display: flex;
        flex-direction: column;
      }

      [part="label"]:empty {
        display: none;
      }
    </style>

    <div class="vaadin-group-field-container">
      <label part="label">[[label]]</label>

      <div part="group-field">
        <slot id="slot"></slot>
      </div>

      <div part="error-message" aria-live="assertive" aria-hidden\$="[[_getErrorMessageAriaHidden(invalid, errorMessage)]]">[[errorMessage]]</div>

    </div>
`}static get is(){return"vaadin-checkbox-group"}static get properties(){return{disabled:{type:Boolean,reflectToAttribute:!0,observer:"_disabledChanged"},label:{type:String,value:"",observer:"_labelChanged"},value:{type:Array,value:()=>[],notify:!0},errorMessage:{type:String,value:""},required:{type:Boolean,reflectToAttribute:!0},invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1}}}static get observers(){return["_updateValue(value, value.splices)"]}ready(){super.ready();this.addEventListener("focusout",e=>{if(!this._checkboxes.some(checkbox=>e.relatedTarget===checkbox||checkbox.shadowRoot.contains(e.relatedTarget))){this.validate()}});const checkedChangedListener=e=>{this._changeSelectedCheckbox(e.target)};this._observer=new FlattenedNodesObserver(this,info=>{const addedCheckboxes=this._filterCheckboxes(info.addedNodes);addedCheckboxes.forEach(checkbox=>{checkbox.addEventListener("checked-changed",checkedChangedListener);if(this.disabled){checkbox.disabled=!0}if(checkbox.checked){this._addCheckboxToValue(checkbox.value)}});this._filterCheckboxes(info.removedNodes).forEach(checkbox=>{checkbox.removeEventListener("checked-changed",checkedChangedListener);if(checkbox.checked){this._removeCheckboxFromValue(checkbox.value)}});if(addedCheckboxes.some(checkbox=>!checkbox.hasAttribute("value"))){console.warn("Please add value attribute to all checkboxes in checkbox group")}})}validate(){this.invalid=this.required&&0===this.value.length;return!this.invalid}get _checkboxes(){return this._filterCheckboxes(this.querySelectorAll("*"))}_filterCheckboxes(nodes){return Array.from(nodes).filter(child=>child instanceof CheckboxElement)}_disabledChanged(disabled){this.setAttribute("aria-disabled",disabled);this._checkboxes.forEach(checkbox=>checkbox.disabled=disabled)}_addCheckboxToValue(value){const update=this.value.slice(0);update.push(value);this.value=update}_removeCheckboxFromValue(value){const update=this.value.slice(0),index=update.indexOf(value);update.splice(index,1);this.value=update}_changeSelectedCheckbox(checkbox){if(this._updatingValue){return}if(checkbox.checked){this._addCheckboxToValue(checkbox.value)}else{this._removeCheckboxFromValue(checkbox.value)}}_updateValue(value,splices){if(0===value.length&&this._oldValue===void 0){return}if(value.length){this.setAttribute("has-value","")}else{this.removeAttribute("has-value")}this._oldValue=value;this._updatingValue=!0;this._checkboxes.forEach(checkbox=>{checkbox.checked=-1<value.indexOf(checkbox.value)});this._updatingValue=!1;this.validate()}_labelChanged(label){if(label){this.setAttribute("has-label","")}else{this.removeAttribute("has-label")}}_getErrorMessageAriaHidden(invalid,errorMessage){return(!errorMessage||!invalid).toString()}}customElements.define(CheckboxGroupElement.is,CheckboxGroupElement);const $_documentContainer$c=html`<dom-module id="lumo-button" theme-for="vaadin-button">
  <template>
    <style>
      :host {
        /* Sizing */
        --lumo-button-size: var(--lumo-size-m);
        min-width: calc(var(--lumo-button-size) * 2);
        height: var(--lumo-button-size);
        padding: 0 calc(var(--lumo-button-size) / 3 + var(--lumo-border-radius) / 2);
        margin: var(--lumo-space-xs) 0;
        box-sizing: border-box;
        /* Style */
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        font-weight: 500;
        color: var(--lumo-primary-text-color);
        background-color: var(--lumo-contrast-5pct);
        border-radius: var(--lumo-border-radius);
        cursor: default;
        -webkit-tap-highlight-color: transparent;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* Set only for the internal parts so we dont affect the host vertical alignment */
      [part="label"],
      [part="prefix"],
      [part="suffix"] {
        line-height: var(--lumo-line-height-xs);
      }

      [part="label"] {
        padding: calc(var(--lumo-button-size) / 6) 0;
      }

      :host([theme~="small"]) {
        font-size: var(--lumo-font-size-s);
        --lumo-button-size: var(--lumo-size-s);
      }

      :host([theme~="large"]) {
        font-size: var(--lumo-font-size-l);
        --lumo-button-size: var(--lumo-size-l);
      }

      /* This needs to be the last selector for it to take priority */
      :host([disabled][disabled]) {
        pointer-events: none;
        color: var(--lumo-disabled-text-color);
        background-color: var(--lumo-contrast-5pct);
      }

      /* For interaction states */
      :host::before,
      :host::after {
        content: "";
        /* We rely on the host always being relative */
        position: absolute;
        z-index: 1;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: currentColor;
        border-radius: inherit;
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
      }

      /* Hover */

      :host(:hover)::before {
        opacity: 0.05;
      }

      /* Disable hover for touch devices */
      @media (pointer: coarse) {
        :host(:not([active]):hover)::before {
          opacity: 0;
        }
      }

      /* Active */

      :host::after {
        transition: opacity 1.4s, transform 0.1s;
        filter: blur(8px);
      }

      :host([active])::before {
        opacity: 0.1;
        transition-duration: 0s;
      }

      :host([active])::after {
        opacity: 0.1;
        transition-duration: 0s, 0s;
        transform: scale(0);
      }

      /* Keyboard focus */

      :host([focus-ring]) {
        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      /* Types (primary, tertiary, tertiary-inline */

      :host([theme~="tertiary"]),
      :host([theme~="tertiary-inline"]) {
        background-color: transparent !important;
        transition: opacity 0.2s;
        min-width: 0;
      }

      :host([theme~="tertiary"])::before,
      :host([theme~="tertiary-inline"])::before {
        display: none;
      }

      :host([theme~="tertiary"]) {
        padding: 0 calc(var(--lumo-button-size) / 6);
      }

      @media (hover: hover) {
        :host([theme*="tertiary"]:not([active]):hover) {
          opacity: 0.8;
        }
      }

      :host([theme~="tertiary"][active]),
      :host([theme~="tertiary-inline"][active]) {
        opacity: 0.5;
        transition-duration: 0s;
      }

      :host([theme~="tertiary-inline"]) {
        margin: 0;
        height: auto;
        padding: 0;
        line-height: inherit;
        font-size: inherit;
      }

      :host([theme~="tertiary-inline"]) [part="label"] {
        padding: 0;
        overflow: visible;
        line-height: inherit;
      }

      :host([theme~="primary"]) {
        background-color: var(--lumo-primary-color);
        color: var(--lumo-primary-contrast-color);
        font-weight: 600;
        min-width: calc(var(--lumo-button-size) * 2.5);
      }

      :host([theme~="primary"][disabled]) {
        background-color: var(--lumo-primary-color-50pct);
        color: var(--lumo-primary-contrast-color);
      }

      :host([theme~="primary"]:hover)::before {
        opacity: 0.1;
      }

      :host([theme~="primary"][active])::before {
        background-color: var(--lumo-shade-20pct);
      }

      @media (pointer: coarse) {
        :host([theme~="primary"][active])::before {
          background-color: var(--lumo-shade-60pct);
        }

        :host([theme~="primary"]:not([active]):hover)::before {
          opacity: 0;
        }
      }

      :host([theme~="primary"][active])::after {
        opacity: 0.2;
      }

      /* Colors (success, error, contrast) */

      :host([theme~="success"]) {
        color: var(--lumo-success-text-color);
      }

      :host([theme~="success"][theme~="primary"]) {
        background-color: var(--lumo-success-color);
        color: var(--lumo-success-contrast-color);
      }

      :host([theme~="success"][theme~="primary"][disabled]) {
        background-color: var(--lumo-success-color-50pct);
      }

      :host([theme~="error"]) {
        color: var(--lumo-error-text-color);
      }

      :host([theme~="error"][theme~="primary"]) {
        background-color: var(--lumo-error-color);
        color: var(--lumo-error-contrast-color);
      }

      :host([theme~="error"][theme~="primary"][disabled]) {
        background-color: var(--lumo-error-color-50pct);
      }

      :host([theme~="contrast"]) {
        color: var(--lumo-contrast);
      }

      :host([theme~="contrast"][theme~="primary"]) {
        background-color: var(--lumo-contrast);
        color: var(--lumo-base-color);
      }

      :host([theme~="contrast"][theme~="primary"][disabled]) {
        background-color: var(--lumo-contrast-50pct);
      }

      /* Icons */

      [part] ::slotted(iron-icon) {
        display: inline-block;
        width: var(--lumo-icon-size-m);
        height: var(--lumo-icon-size-m);
      }

      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
      [part] ::slotted(iron-icon[icon^="vaadin:"]) {
        padding: 0.25em;
        box-sizing: border-box !important;
      }

      [part="prefix"] {
        margin-left: -0.25em;
        margin-right: 0.25em;
      }

      [part="suffix"] {
        margin-left: 0.25em;
        margin-right: -0.25em;
      }

      /* Icon-only */

      :host([theme~="icon"]) {
        min-width: var(--lumo-button-size);
        padding-left: calc(var(--lumo-button-size) / 4);
        padding-right: calc(var(--lumo-button-size) / 4);
      }

      :host([theme~="icon"]) [part="prefix"],
      :host([theme~="icon"]) [part="suffix"] {
        margin-left: 0;
        margin-right: 0;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$c.content);class ButtonElement extends ElementMixin$1(ControlStateMixin(ThemableMixin(GestureEventListeners(PolymerElement)))){static get template(){return html`
    <style>
      :host {
        display: inline-block;
        position: relative;
        outline: none;
        white-space: nowrap;
      }

      :host([hidden]) {
        display: none !important;
      }

      /* Ensure the button is always aligned on the baseline */
      .vaadin-button-container::before {
        content: "\\2003";
        display: inline-block;
        width: 0;
      }

      .vaadin-button-container {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        width: 100%;
        height: 100%;
        min-height: inherit;
        text-shadow: inherit;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      [part="prefix"],
      [part="suffix"] {
        flex: none;
      }

      [part="label"] {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      #button {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: inherit;
      }
    </style>
    <div class="vaadin-button-container">
      <div part="prefix">
        <slot name="prefix"></slot>
      </div>
      <div part="label">
        <slot></slot>
      </div>
      <div part="suffix">
        <slot name="suffix"></slot>
      </div>
    </div>
    <button id="button" type="button" aria-label\$="[[_ariaLabel]]"></button>
`}static get is(){return"vaadin-button"}static get version(){return"2.1.3"}static get properties(){return{_ariaLabel:{type:String}}}static get observedAttributes(){return super.observedAttributes.concat(["aria-label"])}ready(){super.ready();this.setAttribute("role","button");this.$.button.setAttribute("role","presentation");this._addActiveListeners();this._updateAriaLabel(this.getAttribute("aria-label"))}disconnectedCallback(){super.disconnectedCallback();if(this.hasAttribute("active")){this.removeAttribute("active")}}attributeChangedCallback(attr,oldVal,newVal){super.attributeChangedCallback(attr,oldVal,newVal);if("aria-label"===attr){this._updateAriaLabel(newVal)}}_addActiveListeners(){addListener(this,"down",()=>!this.disabled&&this.setAttribute("active",""));addListener(this,"up",()=>this.removeAttribute("active"));this.addEventListener("keydown",e=>!this.disabled&&0<=[13,32].indexOf(e.keyCode)&&this.setAttribute("active",""));this.addEventListener("keyup",()=>this.removeAttribute("active"));this.addEventListener("blur",()=>this.removeAttribute("active"))}_updateAriaLabel(ariaLabel){this._ariaLabel=ariaLabel!==void 0&&null!==ariaLabel?ariaLabel:this.innerText}get focusElement(){return this.$.button}}customElements.define(ButtonElement.is,ButtonElement);const $_documentContainer$d=document.createElement("template");$_documentContainer$d.innerHTML=`<dom-module id="lumo-overlay">
  <template>
    <style>
      :host {
        top: var(--lumo-space-m);
        right: var(--lumo-space-m);
        bottom: var(--lumo-space-m);
        left: var(--lumo-space-m);
        /* Workaround for Edge issue (only on Surface), where an overflowing vaadin-list-box inside vaadin-select-overlay makes the overlay transparent */
        /* stylelint-disable-next-line */
        outline: 0px solid transparent;
      }

      [part="overlay"] {
        background-color: var(--lumo-base-color);
        background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));
        border-radius: var(--lumo-border-radius-m);
        box-shadow: 0 0 0 1px var(--lumo-shade-5pct), var(--lumo-box-shadow-m);
        color: var(--lumo-body-text-color);
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        font-weight: 400;
        line-height: var(--lumo-line-height-m);
        letter-spacing: 0;
        text-transform: none;
        -webkit-text-size-adjust: 100%;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      [part="content"] {
        padding: var(--lumo-space-xs);
      }

      [part="backdrop"] {
        background-color: var(--lumo-shade-20pct);
        animation: 0.2s lumo-overlay-backdrop-enter both;
        will-change: opacity;
      }

      @keyframes lumo-overlay-backdrop-enter {
        0% {
          opacity: 0;
        }
      }

      :host([closing]) [part="backdrop"] {
        animation: 0.2s lumo-overlay-backdrop-exit both;
      }

      @keyframes lumo-overlay-backdrop-exit {
        100% {
          opacity: 0;
        }
      }

      @keyframes lumo-overlay-dummy-animation {
        0% { opacity: 1; }
        100% { opacity: 1; }
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$d.content);const $_documentContainer$e=html`<dom-module id="lumo-vaadin-overlay" theme-for="vaadin-overlay">
  <template>
    <style include="lumo-overlay">
      /* stylelint-disable no-empty-source */
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$e.content);let scheduled=!1,beforeRenderQueue=[],afterRenderQueue=[];function schedule(){scheduled=!0;requestAnimationFrame(function(){scheduled=!1;flushQueue(beforeRenderQueue);setTimeout(function(){runQueue(afterRenderQueue)})})}function flushQueue(queue){while(queue.length){callMethod(queue.shift())}}function runQueue(queue){for(let i=0,l=queue.length;i<l;i++){callMethod(queue.shift())}}function callMethod(info){const context=info[0],callback=info[1],args=info[2];try{callback.apply(context,args)}catch(e){setTimeout(()=>{throw e})}}function flush$1(){while(beforeRenderQueue.length||afterRenderQueue.length){flushQueue(beforeRenderQueue);flushQueue(afterRenderQueue)}scheduled=!1}function beforeNextRender(context,callback,args){if(!scheduled){schedule()}beforeRenderQueue.push([context,callback,args])}function afterNextRender(context,callback,args){if(!scheduled){schedule()}afterRenderQueue.push([context,callback,args])}const p=Element.prototype,matches$1=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector,FocusablesHelper={getTabbableNodes:function(node){const result=[],needsSortByTabIndex=this._collectTabbableNodes(node,result);if(needsSortByTabIndex){return this._sortByTabIndex(result)}return result},isFocusable:function(element){if(matches$1.call(element,"input, select, textarea, button, object")){return matches$1.call(element,":not([disabled])")}return matches$1.call(element,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function(element){return this.isFocusable(element)&&matches$1.call(element,":not([tabindex=\"-1\"])")&&this._isVisible(element)},_normalizedTabIndex:function(element){if(this.isFocusable(element)){const tabIndex=element.getAttribute("tabindex")||0;return+tabIndex}return-1},_collectTabbableNodes:function(node,result){if(node.nodeType!==Node.ELEMENT_NODE||!this._isVisible(node)){return!1}const element=node,tabIndex=this._normalizedTabIndex(element);let needsSort=0<tabIndex;if(0<=tabIndex){result.push(element)}let children;if("slot"===element.localName){children=element.assignedNodes({flatten:!0})}else{children=(element.shadowRoot||element).children}for(let i=0;i<children.length;i++){needsSort=this._collectTabbableNodes(children[i],result)||needsSort}return needsSort},_isVisible:function(element){let style=element.style;if("hidden"!==style.visibility&&"none"!==style.display){style=window.getComputedStyle(element);return"hidden"!==style.visibility&&"none"!==style.display}return!1},_sortByTabIndex:function(tabbables){const len=tabbables.length;if(2>len){return tabbables}const pivot=_Mathceil(len/2),left=this._sortByTabIndex(tabbables.slice(0,pivot)),right=this._sortByTabIndex(tabbables.slice(pivot));return this._mergeSortByTabIndex(left,right)},_mergeSortByTabIndex:function(left,right){const result=[];while(0<left.length&&0<right.length){if(this._hasLowerTabOrder(left[0],right[0])){result.push(right.shift())}else{result.push(left.shift())}}return result.concat(left,right)},_hasLowerTabOrder:function(a,b){const ati=_Mathmax(a.tabIndex,0),bti=_Mathmax(b.tabIndex,0);return 0===ati||0===bti?bti>ati:ati>bti}};let overlayContentCounter=0;const overlayContentCache={},createOverlayContent=cssText=>{const is=overlayContentCache[cssText]||processOverlayStyles(cssText);return document.createElement(is)},processOverlayStyles=cssText=>{overlayContentCounter++;const is=`vaadin-overlay-content-${overlayContentCounter}`,styledTemplate=document.createElement("template"),style=document.createElement("style");style.textContent=":host { display: block; }"+cssText;styledTemplate.content.appendChild(style);if(window.ShadyCSS){window.ShadyCSS.prepareTemplate(styledTemplate,is)}const klass=(()=>class extends HTMLElement{static get is(){return is}connectedCallback(){if(window.ShadyCSS){window.ShadyCSS.styleElement(this)}if(!this.shadowRoot){this.attachShadow({mode:"open"});this.shadowRoot.appendChild(document.importNode(styledTemplate.content,!0))}}})();customElements.define(klass.is,klass);overlayContentCache[cssText]=is;return is};class OverlayElement extends ThemableMixin(PolymerElement){static get template(){return html`
    <style>
      :host {
        z-index: 200;
        position: fixed;

        /*
          Despite of what the names say, <vaadin-overlay> is just a container
          for position/sizing/alignment. The actual overlay is the overlay part.
        */

        /*
          Default position constraints: the entire viewport. Note: themes can
          override this to introduce gaps between the overlay and the viewport.
        */
        top: 0;
        right: 0;
        bottom: var(--vaadin-overlay-viewport-bottom);
        left: 0;

        /* Use flexbox alignment for the overlay part. */
        display: flex;
        flex-direction: column; /* makes dropdowns sizing easier */
        /* Align to center by default. */
        align-items: center;
        justify-content: center;

        /* Allow centering when max-width/max-height applies. */
        margin: auto;

        /* The host is not clickable, only the overlay part is. */
        pointer-events: none;

        /* Remove tap highlight on touch devices. */
        -webkit-tap-highlight-color: transparent;

        /* CSS API for host */
        --vaadin-overlay-viewport-bottom: 0;
      }

      :host([hidden]),
      :host(:not([opened]):not([closing])) {
        display: none !important;
      }

      [part="overlay"] {
        -webkit-overflow-scrolling: touch;
        overflow: auto;
        pointer-events: auto;

        /* Prevent overflowing the host in MSIE 11 */
        max-width: 100%;
        box-sizing: border-box;

        -webkit-tap-highlight-color: initial; /* reenable tap highlight inside */
      }

      [part="backdrop"] {
        z-index: -1;
        content: "";
        background: rgba(0, 0, 0, 0.5);
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        pointer-events: auto;
      }
    </style>

    <div id="backdrop" part="backdrop" hidden\$="{{!withBackdrop}}"></div>
    <div part="overlay" id="overlay" tabindex="0">
      <div part="content" id="content">
        <slot></slot>
      </div>
    </div>
`}static get is(){return"vaadin-overlay"}static get properties(){return{opened:{type:Boolean,notify:!0,observer:"_openedChanged",reflectToAttribute:!0},owner:Element,renderer:Function,template:{type:Object,notify:!0},instanceProps:{type:Object},content:{type:Object,notify:!0},withBackdrop:{type:Boolean,value:!1,reflectToAttribute:!0},model:Object,modeless:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_modelessChanged"},hidden:{type:Boolean,reflectToAttribute:!0,observer:"_hiddenChanged"},focusTrap:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!1},_mouseDownInside:{type:Boolean},_mouseUpInside:{type:Boolean},_instance:{type:Object},_originalContentPart:Object,_contentNodes:Array,_oldOwner:Element,_oldModel:Object,_oldTemplate:Object,_oldInstanceProps:Object,_oldRenderer:Object,_oldOpened:Boolean}}static get observers(){return["_templateOrRendererChanged(template, renderer, owner, model, instanceProps, opened)"]}constructor(){super();this._boundMouseDownListener=this._mouseDownListener.bind(this);this._boundMouseUpListener=this._mouseUpListener.bind(this);this._boundOutsideClickListener=this._outsideClickListener.bind(this);this._boundKeydownListener=this._keydownListener.bind(this);this._observer=new FlattenedNodesObserver(this,info=>{this._setTemplateFromNodes(info.addedNodes)});this._boundIronOverlayCanceledListener=this._ironOverlayCanceled.bind(this);if(/iPad|iPhone|iPod/.test(navigator.userAgent)){this._boundIosResizeListener=()=>this._detectIosNavbar()}}ready(){super.ready();this._observer.flush();this.addEventListener("click",()=>{});this.$.backdrop.addEventListener("click",()=>{})}_detectIosNavbar(){if(!this.opened){return}const innerHeight=window.innerHeight,innerWidth=window.innerWidth,landscape=innerWidth>innerHeight,clientHeight=document.documentElement.clientHeight;if(landscape&&clientHeight>innerHeight){this.style.setProperty("--vaadin-overlay-viewport-bottom",clientHeight-innerHeight+"px")}else{this.style.setProperty("--vaadin-overlay-viewport-bottom","0")}}_setTemplateFromNodes(nodes){this.template=nodes.filter(node=>node.localName&&"template"===node.localName)[0]||this.template}close(sourceEvent){var evt=new CustomEvent("vaadin-overlay-close",{bubbles:!0,cancelable:!0,detail:{sourceEvent:sourceEvent}});this.dispatchEvent(evt);if(!evt.defaultPrevented){this.opened=!1}}connectedCallback(){super.connectedCallback();if(this._boundIosResizeListener){this._detectIosNavbar();window.addEventListener("resize",this._boundIosResizeListener)}}disconnectedCallback(){super.disconnectedCallback();this._boundIosResizeListener&&window.removeEventListener("resize",this._boundIosResizeListener)}_ironOverlayCanceled(event){event.preventDefault()}_mouseDownListener(event){this._mouseDownInside=0<=event.composedPath().indexOf(this.$.overlay)}_mouseUpListener(event){this._mouseUpInside=0<=event.composedPath().indexOf(this.$.overlay)}_outsideClickListener(event){if(-1!==event.composedPath().indexOf(this.$.overlay)||this._mouseDownInside||this._mouseUpInside){this._mouseDownInside=!1;this._mouseUpInside=!1;return}if(!this._last){return}const evt=new CustomEvent("vaadin-overlay-outside-click",{bubbles:!0,cancelable:!0,detail:{sourceEvent:event}});this.dispatchEvent(evt);if(this.opened&&!evt.defaultPrevented){this.close(event)}}_keydownListener(event){if(!this._last){return}if("Tab"===event.key&&this.focusTrap){this._cycleTab(event.shiftKey?-1:1);event.preventDefault()}else if("Escape"===event.key||"Esc"===event.key){const evt=new CustomEvent("vaadin-overlay-escape-press",{bubbles:!0,cancelable:!0,detail:{sourceEvent:event}});this.dispatchEvent(evt);if(this.opened&&!evt.defaultPrevented){this.close(event)}}}_ensureTemplatized(){this._setTemplateFromNodes(Array.from(this.children))}_openedChanged(opened,wasOpened){if(!this._instance){this._ensureTemplatized()}if(opened){this.__restoreFocusNode=this._getActiveElement();this._animatedOpening();afterNextRender(this,()=>{if(this.focusTrap&&!this.contains(document._activeElement||document.activeElement)){this._cycleTab(0,0)}const evt=new CustomEvent("vaadin-overlay-open",{bubbles:!0});this.dispatchEvent(evt)});if(!this.modeless){this._addGlobalListeners()}}else if(wasOpened){this._animatedClosing();if(!this.modeless){this._removeGlobalListeners()}}}_hiddenChanged(hidden){if(hidden&&this.hasAttribute("closing")){this._flushAnimation("closing")}}_shouldAnimate(){const name=getComputedStyle(this).getPropertyValue("animation-name"),hidden="none"===getComputedStyle(this).getPropertyValue("display");return!hidden&&name&&"none"!=name}_enqueueAnimation(type,callback){const handler=`__${type}Handler`,listener=()=>{callback();this.removeEventListener("animationend",listener);delete this[handler]};this[handler]=listener;this.addEventListener("animationend",listener)}_flushAnimation(type){const handler=`__${type}Handler`;if("function"===typeof this[handler]){this[handler]()}}_animatedOpening(){if(this.parentNode===document.body&&this.hasAttribute("closing")){this._flushAnimation("closing")}this._attachOverlay();this.setAttribute("opening","");const finishOpening=()=>{this.removeAttribute("opening");document.addEventListener("iron-overlay-canceled",this._boundIronOverlayCanceledListener);if(!this.modeless){this._enterModalState()}};if(this._shouldAnimate()){this._enqueueAnimation("opening",finishOpening)}else{finishOpening()}}_attachOverlay(){this._placeholder=document.createComment("vaadin-overlay-placeholder");this.parentNode.insertBefore(this._placeholder,this);document.body.appendChild(this)}_animatedClosing(){if(this.hasAttribute("opening")){this._flushAnimation("opening")}if(this._placeholder){this.setAttribute("closing","");const finishClosing=()=>{this.shadowRoot.querySelector("[part=\"overlay\"]").style.removeProperty("pointer-events");this._exitModalState();document.removeEventListener("iron-overlay-canceled",this._boundIronOverlayCanceledListener);this._detachOverlay();this.removeAttribute("closing");if(this.restoreFocusOnClose&&this.__restoreFocusNode){const activeElement=this._getActiveElement();if(activeElement===document.body||this._deepContains(activeElement)){this.__restoreFocusNode.focus()}this.__restoreFocusNode=null}};if(this._shouldAnimate()){this._enqueueAnimation("closing",finishClosing)}else{finishClosing()}}}_detachOverlay(){this._placeholder.parentNode.insertBefore(this,this._placeholder);this._placeholder.parentNode.removeChild(this._placeholder)}static get __attachedInstances(){return Array.from(document.body.children).filter(el=>el instanceof OverlayElement)}get _last(){return this===OverlayElement.__attachedInstances.pop()}_modelessChanged(modeless){if(!modeless){if(this.opened){this._addGlobalListeners();this._enterModalState()}}else{this._removeGlobalListeners();this._exitModalState()}}_addGlobalListeners(){document.addEventListener("mousedown",this._boundMouseDownListener);document.addEventListener("mouseup",this._boundMouseUpListener);document.documentElement.addEventListener("click",this._boundOutsideClickListener,!0);document.addEventListener("keydown",this._boundKeydownListener)}_enterModalState(){if("none"!==document.body.style.pointerEvents){this._previousDocumentPointerEvents=document.body.style.pointerEvents;document.body.style.pointerEvents="none"}OverlayElement.__attachedInstances.forEach(el=>{if(el!==this){el.shadowRoot.querySelector("[part=\"overlay\"]").style.pointerEvents="none"}})}_removeGlobalListeners(){document.removeEventListener("mousedown",this._boundMouseDownListener);document.removeEventListener("mouseup",this._boundMouseUpListener);document.documentElement.removeEventListener("click",this._boundOutsideClickListener,!0);document.removeEventListener("keydown",this._boundKeydownListener)}_exitModalState(){if(this._previousDocumentPointerEvents!==void 0){document.body.style.pointerEvents=this._previousDocumentPointerEvents;delete this._previousDocumentPointerEvents}const instances=OverlayElement.__attachedInstances;let el;while(el=instances.pop()){if(el===this){continue}el.shadowRoot.querySelector("[part=\"overlay\"]").style.removeProperty("pointer-events");if(!el.modeless){break}}}_removeOldContent(){if(!this.content||!this._contentNodes){return}this._observer.disconnect();this._contentNodes.forEach(node=>{if(node.parentNode===this.content){this.content.removeChild(node)}});if(this._originalContentPart){this.$.content.parentNode.replaceChild(this._originalContentPart,this.$.content);this.$.content=this._originalContentPart;this._originalContentPart=void 0}this._observer.connect();this._contentNodes=void 0;this.content=void 0}_stampOverlayTemplate(template,instanceProps){this._removeOldContent();if(!template._Templatizer){template._Templatizer=templatize(template,this,{instanceProps:instanceProps,forwardHostProp:function(prop,value){if(this._instance){this._instance.forwardHostProp(prop,value)}}})}this._instance=new template._Templatizer({});this._contentNodes=Array.from(this._instance.root.childNodes);const templateRoot=template._templateRoot||(template._templateRoot=template.getRootNode()),_isScoped=templateRoot!==document;if(_isScoped){if(!this.$.content.shadowRoot){this.$.content.attachShadow({mode:"open"})}let scopeCssText="";const host=templateRoot.host;if(host&&host.constructor.template){scopeCssText=stylesFromTemplate(host.constructor.template).reduce((result,style)=>result+style.textContent,"")}scopeCssText=scopeCssText.replace(/:host/g,":host-nomatch");if(scopeCssText){if(window.ShadyCSS&&!window.ShadyCSS.nativeShadow){const contentPart=createOverlayContent(scopeCssText);contentPart.id="content";contentPart.setAttribute("part","content");this.$.content.parentNode.replaceChild(contentPart,this.$.content);contentPart.className=this.$.content.className;this._originalContentPart=this.$.content;this.$.content=contentPart}else{const style=document.createElement("style");style.textContent=scopeCssText;this.$.content.shadowRoot.appendChild(style);this._contentNodes.unshift(style)}}this.$.content.shadowRoot.appendChild(this._instance.root);this.content=this.$.content.shadowRoot}else{this.appendChild(this._instance.root);this.content=this}}_removeNewRendererOrTemplate(template,oldTemplate,renderer,oldRenderer){if(template!==oldTemplate){this.template=void 0}else if(renderer!==oldRenderer){this.renderer=void 0}}render(){if(this.renderer){this.renderer.call(this.owner,this.content,this.owner,this.model)}}_templateOrRendererChanged(template,renderer,owner,model,instanceProps,opened){if(template&&renderer){this._removeNewRendererOrTemplate(template,this._oldTemplate,renderer,this._oldRenderer);throw new Error("You should only use either a renderer or a template for overlay content")}const ownerOrModelChanged=this._oldOwner!==owner||this._oldModel!==model;this._oldModel=model;this._oldOwner=owner;const templateOrInstancePropsChanged=this._oldInstanceProps!==instanceProps||this._oldTemplate!==template;this._oldInstanceProps=instanceProps;this._oldTemplate=template;const rendererChanged=this._oldRenderer!==renderer;this._oldRenderer=renderer;const openedChanged=this._oldOpened!==opened;this._oldOpened=opened;if(template&&templateOrInstancePropsChanged){this._stampOverlayTemplate(template,instanceProps)}else if(renderer&&(rendererChanged||openedChanged||ownerOrModelChanged)){this.content=this;if(rendererChanged){while(this.content.firstChild){this.content.removeChild(this.content.firstChild)}}if(opened){this.render()}}}_isFocused(element){return element&&element.getRootNode().activeElement===element}_focusedIndex(elements){elements=elements||this._getFocusableElements();return elements.indexOf(elements.filter(this._isFocused).pop())}_cycleTab(increment,index){const focusableElements=this._getFocusableElements();if(index===void 0){index=this._focusedIndex(focusableElements)}index+=increment;if(index>=focusableElements.length){index=0}else if(0>index){index=focusableElements.length-1}focusableElements[index].focus()}_getFocusableElements(){return FocusablesHelper.getTabbableNodes(this.$.overlay)}_getActiveElement(){let active=document._activeElement||document.activeElement;if(!active||active===document.documentElement||!1===active instanceof Element){active=document.body}while(active.shadowRoot&&active.shadowRoot.activeElement){active=active.shadowRoot.activeElement}return active}_deepContains(node){if(this.contains(node)){return!0}let n=node;const doc=node.ownerDocument;while(n&&n!==doc&&n!==this){n=n.parentNode||n.host}return n===this}}customElements.define(OverlayElement.is,OverlayElement);const $_documentContainer$f=document.createElement("template");$_documentContainer$f.innerHTML=`<dom-module id="lumo-menu-overlay-core">
  <template>
    <style>
      :host([opening]),
      :host([closing]) {
        animation: 0.14s lumo-overlay-dummy-animation;
      }

      [part="overlay"] {
        will-change: opacity, transform;
      }

      :host([opening]) [part="overlay"] {
        animation: 0.1s lumo-menu-overlay-enter ease-out both;
      }

      @keyframes lumo-menu-overlay-enter {
        0% {
          opacity: 0;
          transform: translateY(-4px);
        }
      }

      :host([closing]) [part="overlay"] {
        animation: 0.1s lumo-menu-overlay-exit both;
      }

      @keyframes lumo-menu-overlay-exit {
        100% {
          opacity: 0;
        }
      }
    </style>
  </template>
</dom-module><dom-module id="lumo-menu-overlay">
  <template>
    <style include="lumo-overlay lumo-menu-overlay-core">
      /* Small viewport (bottom sheet) styles */
      /* Use direct media queries instead of the state attributes (\`[phone]\` and \`[fullscreen]\`) provided by the elements */
      @media (max-width: 420px), (max-height: 420px) {
        :host {
          top: 0 !important;
          right: 0 !important;
          bottom: var(--vaadin-overlay-viewport-bottom, 0) !important;
          left: 0 !important;
          align-items: stretch !important;
          justify-content: flex-end !important;
        }

        [part="overlay"] {
          max-height: 50vh;
          width: 100vw;
          border-radius: 0;
          box-shadow: var(--lumo-box-shadow-xl);
        }

        /* The content part scrolls instead of the overlay part, because of the gradient fade-out */
        [part="content"] {
          padding: 30px var(--lumo-space-m);
          max-height: inherit;
          box-sizing: border-box;
          -webkit-overflow-scrolling: touch;
          overflow: auto;
          -webkit-mask-image: linear-gradient(transparent, #000 40px, #000 calc(100% - 40px), transparent);
          mask-image: linear-gradient(transparent, #000 40px, #000 calc(100% - 40px), transparent);
        }

        [part="backdrop"] {
          display: block;
        }

        /* Animations */

        :host([opening]) [part="overlay"] {
          animation: 0.2s lumo-mobile-menu-overlay-enter cubic-bezier(.215, .61, .355, 1) both;
        }

        :host([closing]),
        :host([closing]) [part="backdrop"] {
          animation-delay: 0.14s;
        }

        :host([closing]) [part="overlay"] {
          animation: 0.14s 0.14s lumo-mobile-menu-overlay-exit cubic-bezier(.55, .055, .675, .19) both;
        }
      }

      @keyframes lumo-mobile-menu-overlay-enter {
        0% {
          transform: translateY(150%);
        }
      }

      @keyframes lumo-mobile-menu-overlay-exit {
        100% {
          transform: translateY(150%);
        }
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$f.content);;const $_documentContainer$g=html`<dom-module id="lumo-date-picker-overlay" theme-for="vaadin-date-picker-overlay">
  <template>
    <style include="lumo-menu-overlay">
      [part="overlay"] {
        /*
        Width:
            date cell widths
          + month calendar side padding
          + year scroller width
        */
        width:
          calc(
              var(--lumo-size-m) * 7
            + var(--lumo-space-xs) * 2
            + 57px
          );
        height: 100%;
        max-height: calc(var(--lumo-size-m) * 14);
        overflow: hidden;
        -webkit-tap-highlight-color: transparent;
      }

      [part="content"] {
        padding: 0;
        height: 100%;
        overflow: hidden;
        -webkit-mask-image: none;
        mask-image: none;
      }

      @media (max-width: 420px), (max-height: 420px) {
        [part="overlay"] {
          width: 100vw;
          height: 70vh;
          max-height: 70vh;
        }
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$g.content);const $_documentContainer$h=html`<dom-module id="lumo-date-picker-overlay-content" theme-for="vaadin-date-picker-overlay-content">
  <template>
    <style>
      :host {
        position: relative;
        background-color: transparent;
        /* Background for the year scroller, placed here as we are using a mask image on the actual years part */
        background-image: linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));
        background-size: 57px 100%;
        background-position: top right;
        background-repeat: no-repeat;
        cursor: default;
      }

      /* Month scroller */

      [part="months"] {
        /* Month calendar height:
              header height + margin-bottom
            + weekdays height + margin-bottom
            + date cell heights
            + small margin between month calendars
        */
        --vaadin-infinite-scroller-item-height:
          calc(
              var(--lumo-font-size-l) + var(--lumo-space-m)
            + var(--lumo-font-size-xs) + var(--lumo-space-s)
            + var(--lumo-size-m) * 6
            + var(--lumo-space-s)
          );
        --vaadin-infinite-scroller-buffer-offset: 20%;
        -webkit-mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);
        mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);
        position: relative;
        margin-right: 57px;
      }

      /* Year scroller */

      [part="years"] {
        /* TODO get rid of fixed magic number */
        --vaadin-infinite-scroller-buffer-width: 97px;
        width: 57px;
        height: auto;
        top: 0;
        bottom: 0;
        font-size: var(--lumo-font-size-s);
        box-shadow: inset 2px 0 4px 0 var(--lumo-shade-5pct);
        -webkit-mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);
        mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);
      }

      [part="year-number"],
      [part="year-separator"] {
        opacity: 0.5;
        transition: 0.2s opacity;
      }

      [part="years"]:hover [part="year-number"],
      [part="years"]:hover [part="year-separator"] {
        opacity: 1;
      }

      /* TODO unsupported selector */
      #scrollers {
        position: static;
        display: block;
      }

      /* TODO unsupported selector, should fix this in vaadin-date-picker that it adapts to the
       * width of the year scroller */
      #scrollers[desktop] [part="months"] {
        right: auto;
      }

      /* Year scroller position indicator */
      [part="years"]::before {
        border: none;
        width: 1em;
        height: 1em;
        background-color: var(--lumo-base-color);
        background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));
        transform: translate(-75%, -50%) rotate(45deg);
        border-top-right-radius: calc(var(--lumo-border-radius) / 2);
        box-shadow: 2px -2px 6px 0 var(--lumo-shade-5pct);
        z-index: 1;
      }

      [part="year-number"],
      [part="year-separator"] {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 50%;
        transform: translateY(-50%);
      }

      [part="years"] [part="year-separator"]::after {
        color: var(--lumo-disabled-text-color);
        content: "";
      }

      /* Current year */

      [part="years"] [part="year-number"][current] {
        color: var(--lumo-primary-text-color);
      }

      /* Toolbar (footer) */

      [part="toolbar"] {
        padding: var(--lumo-space-s);
        box-shadow: 0 -1px 0 0 var(--lumo-contrast-10pct);
        border-bottom-left-radius: var(--lumo-border-radius);
        margin-right: 57px;
      }

      @supports (mask-image: linear-gradient(#000, #000)) or (-webkit-mask-image: linear-gradient(#000, #000)) {
        [part="toolbar"] {
          box-shadow: none;
        }
      }

      /* Today and Cancel buttons */

      /* TODO: Would be great if I could apply the "tertiary" theme from here instead of copying those styles */
      [part="toolbar"] [part\$="button"] {
        background-color: transparent;
        margin: 0;
        min-width: 0;
        padding: 0 0.75em;
      }

      /* Narrow viewport mode (fullscreen) */

      :host([fullscreen]) [part="toolbar"] {
        order: -1;
        background-color: var(--lumo-base-color);
      }

      :host([fullscreen]) [part="overlay-header"] {
        order: -2;
        height: var(--lumo-size-m);
        padding: var(--lumo-space-s);
        position: absolute;
        left: 0;
        right: 0;
        justify-content: center;
      }

      :host([fullscreen]) [part="toggle-button"],
      :host([fullscreen]) [part="clear-button"],
      [part="overlay-header"] [part="label"] {
        display: none;
      }

      /* Very narrow screen (year scroller initially hidden) */

      [part="years-toggle-button"] {
        position: relative;
        right: auto;
        display: flex;
        align-items: center;
        height: var(--lumo-size-s);
        padding: 0 0.5em;
        border-radius: var(--lumo-border-radius);
        z-index: 3;
        color: var(--lumo-primary-text-color);
        font-weight: 500;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      :host([years-visible]) [part="years-toggle-button"] {
        background-color: var(--lumo-primary-color);
        color: var(--lumo-primary-contrast-color);
      }

      [part="years-toggle-button"]::before {
        content: none;
      }

      /* TODO magic number (same as used for iron-media-query in vaadin-date-picker-overlay-content) */
      @media screen and (max-width: 374px) {
        :host {
          background-image: none;
        }

        [part="years"] {
          background-color: var(--lumo-shade-5pct);
        }

        [part="toolbar"],
        [part="months"] {
          margin-right: 0;
        }

        /* TODO make date-picker adapt to the width of the years part */
        [part="years"] {
          --vaadin-infinite-scroller-buffer-width: 90px;
          width: 50px;
        }

        :host([years-visible]) [part="months"] {
          padding-left: 50px;
        }
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$h.content);const $_documentContainer$i=html`<dom-module id="lumo-month-calendar" theme-for="vaadin-month-calendar">
  <template>
    <style>
      :host {
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        -webkit-tap-highlight-color: transparent;
        user-select: none;
        font-size: var(--lumo-font-size-m);
        color: var(--lumo-body-text-color);
        text-align: center;
        padding: 0 var(--lumo-space-xs);
      }

      /* Month header */

      [part="month-header"] {
        color: var(--lumo-header-text-color);
        font-size: var(--lumo-font-size-l);
        line-height: 1;
        font-weight: 500;
        margin-bottom: var(--lumo-space-m);
      }

      /* Week days and numbers */

      [part="weekdays"],
      [part="weekday"],
      [part="week-numbers"] {
        font-size: var(--lumo-font-size-xs);
        line-height: 1;
        color: var(--lumo-tertiary-text-color);
      }

      [part="weekdays"] {
        margin-bottom: var(--lumo-space-s);
      }

      /* TODO should have part="week-number" for the cell in weekdays-container */
      [part="weekday"]:empty,
      [part="week-numbers"] {
        width: var(--lumo-size-xs);
      }

      /* Date and week number cells */

      [part="date"],
      [part="week-number"] {
        box-sizing: border-box;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: var(--lumo-size-m);
        position: relative;
      }

      [part="date"] {
        transition: color 0.1s;
      }

      /* Today date */

      [part="date"][today] {
        color: var(--lumo-primary-text-color);
      }

      /* Focused date */

      [part="date"]::before {
        content: "";
        position: absolute;
        z-index: -1;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        min-width: 2em;
        min-height: 2em;
        width: 80%;
        height: 80%;
        max-height: 100%;
        max-width: 100%;
        border-radius: var(--lumo-border-radius);
      }

      [part="date"][focused]::before {
        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      :host(:not([focused])) [part="date"][focused]::before {
        animation: vaadin-date-picker-month-calendar-focus-date 1.4s infinite;
      }

      @keyframes vaadin-date-picker-month-calendar-focus-date {
        50% {
          box-shadow: 0 0 0 2px transparent;
        }
      }

      /* TODO should not rely on the role attribute */
      [part="date"][role="button"]:not([disabled]):not([selected]):hover::before {
        background-color: var(--lumo-primary-color-10pct);
      }

      [part="date"][selected] {
        color: var(--lumo-primary-contrast-color);
      }

      [part="date"][selected]::before {
        background-color: var(--lumo-primary-color);
      }

      [part="date"][disabled] {
        color: var(--lumo-disabled-text-color);
      }

      @media (pointer: coarse) {
        [part="date"]:hover:not([selected])::before,
        [part="date"][focused]:not([selected])::before {
          display: none;
        }

        [part="date"][role="button"]:not([disabled]):active::before {
          display: block;
        }

        [part="date"][selected]::before {
          box-shadow: none;
        }
      }

      /* Disabled */

      :host([disabled]) * {
        color: var(--lumo-disabled-text-color) !important;
      }
    </style>
  </template>
</dom-module><custom-style>
  <style>
    @keyframes vaadin-date-picker-month-calendar-focus-date {
      50% {
        box-shadow: 0 0 0 2px transparent;
      }
    }
  </style>
</custom-style>`;document.head.appendChild($_documentContainer$i.content);const $_documentContainer$j=document.createElement("template");$_documentContainer$j.innerHTML=`<dom-module id="lumo-field-button">
  <template>
    <style>
      [part\$="button"] {
        flex: none;
        width: 1em;
        height: 1em;
        line-height: 1;
        font-size: var(--lumo-icon-size-m);
        text-align: center;
        color: var(--lumo-contrast-60pct);
        transition: 0.2s color;
        cursor: var(--lumo-clickable-cursor);
      }

      :host(:not([readonly])) [part\$="button"]:hover {
        color: var(--lumo-contrast-90pct);
      }

      :host([disabled]) [part\$="button"],
      :host([readonly]) [part\$="button"] {
        color: var(--lumo-contrast-20pct);
      }

      [part\$="button"]::before {
        font-family: "lumo-icons";
        display: block;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$j.content);const $_documentContainer$k=html`<dom-module id="lumo-text-field" theme-for="vaadin-text-field">
  <template>
    <style include="lumo-required-field lumo-field-button">
      :host {
        --lumo-text-field-size: var(--lumo-size-m);
        color: var(--lumo-body-text-color);
        font-size: var(--lumo-font-size-m);
        font-family: var(--lumo-font-family);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        -webkit-tap-highlight-color: transparent;
        padding: var(--lumo-space-xs) 0;
      }

      :host::before {
        height: var(--lumo-text-field-size);
        box-sizing: border-box;
        display: inline-flex;
        align-items: center;
      }

      :host([focused]:not([readonly])) [part="label"] {
        color: var(--lumo-primary-text-color);
      }

      [part="value"],
      [part="input-field"] ::slotted(input),
      [part="input-field"] ::slotted(textarea),
      /* Slotted by vaadin-select-text-field */
      [part="input-field"] ::slotted([part="value"]) {
        cursor: inherit;
        min-height: var(--lumo-text-field-size);
        padding: 0 0.25em;
        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
        -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);
      }

      [part="value"]:focus,
      [part="input-field"] ::slotted(input):focus,
      [part="input-field"] ::slotted(textarea):focus {
        -webkit-mask-image: none;
        mask-image: none;
      }

      /*
        TODO: CSS custom property in \`mask-image\` causes crash in Edge
        see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/15415089/
      */
      @-moz-document url-prefix() {
        [part="value"],
        [part="input-field"] ::slotted(input),
        [part="input-field"] ::slotted(textarea),
        [part="input-field"] ::slotted([part="value"]) {
          mask-image: var(--_lumo-text-field-overflow-mask-image);
        }
      }

      [part="value"]::-webkit-input-placeholder {
        color: inherit;
        transition: opacity 0.175s 0.05s;
        opacity: 0.5;
      }

      [part="value"]:-ms-input-placeholder {
        color: inherit;
        opacity: 0.5;
      }

      [part="value"]::-moz-placeholder {
        color: inherit;
        transition: opacity 0.175s 0.05s;
        opacity: 0.5;
      }

      [part="value"]::placeholder {
        color: inherit;
        transition: opacity 0.175s 0.1s;
        opacity: 0.5;
      }

      [part="input-field"] {
        border-radius: var(--lumo-border-radius);
        background-color: var(--lumo-contrast-10pct);
        padding: 0 calc(0.375em + var(--lumo-border-radius) / 4 - 1px);
        font-weight: 500;
        line-height: 1;
        position: relative;
        cursor: text;
        box-sizing: border-box;
      }

      /* Used for hover and activation effects */
      [part="input-field"]::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        border-radius: inherit;
        pointer-events: none;
        background-color: var(--lumo-contrast-50pct);
        opacity: 0;
        transition: transform 0.15s, opacity 0.2s;
        transform-origin: 100% 0;
      }

      /* Hover */

      :host(:hover:not([readonly]):not([focused])) [part="label"] {
        color: var(--lumo-body-text-color);
      }

      :host(:hover:not([readonly]):not([focused])) [part="input-field"]::after {
        opacity: 0.1;
      }

      /* Touch device adjustment */
      @media (pointer: coarse) {
        :host(:hover:not([readonly]):not([focused])) [part="label"] {
          color: var(--lumo-secondary-text-color);
        }

        :host(:hover:not([readonly]):not([focused])) [part="input-field"]::after {
          opacity: 0;
        }

        :host(:active:not([readonly]):not([focused])) [part="input-field"]::after {
          opacity: 0.2;
        }
      }

      /* Trigger when not focusing using the keyboard */
      :host([focused]:not([focus-ring]):not([readonly])) [part="input-field"]::after {
        transform: scaleX(0);
        transition-duration: 0.15s, 1s;
      }

      /* Focus-ring */

      :host([focus-ring]) [part="input-field"] {
        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      /* Read-only and disabled */
      :host([readonly]) [part="value"]::-webkit-input-placeholder,
      :host([disabled]) [part="value"]::-webkit-input-placeholder {
        opacity: 0;
      }

      :host([readonly]) [part="value"]:-ms-input-placeholder,
      :host([disabled]) [part="value"]:-ms-input-placeholder {
        opacity: 0;
      }

      :host([readonly]) [part="value"]::-moz-placeholder,
      :host([disabled]) [part="value"]::-moz-placeholder {
        opacity: 0;
      }

      :host([readonly]) [part="value"]::placeholder,
      :host([disabled]) [part="value"]::placeholder {
        opacity: 0;
      }

      /* Read-only */

      :host([readonly]) [part="input-field"] {
        color: var(--lumo-secondary-text-color);
        background-color: transparent;
        cursor: default;
      }

      :host([readonly]) [part="input-field"]::after {
        background-color: transparent;
        opacity: 1;
        border: 1px dashed var(--lumo-contrast-30pct);
      }

      /* Disabled style */

      :host([disabled]) {
        pointer-events: none;
      }

      :host([disabled]) [part="input-field"] {
        background-color: var(--lumo-contrast-5pct);
      }

      :host([disabled]) [part="label"],
      :host([disabled]) [part="value"],
      :host([disabled]) [part="input-field"] ::slotted(*) {
        color: var(--lumo-disabled-text-color);
        -webkit-text-fill-color: var(--lumo-disabled-text-color);
      }

      /* Invalid style */

      :host([invalid]) [part="input-field"] {
        background-color: var(--lumo-error-color-10pct);
      }

      :host([invalid]) [part="input-field"]::after {
        background-color: var(--lumo-error-color-50pct);
      }

      :host([invalid][focus-ring]) [part="input-field"] {
        box-shadow: 0 0 0 2px var(--lumo-error-color-50pct);
      }

      :host([input-prevented]) [part="input-field"] {
        color: var(--lumo-error-text-color);
      }

      /* Small theme */

      :host([theme~="small"]) {
        font-size: var(--lumo-font-size-s);
        --lumo-text-field-size: var(--lumo-size-s);
      }

      :host([theme~="small"][has-label]) [part="label"] {
        font-size: var(--lumo-font-size-xs);
      }

      :host([theme~="small"][has-label]) [part="error-message"] {
        font-size: var(--lumo-font-size-xxs);
      }

      /* Text align */

      :host([theme~="align-center"]) [part="value"] {
        text-align: center;
        --_lumo-text-field-overflow-mask-image: none;
      }

      :host([theme~="align-right"]) [part="value"] {
        text-align: right;
        --_lumo-text-field-overflow-mask-image: none;
      }

      @-moz-document url-prefix() {
        /* Firefox is smart enough to align overflowing text to right */
        :host([theme~="align-right"]) [part="value"] {
          --_lumo-text-field-overflow-mask-image: linear-gradient(to right, transparent 0.25em, #000 1.5em);
        }
      }

      /* Slotted content */

      [part="input-field"] ::slotted(:not([part]):not(iron-icon):not(input):not(textarea)) {
        color: var(--lumo-secondary-text-color);
        font-weight: 400;
      }

      /* Slotted icons */

      [part="input-field"] ::slotted(iron-icon) {
        color: var(--lumo-contrast-60pct);
        width: var(--lumo-icon-size-m);
        height: var(--lumo-icon-size-m);
      }

      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
      [part="input-field"] ::slotted(iron-icon[icon^="vaadin:"]) {
        padding: 0.25em;
        box-sizing: border-box !important;
      }

      [part="clear-button"]::before {
        content: var(--lumo-icons-cross);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$k.content);const $_documentContainer$l=document.createElement("template");$_documentContainer$l.innerHTML=`<dom-module id="vaadin-text-field-shared-styles">
  <template>
    <style>
      :host {
        display: inline-flex;
        outline: none;
      }

      :host::before {
        content: "\\2003";
        width: 0;
        display: inline-block;
        /* Size and position this element on the same vertical position as the input-field element
           to make vertical align for the host element work as expected */
      }

      :host([hidden]) {
        display: none !important;
      }

      .vaadin-text-field-container,
      .vaadin-text-area-container {
        display: flex;
        flex-direction: column;
        min-width: 100%;
        max-width: 100%;
        width: var(--vaadin-text-field-default-width, 12em);
      }

      [part="label"]:empty {
        display: none;
      }

      [part="input-field"] {
        display: flex;
        align-items: center;
        flex: auto;
      }

      .vaadin-text-field-container [part="input-field"] {
        flex-grow: 0;
      }

      /* Reset the native input styles */
      [part="value"],
      [part="input-field"] ::slotted(input),
      [part="input-field"] ::slotted(textarea) {
        -webkit-appearance: none;
        -moz-appearance: none;
        outline: none;
        margin: 0;
        padding: 0;
        border: 0;
        border-radius: 0;
        min-width: 0;
        font: inherit;
        font-size: 1em;
        line-height: normal;
        color: inherit;
        background-color: transparent;
        /* Disable default invalid style in Firefox */
        box-shadow: none;
      }

      [part="input-field"] ::slotted(*) {
        flex: none;
      }

      [part="value"],
      [part="input-field"] ::slotted(input),
      [part="input-field"] ::slotted(textarea),
      /* Slotted by vaadin-select-text-field */
      [part="input-field"] ::slotted([part="value"]) {
        flex: auto;
        white-space: nowrap;
        overflow: hidden;
        width: 100%;
        height: 100%;
      }

      [part="input-field"] ::slotted(textarea) {
        resize: none;
      }

      [part="value"]::-ms-clear,
      [part="input-field"] ::slotted(input)::-ms-clear {
        display: none;
      }

      [part="clear-button"] {
        cursor: default;
      }

      [part="clear-button"]::before {
        content: "";
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$l.content);const HOST_PROPS={default:["list","autofocus","pattern","autocapitalize","autocorrect","maxlength","minlength","name","placeholder","autocomplete","title"],accessible:["disabled","readonly","required","invalid"]},PROP_TYPE={DEFAULT:"default",ACCESSIBLE:"accessible"},TextFieldMixin=subclass=>class VaadinTextFieldMixin extends ControlStateMixin(subclass){static get properties(){return{autocomplete:{type:String},autocorrect:{type:String},autocapitalize:{type:String},autoselect:{type:Boolean,value:!1},clearButtonVisible:{type:Boolean,value:!1},errorMessage:{type:String,value:""},label:{type:String,value:"",observer:"_labelChanged"},maxlength:{type:Number},minlength:{type:Number},name:{type:String},placeholder:{type:String},readonly:{type:Boolean,reflectToAttribute:!0},required:{type:Boolean,reflectToAttribute:!0},value:{type:String,value:"",observer:"_valueChanged",notify:!0},invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},hasValue:{type:Boolean,reflectToAttribute:!0},preventInvalidInput:{type:Boolean},_labelId:{type:String},_errorId:{type:String}}}static get observers(){return["_stateChanged(disabled, readonly, clearButtonVisible, hasValue)","_hostPropsChanged("+HOST_PROPS.default.join(", ")+")","_hostAccessiblePropsChanged("+HOST_PROPS.accessible.join(", ")+")","_getActiveErrorId(invalid, errorMessage, _errorId)","_getActiveLabelId(label, _labelId)"]}get focusElement(){if(!this.shadowRoot){return}const slotted=this.querySelector(`${this._slottedTagName}[slot="${this._slottedTagName}"]`);if(slotted){return slotted}return this.shadowRoot.querySelector("[part=\"value\"]")}get inputElement(){return this.focusElement}get _slottedTagName(){return"input"}_onInput(e){if(this.__preventInput){e.stopImmediatePropagation();this.__preventInput=!1;return}if(this.preventInvalidInput){const input=this.inputElement;if(0<input.value.length&&!this.checkValidity()){input.value=this.value||"";this.setAttribute("input-prevented","");this._inputDebouncer=Debouncer.debounce(this._inputDebouncer,timeOut.after(200),()=>{this.removeAttribute("input-prevented")});return}}this.__userInput=!0;this.value=e.target.value}_stateChanged(disabled,readonly,clearButtonVisible,hasValue){if(!disabled&&!readonly&&clearButtonVisible&&hasValue){this.$.clearButton.removeAttribute("hidden")}else{this.$.clearButton.setAttribute("hidden",!0)}}_onChange(e){if(this._valueClearing){return}const changeEvent=new CustomEvent("change",{detail:{sourceEvent:e},bubbles:e.bubbles,cancelable:e.cancelable});this.dispatchEvent(changeEvent)}_valueChanged(newVal,oldVal){if(""===newVal&&oldVal===void 0){return}if(""!==newVal&&null!=newVal){this.hasValue=!0}else{this.hasValue=!1}if(this.__userInput){this.__userInput=!1;return}else if(newVal!==void 0){this.inputElement.value=newVal}else{this.value=this.inputElement.value=""}if(this.invalid){this.validate()}}_labelChanged(label){if(""!==label&&null!=label){this.setAttribute("has-label","")}else{this.removeAttribute("has-label")}}_onSlotChange(){const slotted=this.querySelector(`${this._slottedTagName}[slot="${this._slottedTagName}"]`);if(this.value){this.inputElement.value=this.value;this.validate()}if(slotted&&!this._slottedInput){this._validateSlottedValue(slotted);this._addInputListeners(slotted);this._addIEListeners(slotted);this._slottedInput=slotted}else if(!slotted&&this._slottedInput){this._removeInputListeners(this._slottedInput);this._removeIEListeners(this._slottedInput);this._slottedInput=void 0}Object.keys(PROP_TYPE).map(key=>PROP_TYPE[key]).forEach(type=>this._propagateHostAttributes(HOST_PROPS[type].map(attr=>this[attr]),type))}_hostPropsChanged(...attributesValues){this._propagateHostAttributes(attributesValues,PROP_TYPE.DEFAULT)}_hostAccessiblePropsChanged(...attributesValues){this._propagateHostAttributes(attributesValues,PROP_TYPE.ACCESSIBLE)}_validateSlottedValue(slotted){if(slotted.value!==this.value){console.warn("Please define value on the vaadin-text-field component!");slotted.value=""}}_propagateHostAttributes(attributesValues,type){const input=this.inputElement,attributeNames=HOST_PROPS[type];if("accessible"===type){attributeNames.forEach((attr,index)=>{this._setOrToggleAttribute(attr,attributesValues[index],input);this._setOrToggleAttribute(`aria-${attr}`,attributesValues[index],input)})}else{attributeNames.forEach((attr,index)=>{this._setOrToggleAttribute(attr,attributesValues[index],input)})}}_setOrToggleAttribute(name,value,node){if(!name||!node){return}if(node.hasAttribute(name)===!value){if(value){node.setAttribute(name,"boolean"===typeof value?"":value)}else{node.removeAttribute(name)}}}checkValidity(){if(this.required||this.pattern||this.maxlength||this.minlength){return this.inputElement.checkValidity()}else{return!this.invalid}}_addInputListeners(node){node.addEventListener("input",this._boundOnInput);node.addEventListener("change",this._boundOnChange);node.addEventListener("blur",this._boundOnBlur);node.addEventListener("focus",this._boundOnFocus)}_removeInputListeners(node){node.removeEventListener("input",this._boundOnInput);node.removeEventListener("change",this._boundOnChange);node.removeEventListener("blur",this._boundOnBlur);node.removeEventListener("focus",this._boundOnFocus)}ready(){super.ready();this._boundOnInput=this._onInput.bind(this);this._boundOnChange=this._onChange.bind(this);this._boundOnBlur=this._onBlur.bind(this);this._boundOnFocus=this._onFocus.bind(this);const defaultInput=this.shadowRoot.querySelector("[part=\"value\"]");this._slottedInput=this.querySelector(`${this._slottedTagName}[slot="${this._slottedTagName}"]`);this._addInputListeners(defaultInput);this._addIEListeners(defaultInput);if(this._slottedInput){this._addIEListeners(this._slottedInput);this._addInputListeners(this._slottedInput)}this.shadowRoot.querySelector("[name=\"input\"], [name=\"textarea\"]").addEventListener("slotchange",this._onSlotChange.bind(this));if(!(window.ShadyCSS&&window.ShadyCSS.nativeCss)){this.updateStyles()}this.$.clearButton.addEventListener("mousedown",()=>this._valueClearing=!0);this.$.clearButton.addEventListener("click",this._onClearButtonClick.bind(this));this.addEventListener("keydown",this._onKeyDown.bind(this));var uniqueId=TextFieldMixin._uniqueId=1+TextFieldMixin._uniqueId||0;this._errorId=`${this.constructor.is}-error-${uniqueId}`;this._labelId=`${this.constructor.is}-label-${uniqueId}`}validate(){return!(this.invalid=!this.checkValidity())}clear(){this.value=""}_onBlur(){this.validate()}_onFocus(){if(this.autoselect){this.inputElement.select();setTimeout(()=>{this.inputElement.setSelectionRange(0,9999)})}}_onClearButtonClick(e){this.inputElement.focus();this.clear();this._valueClearing=!1;this.inputElement.dispatchEvent(new Event("change",{bubbles:!this._slottedInput}))}_onKeyDown(e){if(27===e.keyCode&&this.clearButtonVisible){this.clear()}}_addIEListeners(node){if(navigator.userAgent.match(/Trident/)){this._shouldPreventInput=()=>{this.__preventInput=!0;requestAnimationFrame(()=>{this.__preventInput=!1})};node.addEventListener("focusin",this._shouldPreventInput);node.addEventListener("focusout",this._shouldPreventInput);this._createPropertyObserver("placeholder",this._shouldPreventInput)}}_removeIEListeners(node){if(navigator.userAgent.match(/Trident/)){node.removeEventListener("focusin",this._shouldPreventInput);node.removeEventListener("focusout",this._shouldPreventInput)}}_getActiveErrorId(invalid,errorMessage,errorId){this._setOrToggleAttribute("aria-describedby",errorMessage&&invalid?errorId:void 0,this.inputElement)}_getActiveLabelId(label,labelId){this._setOrToggleAttribute("aria-labelledby",label?labelId:void 0,this.inputElement)}_getErrorMessageAriaHidden(invalid,errorMessage,errorId){return(!(errorMessage&&invalid?errorId:void 0)).toString()}attributeChangedCallback(prop,oldVal,newVal){super.attributeChangedCallback(prop,oldVal,newVal);if(!(window.ShadyCSS&&window.ShadyCSS.nativeCss)&&/^(focused|focus-ring|invalid|disabled|placeholder|has-value)$/.test(prop)){this.updateStyles()}const isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(isSafari&&this.root){const WEBKIT_PROPERTY="-webkit-backface-visibility";this.root.querySelectorAll("*").forEach(el=>{el.style[WEBKIT_PROPERTY]="visible";el.style[WEBKIT_PROPERTY]=""})}}};class TextFieldElement extends ElementMixin$1(TextFieldMixin(ThemableMixin(PolymerElement))){static get template(){return html`
    <style include="vaadin-text-field-shared-styles">
      /* polymer-cli linter breaks with empty line */
    </style>

    <div class="vaadin-text-field-container">

      <label part="label" on-click="focus" id="[[_labelId]]">[[label]]</label>

      <div part="input-field">

        <slot name="prefix"></slot>

        <slot name="input">
          <input part="value">
        </slot>

        <div part="clear-button" id="clearButton" role="button" aria-label="Clear"></div>
        <slot name="suffix"></slot>

      </div>

      <div part="error-message" id="[[_errorId]]" aria-live="assertive" aria-hidden\$="[[_getErrorMessageAriaHidden(invalid, errorMessage, _errorId)]]">[[errorMessage]]</div>

    </div>
`}static get is(){return"vaadin-text-field"}static get version(){return"2.3.4"}static get properties(){return{list:{type:String},pattern:{type:String},title:{type:String}}}}customElements.define(TextFieldElement.is,TextFieldElement);const $_documentContainer$m=html`<dom-module id="lumo-date-picker" theme-for="vaadin-date-picker">
  <template>
    <style include="lumo-field-button">
      :host {
        outline: none;
      }

      [part="toggle-button"]::before {
        content: var(--lumo-icons-calendar);
      }

      [part="clear-button"]::before {
        content: var(--lumo-icons-cross);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$m.content);"use strict";class StyleNode{constructor(){this.start=0;this.end=0;this.previous=null;this.parent=null;this.rules=null;this.parsedCssText="";this.cssText="";this.atRule=!1;this.type=0;this.keyframesName="";this.selector="";this.parsedSelector=""}}function parse(text){text=clean(text);return parseCss(lex(text),text)}function clean(cssText){return cssText.replace(RX.comments,"").replace(RX.port,"")}function lex(text){let root=new StyleNode;root.start=0;root.end=text.length;let n=root;for(let i=0,l=text.length;i<l;i++){if(text[i]===OPEN_BRACE){if(!n.rules){n.rules=[]}let p=n,previous=p.rules[p.rules.length-1]||null;n=new StyleNode;n.start=i+1;n.parent=p;n.previous=previous;p.rules.push(n)}else if(text[i]===CLOSE_BRACE){n.end=i+1;n=n.parent||root}}return root}function parseCss(node,text){let t=text.substring(node.start,node.end-1);node.parsedCssText=node.cssText=t.trim();if(node.parent){let ss=node.previous?node.previous.end:node.parent.start;t=text.substring(ss,node.start-1);t=_expandUnicodeEscapes(t);t=t.replace(RX.multipleSpaces," ");t=t.substring(t.lastIndexOf(";")+1);let s=node.parsedSelector=node.selector=t.trim();node.atRule=0===s.indexOf(AT_START);if(node.atRule){if(0===s.indexOf(MEDIA_START)){node.type=types.MEDIA_RULE}else if(s.match(RX.keyframesRule)){node.type=types.KEYFRAMES_RULE;node.keyframesName=node.selector.split(RX.multipleSpaces).pop()}}else{if(0===s.indexOf(VAR_START)){node.type=types.MIXIN_RULE}else{node.type=types.STYLE_RULE}}}let r$=node.rules;if(r$){for(let i=0,l=r$.length,r;i<l&&(r=r$[i]);i++){parseCss(r,text)}}return node}function _expandUnicodeEscapes(s){return s.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let code=arguments[1],repeat=6-code.length;while(repeat--){code="0"+code}return"\\"+code})}function stringify(node,preserveProperties,text=""){let cssText="";if(node.cssText||node.rules){let r$=node.rules;if(r$&&!_hasMixinRules(r$)){for(let i=0,l=r$.length,r;i<l&&(r=r$[i]);i++){cssText=stringify(r,preserveProperties,cssText)}}else{cssText=preserveProperties?node.cssText:removeCustomProps(node.cssText);cssText=cssText.trim();if(cssText){cssText="  "+cssText+"\n"}}}if(cssText){if(node.selector){text+=node.selector+" "+OPEN_BRACE+"\n"}text+=cssText;if(node.selector){text+=CLOSE_BRACE+"\n\n"}}return text}function _hasMixinRules(rules){let r=rules[0];return!!r&&!!r.selector&&0===r.selector.indexOf(VAR_START)}function removeCustomProps(cssText){cssText=removeCustomPropAssignment(cssText);return removeCustomPropApply(cssText)}function removeCustomPropAssignment(cssText){return cssText.replace(RX.customProp,"").replace(RX.mixinProp,"")}function removeCustomPropApply(cssText){return cssText.replace(RX.mixinApply,"").replace(RX.varApply,"")}const types={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},OPEN_BRACE="{",CLOSE_BRACE="}",RX={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},VAR_START="--",MEDIA_START="@media",AT_START="@";"use strict";const styleTextSet=new Set,scopingAttribute="shady-unscoped";function processUnscopedStyle(style){const text=style.textContent;if(!styleTextSet.has(text)){styleTextSet.add(text);const newStyle=style.cloneNode(!0);document.head.appendChild(newStyle)}}function isUnscopedStyle(style){return style.hasAttribute(scopingAttribute)}"use strict";function toCssText(rules,callback){if(!rules){return""}if("string"===typeof rules){rules=parse(rules)}if(callback){forEachRule(rules,callback)}return stringify(rules,nativeCssVariables)}function rulesForStyle(style){if(!style.__cssRules&&style.textContent){style.__cssRules=parse(style.textContent)}return style.__cssRules||null}function isKeyframesSelector(rule){return!!rule.parent&&rule.parent.type===types.KEYFRAMES_RULE}function forEachRule(node,styleRuleCallback,keyframesRuleCallback,onlyActiveRules){if(!node){return}let skipRules=!1,type=node.type;if(onlyActiveRules){if(type===types.MEDIA_RULE){let matchMedia=node.selector.match(MEDIA_MATCH);if(matchMedia){if(!window.matchMedia(matchMedia[1]).matches){skipRules=!0}}}}if(type===types.STYLE_RULE){styleRuleCallback(node)}else if(keyframesRuleCallback&&type===types.KEYFRAMES_RULE){keyframesRuleCallback(node)}else if(type===types.MIXIN_RULE){skipRules=!0}let r$=node.rules;if(r$&&!skipRules){for(let i=0,l=r$.length,r;i<l&&(r=r$[i]);i++){forEachRule(r,styleRuleCallback,keyframesRuleCallback,onlyActiveRules)}}}function applyCss(cssText,moniker,target,contextNode){let style=createScopeStyle(cssText,moniker);applyStyle(style,target,contextNode);return style}function createScopeStyle(cssText,moniker){let style=document.createElement("style");if(moniker){style.setAttribute("scope",moniker)}style.textContent=cssText;return style}let lastHeadApplyNode=null;function applyStylePlaceHolder(moniker){let placeHolder=document.createComment(" Shady DOM styles for "+moniker+" "),after=lastHeadApplyNode?lastHeadApplyNode.nextSibling:null,scope=document.head;scope.insertBefore(placeHolder,after||scope.firstChild);lastHeadApplyNode=placeHolder;return placeHolder}function applyStyle(style,target,contextNode){target=target||document.head;let after=contextNode&&contextNode.nextSibling||target.firstChild;target.insertBefore(style,after);if(!lastHeadApplyNode){lastHeadApplyNode=style}else{let position=style.compareDocumentPosition(lastHeadApplyNode);if(position===Node.DOCUMENT_POSITION_PRECEDING){lastHeadApplyNode=style}}}function isTargetedBuild(buildType){return nativeShadow?"shadow"===buildType:"shady"===buildType}function findMatchingParen(text,start){let level=0;for(let i=start,l=text.length;i<l;i++){if("("===text[i]){level++}else if(")"===text[i]){if(0===--level){return i}}}return-1}function processVariableAndFallback(str,callback){let start=str.indexOf("var(");if(-1===start){return callback(str,"","","")}let end=findMatchingParen(str,start+3),inner=str.substring(start+4,end),prefix=str.substring(0,start),suffix=processVariableAndFallback(str.substring(end+1),callback),comma=inner.indexOf(",");if(-1===comma){return callback(prefix,inner.trim(),"",suffix)}let value=inner.substring(0,comma).trim(),fallback=inner.substring(comma+1).trim();return callback(prefix,value,fallback,suffix)}function setElementClassRaw(element,value){if(nativeShadow){element.setAttribute("class",value)}else{window.ShadyDOM.nativeMethods.setAttribute.call(element,"class",value)}}const wrap=window.ShadyDOM&&window.ShadyDOM.wrap||(node=>node);function getIsExtends(element){let localName=element.localName,is="",typeExtension="";if(localName){if(-1<localName.indexOf("-")){is=localName}else{typeExtension=localName;is=element.getAttribute&&element.getAttribute("is")||""}}else{is=element.is;typeExtension=element.extends}return{is,typeExtension}}function gatherStyleText(element){const styleTextParts=[],styles=element.querySelectorAll("style");for(let i=0;i<styles.length;i++){const style=styles[i];if(isUnscopedStyle(style)){if(!nativeShadow){processUnscopedStyle(style);style.parentNode.removeChild(style)}}else{styleTextParts.push(style.textContent);style.parentNode.removeChild(style)}}return styleTextParts.join("").trim()}function splitSelectorList(selector){const parts=[];let part="";for(let i=0;0<=i&&i<selector.length;i++){if("("===selector[i]){const end=findMatchingParen(selector,i);part+=selector.slice(i,end+1);i=end}else if(","===selector[i]){parts.push(part);part=""}else{part+=selector[i]}}if(part){parts.push(part)}return parts}const CSS_BUILD_ATTR="css-build";function getCssBuild(element){if(cssBuild!==void 0){return cssBuild}if(element.__cssBuild===void 0){const attrValue=element.getAttribute(CSS_BUILD_ATTR);if(attrValue){element.__cssBuild=attrValue}else{const buildComment=getBuildComment(element);if(""!==buildComment){removeBuildComment(element)}element.__cssBuild=buildComment}}return element.__cssBuild||""}function elementHasBuiltCss(element){return""!==getCssBuild(element)}function getBuildComment(element){const buildComment="template"===element.localName?element.content.firstChild:element.firstChild;if(buildComment instanceof Comment){const commentParts=buildComment.textContent.trim().split(":");if(commentParts[0]===CSS_BUILD_ATTR){return commentParts[1]}}return""}function isOptimalCssBuild(cssBuild=""){if(""===cssBuild||!nativeCssVariables){return!1}return nativeShadow?"shadow"===cssBuild:"shady"===cssBuild}function removeBuildComment(element){const buildComment="template"===element.localName?element.content.firstChild:element.firstChild;buildComment.parentNode.removeChild(buildComment)}"use strict";const APPLY_NAME_CLEAN=/;\s*/m,INITIAL_INHERIT=/^\s*(initial)|(inherit)\s*$/,IMPORTANT=/\s*!important/,MIXIN_VAR_SEP="_-_";let PropertyEntry,DependantsEntry,MixinMapEntry;class MixinMap{constructor(){this._map={}}set(name,props){name=name.trim();this._map[name]={properties:props,dependants:{}}}get(name){name=name.trim();return this._map[name]||null}}let invalidCallback=null;class ApplyShim{constructor(){this._currentElement=null;this._measureElement=null;this._map=new MixinMap}detectMixin(cssText){return detectMixin(cssText)}gatherStyles(template){const styleText=gatherStyleText(template.content);if(styleText){const style=document.createElement("style");style.textContent=styleText;template.content.insertBefore(style,template.content.firstChild);return style}return null}transformTemplate(template,elementName){if(template._gatheredStyle===void 0){template._gatheredStyle=this.gatherStyles(template)}const style=template._gatheredStyle;return style?this.transformStyle(style,elementName):null}transformStyle(style,elementName=""){let ast=rulesForStyle(style);this.transformRules(ast,elementName);style.textContent=toCssText(ast);return ast}transformCustomStyle(style){let ast=rulesForStyle(style);forEachRule(ast,rule=>{if(":root"===rule.selector){rule.selector="html"}this.transformRule(rule)});style.textContent=toCssText(ast);return ast}transformRules(rules,elementName){this._currentElement=elementName;forEachRule(rules,r=>{this.transformRule(r)});this._currentElement=null}transformRule(rule){rule.cssText=this.transformCssText(rule.parsedCssText,rule);if(":root"===rule.selector){rule.selector=":host > *"}}transformCssText(cssText,rule){cssText=cssText.replace(VAR_ASSIGN,(matchText,propertyName,valueProperty,valueMixin)=>this._produceCssProperties(matchText,propertyName,valueProperty,valueMixin,rule));return this._consumeCssProperties(cssText,rule)}_getInitialValueForProperty(property){if(!this._measureElement){this._measureElement=document.createElement("meta");this._measureElement.setAttribute("apply-shim-measure","");this._measureElement.style.all="initial";document.head.appendChild(this._measureElement)}return window.getComputedStyle(this._measureElement).getPropertyValue(property)}_fallbacksFromPreviousRules(startRule){let topRule=startRule;while(topRule.parent){topRule=topRule.parent}const fallbacks={};let seenStartRule=!1;forEachRule(topRule,r=>{seenStartRule=seenStartRule||r===startRule;if(seenStartRule){return}if(r.selector===startRule.selector){Object.assign(fallbacks,this._cssTextToMap(r.parsedCssText))}});return fallbacks}_consumeCssProperties(text,rule){let m=null;while(m=MIXIN_MATCH.exec(text)){let matchText=m[0],mixinName=m[1],idx=m.index,applyPos=idx+matchText.indexOf("@apply"),afterApplyPos=idx+matchText.length,textBeforeApply=text.slice(0,applyPos),textAfterApply=text.slice(afterApplyPos),defaults=rule?this._fallbacksFromPreviousRules(rule):{};Object.assign(defaults,this._cssTextToMap(textBeforeApply));let replacement=this._atApplyToCssProperties(mixinName,defaults);text=`${textBeforeApply}${replacement}${textAfterApply}`;MIXIN_MATCH.lastIndex=idx+replacement.length}return text}_atApplyToCssProperties(mixinName,fallbacks){mixinName=mixinName.replace(APPLY_NAME_CLEAN,"");let vars=[],mixinEntry=this._map.get(mixinName);if(!mixinEntry){this._map.set(mixinName,{});mixinEntry=this._map.get(mixinName)}if(mixinEntry){if(this._currentElement){mixinEntry.dependants[this._currentElement]=!0}let p,parts,f;const properties=mixinEntry.properties;for(p in properties){f=fallbacks&&fallbacks[p];parts=[p,": var(",mixinName,MIXIN_VAR_SEP,p];if(f){parts.push(",",f.replace(IMPORTANT,""))}parts.push(")");if(IMPORTANT.test(properties[p])){parts.push(" !important")}vars.push(parts.join(""))}}return vars.join("; ")}_replaceInitialOrInherit(property,value){let match=INITIAL_INHERIT.exec(value);if(match){if(match[1]){value=this._getInitialValueForProperty(property)}else{value="apply-shim-inherit"}}return value}_cssTextToMap(text,replaceInitialOrInherit=!1){let props=text.split(";"),property,value,out={};for(let i=0,p,sp;i<props.length;i++){p=props[i];if(p){sp=p.split(":");if(1<sp.length){property=sp[0].trim();value=sp.slice(1).join(":");if(replaceInitialOrInherit){value=this._replaceInitialOrInherit(property,value)}out[property]=value}}}return out}_invalidateMixinEntry(mixinEntry){if(!invalidCallback){return}for(let elementName in mixinEntry.dependants){if(elementName!==this._currentElement){invalidCallback(elementName)}}}_produceCssProperties(matchText,propertyName,valueProperty,valueMixin,rule){if(valueProperty){processVariableAndFallback(valueProperty,(prefix,value)=>{if(value&&this._map.get(value)){valueMixin=`@apply ${value};`}})}if(!valueMixin){return matchText}let mixinAsProperties=this._consumeCssProperties(""+valueMixin,rule),prefix=matchText.slice(0,matchText.indexOf("--")),mixinValues=this._cssTextToMap(mixinAsProperties,!0),combinedProps=mixinValues,mixinEntry=this._map.get(propertyName),oldProps=mixinEntry&&mixinEntry.properties;if(oldProps){combinedProps=Object.assign(Object.create(oldProps),mixinValues)}else{this._map.set(propertyName,combinedProps)}let out=[],p,v,needToInvalidate=!1;for(p in combinedProps){v=mixinValues[p];if(v===void 0){v="initial"}if(oldProps&&!(p in oldProps)){needToInvalidate=!0}out.push(`${propertyName}${MIXIN_VAR_SEP}${p}: ${v}`)}if(needToInvalidate){this._invalidateMixinEntry(mixinEntry)}if(mixinEntry){mixinEntry.properties=combinedProps}if(valueProperty){prefix=`${matchText};${prefix}`}return`${prefix}${out.join("; ")};`}}ApplyShim.prototype.detectMixin=ApplyShim.prototype.detectMixin;ApplyShim.prototype.transformStyle=ApplyShim.prototype.transformStyle;ApplyShim.prototype.transformCustomStyle=ApplyShim.prototype.transformCustomStyle;ApplyShim.prototype.transformRules=ApplyShim.prototype.transformRules;ApplyShim.prototype.transformRule=ApplyShim.prototype.transformRule;ApplyShim.prototype.transformTemplate=ApplyShim.prototype.transformTemplate;ApplyShim.prototype._separator=MIXIN_VAR_SEP;Object.defineProperty(ApplyShim.prototype,"invalidCallback",{get(){return invalidCallback},set(cb){invalidCallback=cb}});"use strict";const templateMap={};"use strict";const CURRENT_VERSION="_applyShimCurrentVersion",NEXT_VERSION="_applyShimNextVersion",VALIDATING_VERSION="_applyShimValidatingVersion",promise=Promise.resolve();function invalidate(elementName){let template=templateMap[elementName];if(template){invalidateTemplate(template)}}function invalidateTemplate(template){template[CURRENT_VERSION]=template[CURRENT_VERSION]||0;template[VALIDATING_VERSION]=template[VALIDATING_VERSION]||0;template[NEXT_VERSION]=(template[NEXT_VERSION]||0)+1}function isValid(elementName){let template=templateMap[elementName];if(template){return templateIsValid(template)}return!0}function templateIsValid(template){return template[CURRENT_VERSION]===template[NEXT_VERSION]}function isValidating(elementName){let template=templateMap[elementName];if(template){return templateIsValidating(template)}return!1}function templateIsValidating(template){return!templateIsValid(template)&&template[VALIDATING_VERSION]===template[NEXT_VERSION]}function startValidating(elementName){let template=templateMap[elementName];startValidatingTemplate(template)}function startValidatingTemplate(template){template[VALIDATING_VERSION]=template[NEXT_VERSION];if(!template._validating){template._validating=!0;promise.then(function(){template[CURRENT_VERSION]=template[NEXT_VERSION];template._validating=!1})}}function elementsAreInvalid(){for(let elementName in templateMap){let template=templateMap[elementName];if(!templateIsValid(template)){return!0}}return!1}"use strict";const applyShim=new ApplyShim;class ApplyShimInterface{constructor(){this.customStyleInterface=null;applyShim.invalidCallback=invalidate}ensure(){if(this.customStyleInterface){return}if(window.ShadyCSS.CustomStyleInterface){this.customStyleInterface=window.ShadyCSS.CustomStyleInterface;this.customStyleInterface.transformCallback=style=>{applyShim.transformCustomStyle(style)};this.customStyleInterface.validateCallback=()=>{requestAnimationFrame(()=>{if(this.customStyleInterface.enqueued){this.flushCustomStyles()}})}}}prepareTemplate(template,elementName){this.ensure();if(elementHasBuiltCss(template)){return}templateMap[elementName]=template;let ast=applyShim.transformTemplate(template,elementName);template._styleAst=ast}flushCustomStyles(){this.ensure();if(!this.customStyleInterface){return}let styles=this.customStyleInterface.processStyles();if(!this.customStyleInterface.enqueued){return}for(let i=0;i<styles.length;i++){let cs=styles[i],style=this.customStyleInterface.getStyleForCustomStyle(cs);if(style){applyShim.transformCustomStyle(style)}}this.customStyleInterface.enqueued=!1}styleSubtree(element,properties){this.ensure();if(properties){updateNativeProperties(element,properties)}if(element.shadowRoot){this.styleElement(element);let shadowChildren=element.shadowRoot.children||element.shadowRoot.childNodes;for(let i=0;i<shadowChildren.length;i++){this.styleSubtree(shadowChildren[i])}}else{let children=element.children||element.childNodes;for(let i=0;i<children.length;i++){this.styleSubtree(children[i])}}}styleElement(element){this.ensure();let{is}=getIsExtends(element),template=templateMap[is];if(template&&elementHasBuiltCss(template)){return}if(template&&!templateIsValid(template)){if(!templateIsValidating(template)){this.prepareTemplate(template,is);startValidatingTemplate(template)}let root=element.shadowRoot;if(root){let style=root.querySelector("style");if(style){style.__cssRules=template._styleAst;style.textContent=toCssText(template._styleAst)}}}}styleDocument(properties){this.ensure();this.styleSubtree(document.body,properties)}}if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const applyShimInterface=new ApplyShimInterface;let CustomStyleInterface=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(template,elementName,elementExtends){applyShimInterface.flushCustomStyles();applyShimInterface.prepareTemplate(template,elementName)},prepareTemplateStyles(template,elementName,elementExtends){window.ShadyCSS.prepareTemplate(template,elementName,elementExtends)},prepareTemplateDom(template,elementName){},styleSubtree(element,properties){applyShimInterface.flushCustomStyles();applyShimInterface.styleSubtree(element,properties)},styleElement(element){applyShimInterface.flushCustomStyles();applyShimInterface.styleElement(element)},styleDocument(properties){applyShimInterface.flushCustomStyles();applyShimInterface.styleDocument(properties)},getComputedStyleValue(element,property){return getComputedStyleValue(element,property)},flushCustomStyles(){applyShimInterface.flushCustomStyles()},nativeCss:nativeCssVariables,nativeShadow:nativeShadow,cssBuild:cssBuild,disableRuntime:disableRuntime};if(CustomStyleInterface){window.ShadyCSS.CustomStyleInterface=CustomStyleInterface}}window.ShadyCSS.ApplyShim=applyShim;const HOST_DIR=/:host\(:dir\((ltr|rtl)\)\)/g,HOST_DIR_REPLACMENT=":host([dir=\"$1\"])",EL_DIR=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,EL_DIR_REPLACMENT=":host([dir=\"$2\"]) $1",DIR_INSTANCES=[];let observer=null,DOCUMENT_DIR="";function getRTL(){DOCUMENT_DIR=document.documentElement.getAttribute("dir")}function setRTL(instance){if(!instance.__autoDirOptOut){const el=instance;el.setAttribute("dir",DOCUMENT_DIR)}}function updateDirection(){getRTL();DOCUMENT_DIR=document.documentElement.getAttribute("dir");for(let i=0;i<DIR_INSTANCES.length;i++){setRTL(DIR_INSTANCES[i])}}function takeRecords(){if(observer&&observer.takeRecords().length){updateDirection()}}const DirMixin=dedupingMixin(base=>{if(!observer){getRTL();observer=new MutationObserver(updateDirection);observer.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]})}const elementBase=PropertyAccessors(base);class Dir extends elementBase{static _processStyleText(cssText,baseURI){cssText=super._processStyleText(cssText,baseURI);cssText=this._replaceDirInCssText(cssText);return cssText}static _replaceDirInCssText(text){let replacedText=text;replacedText=replacedText.replace(HOST_DIR,HOST_DIR_REPLACMENT);replacedText=replacedText.replace(EL_DIR,EL_DIR_REPLACMENT);if(text!==replacedText){this.__activateDir=!0}return replacedText}constructor(){super();this.__autoDirOptOut=!1}ready(){super.ready();this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){if(elementBase.prototype.connectedCallback){super.connectedCallback()}if(this.constructor.__activateDir){takeRecords();DIR_INSTANCES.push(this);setRTL(this)}}disconnectedCallback(){if(elementBase.prototype.disconnectedCallback){super.disconnectedCallback()}if(this.constructor.__activateDir){const idx=DIR_INSTANCES.indexOf(this);if(-1<idx){DIR_INSTANCES.splice(idx,1)}}}}Dir.__activateDir=!1;return Dir});function resolve(){document.body.removeAttribute("unresolved")}if("interactive"===document.readyState||"complete"===document.readyState){resolve()}else{window.addEventListener("DOMContentLoaded",resolve)}const p$1=Element.prototype,normalizedMatchesSelector=p$1.matches||p$1.matchesSelector||p$1.mozMatchesSelector||p$1.msMatchesSelector||p$1.oMatchesSelector||p$1.webkitMatchesSelector,matchesSelector=function(node,selector){return normalizedMatchesSelector.call(node,selector)};class DomApi{constructor(node){this.node=node}observeNodes(callback){return new FlattenedNodesObserver(this.node,callback)}unobserveNodes(observerHandle){observerHandle.disconnect()}notifyObserver(){}deepContains(node){if(this.node.contains(node)){return!0}let n=node,doc=node.ownerDocument;while(n&&n!==doc&&n!==this.node){n=n.parentNode||n.host}return n===this.node}getOwnerRoot(){return this.node.getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let ip$=[],n=this.node.assignedSlot;while(n){ip$.push(n);n=n.assignedSlot}return ip$}importNode(node,deep){let doc=this.node instanceof Document?this.node:this.node.ownerDocument;return doc.importNode(node,deep)}getEffectiveChildNodes(){return FlattenedNodesObserver.getFlattenedNodes(this.node)}queryDistributedElements(selector){let c$=this.getEffectiveChildNodes(),list=[];for(let i=0,l=c$.length,c;i<l&&(c=c$[i]);i++){if(c.nodeType===Node.ELEMENT_NODE&&matchesSelector(c,selector)){list.push(c)}}return list}get activeElement(){let node=this.node;return node._activeElement!==void 0?node._activeElement:node.activeElement}}function forwardMethods(proto,methods){for(let i=0,method;i<methods.length;i++){method=methods[i];proto[method]=function(){return this.node[method].apply(this.node,arguments)}}}function forwardReadOnlyProperties(proto,properties){for(let i=0,name;i<properties.length;i++){name=properties[i];Object.defineProperty(proto,name,{get:function(){const domApi=this;return domApi.node[name]},configurable:!0})}}function forwardProperties(proto,properties){for(let i=0,name;i<properties.length;i++){name=properties[i];Object.defineProperty(proto,name,{get:function(){return this.node[name]},set:function(value){this.node[name]=value},configurable:!0})}}class EventApi{constructor(event){this.event=event}get rootTarget(){return this.event.composedPath()[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}DomApi.prototype.cloneNode;DomApi.prototype.appendChild;DomApi.prototype.insertBefore;DomApi.prototype.removeChild;DomApi.prototype.replaceChild;DomApi.prototype.setAttribute;DomApi.prototype.removeAttribute;DomApi.prototype.querySelector;DomApi.prototype.querySelectorAll;DomApi.prototype.parentNode;DomApi.prototype.firstChild;DomApi.prototype.lastChild;DomApi.prototype.nextSibling;DomApi.prototype.previousSibling;DomApi.prototype.firstElementChild;DomApi.prototype.lastElementChild;DomApi.prototype.nextElementSibling;DomApi.prototype.previousElementSibling;DomApi.prototype.childNodes;DomApi.prototype.children;DomApi.prototype.classList;DomApi.prototype.textContent;DomApi.prototype.innerHTML;forwardMethods(DomApi.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]);forwardReadOnlyProperties(DomApi.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]);forwardProperties(DomApi.prototype,["textContent","innerHTML"]);const dom=function(obj){obj=obj||document;if(!obj.__domApi){let helper;if(obj instanceof Event){helper=new EventApi(obj)}else{helper=new DomApi(obj)}obj.__domApi=helper}return obj.__domApi},bundledImportMeta$1=babelHelpers.objectSpread({},meta,{url:new URL("./node_modules/%40polymer/polymer/lib/legacy/legacy-element-mixin.js",meta.url).href});let styleInterface=window.ShadyCSS;const LegacyElementMixin=dedupingMixin(base=>{const legacyElementBase=DirMixin(GestureEventListeners(ElementMixin(base))),DIRECTION_MAP={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class LegacyElement extends legacyElementBase{constructor(){super();this.isAttached;this.__boundListeners;this._debouncers;this._applyListeners()}static get importMeta(){return this.prototype.importMeta}created(){}connectedCallback(){super.connectedCallback();this.isAttached=!0;this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback();this.isAttached=!1;this.detached()}detached(){}attributeChangedCallback(name,old,value,namespace){if(old!==value){super.attributeChangedCallback(name,old,value,namespace);this.attributeChanged(name,old,value)}}attributeChanged(name,old,value){}_initializeProperties(){let proto=Object.getPrototypeOf(this);if(!proto.hasOwnProperty("__hasRegisterFinished")){proto.__hasRegisterFinished=!0;this._registered()}super._initializeProperties();this.root=this;this.created()}_registered(){}ready(){this._ensureAttributes();super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(value){return this._serializeValue(value)}deserialize(value,type){return this._deserializeValue(value,type)}reflectPropertyToAttribute(property,attribute,value){this._propertyToAttribute(property,attribute,value)}serializeValueToAttribute(value,attribute,node){this._valueToNodeAttribute(node||this,value,attribute)}extend(prototype,api){if(!(prototype&&api)){return prototype||api}let n$=Object.getOwnPropertyNames(api);for(let i=0,n,pd;i<n$.length&&(n=n$[i]);i++){pd=Object.getOwnPropertyDescriptor(api,n);if(pd){Object.defineProperty(prototype,n,pd)}}return prototype}mixin(target,source){for(let i in source){target[i]=source[i]}return target}chainObject(object,prototype){if(object&&prototype&&object!==prototype){object.__proto__=prototype}return object}instanceTemplate(template){let content=this.constructor._contentForTemplate(template),dom=document.importNode(content,!0);return dom}fire(type,detail,options){options=options||{};detail=null===detail||detail===void 0?{}:detail;let event=new Event(type,{bubbles:options.bubbles===void 0?!0:options.bubbles,cancelable:!!options.cancelable,composed:options.composed===void 0?!0:options.composed});event.detail=detail;let node=options.node||this;node.dispatchEvent(event);return event}listen(node,eventName,methodName){node=node||this;let hbl=this.__boundListeners||(this.__boundListeners=new WeakMap),bl=hbl.get(node);if(!bl){bl={};hbl.set(node,bl)}let key=eventName+methodName;if(!bl[key]){bl[key]=this._addMethodEventListenerToNode(node,eventName,methodName,this)}}unlisten(node,eventName,methodName){node=node||this;let bl=this.__boundListeners&&this.__boundListeners.get(node),key=eventName+methodName,handler=bl&&bl[key];if(handler){this._removeEventListenerFromNode(node,eventName,handler);bl[key]=null}}setScrollDirection(direction,node){setTouchAction(node||this,DIRECTION_MAP[direction]||"auto")}$$(slctr){return this.root.querySelector(slctr)}get domHost(){let root=this.getRootNode();return root instanceof DocumentFragment?root.host:root}distributeContent(){if(window.ShadyDOM&&this.shadowRoot){ShadyDOM.flush()}}getEffectiveChildNodes(){const thisEl=this,domApi=dom(thisEl);return domApi.getEffectiveChildNodes()}queryDistributedElements(selector){const thisEl=this,domApi=dom(thisEl);return domApi.queryDistributedElements(selector)}getEffectiveChildren(){let list=this.getEffectiveChildNodes();return list.filter(function(n){return n.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let cn=this.getEffectiveChildNodes(),tc=[];for(let i=0,c;c=cn[i];i++){if(c.nodeType!==Node.COMMENT_NODE){tc.push(c.textContent)}}return tc.join("")}queryEffectiveChildren(selector){let e$=this.queryDistributedElements(selector);return e$&&e$[0]}queryAllEffectiveChildren(selector){return this.queryDistributedElements(selector)}getContentChildNodes(slctr){let content=this.root.querySelector(slctr||"slot");return content?dom(content).getDistributedNodes():[]}getContentChildren(slctr){let children=this.getContentChildNodes(slctr).filter(function(n){return n.nodeType===Node.ELEMENT_NODE});return children}isLightDescendant(node){const thisNode=this;return thisNode!==node&&thisNode.contains(node)&&thisNode.getRootNode()===node.getRootNode()}isLocalDescendant(node){return this.root===node.getRootNode()}scopeSubtree(container,shouldObserve){}getComputedStyleValue(property){return styleInterface.getComputedStyleValue(this,property)}debounce(jobName,callback,wait){this._debouncers=this._debouncers||{};return this._debouncers[jobName]=Debouncer.debounce(this._debouncers[jobName],0<wait?timeOut.after(wait):microTask,callback.bind(this))}isDebouncerActive(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];return!!(debouncer&&debouncer.isActive())}flushDebouncer(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];if(debouncer){debouncer.flush()}}cancelDebouncer(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];if(debouncer){debouncer.cancel()}}async(callback,waitTime){return 0<waitTime?timeOut.run(callback.bind(this),waitTime):~microTask.run(callback.bind(this))}cancelAsync(handle){0>handle?microTask.cancel(~handle):timeOut.cancel(handle)}create(tag,props){let elt=document.createElement(tag);if(props){if(elt.setProperties){elt.setProperties(props)}else{for(let n in props){elt[n]=props[n]}}}return elt}elementMatches(selector,node){return matchesSelector(node||this,selector)}toggleAttribute(name,bool){let node=this;if(3===arguments.length){node=arguments[2]}if(1==arguments.length){bool=!node.hasAttribute(name)}if(bool){node.setAttribute(name,"");return!0}else{node.removeAttribute(name);return!1}}toggleClass(name,bool,node){node=node||this;if(1==arguments.length){bool=!node.classList.contains(name)}if(bool){node.classList.add(name)}else{node.classList.remove(name)}}transform(transformText,node){node=node||this;node.style.webkitTransform=transformText;node.style.transform=transformText}translate3d(x,y,z,node){node=node||this;this.transform("translate3d("+x+","+y+","+z+")",node)}arrayDelete(arrayOrPath,item){let index;if(Array.isArray(arrayOrPath)){index=arrayOrPath.indexOf(item);if(0<=index){return arrayOrPath.splice(index,1)}}else{let arr=get(this,arrayOrPath);index=arr.indexOf(item);if(0<=index){return this.splice(arrayOrPath,index,1)}}return null}_logger(level,args){if(Array.isArray(args)&&1===args.length&&Array.isArray(args[0])){args=args[0]}switch(level){case"log":case"warn":case"error":console[level](...args);}}_log(...args){this._logger("log",args)}_warn(...args){this._logger("warn",args)}_error(...args){this._logger("error",args)}_logf(methodName,...args){return["[%s::%s]",this.is,methodName,...args]}}LegacyElement.prototype.is="";return LegacyElement});let metaProps={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0};function mixinBehaviors(behaviors,klass){if(!behaviors){klass=klass;return klass}klass=LegacyElementMixin(klass);if(!Array.isArray(behaviors)){behaviors=[behaviors]}let superBehaviors=klass.prototype.behaviors;behaviors=flattenBehaviors(behaviors,null,superBehaviors);klass=_mixinBehaviors(behaviors,klass);if(superBehaviors){behaviors=superBehaviors.concat(behaviors)}klass.prototype.behaviors=behaviors;return klass}function _mixinBehaviors(behaviors,klass){for(let i=0,b;i<behaviors.length;i++){b=behaviors[i];if(b){klass=Array.isArray(b)?_mixinBehaviors(b,klass):GenerateClassFromInfo(b,klass)}}return klass}function flattenBehaviors(behaviors,list,exclude){list=list||[];for(let i=behaviors.length-1,b;0<=i;i--){b=behaviors[i];if(b){if(Array.isArray(b)){flattenBehaviors(b,list)}else{if(0>list.indexOf(b)&&(!exclude||0>exclude.indexOf(b))){list.unshift(b)}}}else{console.warn("behavior is null, check for missing or 404 import")}}return list}function GenerateClassFromInfo(info,Base){class PolymerGenerated extends Base{static get properties(){return info.properties}static get observers(){return info.observers}created(){super.created();if(info.created){info.created.call(this)}}_registered(){super._registered();if(info.beforeRegister){info.beforeRegister.call(Object.getPrototypeOf(this))}if(info.registered){info.registered.call(Object.getPrototypeOf(this))}}_applyListeners(){super._applyListeners();if(info.listeners){for(let l in info.listeners){this._addMethodEventListenerToNode(this,l,info.listeners[l])}}}_ensureAttributes(){if(info.hostAttributes){for(let a in info.hostAttributes){this._ensureAttribute(a,info.hostAttributes[a])}}super._ensureAttributes()}ready(){super.ready();if(info.ready){info.ready.call(this)}}attached(){super.attached();if(info.attached){info.attached.call(this)}}detached(){super.detached();if(info.detached){info.detached.call(this)}}attributeChanged(name,old,value){super.attributeChanged(name,old,value);if(info.attributeChanged){info.attributeChanged.call(this,name,old,value)}}}PolymerGenerated.generatedFrom=info;for(let p in info){if(!(p in metaProps)){let pd=Object.getOwnPropertyDescriptor(info,p);if(pd){Object.defineProperty(PolymerGenerated.prototype,p,pd)}}}return PolymerGenerated}const Class=function(info,mixin){if(!info){console.warn(`Polymer's Class function requires \`info\` argument`)}const baseWithBehaviors=info.behaviors?mixinBehaviors(info.behaviors,HTMLElement):LegacyElementMixin(HTMLElement),baseWithMixin=mixin?mixin(baseWithBehaviors):baseWithBehaviors,klass=GenerateClassFromInfo(info,baseWithMixin);klass.is=info.is;return klass},Polymer$1=function(info){let klass;if("function"===typeof info){klass=info}else{klass=Polymer$1.Class(info)}customElements.define(klass.is,klass);return klass};Polymer$1.Class=Class;let TemplatizerUser;const Templatizer={templatize(template,mutableData){this._templatizerTemplate=template;this.ctor=templatize(template,this,{mutableData:!!mutableData,parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp(model){return new this.ctor(model)},modelForElement(el){return modelForElement(this._templatizerTemplate,el)}},domBindBase=GestureEventListeners(OptionalMutableData(PropertyEffects(HTMLElement)));class DomBind extends domBindBase{static get observedAttributes(){return["mutable-data"]}constructor(){super();if(strictTemplatePolicy){throw new Error(`strictTemplatePolicy: dom-bind not allowed`)}this.root=null;this.$=null;this.__children=null}attributeChangedCallback(){this.mutableData=!0}connectedCallback(){this.style.display="none";this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){this.parentNode.insertBefore(this.root,this)}__removeChildren(){if(this.__children){for(let i=0;i<this.__children.length;i++){this.root.appendChild(this.__children[i])}}}render(){let template;if(!this.__children){template=template||this.querySelector("template");if(!template){let observer=new MutationObserver(()=>{template=this.querySelector("template");if(template){observer.disconnect();this.render()}else{throw new Error("dom-bind requires a <template> child")}});observer.observe(this,{childList:!0});return}this.root=this._stampTemplate(template);this.$=this.root.$;this.__children=[];for(let n=this.root.firstChild;n;n=n.nextSibling){this.__children[this.__children.length]=n}this._enableProperties()}this.__insertChildren();this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}customElements.define("dom-bind",DomBind);const domRepeatBase=OptionalMutableData(PolymerElement);class DomRepeat extends domRepeatBase{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super();this.__instances=[];this.__limit=1/0;this.__pool=[];this.__renderDebouncer=null;this.__itemsIdxToInstIdx={};this.__chunkCount=null;this.__lastChunkTime=null;this.__sortFn=null;this.__filterFn=null;this.__observePaths=null;this.__ctor=null;this.__isDetached=!0;this.template=null}disconnectedCallback(){super.disconnectedCallback();this.__isDetached=!0;for(let i=0;i<this.__instances.length;i++){this.__detachInstance(i)}}connectedCallback(){super.connectedCallback();this.style.display="none";if(this.__isDetached){this.__isDetached=!1;let parent=this.parentNode;for(let i=0;i<this.__instances.length;i++){this.__attachInstance(i,parent)}}}__ensureTemplatized(){if(!this.__ctor){let template=this.template=this.querySelector("template");if(!template){let observer=new MutationObserver(()=>{if(this.querySelector("template")){observer.disconnect();this.__render()}else{throw new Error("dom-repeat requires a <template> child")}});observer.observe(this,{childList:!0});return!1}let instanceProps={};instanceProps[this.as]=!0;instanceProps[this.indexAs]=!0;instanceProps[this.itemsIndexAs]=!0;this.__ctor=templatize(template,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:instanceProps,forwardHostProp:function(prop,value){let i$=this.__instances;for(let i=0,inst;i<i$.length&&(inst=i$[i]);i++){inst.forwardHostProp(prop,value)}},notifyInstanceProp:function(inst,prop,value){if(matches(this.as,prop)){let idx=inst[this.itemsIndexAs];if(prop==this.as){this.items[idx]=value}let path=translate(this.as,"items."+idx,prop);this.notifyPath(path,value)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(functionOrMethodName){if("string"===typeof functionOrMethodName){let methodName=functionOrMethodName,obj=this.__getMethodHost();return function(){return obj[methodName].apply(obj,arguments)}}return functionOrMethodName}__sortChanged(sort){this.__sortFn=this.__functionFromPropertyValue(sort);if(this.items){this.__debounceRender(this.__render)}}__filterChanged(filter){this.__filterFn=this.__functionFromPropertyValue(filter);if(this.items){this.__debounceRender(this.__render)}}__computeFrameTime(rate){return _Mathceil(1e3/rate)}__initializeChunking(){if(this.initialCount){this.__limit=this.initialCount;this.__chunkCount=this.initialCount;this.__lastChunkTime=performance.now()}}__tryRenderChunk(){if(this.items&&this.__limit<this.items.length){this.__debounceRender(this.__requestRenderChunk)}}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let currChunkTime=performance.now(),ratio=this._targetFrameTime/(currChunkTime-this.__lastChunkTime);this.__chunkCount=_Mathround(this.__chunkCount*ratio)||1;this.__limit+=this.__chunkCount;this.__lastChunkTime=currChunkTime;this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__itemsChanged(change){if(this.items&&!Array.isArray(this.items)){console.warn("dom-repeat expected array for `items`, found",this.items)}if(!this.__handleItemPath(change.path,change.value)){this.__initializeChunking();this.__debounceRender(this.__render)}}__handleObservedPaths(path){if(this.__sortFn||this.__filterFn){if(!path){this.__debounceRender(this.__render,this.delay)}else if(this.__observePaths){let paths=this.__observePaths;for(let i=0;i<paths.length;i++){if(0===path.indexOf(paths[i])){this.__debounceRender(this.__render,this.delay)}}}}}__debounceRender(fn,delay=0){this.__renderDebouncer=Debouncer.debounce(this.__renderDebouncer,0<delay?timeOut.after(delay):microTask,fn.bind(this));enqueueDebouncer(this.__renderDebouncer)}render(){this.__debounceRender(this.__render);flush()}__render(){if(!this.__ensureTemplatized()){return}this.__applyFullRefresh();this.__pool.length=0;this._setRenderedItemCount(this.__instances.length);this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}));this.__tryRenderChunk()}__applyFullRefresh(){let items=this.items||[],isntIdxToItemsIdx=Array(items.length);for(let i=0;i<items.length;i++){isntIdxToItemsIdx[i]=i}if(this.__filterFn){isntIdxToItemsIdx=isntIdxToItemsIdx.filter((i,idx,array)=>this.__filterFn(items[i],idx,array))}if(this.__sortFn){isntIdxToItemsIdx.sort((a,b)=>this.__sortFn(items[a],items[b]))}const itemsIdxToInstIdx=this.__itemsIdxToInstIdx={};let instIdx=0;const limit=_Mathmin(isntIdxToItemsIdx.length,this.__limit);for(;instIdx<limit;instIdx++){let inst=this.__instances[instIdx],itemIdx=isntIdxToItemsIdx[instIdx],item=items[itemIdx];itemsIdxToInstIdx[itemIdx]=instIdx;if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{this.__insertInstance(item,instIdx,itemIdx)}}for(let i=this.__instances.length-1;i>=instIdx;i--){this.__detachAndRemoveInstance(i)}}__detachInstance(idx){let inst=this.__instances[idx];for(let i=0,el;i<inst.children.length;i++){el=inst.children[i];inst.root.appendChild(el)}return inst}__attachInstance(idx,parent){let inst=this.__instances[idx];parent.insertBefore(inst.root,this)}__detachAndRemoveInstance(idx){let inst=this.__detachInstance(idx);if(inst){this.__pool.push(inst)}this.__instances.splice(idx,1)}__stampInstance(item,instIdx,itemIdx){let model={};model[this.as]=item;model[this.indexAs]=instIdx;model[this.itemsIndexAs]=itemIdx;return new this.__ctor(model)}__insertInstance(item,instIdx,itemIdx){let inst=this.__pool.pop();if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{inst=this.__stampInstance(item,instIdx,itemIdx)}let beforeRow=this.__instances[instIdx+1],beforeNode=beforeRow?beforeRow.children[0]:this;this.parentNode.insertBefore(inst.root,beforeNode);this.__instances[instIdx]=inst;return inst}_showHideChildren(hidden){for(let i=0;i<this.__instances.length;i++){this.__instances[i]._showHideChildren(hidden)}}__handleItemPath(path,value){let itemsPath=path.slice(6),dot=itemsPath.indexOf("."),itemsIdx=0>dot?itemsPath:itemsPath.substring(0,dot);if(itemsIdx==parseInt(itemsIdx,10)){let itemSubPath=0>dot?"":itemsPath.substring(dot+1);this.__handleObservedPaths(itemSubPath);let instIdx=this.__itemsIdxToInstIdx[itemsIdx],inst=this.__instances[instIdx];if(inst){let itemPath=this.as+(itemSubPath?"."+itemSubPath:"");inst._setPendingPropertyOrPath(itemPath,value,!1,!0);inst._flushProperties()}return!0}}itemForElement(el){let instance=this.modelForElement(el);return instance&&instance[this.as]}indexForElement(el){let instance=this.modelForElement(el);return instance&&instance[this.indexAs]}modelForElement(el){return modelForElement(this.template,el)}}customElements.define(DomRepeat.is,DomRepeat);class DomIf extends PolymerElement{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"}}}constructor(){super();this.__renderDebouncer=null;this.__invalidProps=null;this.__instance=null;this._lastIf=!1;this.__ctor=null;this.__hideTemplateChildren__=!1}__debounceRender(){this.__renderDebouncer=Debouncer.debounce(this.__renderDebouncer,microTask,()=>this.__render());enqueueDebouncer(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();if(!this.parentNode||this.parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&!this.parentNode.host){this.__teardownInstance()}}connectedCallback(){super.connectedCallback();this.style.display="none";if(this.if){this.__debounceRender()}}render(){flush()}__render(){if(this.if){if(!this.__ensureInstance()){return}this._showHideChildren()}else if(this.restamp){this.__teardownInstance()}if(!this.restamp&&this.__instance){this._showHideChildren()}if(this.if!=this._lastIf){this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}));this._lastIf=this.if}}__ensureInstance(){let parentNode=this.parentNode;if(parentNode){if(!this.__ctor){let template=this.querySelector("template");if(!template){let observer=new MutationObserver(()=>{if(this.querySelector("template")){observer.disconnect();this.__render()}else{throw new Error("dom-if requires a <template> child")}});observer.observe(this,{childList:!0});return!1}this.__ctor=templatize(template,this,{mutableData:!0,forwardHostProp:function(prop,value){if(this.__instance){if(this.if){this.__instance.forwardHostProp(prop,value)}else{this.__invalidProps=this.__invalidProps||Object.create(null);this.__invalidProps[root(prop)]=!0}}}})}if(!this.__instance){this.__instance=new this.__ctor;parentNode.insertBefore(this.__instance.root,this)}else{this.__syncHostProperties();let c$=this.__instance.children;if(c$&&c$.length){let lastChild=this.previousSibling;if(lastChild!==c$[c$.length-1]){for(let i=0,n;i<c$.length&&(n=c$[i]);i++){parentNode.insertBefore(n,this)}}}}}return!0}__syncHostProperties(){let props=this.__invalidProps;if(props){for(let prop in props){this.__instance._setPendingProperty(prop,this.__dataHost[prop])}this.__invalidProps=null;this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let c$=this.__instance.children;if(c$&&c$.length){let parent=c$[0].parentNode;if(parent){for(let i=0,n;i<c$.length&&(n=c$[i]);i++){parent.removeChild(n)}}}this.__instance=null;this.__invalidProps=null}}_showHideChildren(){let hidden=this.__hideTemplateChildren__||!this.if;if(this.__instance){this.__instance._showHideChildren(hidden)}}}customElements.define(DomIf.is,DomIf);let ArraySelectorMixin=dedupingMixin(superClass=>{let elementBase=ElementMixin(superClass);class ArraySelectorMixin extends elementBase{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super();this.__lastItems=null;this.__lastMulti=null;this.__selectedMap=null}__updateSelection(multi,itemsInfo){let path=itemsInfo.path;if("items"==path){let newItems=itemsInfo.base||[],lastItems=this.__lastItems,lastMulti=this.__lastMulti;if(multi!==lastMulti){this.clearSelection()}if(lastItems){let splices=calculateSplices(newItems,lastItems);this.__applySplices(splices)}this.__lastItems=newItems;this.__lastMulti=multi}else if("items.splices"==itemsInfo.path){this.__applySplices(itemsInfo.value.indexSplices)}else{let part=path.slice("items.".length),idx=parseInt(part,10);if(0>part.indexOf(".")&&part==idx){this.__deselectChangedIdx(idx)}}}__applySplices(splices){let selected=this.__selectedMap;for(let i=0,s;i<splices.length;i++){s=splices[i];selected.forEach((idx,item)=>{if(idx<s.index){}else if(idx>=s.index+s.removed.length){selected.set(item,idx+s.addedCount-s.removed.length)}else{selected.set(item,-1)}});for(let j=0,idx;j<s.addedCount;j++){idx=s.index+j;if(selected.has(this.items[idx])){selected.set(this.items[idx],idx)}}}this.__updateLinks();let sidx=0;selected.forEach((idx,item)=>{if(0>idx){if(this.multi){this.splice("selected",sidx,1)}else{this.selected=this.selectedItem=null}selected.delete(item)}else{sidx++}})}__updateLinks(){this.__dataLinkedPaths={};if(this.multi){let sidx=0;this.__selectedMap.forEach(idx=>{if(0<=idx){this.linkPaths("items."+idx,"selected."+sidx++)}})}else{this.__selectedMap.forEach(idx=>{this.linkPaths("selected","items."+idx);this.linkPaths("selectedItem","items."+idx)})}}clearSelection(){this.__dataLinkedPaths={};this.__selectedMap=new Map;this.selected=this.multi?[]:null;this.selectedItem=null}isSelected(item){return this.__selectedMap.has(item)}isIndexSelected(idx){return this.isSelected(this.items[idx])}__deselectChangedIdx(idx){let sidx=this.__selectedIndexForItemIndex(idx);if(0<=sidx){let i=0;this.__selectedMap.forEach((idx,item)=>{if(sidx==i++){this.deselect(item)}})}}__selectedIndexForItemIndex(idx){let selected=this.__dataLinkedPaths["items."+idx];if(selected){return parseInt(selected.slice("selected.".length),10)}}deselect(item){let idx=this.__selectedMap.get(item);if(0<=idx){this.__selectedMap.delete(item);let sidx;if(this.multi){sidx=this.__selectedIndexForItemIndex(idx)}this.__updateLinks();if(this.multi){this.splice("selected",sidx,1)}else{this.selected=this.selectedItem=null}}}deselectIndex(idx){this.deselect(this.items[idx])}select(item){this.selectIndex(this.items.indexOf(item))}selectIndex(idx){let item=this.items[idx];if(!this.isSelected(item)){if(!this.multi){this.__selectedMap.clear()}this.__selectedMap.set(item,idx);this.__updateLinks();if(this.multi){this.push("selected",item)}else{this.selected=this.selectedItem=item}}else if(this.toggle){this.deselectIndex(idx)}}}return ArraySelectorMixin}),baseArraySelector=ArraySelectorMixin(PolymerElement);class ArraySelector extends baseArraySelector{static get is(){return"array-selector"}}customElements.define(ArraySelector.is,ArraySelector);let mutablePropertyChange$1;(()=>{mutablePropertyChange$1=MutableData._mutablePropertyChange})();const MutableDataBehavior={_shouldPropertyChange(property,value,old){return mutablePropertyChange$1(this,property,value,old,!0)}},OptionalMutableDataBehavior={properties:{mutableData:Boolean},_shouldPropertyChange(property,value,old){return mutablePropertyChange$1(this,property,value,old,this.mutableData)}},Base=LegacyElementMixin(HTMLElement).prototype;Polymer$1({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display="none";this.queryChanged()},detached:function(){this._remove()},_add:function(){if(this._mq){this._mq.addListener(this._boundMQHandler)}},_remove:function(){if(this._mq){this._mq.removeListener(this._boundMQHandler)}this._mq=null},queryChanged:function(){this._remove();var query=this.query;if(!query){return}if(!this.full&&"("!==query[0]){query="("+query+")"}this._mq=window.matchMedia(query);this._add();this.queryHandler(this._mq)},queryHandler:function(mq){this._setQueryMatches(mq.matches)}});class DatePickerOverlayElement extends OverlayElement{static get is(){return"vaadin-date-picker-overlay"}}customElements.define(DatePickerOverlayElement.is,DatePickerOverlayElement);var KEY_IDENTIFIER={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},KEY_CODE={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},MODIFIER_KEYS={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},KEY_CHAR=/[a-z0-9*]/,IDENT_CHAR=/U\+/,ARROW_KEY=/^arrow/,SPACE_KEY=/^space(bar)?/,ESC_KEY=/^escape$/;function transformKey(key,noSpecialChars){var validKey="";if(key){var lKey=key.toLowerCase();if(" "===lKey||SPACE_KEY.test(lKey)){validKey="space"}else if(ESC_KEY.test(lKey)){validKey="esc"}else if(1==lKey.length){if(!noSpecialChars||KEY_CHAR.test(lKey)){validKey=lKey}}else if(ARROW_KEY.test(lKey)){validKey=lKey.replace("arrow","")}else if("multiply"==lKey){validKey="*"}else{validKey=lKey}}return validKey}function transformKeyIdentifier(keyIdent){var validKey="";if(keyIdent){if(keyIdent in KEY_IDENTIFIER){validKey=KEY_IDENTIFIER[keyIdent]}else if(IDENT_CHAR.test(keyIdent)){keyIdent=parseInt(keyIdent.replace("U+","0x"),16);validKey=_StringfromCharCode(keyIdent).toLowerCase()}else{validKey=keyIdent.toLowerCase()}}return validKey}function transformKeyCode(keyCode){var validKey="";if(+keyCode){if(65<=keyCode&&90>=keyCode){validKey=_StringfromCharCode(32+keyCode)}else if(112<=keyCode&&123>=keyCode){validKey="f"+(keyCode-112+1)}else if(48<=keyCode&&57>=keyCode){validKey=keyCode-48+""}else if(96<=keyCode&&105>=keyCode){validKey=keyCode-96+""}else{validKey=KEY_CODE[keyCode]}}return validKey}function normalizedKeyForEvent(keyEvent,noSpecialChars){if(keyEvent.key){return transformKey(keyEvent.key,noSpecialChars)}if(keyEvent.detail&&keyEvent.detail.key){return transformKey(keyEvent.detail.key,noSpecialChars)}return transformKeyIdentifier(keyEvent.keyIdentifier)||transformKeyCode(keyEvent.keyCode)||""}function keyComboMatchesEvent(keyCombo,event){var keyEvent=normalizedKeyForEvent(event,keyCombo.hasModifiers);return keyEvent===keyCombo.key&&(!keyCombo.hasModifiers||!!event.shiftKey===!!keyCombo.shiftKey&&!!event.ctrlKey===!!keyCombo.ctrlKey&&!!event.altKey===!!keyCombo.altKey&&!!event.metaKey===!!keyCombo.metaKey)}function parseKeyComboString(keyComboString){if(1===keyComboString.length){return{combo:keyComboString,key:keyComboString,event:"keydown"}}return keyComboString.split("+").reduce(function(parsedKeyCombo,keyComboPart){var eventParts=keyComboPart.split(":"),keyName=eventParts[0],event=eventParts[1];if(keyName in MODIFIER_KEYS){parsedKeyCombo[MODIFIER_KEYS[keyName]]=!0;parsedKeyCombo.hasModifiers=!0}else{parsedKeyCombo.key=keyName;parsedKeyCombo.event=event||"keydown"}return parsedKeyCombo},{combo:keyComboString.split(":").shift()})}function parseEventString(eventString){return eventString.trim().split(" ").map(function(keyComboString){return parseKeyComboString(keyComboString)})}const IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(eventString,handlerName){this._imperativeKeyBindings[eventString]=handlerName;this._prepKeyBindings();this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(event,eventString){for(var keyCombos=parseEventString(eventString),i=0;i<keyCombos.length;++i){if(keyComboMatchesEvent(keyCombos[i],event)){return!0}}return!1},_collectKeyBindings:function(){var keyBindings=this.behaviors.map(function(behavior){return behavior.keyBindings});if(-1===keyBindings.indexOf(this.keyBindings)){keyBindings.push(this.keyBindings)}return keyBindings},_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(keyBindings){for(var eventString in keyBindings){this._addKeyBinding(eventString,keyBindings[eventString])}},this);for(var eventString in this._imperativeKeyBindings){this._addKeyBinding(eventString,this._imperativeKeyBindings[eventString])}for(var eventName in this._keyBindings){this._keyBindings[eventName].sort(function(kb1,kb2){var b1=kb1[0].hasModifiers,b2=kb2[0].hasModifiers;return b1===b2?0:b1?-1:1})}},_addKeyBinding:function(eventString,handlerName){parseEventString(eventString).forEach(function(keyCombo){this._keyBindings[keyCombo.event]=this._keyBindings[keyCombo.event]||[];this._keyBindings[keyCombo.event].push([keyCombo,handlerName])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();if(this.isAttached){this._listenKeyEventListeners()}},_listenKeyEventListeners:function(){if(!this.keyEventTarget){return}Object.keys(this._keyBindings).forEach(function(eventName){var keyBindings=this._keyBindings[eventName],boundKeyHandler=this._onKeyBindingEvent.bind(this,keyBindings);this._boundKeyHandlers.push([this.keyEventTarget,eventName,boundKeyHandler]);this.keyEventTarget.addEventListener(eventName,boundKeyHandler)},this)},_unlistenKeyEventListeners:function(){var keyHandlerTuple,keyEventTarget,eventName,boundKeyHandler;while(this._boundKeyHandlers.length){keyHandlerTuple=this._boundKeyHandlers.pop();keyEventTarget=keyHandlerTuple[0];eventName=keyHandlerTuple[1];boundKeyHandler=keyHandlerTuple[2];keyEventTarget.removeEventListener(eventName,boundKeyHandler)}},_onKeyBindingEvent:function(keyBindings,event){if(this.stopKeyboardEventPropagation){event.stopPropagation()}if(event.defaultPrevented){return}for(var i=0;i<keyBindings.length;i++){var keyCombo=keyBindings[i][0],handlerName=keyBindings[i][1];if(keyComboMatchesEvent(keyCombo,event)){this._triggerKeyHandler(keyCombo,handlerName,event);if(event.defaultPrevented){return}}}},_triggerKeyHandler:function(keyCombo,handlerName,keyboardEvent){var detail=Object.create(keyCombo);detail.keyboardEvent=keyboardEvent;var event=new CustomEvent(keyCombo.event,{detail:detail,cancelable:!0});this[handlerName].call(this,event);if(event.defaultPrevented){keyboardEvent.preventDefault()}}},IronA11yAnnouncer=Polymer$1({_template:html`
    <style>
      :host {
        display: inline-block;
        position: fixed;
        clip: rect(0px,0px,0px,0px);
      }
    </style>
    <div aria-live$="[[mode]]">[[_text]]</div>
`,is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){if(!IronA11yAnnouncer.instance){IronA11yAnnouncer.instance=this}document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(text){this._text="";this.async(function(){this._text=text},100)},_onIronAnnounce:function(event){if(event.detail&&event.detail.text){this.announce(event.detail.text)}}});IronA11yAnnouncer.instance=null;IronA11yAnnouncer.requestAvailability=function(){if(!IronA11yAnnouncer.instance){IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer")}document.body.appendChild(IronA11yAnnouncer.instance)};const DatePickerHelper=class VaadinDatePickerHelper{static _getISOWeekNumber(date){var dayOfWeek=date.getDay();if(0===dayOfWeek){dayOfWeek=7}var nearestThursdayDiff=4-dayOfWeek,nearestThursday=new Date(date.getTime()+1e3*(3600*(24*nearestThursdayDiff))),firstOfJanuary=new Date(0,0);firstOfJanuary.setFullYear(nearestThursday.getFullYear());var timeDiff=nearestThursday.getTime()-firstOfJanuary.getTime(),daysSinceFirstOfJanuary=_Mathround(timeDiff/(1e3*(3600*24)));return _Mathfloor(daysSinceFirstOfJanuary/7+1)}static _dateEquals(date1,date2){return date1 instanceof Date&&date2 instanceof Date&&date1.getFullYear()===date2.getFullYear()&&date1.getMonth()===date2.getMonth()&&date1.getDate()===date2.getDate()}static _dateAllowed(date,min,max){return(!min||date>=min)&&(!max||date<=max)}static _getClosestDate(date,dates){return dates.filter(date=>date!==void 0).reduce((closestDate,candidate)=>{if(!candidate){return closestDate}if(!closestDate){return candidate}var candidateDiff=_Mathabs(date.getTime()-candidate.getTime()),closestDateDiff=_Mathabs(closestDate.getTime()-date.getTime());return candidateDiff<closestDateDiff?candidate:closestDate})}static _extractDateParts(date){return{day:date.getDate(),month:date.getMonth(),year:date.getFullYear()}}};class MonthCalendarElement extends ThemableMixin(GestureEventListeners(PolymerElement)){static get template(){return html`
    <style>
      :host {
        display: block;
      }

      [part="weekdays"],
      #days {
        display: flex;
        flex-wrap: wrap;
        flex-grow: 1;
      }

      #days-container,
      #weekdays-container {
        display: flex;
      }

      [part="week-numbers"] {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        flex-shrink: 0;
      }

      [part="week-numbers"][hidden],
      [part="weekday"][hidden] {
        display: none;
      }

      [part="weekday"],
      [part="date"] {
        /* Would use calc(100% / 7) but it doesn't work nice on IE */
        width: 14.285714286%;
      }

      [part="weekday"]:empty,
      [part="week-numbers"] {
        width: 12.5%;
        flex-shrink: 0;
      }
    </style>

    <div part="month-header" role="heading">[[_getTitle(month, i18n.monthNames)]]</div>
    <div id="monthGrid" on-tap="_handleTap" on-touchend="_preventDefault" on-touchstart="_onMonthGridTouchStart">
      <div id="weekdays-container">
        <div hidden="[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]" part="weekday"></div>
        <div part="weekdays">
          <template is="dom-repeat" items="[[_getWeekDayNames(i18n.weekdays, i18n.weekdaysShort, showWeekNumbers, i18n.firstDayOfWeek)]]">
            <div part="weekday" role="heading" aria-label\$="[[item.weekDay]]">[[item.weekDayShort]]</div>
          </template>
        </div>
      </div>
      <div id="days-container">
        <div part="week-numbers" hidden="[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]">
          <template is="dom-repeat" items="[[_getWeekNumbers(_days)]]">
            <div part="week-number" role="heading" aria-label\$="[[i18n.week]] [[item]]">[[item]]</div>
          </template>
        </div>
        <div id="days">
          <template is="dom-repeat" items="[[_days]]">
            <div part="date" today\$="[[_isToday(item)]]" selected\$="[[_dateEquals(item, selectedDate)]]" focused\$="[[_dateEquals(item, focusedDate)]]" date="[[item]]" disabled\$="[[!_dateAllowed(item, minDate, maxDate)]]" role\$="[[_getRole(item)]]" aria-label\$="[[_getAriaLabel(item)]]" aria-disabled\$="[[_getAriaDisabled(item, minDate, maxDate)]]">[[_getDate(item)]]</div>
          </template>
        </div>
      </div>
    </div>
`}static get is(){return"vaadin-month-calendar"}static get properties(){return{month:{type:Date,value:new Date},selectedDate:{type:Date,notify:!0},focusedDate:Date,showWeekNumbers:{type:Boolean,value:!1},i18n:{type:Object},ignoreTaps:Boolean,_notTapping:Boolean,minDate:{type:Date,value:null},maxDate:{type:Date,value:null},_days:{type:Array,computed:"_getDays(month, i18n.firstDayOfWeek, minDate, maxDate)"},disabled:{type:Boolean,reflectToAttribute:!0,computed:"_isDisabled(month, minDate, maxDate)"}}}static get observers(){return["_showWeekNumbersChanged(showWeekNumbers, i18n.firstDayOfWeek)"]}_dateEquals(date1,date2){return DatePickerHelper._dateEquals(date1,date2)}_dateAllowed(date,min,max){return DatePickerHelper._dateAllowed(date,min,max)}_isDisabled(month,minDate,maxDate){var firstDate=new Date(0,0);firstDate.setFullYear(month.getFullYear());firstDate.setMonth(month.getMonth());firstDate.setDate(1);var lastDate=new Date(0,0);lastDate.setFullYear(month.getFullYear());lastDate.setMonth(month.getMonth()+1);lastDate.setDate(-1);if(minDate&&maxDate&&minDate.getMonth()===maxDate.getMonth()&&minDate.getMonth()===month.getMonth()&&0<=maxDate.getDate()-minDate.getDate()){return!1}return!this._dateAllowed(firstDate,minDate,maxDate)&&!this._dateAllowed(lastDate,minDate,maxDate)}_getTitle(month,monthNames){if(month===void 0||monthNames===void 0){return}return this.i18n.formatTitle(monthNames[month.getMonth()],month.getFullYear())}_onMonthGridTouchStart(){this._notTapping=!1;setTimeout(()=>this._notTapping=!0,300)}_dateAdd(date,delta){date.setDate(date.getDate()+delta)}_applyFirstDayOfWeek(weekDayNames,firstDayOfWeek){if(weekDayNames===void 0||firstDayOfWeek===void 0){return}return weekDayNames.slice(firstDayOfWeek).concat(weekDayNames.slice(0,firstDayOfWeek))}_getWeekDayNames(weekDayNames,weekDayNamesShort,showWeekNumbers,firstDayOfWeek){if(weekDayNames===void 0||weekDayNamesShort===void 0||showWeekNumbers===void 0||firstDayOfWeek===void 0){return}weekDayNames=this._applyFirstDayOfWeek(weekDayNames,firstDayOfWeek);weekDayNamesShort=this._applyFirstDayOfWeek(weekDayNamesShort,firstDayOfWeek);weekDayNames=weekDayNames.map((day,index)=>{return{weekDay:day,weekDayShort:weekDayNamesShort[index]}});return weekDayNames}_getDate(date){return date?date.getDate():""}_showWeekNumbersChanged(showWeekNumbers,firstDayOfWeek){if(showWeekNumbers&&1===firstDayOfWeek){this.setAttribute("week-numbers","")}else{this.removeAttribute("week-numbers")}}_showWeekSeparator(showWeekNumbers,firstDayOfWeek){return showWeekNumbers&&1===firstDayOfWeek}_isToday(date){return this._dateEquals(new Date,date)}_getDays(month,firstDayOfWeek){if(month===void 0||firstDayOfWeek===void 0){return}var date=new Date(0,0);date.setFullYear(month.getFullYear());date.setMonth(month.getMonth());date.setDate(1);while(date.getDay()!==firstDayOfWeek){this._dateAdd(date,-1)}var days=[],startMonth=date.getMonth(),targetMonth=month.getMonth();while(date.getMonth()===targetMonth||date.getMonth()===startMonth){days.push(date.getMonth()===targetMonth?new Date(date.getTime()):null);this._dateAdd(date,1)}return days}_getWeekNumber(date,days){if(date===void 0||days===void 0){return}if(!date){date=days.reduce((acc,d)=>{return!acc&&d?d:acc})}return DatePickerHelper._getISOWeekNumber(date)}_getWeekNumbers(dates){return dates.map(date=>this._getWeekNumber(date,dates)).filter((week,index,arr)=>arr.indexOf(week)===index)}_handleTap(e){if(!this.ignoreTaps&&!this._notTapping&&e.target.date&&!e.target.hasAttribute("disabled")){this.selectedDate=e.target.date;this.dispatchEvent(new CustomEvent("date-tap",{bubbles:!0,composed:!0}))}}_preventDefault(e){e.preventDefault()}_getRole(date){return date?"button":"presentation"}_getAriaLabel(date){if(!date){return""}var ariaLabel=this._getDate(date)+" "+this.i18n.monthNames[date.getMonth()]+" "+date.getFullYear()+", "+this.i18n.weekdays[date.getDay()];if(this._isToday(date)){ariaLabel+=", "+this.i18n.today}return ariaLabel}_getAriaDisabled(date,min,max){if(date===void 0||min===void 0||max===void 0){return}return this._dateAllowed(date,min,max)?"false":"true"}}customElements.define(MonthCalendarElement.is,MonthCalendarElement);class InfiniteScrollerElement extends PolymerElement{static get template(){return html`
    <style>
      :host {
        display: block;
        overflow: hidden;
        height: 500px;
      }

      #scroller {
        position: relative;
        height: 100%;
        overflow: auto;
        outline: none;
        margin-right: -40px;
        -webkit-overflow-scrolling: touch;
        -ms-overflow-style: none;
        overflow-x: hidden;
      }

      #scroller.notouchscroll {
        -webkit-overflow-scrolling: auto;
      }

      #scroller::-webkit-scrollbar {
        display: none;
      }

      .buffer {
        position: absolute;
        width: var(--vaadin-infinite-scroller-buffer-width, 100%);
        box-sizing: border-box;
        padding-right: 40px;
        top: var(--vaadin-infinite-scroller-buffer-offset, 0);
        animation: fadein 0.2s;
      }

      @keyframes fadein {
        from { opacity: 0; }
        to { opacity: 1; }
      }
    </style>

    <div id="scroller" on-scroll="_scroll">
      <div class="buffer"></div>
      <div class="buffer"></div>
      <div id="fullHeight"></div>
    </div>
`}static get is(){return"vaadin-infinite-scroller"}static get properties(){return{bufferSize:{type:Number,value:20},_initialScroll:{value:5e5},_initialIndex:{value:0},_buffers:Array,_preventScrollEvent:Boolean,_mayHaveMomentum:Boolean,_initialized:Boolean,active:{type:Boolean,observer:"_activated"}}}ready(){super.ready();this._buffers=Array.prototype.slice.call(this.root.querySelectorAll(".buffer"));this.$.fullHeight.style.height=2*this._initialScroll+"px";var tpl=this.querySelector("template");this._TemplateClass=templatize(tpl,this,{forwardHostProp:function(prop,value){if("index"!==prop){this._buffers.forEach(buffer=>{[].forEach.call(buffer.children,insertionPoint=>{insertionPoint._itemWrapper.instance[prop]=value})})}}});var isFirefox=-1<navigator.userAgent.toLowerCase().indexOf("firefox");if(isFirefox){this.$.scroller.tabIndex=-1}}_activated(active){if(active&&!this._initialized){this._createPool();this._initialized=!0}}_finishInit(){if(!this._initDone){this._buffers.forEach(buffer=>{[].forEach.call(buffer.children,insertionPoint=>this._ensureStampedInstance(insertionPoint._itemWrapper))},this);if(!this._buffers[0].translateY){this._reset()}this._initDone=!0}}_translateBuffer(up){var index=up?1:0;this._buffers[index].translateY=this._buffers[index?0:1].translateY+this._bufferHeight*(index?-1:1);this._buffers[index].style.transform="translate3d(0, "+this._buffers[index].translateY+"px, 0)";this._buffers[index].updated=!1;this._buffers.reverse()}_scroll(){if(this._scrollDisabled){return}var scrollTop=this.$.scroller.scrollTop;if(scrollTop<this._bufferHeight||scrollTop>2*this._initialScroll-this._bufferHeight){this._initialIndex=~~this.position;this._reset()}var bufferOffset=this.root.querySelector(".buffer").offsetTop,upperThresholdReached=scrollTop>this._buffers[1].translateY+this.itemHeight+bufferOffset,lowerThresholdReached=scrollTop<this._buffers[0].translateY+this.itemHeight+bufferOffset;if(upperThresholdReached||lowerThresholdReached){this._translateBuffer(lowerThresholdReached);this._updateClones()}if(!this._preventScrollEvent){this.dispatchEvent(new CustomEvent("custom-scroll",{bubbles:!1,composed:!0}));this._mayHaveMomentum=!0}this._preventScrollEvent=!1;this._debouncerScrollFinish=Debouncer.debounce(this._debouncerScrollFinish,timeOut.after(200),()=>{var scrollerRect=this.$.scroller.getBoundingClientRect();if(!this._isVisible(this._buffers[0],scrollerRect)&&!this._isVisible(this._buffers[1],scrollerRect)){this.position=this.position}})}set position(index){this._preventScrollEvent=!0;if(index>this._firstIndex&&index<this._firstIndex+2*this.bufferSize){this.$.scroller.scrollTop=this.itemHeight*(index-this._firstIndex)+this._buffers[0].translateY}else{this._initialIndex=~~index;this._reset();this._scrollDisabled=!0;this.$.scroller.scrollTop+=index%1*this.itemHeight;this._scrollDisabled=!1}if(this._mayHaveMomentum){this.$.scroller.classList.add("notouchscroll");this._mayHaveMomentum=!1;setTimeout(()=>{this.$.scroller.classList.remove("notouchscroll")},10)}}get position(){return(this.$.scroller.scrollTop-this._buffers[0].translateY)/this.itemHeight+this._firstIndex}get itemHeight(){if(!this._itemHeightVal){const itemHeight=window.ShadyCSS?window.ShadyCSS.getComputedStyleValue(this,"--vaadin-infinite-scroller-item-height"):getComputedStyle(this).getPropertyValue("--vaadin-infinite-scroller-item-height"),tmpStyleProp="background-position";this.$.fullHeight.style.setProperty(tmpStyleProp,itemHeight);const itemHeightPx=getComputedStyle(this.$.fullHeight).getPropertyValue(tmpStyleProp);this.$.fullHeight.style.removeProperty(tmpStyleProp);this._itemHeightVal=parseFloat(itemHeightPx)}return this._itemHeightVal}get _bufferHeight(){return this.itemHeight*this.bufferSize}_reset(){this._scrollDisabled=!0;this.$.scroller.scrollTop=this._initialScroll;this._buffers[0].translateY=this._initialScroll-this._bufferHeight;this._buffers[1].translateY=this._initialScroll;this._buffers.forEach(buffer=>{buffer.style.transform="translate3d(0, "+buffer.translateY+"px, 0)"});this._buffers[0].updated=this._buffers[1].updated=!1;this._updateClones(!0);this._debouncerUpdateClones=Debouncer.debounce(this._debouncerUpdateClones,timeOut.after(200),()=>{this._buffers[0].updated=this._buffers[1].updated=!1;this._updateClones()});this._scrollDisabled=!1}_createPool(){var container=this.getBoundingClientRect();this._buffers.forEach(buffer=>{for(var i=0;i<this.bufferSize;i++){const itemWrapper=document.createElement("div");itemWrapper.style.height=this.itemHeight+"px";itemWrapper.instance={};const contentId=InfiniteScrollerElement._contentIndex=InfiniteScrollerElement._contentIndex+1||0,slotName="vaadin-infinite-scroller-item-content-"+contentId,insertionPoint=document.createElement("slot");insertionPoint.setAttribute("name",slotName);insertionPoint._itemWrapper=itemWrapper;buffer.appendChild(insertionPoint);itemWrapper.setAttribute("slot",slotName);this.appendChild(itemWrapper);flush();setTimeout(()=>{if(this._isVisible(itemWrapper,container)){this._ensureStampedInstance(itemWrapper)}},1)}},this);setTimeout(()=>{afterNextRender(this,this._finishInit.bind(this))},1)}_ensureStampedInstance(itemWrapper){if(itemWrapper.firstElementChild){return}var tmpInstance=itemWrapper.instance;itemWrapper.instance=new this._TemplateClass({});itemWrapper.appendChild(itemWrapper.instance.root);Object.keys(tmpInstance).forEach(prop=>{itemWrapper.instance.set(prop,tmpInstance[prop])})}_updateClones(viewPortOnly){this._firstIndex=~~((this._buffers[0].translateY-this._initialScroll)/this.itemHeight)+this._initialIndex;var scrollerRect=viewPortOnly?this.$.scroller.getBoundingClientRect():void 0;this._buffers.forEach((buffer,bufferIndex)=>{if(!buffer.updated){var firstIndex=this._firstIndex+this.bufferSize*bufferIndex;[].forEach.call(buffer.children,(insertionPoint,index)=>{const itemWrapper=insertionPoint._itemWrapper;if(!viewPortOnly||this._isVisible(itemWrapper,scrollerRect)){itemWrapper.instance.index=firstIndex+index}});buffer.updated=!0}},this)}_isVisible(element,container){var rect=element.getBoundingClientRect();return rect.bottom>container.top&&rect.top<container.bottom}}customElements.define(InfiniteScrollerElement.is,InfiniteScrollerElement);const $_documentContainer$n=document.createElement("template");$_documentContainer$n.innerHTML=`<custom-style>
  <style>
    @font-face {
      font-family: 'vaadin-date-picker-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAYoAAsAAAAABdwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFqWNtYXAAAAFoAAAAVAAAAFQXVtKKZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAUAAAAFAAtWm1WhlYWQAAAMEAAAANgAAADYNRs5taGhlYQAAAzwAAAAkAAAAJAdCA8lobXR4AAADYAAAACAAAAAgFW4CxGxvY2EAAAOAAAAAEgAAABIBEgDCbWF4cAAAA5QAAAAgAAAAIAAMACNuYW1lAAADtAAAAlIAAAJSbLEfa3Bvc3QAAAYIAAAAIAAAACAAAwAAAAMDfAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QMDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkD//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQFvAKsCqwKrAAUAAAEHFwcXAQGrPMPDPAEAAqs8xMQ8AQAAAQDVAIADKwLVAAsAAAEnBycHFwcXNxc3JwMrPO/vPO/vPO/vPO8CmTzu7jzu7zzv7zzvAAMAgAArA4ADgAADABwAIAAAASMVMwMVITUjFSMiBhURFBYzITI2NRE0JisBNSMTIREhAtXV1Sr+qlUrIzIyIwJWIzIyIytVgP2qAlYBq9YCq1VVVTIk/asjMjIjAlUkMlX9AAHVAAAAAQAAAAADbgNuABMAAAEUDgIjIi4CNTQ+AjMyHgIDbkV3oFtboHdFRXegW1ugd0UBt1ugd0VFd6BbW6B3RUV3oAAAAAABAAAAAQAAvCcusV8PPPUACwQAAAAAANVURPgAAAAA1VRE+AAAAAADgAOAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOAAAEAAAAAAAAAAAAAAAAAAAAIBAAAAAAAAAAAAAAAAgAAAAQAAW8EAADVBAAAgANuAAAAAAAAAAoAFAAeADAASgB+AKAAAAABAAAACAAhAAMAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEAGAAAAAEAAAAAAAIABwD5AAEAAAAAAAMAGABpAAEAAAAAAAQAGAEOAAEAAAAAAAUACwBIAAEAAAAAAAYAGACxAAEAAAAAAAoAGgFWAAMAAQQJAAEAMAAYAAMAAQQJAAIADgEAAAMAAQQJAAMAMACBAAMAAQQJAAQAMAEmAAMAAQQJAAUAFgBTAAMAAQQJAAYAMADJAAMAAQQJAAoANAFwdmFhZGluLWRhdGUtcGlja2VyLWljb25zAHYAYQBhAGQAaQBuAC0AZABhAHQAZQAtAHAAaQBjAGsAZQByAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwdmFhZGluLWRhdGUtcGlja2VyLWljb25zAHYAYQBhAGQAaQBuAC0AZABhAHQAZQAtAHAAaQBjAGsAZQByAC0AaQBjAG8AbgBzdmFhZGluLWRhdGUtcGlja2VyLWljb25zAHYAYQBhAGQAaQBuAC0AZABhAHQAZQAtAHAAaQBjAGsAZQByAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQBydmFhZGluLWRhdGUtcGlja2VyLWljb25zAHYAYQBhAGQAaQBuAC0AZABhAHQAZQAtAHAAaQBjAGsAZQByAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
</custom-style><dom-module id="vaadin-date-picker-overlay-styles" theme-for="vaadin-date-picker-overlay">
  <template>
    <style>
      :host {
        align-items: flex-start;
        justify-content: flex-start;
      }

      :host([bottom-aligned]) {
        justify-content: flex-end;
      }

      :host([right-aligned]) {
        align-items: flex-end;
      }

      :host([right-aligned][dir="rtl"]) {
        align-items: flex-start;
      }

      [part="overlay"] {
        display: flex;
        flex: auto;
      }

      [part~="content"] {
        flex: auto;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$n.content);class DatePickerOverlayContentElement extends ThemableMixin(ThemePropertyMixin(GestureEventListeners(PolymerElement))){static get template(){return html`
    <style>
      :host {
        display: flex;
        flex-direction: column;
        height: 100%;
        width: 100%;
        outline: none;
        background: #fff;
      }

      [part="overlay-header"] {
        display: flex;
        flex-shrink: 0;
        flex-wrap: nowrap;
        align-items: center;
      }

      :host(:not([fullscreen])) [part="overlay-header"] {
        display: none;
      }

      [part="label"] {
        flex-grow: 1;
      }

      [part="clear-button"],
      [part="toggle-button"],
      [part="years-toggle-button"]::before {
        font-family: 'vaadin-date-picker-icons';
      }

      [part="clear-button"]:not([showclear]) {
        display: none;
      }

      [part="clear-button"]::before {
        content: "\\e901";
      }

      [part="toggle-button"]::before {
        content: "\\e902";
      }

      [part="years-toggle-button"] {
        display: flex;
      }

      [part="years-toggle-button"][desktop] {
        display: none;
      }

      [part="years-toggle-button"]::before {
        content: "\\e900";
      }

      :host(:not([years-visible])) [part="years-toggle-button"]::before {
        transform: rotate(180deg);
      }

      #scrollers {
        display: flex;
        height: 100%;
        width: 100%;
        position: relative;
        overflow: hidden;
      }

      [part="months"],
      [part="years"] {
        height: 100%;
      }

      [part="months"] {
        --vaadin-infinite-scroller-item-height: 270px;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
      }

      #scrollers[desktop] [part="months"] {
        right: 50px;
        transform: none !important;
      }

      [part="years"] {
        --vaadin-infinite-scroller-item-height: 80px;
        width: 50px;
        position: absolute;
        right: 0;
        transform: translateX(100%);
        -webkit-tap-highlight-color: transparent;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        /* Center the year scroller position. */
        --vaadin-infinite-scroller-buffer-offset: 50%;
      }

      #scrollers[desktop] [part="years"] {
        position: absolute;
        transform: none !important;
      }

      [part="years"]::before {
        content: '';
        display: block;
        background: transparent;
        width: 0;
        height: 0;
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        border-width: 6px;
        border-style: solid;
        border-color: transparent;
        border-left-color: #000;
      }

      :host(.animate) [part="months"],
      :host(.animate) [part="years"] {
        transition: all 200ms;
      }

      [part="toolbar"] {
        display: flex;
        justify-content: space-between;
        z-index: 2;
        flex-shrink: 0;
      }

      [part~="overlay-header"]:not([desktop]) {
        padding-bottom: 40px;
      }

      [part~="years-toggle-button"] {
        position: absolute;
        top: auto;
        right: 8px;
        bottom: 0;
        z-index: 1;
        padding: 8px;
      }

      #announcer {
        display: inline-block;
        position: fixed;
        clip: rect(0, 0, 0, 0);
        clip-path: inset(100%);
      }
    </style>

    <div id="announcer" role="alert" aria-live="polite">
      [[i18n.calendar]]
    </div>

    <div part="overlay-header" on-touchend="_preventDefault" desktop\$="[[_desktopMode]]" aria-hidden="true">
      <div part="label">[[_formatDisplayed(selectedDate, i18n.formatDate, label)]]</div>
      <div part="clear-button" on-tap="_clear" showclear\$="[[_showClear(selectedDate)]]"></div>
      <div part="toggle-button" on-tap="_cancel"></div>

      <div part="years-toggle-button" desktop\$="[[_desktopMode]]" on-tap="_toggleYearScroller" aria-hidden="true">
        [[_yearAfterXMonths(_visibleMonthIndex)]]
      </div>
    </div>

    <div id="scrollers" desktop\$="[[_desktopMode]]" on-track="_track">
      <vaadin-infinite-scroller id="monthScroller" on-custom-scroll="_onMonthScroll" on-touchstart="_onMonthScrollTouchStart" buffer-size="3" active="[[initialPosition]]" part="months">
        <template>
          <vaadin-month-calendar i18n="[[i18n]]" month="[[_dateAfterXMonths(index)]]" selected-date="{{selectedDate}}" focused-date="[[focusedDate]]" ignore-taps="[[_ignoreTaps]]" show-week-numbers="[[showWeekNumbers]]" min-date="[[minDate]]" max-date="[[maxDate]]" focused\$="[[_focused]]" part="month" theme\$="[[theme]]">
          </vaadin-month-calendar>
        </template>
      </vaadin-infinite-scroller>
      <vaadin-infinite-scroller id="yearScroller" on-tap="_onYearTap" on-custom-scroll="_onYearScroll" on-touchstart="_onYearScrollTouchStart" buffer-size="12" active="[[initialPosition]]" part="years">
        <template>
          <div part="year-number" role="button" current\$="[[_isCurrentYear(index)]]" selected\$="[[_isSelectedYear(index, selectedDate)]]">
            [[_yearAfterXYears(index)]]
          </div>
          <div part="year-separator" aria-hidden="true"></div>
        </template>
      </vaadin-infinite-scroller>
    </div>

    <div on-touchend="_preventDefault" role="toolbar" part="toolbar">
      <vaadin-button id="todayButton" part="today-button" disabled="[[!_isTodayAllowed(minDate, maxDate)]]" on-tap="_onTodayTap">
        [[i18n.today]]
      </vaadin-button>
      <vaadin-button id="cancelButton" part="cancel-button" on-tap="_cancel">
        [[i18n.cancel]]
      </vaadin-button>
    </div>

    <iron-media-query query="(min-width: 375px)" query-matches="{{_desktopMode}}"></iron-media-query>
`}static get is(){return"vaadin-date-picker-overlay-content"}static get properties(){return{selectedDate:{type:Date,notify:!0},focusedDate:{type:Date,notify:!0,observer:"_focusedDateChanged"},_focusedMonthDate:Number,initialPosition:{type:Date,observer:"_initialPositionChanged"},_originDate:{value:new Date},_visibleMonthIndex:Number,_desktopMode:Boolean,_translateX:{observer:"_translateXChanged"},_yearScrollerWidth:{value:50},i18n:{type:Object},showWeekNumbers:{type:Boolean},_ignoreTaps:Boolean,_notTapping:Boolean,minDate:Date,maxDate:Date,_focused:Boolean,label:String}}ready(){super.ready();this.setAttribute("tabindex",0);this.addEventListener("keydown",this._onKeydown.bind(this));addListener(this,"tap",this._stopPropagation);this.addEventListener("focus",this._onOverlayFocus.bind(this));this.addEventListener("blur",this._onOverlayBlur.bind(this))}connectedCallback(){super.connectedCallback();this._closeYearScroller();this._toggleAnimateClass(!0);setTouchAction(this.$.scrollers,"pan-y");IronA11yAnnouncer.requestAvailability()}announceFocusedDate(){var focusedDate=this._currentlyFocusedDate(),announce=[];if(DatePickerHelper._dateEquals(focusedDate,new Date)){announce.push(this.i18n.today)}announce=announce.concat([this.i18n.weekdays[focusedDate.getDay()],focusedDate.getDate(),this.i18n.monthNames[focusedDate.getMonth()],focusedDate.getFullYear()]);if(this.showWeekNumbers&&1===this.i18n.firstDayOfWeek){announce.push(this.i18n.week);announce.push(DatePickerHelper._getISOWeekNumber(focusedDate))}this.dispatchEvent(new CustomEvent("iron-announce",{bubbles:!0,composed:!0,detail:{text:announce.join(" ")}}));return}focusCancel(){this.$.cancelButton.focus()}scrollToDate(date,animate){this._scrollToPosition(this._differenceInMonths(date,this._originDate),animate)}_focusedDateChanged(focusedDate){this.revealDate(focusedDate)}_isCurrentYear(yearsFromNow){return 0===yearsFromNow}_isSelectedYear(yearsFromNow,selectedDate){if(selectedDate){return selectedDate.getFullYear()===this._originDate.getFullYear()+yearsFromNow}}revealDate(date){if(date){var diff=this._differenceInMonths(date,this._originDate),scrolledAboveViewport=this.$.monthScroller.position>diff,visibleItems=this.$.monthScroller.clientHeight/this.$.monthScroller.itemHeight,scrolledBelowViewport=this.$.monthScroller.position+visibleItems-1<diff;if(scrolledAboveViewport){this._scrollToPosition(diff,!0)}else if(scrolledBelowViewport){this._scrollToPosition(diff-visibleItems+1,!0)}}}_onOverlayFocus(){this._focused=!0}_onOverlayBlur(){this._focused=!1}_initialPositionChanged(initialPosition){this.scrollToDate(initialPosition)}_repositionYearScroller(){this._visibleMonthIndex=_Mathfloor(this.$.monthScroller.position);this.$.yearScroller.position=(this.$.monthScroller.position+this._originDate.getMonth())/12}_repositionMonthScroller(){this.$.monthScroller.position=12*this.$.yearScroller.position-this._originDate.getMonth();this._visibleMonthIndex=_Mathfloor(this.$.monthScroller.position)}_onMonthScroll(){this._repositionYearScroller();this._doIgnoreTaps()}_onYearScroll(){this._repositionMonthScroller();this._doIgnoreTaps()}_onYearScrollTouchStart(){this._notTapping=!1;setTimeout(()=>this._notTapping=!0,300);this._repositionMonthScroller()}_onMonthScrollTouchStart(){this._repositionYearScroller()}_doIgnoreTaps(){this._ignoreTaps=!0;this._debouncer=Debouncer.debounce(this._debouncer,timeOut.after(300),()=>this._ignoreTaps=!1)}_formatDisplayed(date,formatDate,label){if(date){return formatDate(DatePickerHelper._extractDateParts(date))}else{return label}}_onTodayTap(){var today=new Date;if(this.$.monthScroller.position===this._differenceInMonths(today,this._originDate)){this.selectedDate=today;this._close()}else{this._scrollToCurrentMonth()}}_scrollToCurrentMonth(){if(this.focusedDate){this.focusedDate=new Date}this.scrollToDate(new Date,!0)}_showClear(selectedDate){return!!selectedDate}_onYearTap(e){if(!this._ignoreTaps&&!this._notTapping){var scrollDelta=e.detail.y-(this.$.yearScroller.getBoundingClientRect().top+this.$.yearScroller.clientHeight/2),yearDelta=scrollDelta/this.$.yearScroller.itemHeight;this._scrollToPosition(this.$.monthScroller.position+12*yearDelta,!0)}}_scrollToPosition(targetPosition,animate){if(this._targetPosition!==void 0){this._targetPosition=targetPosition;return}if(!animate){this.$.monthScroller.position=targetPosition;this._targetPosition=void 0;this._repositionYearScroller();return}this._targetPosition=targetPosition;var easingFunction=(t,b,c,d)=>{t/=d/2;if(1>t){return c/2*t*t+b}t--;return-c/2*(t*(t-2)-1)+b},duration=animate?300:0,start=0,initialPosition=this.$.monthScroller.position,smoothScroll=timestamp=>{start=start||timestamp;var currentTime=timestamp-start;if(currentTime<duration){var currentPos=easingFunction(currentTime,initialPosition,this._targetPosition-initialPosition,duration);this.$.monthScroller.position=currentPos;window.requestAnimationFrame(smoothScroll)}else{this.dispatchEvent(new CustomEvent("scroll-animation-finished",{bubbles:!0,composed:!0,detail:{position:this._targetPosition,oldPosition:initialPosition}}));this.$.monthScroller.position=this._targetPosition;this._targetPosition=void 0}setTimeout(this._repositionYearScroller.bind(this),1)};window.requestAnimationFrame(smoothScroll)}_limit(value,range){return _Mathmin(range.max,_Mathmax(range.min,value))}_handleTrack(e){if(10>_Mathabs(e.detail.dx)||10<_Mathabs(e.detail.ddy)){return}if(_Mathabs(e.detail.ddx)>this._yearScrollerWidth/3){this._toggleAnimateClass(!0)}var newTranslateX=this._translateX+e.detail.ddx;this._translateX=this._limit(newTranslateX,{min:0,max:this._yearScrollerWidth})}_track(e){if(this._desktopMode){return}switch(e.detail.state){case"start":this._toggleAnimateClass(!1);break;case"track":this._handleTrack(e);break;case"end":this._toggleAnimateClass(!0);if(this._translateX>=this._yearScrollerWidth/2){this._closeYearScroller()}else{this._openYearScroller()}break;}}_toggleAnimateClass(enable){if(enable){this.classList.add("animate")}else{this.classList.remove("animate")}}_toggleYearScroller(){this._isYearScrollerVisible()?this._closeYearScroller():this._openYearScroller()}_openYearScroller(){this._translateX=0;this.setAttribute("years-visible","")}_closeYearScroller(){this.removeAttribute("years-visible");this._translateX=this._yearScrollerWidth}_isYearScrollerVisible(){return this._translateX<this._yearScrollerWidth/2}_translateXChanged(x){if(!this._desktopMode){this.$.monthScroller.style.transform="translateX("+(x-this._yearScrollerWidth)+"px)";this.$.yearScroller.style.transform="translateX("+x+"px)"}}_yearAfterXYears(index){var result=new Date(this._originDate);result.setFullYear(parseInt(index)+this._originDate.getFullYear());return result.getFullYear()}_yearAfterXMonths(months){return this._dateAfterXMonths(months).getFullYear()}_dateAfterXMonths(months){var result=new Date(this._originDate);result.setDate(1);result.setMonth(parseInt(months)+this._originDate.getMonth());return result}_differenceInMonths(date1,date2){var months=12*(date1.getFullYear()-date2.getFullYear());return months-date2.getMonth()+date1.getMonth()}_differenceInYears(date1,date2){return this._differenceInMonths(date1,date2)/12}_clear(){this.selectedDate=""}_close(){const overlayContent=this.getRootNode().host,overlay=overlayContent?overlayContent.getRootNode().host:null;if(overlay){overlay.opened=!1}this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}_cancel(){this.focusedDate=this.selectedDate;this._close()}_preventDefault(e){e.preventDefault()}_eventKey(e){for(var keys=["down","up","right","left","enter","space","home","end","pageup","pagedown","tab","esc"],i=0,k;i<keys.length;i++){k=keys[i];if(IronA11yKeysBehavior.keyboardEventMatchesKeys(e,k)){return k}}}_onKeydown(e){var focus=this._currentlyFocusedDate();const isToday=0<=e.composedPath().indexOf(this.$.todayButton),isCancel=0<=e.composedPath().indexOf(this.$.cancelButton),isScroller=!isToday&&!isCancel;var eventKey=this._eventKey(e);if("tab"===eventKey){e.stopPropagation();const isFullscreen=this.hasAttribute("fullscreen"),isShift=e.shiftKey;if(isFullscreen){e.preventDefault()}else if(isShift&&isScroller||!isShift&&isCancel){e.preventDefault();this.dispatchEvent(new CustomEvent("focus-input",{bubbles:!0,composed:!0}))}else if(isShift&&isToday){this._focused=!0;setTimeout(()=>this.revealDate(this.focusedDate),1)}else{this._focused=!1}}else if(eventKey){e.preventDefault();e.stopPropagation();switch(eventKey){case"down":this._moveFocusByDays(7);this.focus();break;case"up":this._moveFocusByDays(-7);this.focus();break;case"right":if(isScroller){this._moveFocusByDays(1)}break;case"left":if(isScroller){this._moveFocusByDays(-1)}break;case"enter":if(isScroller||isCancel){this._close()}else if(isToday){this._onTodayTap()}break;case"space":if(isCancel){this._close()}else if(isToday){this._onTodayTap()}else{var focusedDate=this.focusedDate;if(DatePickerHelper._dateEquals(focusedDate,this.selectedDate)){this.selectedDate="";this.focusedDate=focusedDate}else{this.selectedDate=focusedDate}}break;case"home":this._moveFocusInsideMonth(focus,"minDate");break;case"end":this._moveFocusInsideMonth(focus,"maxDate");break;case"pagedown":this._moveFocusByMonths(e.shiftKey?12:1);break;case"pageup":this._moveFocusByMonths(e.shiftKey?-12:-1);break;case"esc":this._cancel();break;}}}_currentlyFocusedDate(){return this.focusedDate||this.selectedDate||this.initialPosition||new Date}_focusDate(dateToFocus){this.focusedDate=dateToFocus;this._focusedMonthDate=dateToFocus.getDate()}_focusClosestDate(focus){this._focusDate(DatePickerHelper._getClosestDate(focus,[this.minDate,this.maxDate]))}_moveFocusByDays(days){var focus=this._currentlyFocusedDate(),dateToFocus=new Date(0,0);dateToFocus.setFullYear(focus.getFullYear());dateToFocus.setMonth(focus.getMonth());dateToFocus.setDate(focus.getDate()+days);if(this._dateAllowed(dateToFocus,this.minDate,this.maxDate)){this._focusDate(dateToFocus)}else{if(this._dateAllowed(focus,this.minDate,this.maxDate)){if(0<days){this._focusDate(this.maxDate)}else{this._focusDate(this.minDate)}}else{this._focusClosestDate(focus)}}}_moveFocusByMonths(months){var focus=this._currentlyFocusedDate(),dateToFocus=new Date(0,0);dateToFocus.setFullYear(focus.getFullYear());dateToFocus.setMonth(focus.getMonth()+months);var targetMonth=dateToFocus.getMonth();dateToFocus.setDate(this._focusedMonthDate||(this._focusedMonthDate=focus.getDate()));if(dateToFocus.getMonth()!==targetMonth){dateToFocus.setDate(0)}if(this._dateAllowed(dateToFocus,this.minDate,this.maxDate)){this.focusedDate=dateToFocus}else{if(this._dateAllowed(focus,this.minDate,this.maxDate)){if(0<months){this._focusDate(this.maxDate)}else{this._focusDate(this.minDate)}}else{this._focusClosestDate(focus)}}}_moveFocusInsideMonth(focusedDate,property){var dateToFocus=new Date(0,0);dateToFocus.setFullYear(focusedDate.getFullYear());if("minDate"===property){dateToFocus.setMonth(focusedDate.getMonth());dateToFocus.setDate(1)}else{dateToFocus.setMonth(focusedDate.getMonth()+1);dateToFocus.setDate(0)}if(this._dateAllowed(dateToFocus,this.minDate,this.maxDate)){this._focusDate(dateToFocus)}else{if(this._dateAllowed(focusedDate,this.minDate,this.maxDate)){this._focusDate(this[property])}else{this._focusClosestDate(focusedDate)}}}_dateAllowed(date,min,max){return(!min||date>=min)&&(!max||date<=max)}_isTodayAllowed(min,max){var today=new Date,todayMidnight=new Date(0,0);todayMidnight.setFullYear(today.getFullYear());todayMidnight.setMonth(today.getMonth());todayMidnight.setDate(today.getDate());return this._dateAllowed(todayMidnight,min,max)}_stopPropagation(e){e.stopPropagation()}}customElements.define(DatePickerOverlayContentElement.is,DatePickerOverlayContentElement);var ORPHANS=new Set;const IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this);this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){if(this._parentResizable){this._parentResizable.stopResizeNotificationsFor(this)}else{ORPHANS.delete(this);window.removeEventListener("resize",this._boundNotifyResize)}this._parentResizable=null},notifyResize:function(){if(!this.isAttached){return}this._interestedResizables.forEach(function(resizable){if(this.resizerShouldNotify(resizable)){this._notifyDescendant(resizable)}},this);this._fireResize()},assignParentResizable:function(parentResizable){if(this._parentResizable){this._parentResizable.stopResizeNotificationsFor(this)}this._parentResizable=parentResizable;if(parentResizable&&-1===parentResizable._interestedResizables.indexOf(this)){parentResizable._interestedResizables.push(this);parentResizable._subscribeIronResize(this)}},stopResizeNotificationsFor:function(target){var index=this._interestedResizables.indexOf(target);if(-1<index){this._interestedResizables.splice(index,1);this._unsubscribeIronResize(target)}},_subscribeIronResize:function(target){target.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(target){target.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(element){return!0},_onDescendantIronResize:function(event){if(this._notifyingDescendant){event.stopPropagation();return}if(!useShadow){this._fireResize()}},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(event){var target=dom(event).rootTarget;if(target===this){return}target.assignParentResizable(this);this._notifyDescendant(target);event.stopPropagation()},_parentResizableChanged:function(parentResizable){if(parentResizable){window.removeEventListener("resize",this._boundNotifyResize)}},_notifyDescendant:function(descendant){if(!this.isAttached){return}this._notifyingDescendant=!0;descendant.notifyResize();this._notifyingDescendant=!1},_requestResizeNotifications:function(){if(!this.isAttached){return}if("loading"===document.readyState){var _requestResizeNotifications=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function readystatechanged(){document.removeEventListener("readystatechange",readystatechanged);_requestResizeNotifications()})}else{this._findParent();if(!this._parentResizable){ORPHANS.forEach(function(orphan){if(orphan!==this){orphan._findParent()}},this);window.addEventListener("resize",this._boundNotifyResize);this.notifyResize()}else{this._parentResizable._interestedResizables.forEach(function(resizable){if(resizable!==this){resizable._findParent()}},this)}}},_findParent:function(){this.assignParentResizable(null);this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0});if(!this._parentResizable){ORPHANS.add(this)}else{ORPHANS.delete(this)}}},DatePickerMixin=subclass=>class VaadinDatePickerMixin extends mixinBehaviors([IronResizableBehavior],subclass){static get properties(){return{_selectedDate:{type:Date},_focusedDate:Date,value:{type:String,observer:"_valueChanged",notify:!0,value:""},required:{type:Boolean,value:!1},name:{type:String},initialPosition:String,label:String,opened:{type:Boolean,reflectToAttribute:!0,notify:!0,observer:"_openedChanged"},showWeekNumbers:{type:Boolean},_fullscreen:{value:!1,observer:"_fullscreenChanged"},_fullscreenMediaQuery:{value:"(max-width: 420px), (max-height: 420px)"},_touchPrevented:Array,i18n:{type:Object,value:()=>{return{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDayOfWeek:0,week:"Week",calendar:"Calendar",clear:"Clear",today:"Today",cancel:"Cancel",formatDate:d=>{const yearStr=(d.year+"").replace(/\d+/,y=>"0000".substr(y.length)+y);return[d.month+1,d.day,yearStr].join("/")},parseDate:text=>{const parts=text.split("/"),today=new Date;let date,month=today.getMonth(),year=today.getFullYear();if(3===parts.length){year=parseInt(parts[2]);if(3>parts[2].length&&0<=year){year+=50>year?2e3:1900}month=parseInt(parts[0])-1;date=parseInt(parts[1])}else if(2===parts.length){month=parseInt(parts[0])-1;date=parseInt(parts[1])}else if(1===parts.length){date=parseInt(parts[0])}if(date!==void 0){return{day:date,month,year}}},formatTitle:(monthName,fullYear)=>{return monthName+" "+fullYear}}}},min:{type:String,observer:"_minChanged"},max:{type:String,observer:"_maxChanged"},_minDate:{type:Date,value:""},_maxDate:{type:Date,value:""},_noInput:{type:Boolean,computed:"_isNoInput(_fullscreen, _ios, i18n, i18n.*)"},_ios:{type:Boolean,value:navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/)},_webkitOverflowScroll:{type:Boolean,value:""===document.createElement("div").style.webkitOverflowScrolling},_ignoreAnnounce:{value:!0},_focusOverlayOnOpen:Boolean}}static get observers(){return["_updateHasValue(value)","_validateInput(_selectedDate, _minDate, _maxDate)","_selectedDateChanged(_selectedDate, i18n.formatDate)","_focusedDateChanged(_focusedDate, i18n.formatDate)","_announceFocusedDate(_focusedDate, opened, _ignoreAnnounce)"]}ready(){super.ready();this._boundOnScroll=this._onScroll.bind(this);this._boundFocus=this._focus.bind(this);this._boundUpdateAlignmentAndPosition=this._updateAlignmentAndPosition.bind(this);addListener(this,"tap",this.open);this.addEventListener("touchend",this._preventDefault.bind(this));this.addEventListener("keydown",this._onKeydown.bind(this));this._overlayContent.addEventListener("close",this._close.bind(this));this._overlayContent.addEventListener("focus-input",this._focusAndSelect.bind(this));this.addEventListener("input",this._onUserInput.bind(this));this.addEventListener("focus",e=>this._noInput&&e.target.blur())}connectedCallback(){super.connectedCallback();this.$.overlay.addEventListener("vaadin-overlay-escape-press",this._boundFocus)}disconnectedCallback(){super.disconnectedCallback();this.$.overlay.removeEventListener("vaadin-overlay-escape-press",this._boundFocus);this.opened=!1}open(){if(!this.disabled&&!this.readonly){this.$.overlay.opened=!0}}_close(e){if(e){e.stopPropagation()}this._focus();this.close()}close(){this.$.overlay.close()}get _inputElement(){return this._input()}get _nativeInput(){if(this._inputElement){return this._inputElement.focusElement?this._inputElement.focusElement:this._inputElement.inputElement?this._inputElement.inputElement:window.unwrap?window.unwrap(this._inputElement):this._inputElement}}_parseDate(str){var parts=/^([-+]\d{1}|\d{2,4}|[-+]\d{6})-(\d{1,2})-(\d{1,2})$/.exec(str);if(!parts){return}var date=new Date(0,0);date.setFullYear(parseInt(parts[1],10));date.setMonth(parseInt(parts[2],10)-1);date.setDate(parseInt(parts[3],10));return date}_isNoInput(fullscreen,ios,i18n){return!this._inputElement||fullscreen||ios||!i18n.parseDate}_formatISO(date){if(!(date instanceof Date)){return""}const pad=(num,fmt="00")=>(fmt+num).substr((fmt+num).length-fmt.length);let yearSign="",yearFmt="0000",yearAbs=date.getFullYear();if(0>yearAbs){yearAbs=-yearAbs;yearSign="-";yearFmt="000000"}else if(1e4<=date.getFullYear()){yearSign="+";yearFmt="000000"}const year=yearSign+pad(yearAbs,yearFmt),month=pad(date.getMonth()+1),day=pad(date.getDate());return[year,month,day].join("-")}_openedChanged(opened){if(!opened){return}this._updateAlignmentAndPosition()}_selectedDateChanged(selectedDate,formatDate){if(selectedDate===void 0||formatDate===void 0){return}if(this.__userInputOccurred){this.__dispatchChange=!0}const inputValue=selectedDate&&formatDate(DatePickerHelper._extractDateParts(selectedDate)),value=this._formatISO(selectedDate);if(value!==this.value){this.validate(inputValue);this.value=value}this.__userInputOccurred=!1;this.__dispatchChange=!1;this._focusedDate=selectedDate;this._inputValue=selectedDate?inputValue:""}_focusedDateChanged(focusedDate,formatDate){if(focusedDate===void 0||formatDate===void 0){return}this.__userInputOccurred=!0;if(!this._ignoreFocusedDateChange&&!this._noInput){this._inputValue=focusedDate?formatDate(DatePickerHelper._extractDateParts(focusedDate)):""}}_updateHasValue(value){if(value){this.setAttribute("has-value","")}else{this.removeAttribute("has-value")}}_handleDateChange(property,value,oldValue){if(!value){this[property]="";return}var date=this._parseDate(value);if(!date){this.value=oldValue;return}if(!DatePickerHelper._dateEquals(this[property],date)){this[property]=date}}_valueChanged(value,oldValue){if(this.__dispatchChange){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}this._handleDateChange("_selectedDate",value,oldValue)}_minChanged(value,oldValue){this._handleDateChange("_minDate",value,oldValue)}_maxChanged(value,oldValue){this._handleDateChange("_maxDate",value,oldValue)}_updateAlignmentAndPosition(){if(!this._fullscreen){const inputRect=this._inputElement.getBoundingClientRect(),bottomAlign=inputRect.top>window.innerHeight/2,rightAlign=inputRect.left+this.clientWidth/2>window.innerWidth/2;if(rightAlign){const viewportWidth=_Mathmin(window.innerWidth,document.documentElement.clientWidth);this.$.overlay.setAttribute("right-aligned","");this.$.overlay.style.removeProperty("left");this.$.overlay.style.right=viewportWidth-inputRect.right+"px"}else{this.$.overlay.removeAttribute("right-aligned");this.$.overlay.style.removeProperty("right");this.$.overlay.style.left=inputRect.left+"px"}if(bottomAlign){const viewportHeight=_Mathmin(window.innerHeight,document.documentElement.clientHeight);this.$.overlay.setAttribute("bottom-aligned","");this.$.overlay.style.removeProperty("top");this.$.overlay.style.bottom=viewportHeight-inputRect.top+"px"}else{this.$.overlay.removeAttribute("bottom-aligned");this.$.overlay.style.removeProperty("bottom");this.$.overlay.style.top=inputRect.bottom+"px"}}this.$.overlay.setAttribute("dir",getComputedStyle(this._inputElement).getPropertyValue("direction"));this._overlayContent._repositionYearScroller()}_fullscreenChanged(){if(this.$.overlay.opened){this._updateAlignmentAndPosition()}}_onOverlayOpened(){this._openedWithFocusRing=this.hasAttribute("focus-ring")||this.focusElement&&this.focusElement.hasAttribute("focus-ring");var parsedInitialPosition=this._parseDate(this.initialPosition),initialPosition=this._selectedDate||this._overlayContent.initialPosition||parsedInitialPosition||new Date;if(parsedInitialPosition||DatePickerHelper._dateAllowed(initialPosition,this._minDate,this._maxDate)){this._overlayContent.initialPosition=initialPosition}else{this._overlayContent.initialPosition=DatePickerHelper._getClosestDate(initialPosition,[this._minDate,this._maxDate])}this._overlayContent.scrollToDate(this._overlayContent.focusedDate||this._overlayContent.initialPosition);this._ignoreFocusedDateChange=!0;this._overlayContent.focusedDate=this._overlayContent.focusedDate||this._overlayContent.initialPosition;this._ignoreFocusedDateChange=!1;window.addEventListener("scroll",this._boundOnScroll,!0);this.addEventListener("iron-resize",this._boundUpdateAlignmentAndPosition);if(this._webkitOverflowScroll){this._touchPrevented=this._preventWebkitOverflowScrollingTouch(this.parentElement)}if(this._focusOverlayOnOpen){this._overlayContent.focus();this._focusOverlayOnOpen=!1}else{this._focus()}if(this._noInput&&this.focusElement){this.focusElement.blur()}this.updateStyles();this._ignoreAnnounce=!1}_preventWebkitOverflowScrollingTouch(element){var result=[];while(element){if("touch"===window.getComputedStyle(element).webkitOverflowScrolling){var oldInlineValue=element.style.webkitOverflowScrolling;element.style.webkitOverflowScrolling="auto";result.push({element:element,oldInlineValue:oldInlineValue})}element=element.parentElement}return result}_onOverlayClosed(){this._ignoreAnnounce=!0;window.removeEventListener("scroll",this._boundOnScroll,!0);this.removeEventListener("iron-resize",this._boundUpdateAlignmentAndPosition);if(this._touchPrevented){this._touchPrevented.forEach(prevented=>prevented.element.style.webkitOverflowScrolling=prevented.oldInlineValue);this._touchPrevented=[]}this.updateStyles();this._ignoreFocusedDateChange=!0;if(this.i18n.parseDate){var inputValue=this._inputValue||"";const dateObject=this.i18n.parseDate(inputValue),parsedDate=dateObject&&this._parseDate(`${dateObject.year}-${dateObject.month+1}-${dateObject.day}`);if(this._isValidDate(parsedDate)){this._selectedDate=parsedDate}else{this._selectedDate=null;this._inputValue=inputValue}}else if(this._focusedDate){this._selectedDate=this._focusedDate}this._ignoreFocusedDateChange=!1;if(this._nativeInput&&this._nativeInput.selectionStart){this._nativeInput.selectionStart=this._nativeInput.selectionEnd}this.validate()}validate(value){this.invalid=!1;value=value!==void 0?value:this._inputValue;return!(this.invalid=!this.checkValidity(value))}checkValidity(value){var inputValid=!value||this._selectedDate&&value===this.i18n.formatDate(DatePickerHelper._extractDateParts(this._selectedDate)),minMaxValid=!this._selectedDate||DatePickerHelper._dateAllowed(this._selectedDate,this._minDate,this._maxDate),inputValidity=!0;if(this._inputElement){if(this._inputElement.checkValidity){inputValidity=this._inputElement.checkValidity(value)}else if(this._inputElement.validate){inputValidity=this._inputElement.validate(value)}}return inputValid&&minMaxValid&&inputValidity}_onScroll(e){if(e.target===window||!this._overlayContent.contains(e.target)){this._updateAlignmentAndPosition()}}_focus(){if(this._noInput){this._overlayContent.focus()}else{this._inputElement.focus()}}_focusAndSelect(){this._focus();this._setSelectionRange(0,this._inputValue.length)}_setSelectionRange(a,b){if(this._nativeInput&&this._nativeInput.setSelectionRange){this._nativeInput.setSelectionRange(a,b)}}_preventDefault(e){e.preventDefault()}_eventKey(e){for(var keys=["down","up","enter","esc","tab"],i=0,k;i<keys.length;i++){k=keys[i];if(IronA11yKeysBehavior.keyboardEventMatchesKeys(e,k)){return k}}}_isValidDate(d){return d&&!isNaN(d.getTime())}_onKeydown(e){if(this._noInput){var allowedKeys=[9];if(-1===allowedKeys.indexOf(e.keyCode)){e.preventDefault()}}switch(this._eventKey(e)){case"down":case"up":e.preventDefault();if(this.opened){this._overlayContent.focus();this._overlayContent._onKeydown(e)}else{this._focusOverlayOnOpen=!0;this.open()}break;case"enter":if(this._overlayContent.focusedDate){this._selectedDate=this._overlayContent.focusedDate}this.close();break;case"esc":this._focusedDate=this._selectedDate;this._close();break;case"tab":if(this.opened){e.preventDefault();this._setSelectionRange(0,0);if(e.shiftKey){this._overlayContent.focusCancel()}else{this._overlayContent.focus();this._overlayContent.revealDate(this._focusedDate)}}break;}}_validateInput(date,min,max){if(date&&(min||max)){this.invalid=!DatePickerHelper._dateAllowed(date,min,max)}}_onUserInput(e){if(!this.opened){this.open()}this._userInputValueChanged()}_userInputValueChanged(value){if(this.opened&&this._inputValue){const dateObject=this.i18n.parseDate&&this.i18n.parseDate(this._inputValue),parsedDate=dateObject&&this._parseDate(`${dateObject.year}-${dateObject.month+1}-${dateObject.day}`);if(this._isValidDate(parsedDate)){this._ignoreFocusedDateChange=!0;if(!DatePickerHelper._dateEquals(parsedDate,this._focusedDate)){this._focusedDate=parsedDate}this._ignoreFocusedDateChange=!1}}}_announceFocusedDate(_focusedDate,opened,_ignoreAnnounce){if(opened&&!_ignoreAnnounce){this._overlayContent.announceFocusedDate()}}get _overlayContent(){return this.$.overlay.content.querySelector("#overlay-content")}};class DatePickerElement extends ElementMixin$1(ControlStateMixin(ThemableMixin(ThemePropertyMixin(DatePickerMixin(GestureEventListeners(PolymerElement)))))){static get template(){return html`
    <style>
      :host {
        display: inline-block;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host([opened]) {
        pointer-events: auto;
      }

      [part="text-field"] {
        width: 100%;
        min-width: 0;
      }

      [part="clear-button"],
      [part="toggle-button"] {
        font-family: 'vaadin-date-picker-icons';
      }

      [part="clear-button"]::before {
        content: "\\e901";
      }

      [part="toggle-button"]::before {
        content: "\\e902";
      }

      :host([disabled]) [part="clear-button"],
      :host([readonly]) [part="clear-button"],
      :host(:not([has-value])) [part="clear-button"] {
        display: none;
      }
    </style>


    <vaadin-text-field id="input" role="application" autocomplete="off" on-focus="_focus" value="{{_userInputValue}}" invalid="[[invalid]]" label="[[label]]" name="[[name]]" placeholder="[[placeholder]]" required="[[required]]" disabled="[[disabled]]" readonly="[[readonly]]" error-message="[[errorMessage]]" aria-label\$="[[label]]" part="text-field" theme\$="[[theme]]">
      <slot name="prefix" slot="prefix"></slot>
      <div part="clear-button" slot="suffix" on-touchend="_clearTouchend" on-click="_clear" role="button" aria-label\$="[[i18n.clear]]"></div>
      <div part="toggle-button" slot="suffix" on-tap="_toggle" role="button" aria-label\$="[[i18n.calendar]]" aria-expanded\$="[[_getAriaExpanded(opened)]]"></div>
    </vaadin-text-field>

    <vaadin-date-picker-overlay id="overlay" opened="{{opened}}" fullscreen\$="[[_fullscreen]]" theme\$="[[theme]]" on-vaadin-overlay-open="_onOverlayOpened" on-vaadin-overlay-close="_onOverlayClosed">
      <template>
        <vaadin-date-picker-overlay-content id="overlay-content" i18n="[[i18n]]" fullscreen\$="[[_fullscreen]]" label="[[label]]" selected-date="{{_selectedDate}}" slot="dropdown-content" focused-date="{{_focusedDate}}" show-week-numbers="[[showWeekNumbers]]" min-date="[[_minDate]]" max-date="[[_maxDate]]" role="dialog" on-date-tap="_close" part="overlay-content" theme\$="[[theme]]">
        </vaadin-date-picker-overlay-content>
      </template>
    </vaadin-date-picker-overlay>

    <iron-media-query query="[[_fullscreenMediaQuery]]" query-matches="{{_fullscreen}}">
    </iron-media-query>
`}static get is(){return"vaadin-date-picker"}static get version(){return"3.3.2"}static get properties(){return{disabled:{type:Boolean,value:!1,reflectToAttribute:!0},errorMessage:String,placeholder:String,readonly:{type:Boolean,value:!1,reflectToAttribute:!0},invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},_userInputValue:String}}static get observers(){return["_userInputValueChanged(_userInputValue)"]}ready(){super.ready();afterNextRender(this,()=>this._inputElement.validate=()=>{});this._overlayContent.addEventListener("focus",()=>this.focusElement._setFocused(!0));this.$.overlay.addEventListener("vaadin-overlay-close",this._onVaadinOverlayClose.bind(this))}_onVaadinOverlayClose(e){if(this._openedWithFocusRing&&this.hasAttribute("focused")){this.focusElement.setAttribute("focus-ring","")}else if(!this.hasAttribute("focused")){this.focusElement.blur()}if(e.detail.sourceEvent&&-1!==e.detail.sourceEvent.composedPath().indexOf(this)){e.preventDefault()}}_clear(){this.__dispatchChange=!0;this.value="";this.validate();this.focus();prevent("tap");this.__dispatchChange=!1}_clearTouchend(e){this._clear();e.preventDefault();prevent("tap")}_toggle(e){e.stopPropagation();this[this.$.overlay.opened?"close":"open"]()}_input(){return this.$.input}set _inputValue(value){this._inputElement.value=value}get _inputValue(){return this._inputElement.value}_getAriaExpanded(opened){return(!!opened).toString()}get focusElement(){return this._input()||this}}customElements.define(DatePickerElement.is,DatePickerElement);const $_documentContainer$o=document.createElement("template");$_documentContainer$o.innerHTML=`<dom-module id="lumo-split-layout" theme-for="vaadin-split-layout">
  <template>
    <style>
      [part="splitter"] {
        min-width: var(--lumo-space-s);
        min-height: var(--lumo-space-s);
        background-color: var(--lumo-contrast-5pct);
        transition: 0.1s background-color;
      }

      [part="handle"] {
        display: flex;
        align-items: center;
        justify-content: center;
        width: var(--lumo-size-m);
        height: var(--lumo-size-m);
      }

      [part="handle"]::after {
        content: "";
        display: block;
        width: 4px;
        height: 100%;
        max-width: 100%;
        max-height: 100%;
        border-radius: var(--lumo-border-radius);
        background-color: var(--lumo-contrast-30pct);
        transition: 0.1s opacity, 0.1s background-color;
      }

      :host([orientation="vertical"]) [part="handle"]::after {
        width: 100%;
        height: 4px;
      }

      /* Hover style */

      [part="splitter"]:hover [part="handle"]::after {
        background-color: var(--lumo-contrast-40pct);
      }

      /* Disable hover for touch devices */
      @media (pointer: coarse) {
        [part="splitter"]:hover [part="handle"]::after {
          background-color: var(--lumo-contrast-30pct);
        }
      }

      /* Active style */

      [part="splitter"]:active [part="handle"]::after {
        background-color: var(--lumo-contrast-50pct);
      }

      /* Small/minimal */

      :host([theme~="small"]) > [part="splitter"] {
        border-left: 1px solid var(--lumo-contrast-10pct);
        border-top: 1px solid var(--lumo-contrast-10pct);
      }

      :host([theme~="small"]) > [part="splitter"],
      :host([theme~="minimal"]) > [part="splitter"] {
        min-width: 0;
        min-height: 0;
        background-color: transparent;
      }

      :host([theme~="small"]) > [part="splitter"]::after,
      :host([theme~="minimal"]) > [part="splitter"]::after {
        content: "";
        position: absolute;
        top: -4px;
        right: -4px;
        bottom: -4px;
        left: -4px;
      }

      :host([theme~="small"]) > [part="splitter"] > [part="handle"]::after,
      :host([theme~="minimal"]) > [part="splitter"] > [part="handle"]::after {
        opacity: 0;
      }

      :host([theme~="small"]) > [part="splitter"]:hover > [part="handle"]::after,
      :host([theme~="small"]) > [part="splitter"]:active > [part="handle"]::after,
      :host([theme~="minimal"]) > [part="splitter"]:hover > [part="handle"]::after,
      :host([theme~="minimal"]) > [part="splitter"]:active > [part="handle"]::after {
        opacity: 1;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$o.content);class SplitLayoutElement extends ElementMixin$1(ThemableMixin(GestureEventListeners(mixinBehaviors([IronResizableBehavior],PolymerElement)))){static get template(){return html`
    <style>
      :host {
        display: flex;
        overflow: hidden !important;
        transform: translateZ(0);
      }

      :host([hidden]) {
        display: none !important;
      }

      :host([orientation="vertical"]) {
        flex-direction: column;
      }

      :host ::slotted(*) {
        flex: 1 1 auto;
        overflow: auto;
        -webkit-overflow-scrolling: touch;
      }

      [part="splitter"] {
        flex: none;
        position: relative;
        z-index: 1;
        overflow: visible;
        min-width: 8px;
        min-height: 8px;
      }

      :host(:not([orientation="vertical"])) > [part="splitter"] {
        cursor: ew-resize;
      }

      :host([orientation="vertical"]) > [part="splitter"] {
        cursor: ns-resize;
      }

      [part="handle"] {
        width: 40px;
        height: 40px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate3d(-50%, -50%, 0);
      }
    </style>
    <slot id="primary" name="primary"></slot>
    <div part="splitter" id="splitter" on-track="_onHandleTrack" on-down="_setPointerEventsNone" on-up="_restorePointerEvents">
      <div part="handle"></div>
    </div>
    <slot id="secondary" name="secondary"></slot>

    <div hidden="">
      \x3c!-- Workaround to fix a Shady style scoping issue caused by dynamic slot naming of the child elements (primary/secondary) --\x3e
      <slot></slot>
    </div>
`}static get is(){return"vaadin-split-layout"}static get version(){return"4.1.0"}static get properties(){return{orientation:{type:String,reflectToAttribute:!0,value:"horizontal"},_previousPrimaryPointerEvents:String,_previousSecondaryPointerEvents:String}}ready(){super.ready();new FlattenedNodesObserver(this,this._processChildren)}_processChildren(){this.getEffectiveChildren().forEach((child,i)=>{if(0===i){this._primaryChild=child;child.setAttribute("slot","primary")}else if(1==i){this._secondaryChild=child;child.setAttribute("slot","secondary")}else{child.removeAttribute("slot")}})}_setFlexBasis(element,flexBasis,containerSize){flexBasis=_Mathmax(0,_Mathmin(flexBasis,containerSize));if(0===flexBasis){flexBasis=1e-6}element.style.flex="1 1 "+flexBasis+"px"}_setPointerEventsNone(event){this._previousPrimaryPointerEvents=this._primaryChild.style.pointerEvents;this._previousSecondaryPointerEvents=this._secondaryChild.style.pointerEvents;this._primaryChild.style.pointerEvents="none";this._secondaryChild.style.pointerEvents="none";event.preventDefault()}_restorePointerEvents(){this._primaryChild.style.pointerEvents=this._previousPrimaryPointerEvents;this._secondaryChild.style.pointerEvents=this._previousSecondaryPointerEvents}_onHandleTrack(event){if(!this._primaryChild||!this._secondaryChild){return}var size="vertical"===this.orientation?"height":"width";if("start"===event.detail.state){this._startSize={container:this.getBoundingClientRect()[size]-this.$.splitter.getBoundingClientRect()[size],primary:this._primaryChild.getBoundingClientRect()[size],secondary:this._secondaryChild.getBoundingClientRect()[size]};return}var distance="vertical"===this.orientation?event.detail.dy:event.detail.dx;this._setFlexBasis(this._primaryChild,this._startSize.primary+distance,this._startSize.container);this._setFlexBasis(this._secondaryChild,this._startSize.secondary-distance,this._startSize.container);this.notifyResize();if("end"===event.detail.state){this.dispatchEvent(new CustomEvent("splitter-dragend"));delete this._startSize}}}customElements.define(SplitLayoutElement.is,SplitLayoutElement);const $_documentContainer$p=document.createElement("template");$_documentContainer$p.innerHTML=`<dom-module id="lumo-progress-bar" theme-for="vaadin-progress-bar">
  <template>
    <style>
      :host {
        height: calc(var(--lumo-size-l) / 10);
        margin: var(--lumo-space-s) 0;
      }

      [part="bar"] {
        border-radius: var(--lumo-border-radius);
        background-color: var(--lumo-contrast-10pct);
      }

      [part="value"] {
        border-radius: var(--lumo-border-radius);
        background-color: var(--lumo-primary-color);
        /* Use width instead of transform to preserve border radius */
        transform: none;
        width: calc(var(--vaadin-progress-value) * 100%);
        will-change: width;
        transition: 0.1s width linear;
      }

      /* Indeterminate mode */

      :host([indeterminate]) [part="value"] {
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-primary-color-10pct) 10%, var(--lumo-primary-color));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-primary-color-10pct) 10%, var(--lumo-primary-color));
        width: 100%;
        background-color: transparent !important;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background);
        opacity: 0.75;
        will-change: transform;
        animation: vaadin-progress-slide 1.6s infinite cubic-bezier(.645, .045, .355, 1), vaadin-progress-scale 1.6s infinite cubic-bezier(.645, .045, .355, 1);
      }

      @keyframes vaadin-progress-slide {
        0% {
          transform-origin: 0% 0%;
        }

        50% {
          transform-origin: 100% 0%;
          background-image: var(--lumo-progress-indeterminate-progress-bar-background);
        }

        50.1% {
          transform-origin: 100% 0%;
          background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
        }

        100% {
          transform-origin: 0% 0%;
          background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
        }
      }

      @keyframes vaadin-progress-scale {
        0% { transform: scaleX(0.015); }
        25% { transform: scaleX(0.4); }
        50% { transform: scaleX(0.015); }
        50.1% { transform: scaleX(0.015); }
        75% { transform: scaleX(0.4); }
        100% { transform: scaleX(0.015); }
      }

      :host(:not([aria-valuenow])) [part="value"]::before,
      :host([indeterminate]) [part="value"]::before {
        content: "";
        display: block;
        width: 100%;
        height: 100%;
        border-radius: inherit;
        background-color: var(--lumo-primary-color);
        will-change: opacity;
        animation: vaadin-progress-pulse3 1.6s infinite cubic-bezier(.645, .045, .355, 1);
      }

      @keyframes vaadin-progress-pulse3 {
        0% { opacity: 1; }
        10% { opacity: 0; }
        40% { opacity: 0; }
        50% { opacity: 1; }
        50.1% { opacity: 1; }
        60% { opacity: 0; }
        90% { opacity: 0; }
        100% { opacity: 1; }
      }

      /* Contrast color */

      :host([theme~="contrast"]) [part="value"],
      :host([theme~="contrast"]) [part="value"]::before {
        background-color: var(--lumo-contrast-80pct);
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-contrast-5pct) 10%, var(--lumo-contrast-80pct));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-contrast-5pct) 10%, var(--lumo-contrast-60pct));
      }

      /* Error color */

      :host([theme~="error"]) [part="value"],
      :host([theme~="error"]) [part="value"]::before {
        background-color: var(--lumo-error-color);
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-error-color-10pct) 10%, var(--lumo-error-color));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-error-color-10pct) 10%, var(--lumo-error-color));
      }

      /* Primary color */

      :host([theme~="success"]) [part="value"],
      :host([theme~="success"]) [part="value"]::before {
        background-color: var(--lumo-success-color);
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-success-color-10pct) 10%, var(--lumo-success-color));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-success-color-10pct) 10%, var(--lumo-success-color));
      }
    </style>
  </template>
</dom-module><custom-style>
  <style>
    @keyframes vaadin-progress-pulse3 {
      0% { opacity: 1; }
      10% { opacity: 0; }
      40% { opacity: 0; }
      50% { opacity: 1; }
      50.1% { opacity: 1; }
      60% { opacity: 0; }
      90% { opacity: 0; }
      100% { opacity: 1; }
    }
  </style>
</custom-style>`;document.head.appendChild($_documentContainer$p.content);;const ProgressMixin=superClass=>class VaadinProgressMixin extends superClass{static get properties(){return{value:{type:Number,observer:"_valueChanged"},min:{type:Number,value:0,observer:"_minChanged"},max:{type:Number,value:1,observer:"_maxChanged"},indeterminate:{type:Boolean,value:!1,reflectToAttribute:!0}}}static get observers(){return["_normalizedValueChanged(value, min, max)"]}ready(){super.ready();this.setAttribute("role","progressbar")}_normalizedValueChanged(value,min,max){const newNormalizedValue=this._normalizeValue(value,min,max);this.style.setProperty("--vaadin-progress-value",newNormalizedValue);this.updateStyles({"--vaadin-progress-value":newNormalizedValue+""})}_valueChanged(newV,oldV){this.setAttribute("aria-valuenow",newV)}_minChanged(newV,oldV){this.setAttribute("aria-valuemin",newV)}_maxChanged(newV,oldV){this.setAttribute("aria-valuemax",newV)}_normalizeValue(value,min,max){let nV;if(!value&&0!=value){nV=0}else if(min>=max){nV=1}else{nV=(value-min)/(max-min);nV=_Mathmin(_Mathmax(nV,0),1)}return nV}};class ProgressBarElement extends ElementMixin$1(ThemableMixin(ProgressMixin(PolymerElement))){static get template(){return html`
    <style>
      :host {
        display: block;
        width: 100%; /* prevent collapsing inside non-stretching column flex */
        height: 8px;
      }

      :host([hidden]) {
        display: none !important;
      }

      [part="bar"] {
        height: 100%;
      }

      [part="value"] {
        height: 100%;
        transform-origin: 0 50%;
        transform: scaleX(var(--vaadin-progress-value));
      }

    </style>

    <div part="bar">
      <div part="value"></div>
    </div>
`}static get is(){return"vaadin-progress-bar"}static get version(){return"1.1.0"}}customElements.define(ProgressBarElement.is,ProgressBarElement);class ComboBoxItemElement extends ThemableMixin(PolymerElement){static get template(){return html`
    <style>
      :host {
        display: block;
      }

      :host([hidden]) {
         display: none;
      }
    </style>
    <div part="content" id="content"></div>
`}static get is(){return"vaadin-combo-box-item"}static get properties(){return{index:Number,item:Object,label:String,selected:{type:Boolean,value:!1,reflectToAttribute:!0},focused:{type:Boolean,value:!1,reflectToAttribute:!0},_itemTemplateInstance:Object,renderer:Function,_oldRenderer:Function}}static get observers(){return["_rendererOrItemChanged(renderer, index, item.*)","_updateLabel(label, _itemTemplateInstance)","_updateTemplateInstanceVariable(\"index\", index, _itemTemplateInstance)","_updateTemplateInstanceVariable(\"item\", item, _itemTemplateInstance)","_updateTemplateInstanceVariable(\"selected\", selected, _itemTemplateInstance)","_updateTemplateInstanceVariable(\"focused\", focused, _itemTemplateInstance)"]}connectedCallback(){super.connectedCallback();if(!this._itemTemplateInstance){const overlay=this.getRootNode().host.getRootNode().host,dropdown=overlay.__dataHost,comboBoxOverlay=dropdown.getRootNode().host;this._comboBox=comboBoxOverlay.getRootNode().host;this._comboBox._ensureTemplatized();if(this._comboBox._TemplateClass){this._itemTemplateInstance=new this._comboBox._TemplateClass({});this.$.content.textContent="";this.$.content.appendChild(this._itemTemplateInstance.root)}}}_render(){if(!this.renderer){return}const model={index:this.index,item:this.item};this.renderer(this.$.content,this._comboBox,model)}_rendererOrItemChanged(renderer,index,item){if(item===void 0||index===void 0){return}if(this._oldRenderer!==renderer){this.$.content.innerHTML=""}if(renderer){this._oldRenderer=renderer;this._render()}}_updateLabel(label,_itemTemplateInstance){if(_itemTemplateInstance===void 0&&this.$.content&&!this.renderer){this.$.content.textContent=label}}_updateTemplateInstanceVariable(variable,value,_itemTemplateInstance){if(variable===void 0||value===void 0||_itemTemplateInstance===void 0){return}_itemTemplateInstance[variable]=value}}customElements.define(ComboBoxItemElement.is,ComboBoxItemElement);const $_documentContainer$q=html`<dom-module id="lumo-combo-box-overlay" theme-for="vaadin-combo-box-overlay">
  <template>
    <style include="lumo-overlay lumo-menu-overlay-core">
      [part="content"] {
        padding: 0;
      }

      :host {
        /* TODO: using a legacy mixin (unsupported) */
        --iron-list-items-container: {
          border-width: var(--lumo-space-xs);
          border-style: solid;
          border-color: transparent;
        };
      }

      /* TODO: workaround ShadyCSS issue when using inside of the dom-if */
      :host([opened]) {
        --iron-list-items-container_-_border-width: var(--lumo-space-xs);
        --iron-list-items-container_-_border-style: solid;
        --iron-list-items-container_-_border-color: transparent;
      }

      /* Loading state */

      /* When items are empty, the sinner needs some room */
      :host(:not([closing])) [part~="content"] {
        min-height: calc(2 * var(--lumo-space-s) + var(--lumo-icon-size-s));
      }

      [part~="overlay"] {
        position: relative;
      }

      :host([loading]) [part~="loader"] {
        box-sizing: border-box;
        width: var(--lumo-icon-size-s);
        height: var(--lumo-icon-size-s);
        position: absolute;
        z-index: 1;
        left: var(--lumo-space-s);
        right: var(--lumo-space-s);
        top: var(--lumo-space-s);
        margin-left: auto;
        margin-inline-start: auto;
        margin-inline-end: 0;
        border: 2px solid transparent;
        border-color:
          var(--lumo-primary-color-50pct)
          var(--lumo-primary-color-50pct)
          var(--lumo-primary-color)
          var(--lumo-primary-color);
        border-radius: calc(0.5 * var(--lumo-icon-size-s));
        opacity: 0;
        animation:
          1s linear infinite lumo-combo-box-loader-rotate,
          .3s .1s lumo-combo-box-loader-fade-in both;
        pointer-events: none;
      }

      @keyframes lumo-combo-box-loader-fade-in {
        0% {
          opacity: 0;
        }

        100% {
          opacity: 1;
        }
      }

      @keyframes lumo-combo-box-loader-rotate {
        0% {
          transform: rotate(0deg);
        }

        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$q.content);const $_documentContainer$r=document.createElement("template");$_documentContainer$r.innerHTML=`<dom-module id="lumo-item" theme-for="vaadin-item">
  <template>
    <style>
      :host {
        display: flex;
        align-items: center;
        box-sizing: border-box;
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        line-height: var(--lumo-line-height-xs);
        padding: 0.5em 1em;
        min-height: var(--lumo-size-m);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        -webkit-tap-highlight-color: transparent;
      }

      /* Selectable items have a checkmark icon */
      :host([tabindex])::before {
        display: var(--_lumo-item-selected-icon-display, none);
        content: var(--lumo-icons-checkmark);
        font-family: lumo-icons;
        font-size: var(--lumo-icon-size-m);
        line-height: 1;
        font-weight: normal;
        width: 1em;
        height: 1em;
        margin: calc((1 - var(--lumo-line-height-xs)) * var(--lumo-font-size-m) / 2) 0;
        color: var(--lumo-primary-text-color);
        flex: none;
        opacity: 0;
        transition: transform 0.2s cubic-bezier(.12, .32, .54, 2), opacity 0.1s;
      }

      :host([selected])::before {
        opacity: 1;
      }

      :host([active]:not([selected]))::before {
        transform: scale(0.8);
        opacity: 0;
        transition-duration: 0s;
      }

      [part="content"] {
        flex: auto;
      }

      /* Disabled item */

      :host([disabled]) {
        color: var(--lumo-disabled-text-color);
        cursor: default;
        pointer-events: none;
      }

      /* Slotted icons */

      :host ::slotted(iron-icon) {
        width: var(--lumo-icon-size-m);
        height: var(--lumo-icon-size-m);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$r.content);const ItemMixin=superClass=>class VaadinItemMixin extends superClass{static get properties(){return{_hasVaadinItemMixin:{value:!0},disabled:{type:Boolean,value:!1,observer:"_disabledChanged",reflectToAttribute:!0},selected:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_selectedChanged"},_value:String}}constructor(){super();this.value}get value(){return this._value!==void 0?this._value:this.textContent.trim()}set value(value){this._value=value}ready(){super.ready();const attrValue=this.getAttribute("value");if(null!==attrValue){this.value=attrValue}this.addEventListener("focus",e=>this._setFocused(!0),!0);this.addEventListener("blur",e=>this._setFocused(!1),!0);this.addEventListener("mousedown",e=>{this._setActive(this._mousedown=!0);const mouseUpListener=()=>{this._setActive(this._mousedown=!1);document.removeEventListener("mouseup",mouseUpListener)};document.addEventListener("mouseup",mouseUpListener)});this.addEventListener("keydown",e=>this._onKeydown(e));this.addEventListener("keyup",e=>this._onKeyup(e))}disconnectedCallback(){super.disconnectedCallback();if(this.hasAttribute("active")){this._setFocused(!1)}}_selectedChanged(selected){this.setAttribute("aria-selected",selected)}_disabledChanged(disabled){if(disabled){this.selected=!1;this.setAttribute("aria-disabled","true");this.blur()}else{this.removeAttribute("aria-disabled")}}_setFocused(focused){if(focused){this.setAttribute("focused","");if(!this._mousedown){this.setAttribute("focus-ring","")}}else{this.removeAttribute("focused");this.removeAttribute("focus-ring");this._setActive(!1)}}_setActive(active){if(active){this.setAttribute("active","")}else{this.removeAttribute("active")}}_onKeydown(event){if(/^( |SpaceBar|Enter)$/.test(event.key)&&!event.defaultPrevented){event.preventDefault();this._setActive(!0)}}_onKeyup(event){if(this.hasAttribute("active")){this._setActive(!1);this.click()}}};class ItemElement extends ItemMixin(ThemableMixin(PolymerElement)){static get template(){return html`
    <style>
      :host {
        display: inline-block;
      }

      :host([hidden]) {
        display: none !important;
      }
    </style>
    <div part="content">
      <slot></slot>
    </div>
`}static get is(){return"vaadin-item"}static get version(){return"2.1.0"}}customElements.define(ItemElement.is,ItemElement);const $_documentContainer$s=html`<dom-module id="lumo-combo-box-item" theme-for="vaadin-combo-box-item">
  <template>
    <style include="lumo-item">
      /* TODO partly duplicated from vaadin-list-box styles. Should find a way to make it DRY */

      :host {
        cursor: default;
        -webkit-tap-highlight-color: var(--lumo-primary-color-10pct);
        padding-left: calc(var(--lumo-border-radius) / 4);
        padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius) / 4);
        transition: background-color 100ms;
        border-radius: var(--lumo-border-radius);
        overflow: hidden;
        --_lumo-item-selected-icon-display: block;
      }

      /* ShadyCSS workaround (show the selected item checkmark) */
      :host::before {
        display: block;
      }

      :host(:hover) {
        background-color: var(--lumo-primary-color-10pct);
      }

      :host([focused]:not([disabled])) {
        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      @media (pointer: coarse) {
        :host(:hover) {
          background-color: transparent;
        }

        :host([focused]:not([disabled])) {
          box-shadow: none;
        }
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$s.content);const ComboBoxPlaceholder=class ComboBoxPlaceholder{toString(){return""}},ComboBoxMixin=subclass=>class VaadinComboBoxMixinElement extends subclass{static get properties(){return{opened:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0,observer:"_openedChanged"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},renderer:Function,items:{type:Array,observer:"_itemsChanged"},allowCustomValue:{type:Boolean,value:!1},filteredItems:{type:Array},value:{type:String,observer:"_valueChanged",notify:!0,value:""},_lastCommittedValue:String,loading:{type:Boolean,value:!1,reflectToAttribute:!0},_focusedIndex:{type:Number,value:-1},filter:{type:String,value:"",notify:!0},selectedItem:{type:Object,notify:!0},itemLabelPath:{type:String,value:"label",observer:"_itemLabelPathChanged"},itemValuePath:{type:String,value:"value"},itemIdPath:String,name:{type:String},invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},_toggleElement:Object,_clearElement:Object,_inputElementValue:String,_closeOnBlurIsPrevented:Boolean,_previousDocumentPointerEvents:String,_itemTemplate:Object}}static get observers(){return["_filterChanged(filter, itemValuePath, itemLabelPath)","_itemsOrPathsChanged(items.*, itemValuePath, itemLabelPath)","_filteredItemsChanged(filteredItems.*, itemValuePath, itemLabelPath)","_templateOrRendererChanged(_itemTemplate, renderer)","_loadingChanged(loading)","_selectedItemChanged(selectedItem, itemLabelPath)","_toggleElementChanged(_toggleElement)"]}ready(){super.ready();this.addEventListener("focusout",e=>{if(this.$.overlay.$.dropdown&&e.relatedTarget===this.$.overlay.$.dropdown.$.overlay){e.composedPath()[0].focus();return}if(!this._closeOnBlurIsPrevented){this.close()}});this._lastCommittedValue=this.value;IronA11yAnnouncer.requestAvailability();this.$.overlay.addEventListener("selection-changed",this._overlaySelectedItemChanged.bind(this));this.addEventListener("vaadin-combo-box-dropdown-closed",this._onClosed.bind(this));this.addEventListener("vaadin-combo-box-dropdown-opened",this._onOpened.bind(this));this.addEventListener("keydown",this._onKeyDown.bind(this));this.addEventListener("click",this._onClick.bind(this));this.$.overlay.addEventListener("vaadin-overlay-touch-action",this._onOverlayTouchAction.bind(this));this.addEventListener("touchend",e=>{if(!this._clearElement||e.composedPath()[0]!==this._clearElement){return}e.preventDefault();this._clear()});this._observer=new FlattenedNodesObserver(this,info=>{this._setTemplateFromNodes(info.addedNodes)})}render(){this.$.overlay._selector.querySelectorAll("vaadin-combo-box-item").forEach(item=>item._render())}_setTemplateFromNodes(nodes){this._itemTemplate=nodes.filter(node=>node.localName&&"template"===node.localName)[0]||this._itemTemplate}_removeNewRendererOrTemplate(template,oldTemplate,renderer,oldRenderer){if(template!==oldTemplate){this._itemTemplate=void 0}else if(renderer!==oldRenderer){this.renderer=void 0}}_templateOrRendererChanged(template,renderer){if(template&&renderer){this._removeNewRendererOrTemplate(template,this._oldTemplate,renderer,this._oldRenderer);throw new Error("You should only use either a renderer or a template for combo box items")}this._oldTemplate=template;this._oldRenderer=renderer}open(){if(!this.disabled&&!this.readonly){this.opened=!0}}close(){this.opened=!1}_openedChanged(value,old){if(old===void 0){return}if(this.opened){this._openedWithFocusRing=this.hasAttribute("focus-ring")||this.focusElement&&this.focusElement.hasAttribute("focus-ring");if(!this.$.overlay.touchDevice){if(!this.focused){this.focus()}}}else{if(this._openedWithFocusRing&&this.hasAttribute("focused")){this.focusElement.setAttribute("focus-ring","")}this._onClosed()}}_onOverlayTouchAction(event){this._closeOnBlurIsPrevented=!0;this.inputElement.blur();this._closeOnBlurIsPrevented=!1}_onClick(e){this._closeOnBlurIsPrevented=!0;const path=e.composedPath();if(-1!==path.indexOf(this._clearElement)){this._clear();this.focus()}else if(-1!==path.indexOf(this.inputElement)){if(-1<path.indexOf(this._toggleElement)&&this.opened){this.close()}else{this.open()}}this._closeOnBlurIsPrevented=!1}_onKeyDown(e){if(this._isEventKey(e,"down")){this._closeOnBlurIsPrevented=!0;this._onArrowDown();this._closeOnBlurIsPrevented=!1;e.preventDefault()}else if(this._isEventKey(e,"up")){this._closeOnBlurIsPrevented=!0;this._onArrowUp();this._closeOnBlurIsPrevented=!1;e.preventDefault()}else if(this._isEventKey(e,"enter")){this._onEnter(e)}else if(this._isEventKey(e,"esc")){this._onEscape(e)}}_isEventKey(e,k){return IronA11yKeysBehavior.keyboardEventMatchesKeys(e,k)}_getItemLabel(item){return this.$.overlay.getItemLabel(item)}_getItemValue(item){let value=item&&this.itemValuePath?this.get(this.itemValuePath,item):void 0;if(value===void 0){value=item?item.toString():""}return value}_onArrowDown(){if(this.opened){if(this.$.overlay._items){this._focusedIndex=_Mathmin(this.$.overlay._items.length-1,this._focusedIndex+1);this._prefillFocusedItemLabel()}}else{this.open()}}_onArrowUp(){if(this.opened){if(-1<this._focusedIndex){this._focusedIndex=_Mathmax(0,this._focusedIndex-1)}else{if(this.$.overlay._items){this._focusedIndex=this.$.overlay._items.length-1}}this._prefillFocusedItemLabel()}else{this.open()}}_prefillFocusedItemLabel(){if(-1<this._focusedIndex){this._inputElementValue="";setTimeout(()=>{this._inputElementValue=this._getItemLabel(this.$.overlay._focusedItem);this._markAllSelectionRange()},1)}}_setSelectionRange(start,end){const input=this._nativeInput||this.inputElement;if(this.hasAttribute("focused")&&input&&input.setSelectionRange){try{input.setSelectionRange(start,end)}catch(ignore){}}}_markAllSelectionRange(){if(this._inputElementValue!==void 0){this._setSelectionRange(0,this._inputElementValue.length)}}_clearSelectionRange(){if(this._inputElementValue!==void 0){const pos=this._inputElementValue?this._inputElementValue.length:0;this._setSelectionRange(pos,pos)}}_onEnter(e){if(this.opened&&(this.allowCustomValue||""===this._inputElementValue||-1<this._focusedIndex)){this.close();e.preventDefault()}}_onEscape(e){if(this.opened){this._stopPropagation(e);if(-1<this._focusedIndex){this._focusedIndex=-1;this._revertInputValue()}else{this.cancel()}}}_toggleElementChanged(toggleElement){if(toggleElement){toggleElement.addEventListener("mousedown",e=>e.preventDefault())}}_clear(){this.selectedItem=null;if(this.allowCustomValue){this.value=""}if(!this.opened){this._detectAndDispatchChange()}}cancel(){this._revertInputValueToValue();this._lastCommittedValue=this.value;this.close()}_onOpened(){flush();this.$.overlay.ensureItemsRendered();this.$.overlay._selector.toggleScrollListener(!0);this.$.overlay.updateViewportBoundaries();microTask.run(()=>this.$.overlay.adjustScrollPosition());setTimeout(()=>this._resizeDropdown(),1);this._lastCommittedValue=this.value}_onClosed(){if(this.opened){this.close()}if(this.$.overlay._items&&-1<this._focusedIndex){const focusedItem=this.$.overlay._items[this._focusedIndex];if(this.selectedItem!==focusedItem){this.selectedItem=focusedItem}this._inputElementValue=this._getItemLabel(this.selectedItem)}else if(""===this._inputElementValue||this._inputElementValue===void 0){this.selectedItem=null;if(this.allowCustomValue){this.value=""}}else{if(this.allowCustomValue){const e=new CustomEvent("custom-value-set",{detail:this._inputElementValue,composed:!0,cancelable:!0,bubbles:!0});this.dispatchEvent(e);if(!e.defaultPrevented){const customValue=this._inputElementValue;this._selectItemForValue(customValue);this.value=customValue}}else{this._inputElementValue=this.selectedItem?this._getItemLabel(this.selectedItem):""}}this._detectAndDispatchChange();this._clearSelectionRange();if(!this.dataProvider){this.filter=""}}_inputValueChanged(e){if(-1!==e.composedPath().indexOf(this.inputElement)){this._inputElementValue=this.inputElement.value;this._filterFromInput()}}_filterFromInput(e){if(!this.opened){this.open()}if(this.filter===this._inputElementValue){this._filterChanged(this.filter,this.itemValuePath,this.itemLabelPath)}else{this.filter=this._inputElementValue}}_itemLabelPathChanged(itemLabelPath,oldItemLabelPath){if("string"!==typeof itemLabelPath){console.error("You should set itemLabelPath to a valid string")}}_filterChanged(filter,itemValuePath,itemLabelPath){if(filter===void 0){return}if(this.items){this.filteredItems=this._filterItems(this.items,filter)}else{this._filteredItemsChanged({path:"filteredItems",value:this.filteredItems},itemValuePath,itemLabelPath)}}_loadingChanged(loading){if(loading){this._focusedIndex=-1}}_revertInputValue(){if(""!==this.filter){this._inputElementValue=this.filter}else{this._revertInputValueToValue()}this._clearSelectionRange()}_revertInputValueToValue(){if(this.allowCustomValue&&!this.selectedItem){this._inputElementValue=this.value}else{this._inputElementValue=this._getItemLabel(this.selectedItem)}}_resizeDropdown(){this.$.overlay.$.dropdown.notifyResize()}_updateHasValue(hasValue){if(hasValue){this.setAttribute("has-value","")}else{this.removeAttribute("has-value")}}_selectedItemChanged(selectedItem,itemLabelPath){if(null===selectedItem||selectedItem===void 0){if(this.filteredItems){if(!this.allowCustomValue){this.value=""}this._updateHasValue(""!==this.value);this._inputElementValue=this.value}}else{const value=this._getItemValue(selectedItem);if(this.value!==value){this.value=value}this._updateHasValue(!0);this._inputElementValue=this._getItemLabel(selectedItem);if(this.inputElement){this.inputElement.value=this._inputElementValue}}this.$.overlay._selectedItem=selectedItem;if(this.filteredItems&&this.$.overlay._items){this._focusedIndex=this.filteredItems.indexOf(selectedItem)}}_valueChanged(value,oldVal){if(""===value&&oldVal===void 0){return}if(this._isValidValue(value)){let item;if(this._getItemValue(this.selectedItem)!==value){this._selectItemForValue(value)}else{item=this.selectedItem}if(!item&&this.allowCustomValue){this._inputElementValue=value}this._updateHasValue(""!==this.value)}else{this.selectedItem=null}this._lastCommittedValue=void 0}_detectAndDispatchChange(){if(this.value!==this._lastCommittedValue){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this._lastCommittedValue=this.value}}_itemsChanged(items,oldItems){this._ensureItemsOrDataProvider(()=>{this.items=oldItems})}_itemsOrPathsChanged(e,itemValuePath,itemLabelPath){if(e.value===void 0){return}if("items"===e.path||"items.splices"===e.path){this.filteredItems=this.items?this.items.slice(0):this.items;const valueIndex=this._indexOfValue(this.value,this.items);this._focusedIndex=valueIndex;const item=-1<valueIndex&&this.items[valueIndex];if(item){this.selectedItem=item}}}_filteredItemsChanged(e,itemValuePath,itemLabelPath){if(e.value===void 0){return}if("filteredItems"===e.path||"filteredItems.splices"===e.path){this._setOverlayItems(this.filteredItems);this._focusedIndex=this.opened?this.$.overlay.indexOfLabel(this.filter):this._indexOfValue(this.value,this.filteredItems);if(this.opened){this._repositionOverlay()}}}_filterItems(arr,filter){if(!arr){return arr}return arr.filter(item=>{filter=filter?filter.toString().toLowerCase():"";return-1<this._getItemLabel(item).toString().toLowerCase().indexOf(filter)})}_selectItemForValue(value){const valueIndex=this._indexOfValue(value,this.filteredItems),previouslySelectedItem=this.selectedItem;this.selectedItem=0<=valueIndex?this.filteredItems[valueIndex]:this.dataProvider&&this.selectedItem===void 0?void 0:null;if(null===this.selectedItem&&null===previouslySelectedItem){this._selectedItemChanged(this.selectedItem)}}_setOverlayItems(items){this.$.overlay.set("_items",items);if(this.opened){this._resizeDropdown()}}_repositionOverlay(){setTimeout(()=>{this._resizeDropdown();this.$.overlay.updateViewportBoundaries();this.$.overlay.ensureItemsRendered();this.$.overlay._selector.notifyResize();flush()},1)}_indexOfValue(value,items){if(items&&this._isValidValue(value)){for(let i=0;i<items.length;i++){if(this._getItemValue(items[i])===value){return i}}}return-1}_isValidValue(value){return value!==void 0&&null!==value}_overlaySelectedItemChanged(e){e.stopPropagation();if(e.detail.item instanceof ComboBoxPlaceholder){return}if(this.selectedItem!==e.detail.item){this.selectedItem=e.detail.item}if(this.opened){this.close()}}validate(){return!(this.invalid=!this.checkValidity())}checkValidity(){if(this.inputElement.validate){return this.inputElement.validate()}}get _instanceProps(){return{item:!0,index:!0,selected:!0,focused:!0}}_ensureTemplatized(){if(!this._TemplateClass){const tpl=this._itemTemplate||this._getRootTemplate();if(tpl){this._TemplateClass=templatize(tpl,this,{instanceProps:this._instanceProps,forwardHostProp:function(prop,value){const items=this.$.overlay._selector.querySelectorAll("vaadin-combo-box-item");Array.prototype.forEach.call(items,item=>{if(item._itemTemplateInstance){item._itemTemplateInstance.set(prop,value);item._itemTemplateInstance.notifyPath(prop,value,!0)}})}})}}}_getRootTemplate(){return Array.prototype.filter.call(this.children,elem=>"TEMPLATE"===elem.tagName)[0]}_preventInputBlur(){if(this._toggleElement){this._toggleElement.addEventListener("click",this._preventDefault)}if(this._clearElement){this._clearElement.addEventListener("click",this._preventDefault)}}_restoreInputBlur(){if(this._toggleElement){this._toggleElement.removeEventListener("click",this._preventDefault)}if(this._clearElement){this._clearElement.removeEventListener("click",this._preventDefault)}}_preventDefault(e){e.preventDefault()}_stopPropagation(e){e.stopPropagation()}},ComboBoxDataProviderMixin=superClass=>class DataProviderMixin extends superClass{static get properties(){return{pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},size:{type:Number,observer:"_sizeChanged"},dataProvider:{type:Object,observer:"_dataProviderChanged"},_pendingRequests:{value:()=>{return{}}},__placeHolder:{value:new ComboBoxPlaceholder}}}static get observers(){return["_dataProviderFilterChanged(filter, dataProvider)","_dataProviderClearFilter(dataProvider, opened, value)","_warnDataProviderValue(dataProvider, value)","_ensureFirstPage(opened)"]}_dataProviderClearFilter(dataProvider,opened,value){if(dataProvider&&this.filter){this.size=void 0;this._pendingRequests={};this.filter="";this.clearCache()}}ready(){super.ready();this.clearCache();this.$.overlay.addEventListener("index-requested",e=>{const index=e.detail.index;if(index!==void 0){const page=this._getPageForIndex(index);if(this._shouldLoadPage(page)){this._loadPage(page)}}})}_dataProviderFilterChanged(){if(this.dataProvider&&this.opened){this.size=void 0;this._pendingRequests={};this.clearCache()}}_ensureFirstPage(opened){if(opened&&this._shouldLoadPage(0)){this._loadPage(0)}}_shouldLoadPage(page){if(!this.filteredItems||this._forceNextRequest){this._forceNextRequest=!1;return!0}const loadedItem=this.filteredItems[page*this.pageSize];if(loadedItem!==void 0){return loadedItem instanceof ComboBoxPlaceholder}else{return this.size===void 0}}_loadPage(page){if(!this._pendingRequests[page]&&this.dataProvider){this.loading=!0;const params={page,pageSize:this.pageSize,filter:this.filter},callback=(items,size)=>{if(this._pendingRequests[page]===callback){if(!this.filteredItems){const filteredItems=[];filteredItems.splice(params.page*params.pageSize,items.length,...items);this.filteredItems=filteredItems}else{this.splice("filteredItems",params.page*params.pageSize,items.length,...items)}if(this._isValidValue(this.value)&&this._getItemValue(this.selectedItem)!==this.value){this._selectItemForValue(this.value)}this.size=size;delete this._pendingRequests[page];if(0===Object.keys(this._pendingRequests).length){this.loading=!1}}};this._pendingRequests[page]=callback;this.dataProvider(params,callback)}}_getPageForIndex(index){return _Mathfloor(index/this.pageSize)}clearCache(){if(!this.dataProvider){return}this._pendingRequests={};const filteredItems=[];for(let i=0;i<(this.size||0);i++){filteredItems.push(this.__placeHolder)}this.filteredItems=filteredItems;if(this.opened){this._loadPage(0)}else{this._forceNextRequest=!0}}_sizeChanged(size=0){const filteredItems=(this.filteredItems||[]).slice(0,size);for(let i=0;i<size;i++){filteredItems[i]=filteredItems[i]!==void 0?filteredItems[i]:this.__placeHolder}this.filteredItems=filteredItems}_pageSizeChanged(pageSize,oldPageSize){if(_Mathfloor(pageSize)!==pageSize||0===pageSize){this.pageSize=oldPageSize;throw new Error("`pageSize` value must be an integer > 0")}this.clearCache()}_dataProviderChanged(dataProvider,oldDataProvider){this._ensureItemsOrDataProvider(()=>{this.dataProvider=oldDataProvider})}_ensureItemsOrDataProvider(restoreOldValueCallback){if(this.items!==void 0&&this.dataProvider!==void 0){restoreOldValueCallback();throw new Error("Using `items` and `dataProvider` together is not supported")}}_warnDataProviderValue(dataProvider,value){if(dataProvider&&""!==value&&(this.selectedItem===void 0||null===this.selectedItem)){const valueIndex=this._indexOfValue(value,this.filteredItems);if(0>valueIndex||!this._getItemLabel(this.filteredItems[valueIndex])){console.warn("Warning: unable to determine the label for the provided `value`. "+"Nothing to display in the text field. This usually happens when "+"setting an initial `value` before any items are returned from "+"the `dataProvider` callback. Consider setting `selectedItem` "+"instead of `value`")}}}},IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(scrollTarget,isAttached){var eventTarget;if(this._oldScrollTarget){this._toggleScrollListener(!1,this._oldScrollTarget);this._oldScrollTarget=null}if(!isAttached){return}if("document"===scrollTarget){this.scrollTarget=this._doc}else if("string"===typeof scrollTarget){var domHost=this.domHost;this.scrollTarget=domHost&&domHost.$?domHost.$[scrollTarget]:dom(this.ownerDocument).querySelector("#"+scrollTarget)}else if(this._isValidScrollTarget()){this._oldScrollTarget=scrollTarget;this._toggleScrollListener(this._shouldHaveListener,scrollTarget)}},_scrollHandler:function scrollHandler(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop}return 0},get _scrollLeft(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft}return 0},set _scrollTop(top){if(this.scrollTarget===this._doc){window.scrollTo(window.pageXOffset,top)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollTop=top}},set _scrollLeft(left){if(this.scrollTarget===this._doc){window.scrollTo(left,window.pageYOffset)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollLeft=left}},scroll:function(leftOrOptions,top){var left;if("object"===typeof leftOrOptions){left=leftOrOptions.left;top=leftOrOptions.top}else{left=leftOrOptions}left=left||0;top=top||0;if(this.scrollTarget===this._doc){window.scrollTo(left,top)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollLeft=left;this.scrollTarget.scrollTop=top}},get _scrollTargetWidth(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth}return 0},get _scrollTargetHeight(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight}return 0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(yes,scrollTarget){var eventTarget=scrollTarget===this._doc?window:scrollTarget;if(yes){if(!this._boundScrollHandler){this._boundScrollHandler=this._scrollHandler.bind(this);eventTarget.addEventListener("scroll",this._boundScrollHandler)}}else{if(this._boundScrollHandler){eventTarget.removeEventListener("scroll",this._boundScrollHandler);this._boundScrollHandler=null}}},toggleScrollListener:function(yes){this._shouldHaveListener=yes;this._toggleScrollListener(yes,this.scrollTarget)}};var IOS=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),IOS_TOUCH_SCROLLING=IOS&&8<=IOS[1],DEFAULT_PHYSICAL_COUNT=3,HIDDEN_Y="-10000px",ITEM_WIDTH=0,ITEM_HEIGHT=1,SECRET_TABINDEX=-100,IS_V2=null!=flush,ANIMATION_FRAME=IS_V2?animationFrame:0,IDLE_TIME=IS_V2?idlePeriod:1,MICRO_TASK=IS_V2?microTask:2;if(!OptionalMutableDataBehavior){Polymer.OptionalMutableDataBehavior={}}Polymer$1({_template:html`
    <style>
      :host {
        display: block;
      }

      @media only screen and (-webkit-max-device-pixel-ratio: 1) {
        :host {
          will-change: transform;
        }
      }

      #items {
        @apply --iron-list-items-container;
        position: relative;
      }

      :host(:not([grid])) #items > ::slotted(*) {
        width: 100%;
      }

      #items > ::slotted(*) {
        box-sizing: border-box;
        margin: 0;
        position: absolute;
        top: 0;
        will-change: transform;
      }
    </style>

    <array-selector id="selector" items="{{items}}" selected="{{selectedItems}}" selected-item="{{selectedItem}}"></array-selector>

    <div id="items">
      <slot></slot>
    </div>
`,is:"iron-list",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_gridChanged"},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget, scrollOffset)"],behaviors:[Templatizer,IronResizableBehavior,IronScrollTargetBehavior,OptionalMutableDataBehavior],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_collection:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){var size=this.grid?this._physicalRows*this._rowHeight:this._physicalSize;return size-this._viewportHeight},get _itemsParent(){return dom(dom(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var virtualCount=this._convertIndexToCompleteRow(this._virtualCount);return _Mathmax(0,virtualCount-this._physicalCount)},set _virtualStart(val){val=this._clamp(val,0,this._maxVirtualStart);if(this.grid){val=val-val%this._itemsPerRow}this._virtualStartVal=val},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(val){val=val%this._physicalCount;if(0>val){val=this._physicalCount+val}if(this.grid){val=val-val%this._itemsPerRow}this._physicalStartVal=val},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(val){this._physicalCountVal=val},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return!!(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var idx=this._firstVisibleIndexVal;if(null==idx){var physicalOffset=this._physicalTop+this._scrollOffset;idx=this._iterateItems(function(pidx,vidx){physicalOffset+=this._getPhysicalSizeIncrement(pidx);if(physicalOffset>this._scrollPosition){return this.grid?vidx-vidx%this._itemsPerRow:vidx}if(this.grid&&this._virtualCount-1===vidx){return vidx-vidx%this._itemsPerRow}})||0;this._firstVisibleIndexVal=idx}return idx},get lastVisibleIndex(){var idx=this._lastVisibleIndexVal;if(null==idx){if(this.grid){idx=_Mathmin(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1)}else{var physicalOffset=this._physicalTop+this._scrollOffset;this._iterateItems(function(pidx,vidx){if(physicalOffset<this._scrollBottom){idx=vidx}physicalOffset+=this._getPhysicalSizeIncrement(pidx)})}this._lastVisibleIndexVal=idx}return idx},get _defaultScrollTarget(){return this},get _virtualRowCount(){return _Mathceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return _Mathceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return _Mathceil(this._physicalCount/this._itemsPerRow)},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this._debounce("_render",this._render,ANIMATION_FRAME);this.listen(this,"iron-resize","_resizeHandler");this.listen(this,"keydown","_keydownHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler");this.unlisten(this,"keydown","_keydownHandler")},_setOverflow:function(scrollTarget){this.style.webkitOverflowScrolling=scrollTarget===this?"touch":"";this.style.overflowY=scrollTarget===this?"auto":"";this._lastVisibleIndexVal=null;this._firstVisibleIndexVal=null;this._debounce("_render",this._render,ANIMATION_FRAME)},updateViewportBoundaries:function(){var styles=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(styles["padding-top"],10);this._isRTL=!!("rtl"===styles.direction);this._viewportWidth=this.$.items.offsetWidth;this._viewportHeight=this._scrollTargetHeight;this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var scrollTop=_Mathmax(0,_Mathmin(this._maxScrollTop,this._scrollTop)),delta=scrollTop-this._scrollPosition,isScrollingDown=0<=delta;this._scrollPosition=scrollTop;this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;if(_Mathabs(delta)>this._physicalSize&&0<this._physicalSize){delta=delta-this._scrollOffset;var idxAdjustment=_Mathround(delta/this._physicalAverage)*this._itemsPerRow;this._virtualStart=this._virtualStart+idxAdjustment;this._physicalStart=this._physicalStart+idxAdjustment;this._physicalTop=_Mathfloor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;this._update()}else if(0<this._physicalCount){var reusables=this._getReusables(isScrollingDown);if(isScrollingDown){this._physicalTop=reusables.physicalTop;this._virtualStart=this._virtualStart+reusables.indexes.length;this._physicalStart=this._physicalStart+reusables.indexes.length}else{this._virtualStart=this._virtualStart-reusables.indexes.length;this._physicalStart=this._physicalStart-reusables.indexes.length}this._update(reusables.indexes,isScrollingDown?null:reusables.indexes);this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),MICRO_TASK)}},_getReusables:function(fromTop){var ith,lastIth,offsetContent,physicalItemHeight,idxs=[],protectedOffsetContent=this._hiddenContentSize*this._ratio,virtualStart=this._virtualStart,virtualEnd=this._virtualEnd,physicalCount=this._physicalCount,top=this._physicalTop+this._scrollOffset,bottom=this._physicalBottom+this._scrollOffset,scrollTop=this._scrollTop,scrollBottom=this._scrollBottom;if(fromTop){ith=this._physicalStart;lastIth=this._physicalEnd;offsetContent=scrollTop-top}else{ith=this._physicalEnd;lastIth=this._physicalStart;offsetContent=bottom-scrollBottom}while(!0){physicalItemHeight=this._getPhysicalSizeIncrement(ith);offsetContent=offsetContent-physicalItemHeight;if(idxs.length>=physicalCount||offsetContent<=protectedOffsetContent){break}if(fromTop){if(virtualEnd+idxs.length+1>=this._virtualCount){break}if(top+physicalItemHeight>=scrollTop-this._scrollOffset){break}idxs.push(ith);top=top+physicalItemHeight;ith=(ith+1)%physicalCount}else{if(0>=virtualStart-idxs.length){break}if(top+this._physicalSize-physicalItemHeight<=scrollBottom){break}idxs.push(ith);top=top-physicalItemHeight;ith=0===ith?physicalCount-1:ith-1}}return{indexes:idxs,physicalTop:top-this._scrollOffset}},_update:function(itemSet,movingUp){if(itemSet&&0===itemSet.length||0===this._physicalCount){return}this._manageFocus();this._assignModels(itemSet);this._updateMetrics(itemSet);if(movingUp){while(movingUp.length){var idx=movingUp.pop();this._physicalTop-=this._getPhysicalSizeIncrement(idx)}}this._positionItems();this._updateScrollerSize()},_createPool:function(size){this._ensureTemplatized();var i,inst,physicalItems=Array(size);for(i=0;i<size;i++){inst=this.stamp(null);physicalItems[i]=inst.root.querySelector("*");this._itemsParent.appendChild(inst.root)}return physicalItems},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(count){var nextPhysicalCount=this._clamp(this._physicalCount+count,DEFAULT_PHYSICAL_COUNT,this._virtualCount-this._virtualStart);nextPhysicalCount=this._convertIndexToCompleteRow(nextPhysicalCount);if(this.grid){var correction=nextPhysicalCount%this._itemsPerRow;if(correction&&nextPhysicalCount-correction<=this._physicalCount){nextPhysicalCount+=this._itemsPerRow}nextPhysicalCount-=correction}var delta=nextPhysicalCount-this._physicalCount,nextIncrease=_Mathround(.5*this._physicalCount);if(0>delta){return}if(0<delta){var ts=window.performance.now();[].push.apply(this._physicalItems,this._createPool(delta));for(var i=0;i<delta;i++){this._physicalSizes.push(0)}this._physicalCount=this._physicalCount+delta;if(this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd){this._physicalStart=this._physicalStart+delta}this._update();this._templateCost=(window.performance.now()-ts)/delta;nextIncrease=_Mathround(.5*this._physicalCount)}if(this._virtualEnd>=this._virtualCount-1||0===nextIncrease){}else if(!this._isClientFull()){this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,nextIncrease),MICRO_TASK)}else if(this._physicalSize<this._optPhysicalSize){this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(_Mathround(50/this._templateCost),1,nextIncrease)),IDLE_TIME)}},_render:function(){if(!this.isAttached||!this._isVisible){return}if(0!==this._physicalCount){var reusables=this._getReusables(!0);this._physicalTop=reusables.physicalTop;this._virtualStart=this._virtualStart+reusables.indexes.length;this._physicalStart=this._physicalStart+reusables.indexes.length;this._update(reusables.indexes);this._update();this._increasePoolIfNeeded(0)}else if(0<this._virtualCount){this.updateViewportBoundaries();this._increasePoolIfNeeded(DEFAULT_PHYSICAL_COUNT)}},_ensureTemplatized:function(){if(this.ctor){return}this._userTemplate=this.queryEffectiveChildren("template");if(!this._userTemplate){console.warn("iron-list requires a template to be provided in light-dom")}var instanceProps={__key__:!0};instanceProps[this.as]=!0;instanceProps[this.indexAs]=!0;instanceProps[this.selectedAs]=!0;instanceProps.tabIndex=!0;this._instanceProps=instanceProps;this.templatize(this._userTemplate,this.mutableData)},_gridChanged:function(newGrid,oldGrid){if("undefined"===typeof oldGrid)return;this.notifyResize();flush?flush():flush();newGrid&&this._updateGridMetrics()},_itemsChanged:function(change){if("items"===change.path){this._virtualStart=0;this._physicalTop=0;this._virtualCount=this.items?this.items.length:0;this._collection=this.items&&void 0?(void 0).get(this.items):null;this._physicalIndexForKey={};this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;this._physicalCount=this._physicalCount||0;this._physicalItems=this._physicalItems||[];this._physicalSizes=this._physicalSizes||[];this._physicalStart=0;if(this._scrollTop>this._scrollOffset){this._resetScrollPosition(0)}this._removeFocusedItem();this._debounce("_render",this._render,ANIMATION_FRAME)}else if("items.splices"===change.path){this._adjustVirtualIndex(change.value.indexSplices);this._virtualCount=this.items?this.items.length:0;var itemAddedOrRemoved=change.value.indexSplices.some(function(splice){return 0<splice.addedCount||0<splice.removed.length});if(itemAddedOrRemoved){var activeElement=this._getActiveElement();if(this.contains(activeElement)){activeElement.blur()}}var affectedIndexRendered=change.value.indexSplices.some(function(splice){return splice.index+splice.addedCount>=this._virtualStart&&splice.index<=this._virtualEnd},this);if(!this._isClientFull()||affectedIndexRendered){this._debounce("_render",this._render,ANIMATION_FRAME)}}else if("items.length"!==change.path){this._forwardItemPath(change.path,change.value)}},_forwardItemPath:function(path,value){path=path.slice(6);var dot=path.indexOf(".");if(-1===dot){dot=path.length}var isIndexRendered,pidx,inst,offscreenInstance=this.modelForElement(this._offscreenFocusedItem);if(IS_V2){var vidx=parseInt(path.substring(0,dot),10);isIndexRendered=this._isIndexRendered(vidx);if(isIndexRendered){pidx=this._getPhysicalIndex(vidx);inst=this.modelForElement(this._physicalItems[pidx])}else if(offscreenInstance){inst=offscreenInstance}if(!inst||inst[this.indexAs]!==vidx){return}}else{var key=path.substring(0,dot);if(offscreenInstance&&offscreenInstance.__key__===key){inst=offscreenInstance}else{pidx=this._physicalIndexForKey[key];inst=this.modelForElement(this._physicalItems[pidx]);if(!inst||inst.__key__!==key){return}}}path=path.substring(dot+1);path=this.as+(path?"."+path:"");IS_V2?inst._setPendingPropertyOrPath(path,value,!1,!0):inst.notifyPath(path,value,!0);inst._flushProperties&&inst._flushProperties(!0);if(isIndexRendered){this._updateMetrics([pidx]);this._positionItems();this._updateScrollerSize()}},_adjustVirtualIndex:function(splices){splices.forEach(function(splice){splice.removed.forEach(this._removeItem,this);if(splice.index<this._virtualStart){var delta=_Mathmax(splice.addedCount-splice.removed.length,splice.index-this._virtualStart);this._virtualStart=this._virtualStart+delta;if(0<=this._focusedVirtualIndex){this._focusedVirtualIndex=this._focusedVirtualIndex+delta}}},this)},_removeItem:function(item){this.$.selector.deselect(item);if(this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===item){this._removeFocusedItem()}},_iterateItems:function(fn,itemSet){var pidx,vidx,rtn,i;if(2===arguments.length&&itemSet){for(i=0;i<itemSet.length;i++){pidx=itemSet[i];vidx=this._computeVidx(pidx);if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}}else{pidx=this._physicalStart;vidx=this._virtualStart;for(;pidx<this._physicalCount;pidx++,vidx++){if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}for(pidx=0;pidx<this._physicalStart;pidx++,vidx++){if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}}},_computeVidx:function(pidx){if(pidx>=this._physicalStart){return this._virtualStart+(pidx-this._physicalStart)}return this._virtualStart+(this._physicalCount-this._physicalStart)+pidx},_assignModels:function(itemSet){this._iterateItems(function(pidx,vidx){var el=this._physicalItems[pidx],item=this.items&&this.items[vidx];if(null!=item){var inst=this.modelForElement(el);inst.__key__=this._collection?this._collection.getKey(item):null;this._forwardProperty(inst,this.as,item);this._forwardProperty(inst,this.selectedAs,this.$.selector.isSelected(item));this._forwardProperty(inst,this.indexAs,vidx);this._forwardProperty(inst,"tabIndex",this._focusedVirtualIndex===vidx?0:-1);this._physicalIndexForKey[inst.__key__]=pidx;inst._flushProperties&&inst._flushProperties(!0);el.removeAttribute("hidden")}else{el.setAttribute("hidden","")}},itemSet)},_updateMetrics:function(itemSet){flush?flush():flush();var newPhysicalSize=0,oldPhysicalSize=0,prevAvgCount=this._physicalAverageCount,prevPhysicalAvg=this._physicalAverage;this._iterateItems(function(pidx,vidx){oldPhysicalSize+=this._physicalSizes[pidx];this._physicalSizes[pidx]=this._physicalItems[pidx].offsetHeight;newPhysicalSize+=this._physicalSizes[pidx];this._physicalAverageCount+=this._physicalSizes[pidx]?1:0},itemSet);if(this.grid){this._updateGridMetrics();this._physicalSize=_Mathceil(this._physicalCount/this._itemsPerRow)*this._rowHeight}else{oldPhysicalSize=1===this._itemsPerRow?oldPhysicalSize:_Mathceil(this._physicalCount/this._itemsPerRow)*this._rowHeight;this._physicalSize=this._physicalSize+newPhysicalSize-oldPhysicalSize;this._itemsPerRow=1}if(this._physicalAverageCount!==prevAvgCount){this._physicalAverage=_Mathround((prevPhysicalAvg*prevAvgCount+newPhysicalSize)/this._physicalAverageCount)}},_updateGridMetrics:function(){this._itemWidth=0<this._physicalCount?this._physicalItems[0].getBoundingClientRect().width:200;this._rowHeight=0<this._physicalCount?this._physicalItems[0].offsetHeight:200;this._itemsPerRow=this._itemWidth?_Mathfloor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var y=this._physicalTop;if(this.grid){var totalItemWidth=this._itemsPerRow*this._itemWidth,rowOffset=(this._viewportWidth-totalItemWidth)/2;this._iterateItems(function(pidx,vidx){var modulus=vidx%this._itemsPerRow,x=_Mathfloor(modulus*this._itemWidth+rowOffset);if(this._isRTL){x=-1*x}this.translate3d(x+"px",y+"px",0,this._physicalItems[pidx]);if(this._shouldRenderNextRow(vidx)){y+=this._rowHeight}})}else{this._iterateItems(function(pidx,vidx){this.translate3d(0,y+"px",0,this._physicalItems[pidx]);y+=this._physicalSizes[pidx]})}},_getPhysicalSizeIncrement:function(pidx){if(!this.grid){return this._physicalSizes[pidx]}if(this._computeVidx(pidx)%this._itemsPerRow!==this._itemsPerRow-1){return 0}return this._rowHeight},_shouldRenderNextRow:function(vidx){return vidx%this._itemsPerRow===this._itemsPerRow-1},_adjustScrollPosition:function(){var deltaHeight=0===this._virtualStart?this._physicalTop:_Mathmin(this._scrollPosition+this._physicalTop,0);if(0!==deltaHeight){this._physicalTop=this._physicalTop-deltaHeight;var scrollTop=this._scrollTop;if(!IOS_TOUCH_SCROLLING&&0<scrollTop){this._resetScrollPosition(scrollTop-deltaHeight)}}},_resetScrollPosition:function(pos){if(this.scrollTarget&&0<=pos){this._scrollTop=pos;this._scrollPosition=this._scrollTop}},_updateScrollerSize:function(forceUpdate){if(this.grid){this._estScrollHeight=this._virtualRowCount*this._rowHeight}else{this._estScrollHeight=this._physicalBottom+_Mathmax(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage}forceUpdate=forceUpdate||0===this._scrollHeight;forceUpdate=forceUpdate||this._scrollPosition>=this._estScrollHeight-this._physicalSize;forceUpdate=forceUpdate||this.grid&&this.$.items.style.height<this._estScrollHeight;if(forceUpdate||_Mathabs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight){this.$.items.style.height=this._estScrollHeight+"px";this._scrollHeight=this._estScrollHeight}},scrollToItem:function(item){return this.scrollToIndex(this.items.indexOf(item))},scrollToIndex:function(idx){if("number"!==typeof idx||0>idx||idx>this.items.length-1){return}flush?flush():flush();if(0===this._physicalCount){return}idx=this._clamp(idx,0,this._virtualCount-1);if(!this._isIndexRendered(idx)||idx>=this._maxVirtualStart){this._virtualStart=this.grid?idx-2*this._itemsPerRow:idx-1}this._manageFocus();this._assignModels();this._updateMetrics();this._physicalTop=_Mathfloor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;var currentTopItem=this._physicalStart,currentVirtualItem=this._virtualStart,targetOffsetTop=0,hiddenContentSize=this._hiddenContentSize;while(currentVirtualItem<idx&&targetOffsetTop<=hiddenContentSize){targetOffsetTop=targetOffsetTop+this._getPhysicalSizeIncrement(currentTopItem);currentTopItem=(currentTopItem+1)%this._physicalCount;currentVirtualItem++}this._updateScrollerSize(!0);this._positionItems();this._resetScrollPosition(this._physicalTop+this._scrollOffset+targetOffsetTop);this._increasePoolIfNeeded(0);this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null},_resetAverage:function(){this._physicalAverage=0;this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",function(){this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;var delta=_Mathabs(this._viewportHeight-this._scrollTargetHeight);this.updateViewportBoundaries();if(this._isVisible){this.toggleScrollListener(!0);this._resetAverage();this._render()}else{this.toggleScrollListener(!1)}},ANIMATION_FRAME)},selectItem:function(item){return this.selectIndex(this.items.indexOf(item))},selectIndex:function(index){if(0>index||index>=this._virtualCount){return}if(!this.multiSelection&&this.selectedItem){this.clearSelection()}if(this._isIndexRendered(index)){var model=this.modelForElement(this._physicalItems[this._getPhysicalIndex(index)]);if(model){model[this.selectedAs]=!0}this.updateSizeForIndex(index)}if(this.$.selector.selectIndex){this.$.selector.selectIndex(index)}else{this.$.selector.select(this.items[index])}},deselectItem:function(item){return this.deselectIndex(this.items.indexOf(item))},deselectIndex:function(index){if(0>index||index>=this._virtualCount){return}if(this._isIndexRendered(index)){var model=this.modelForElement(this._physicalItems[this._getPhysicalIndex(index)]);model[this.selectedAs]=!1;this.updateSizeForIndex(index)}if(this.$.selector.deselectIndex){this.$.selector.deselectIndex(index)}else{this.$.selector.deselect(this.items[index])}},toggleSelectionForItem:function(item){return this.toggleSelectionForIndex(this.items.indexOf(item))},toggleSelectionForIndex:function(index){var isSelected=this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(index):this.$.selector.isSelected(this.items[index]);isSelected?this.deselectIndex(index):this.selectIndex(index)},clearSelection:function(){this._iterateItems(function(pidx,vidx){this.modelForElement(this._physicalItems[pidx])[this.selectedAs]=!1});this.$.selector.clearSelection()},_selectionEnabledChanged:function(selectionEnabled){var handler=selectionEnabled?this.listen:this.unlisten;handler.call(this,this,"tap","_selectionHandler")},_selectionHandler:function(e){var model=this.modelForElement(e.target);if(!model){return}var modelTabIndex,activeElTabIndex,target=dom(e).path[0],activeEl=this._getActiveElement(),physicalItem=this._physicalItems[this._getPhysicalIndex(model[this.indexAs])];if("input"===target.localName||"button"===target.localName||"select"===target.localName){return}modelTabIndex=model.tabIndex;model.tabIndex=SECRET_TABINDEX;activeElTabIndex=activeEl?activeEl.tabIndex:-1;model.tabIndex=modelTabIndex;if(activeEl&&physicalItem!==activeEl&&physicalItem.contains(activeEl)&&activeElTabIndex!==SECRET_TABINDEX){return}this.toggleSelectionForItem(model[this.as])},_multiSelectionChanged:function(multiSelection){this.clearSelection();this.$.selector.multi=multiSelection},updateSizeForItem:function(item){return this.updateSizeForIndex(this.items.indexOf(item))},updateSizeForIndex:function(index){if(!this._isIndexRendered(index)){return null}this._updateMetrics([this._getPhysicalIndex(index)]);this._positionItems();return null},_manageFocus:function(){var fidx=this._focusedVirtualIndex;if(0<=fidx&&fidx<this._virtualCount){if(this._isIndexRendered(fidx)){this._restoreFocusedItem()}else{this._createFocusBackfillItem()}}else if(0<this._virtualCount&&0<this._physicalCount){this._focusedPhysicalIndex=this._physicalStart;this._focusedVirtualIndex=this._virtualStart;this._focusedItem=this._physicalItems[this._physicalStart]}},_convertIndexToCompleteRow:function(idx){this._itemsPerRow=this._itemsPerRow||1;return this.grid?_Mathceil(idx/this._itemsPerRow)*this._itemsPerRow:idx},_isIndexRendered:function(idx){return idx>=this._virtualStart&&idx<=this._virtualEnd},_isIndexVisible:function(idx){return idx>=this.firstVisibleIndex&&idx<=this.lastVisibleIndex},_getPhysicalIndex:function(vidx){return IS_V2?(this._physicalStart+(vidx-this._virtualStart))%this._physicalCount:this._physicalIndexForKey[this._collection.getKey(this.items[vidx])]},focusItem:function(idx){this._focusPhysicalItem(idx)},_focusPhysicalItem:function(idx){if(0>idx||idx>=this._virtualCount){return}this._restoreFocusedItem();if(!this._isIndexRendered(idx)){this.scrollToIndex(idx)}var physicalItem=this._physicalItems[this._getPhysicalIndex(idx)],model=this.modelForElement(physicalItem),focusable;model.tabIndex=SECRET_TABINDEX;if(physicalItem.tabIndex===SECRET_TABINDEX){focusable=physicalItem}if(!focusable){focusable=dom(physicalItem).querySelector("[tabindex=\""+SECRET_TABINDEX+"\"]")}model.tabIndex=0;this._focusedVirtualIndex=idx;focusable&&focusable.focus()},_removeFocusedItem:function(){if(this._offscreenFocusedItem){this._itemsParent.removeChild(this._offscreenFocusedItem)}this._offscreenFocusedItem=null;this._focusBackfillItem=null;this._focusedItem=null;this._focusedVirtualIndex=-1;this._focusedPhysicalIndex=-1},_createFocusBackfillItem:function(){var fpidx=this._focusedPhysicalIndex;if(this._offscreenFocusedItem||0>this._focusedVirtualIndex){return}if(!this._focusBackfillItem){var inst=this.stamp(null);this._focusBackfillItem=inst.root.querySelector("*");this._itemsParent.appendChild(inst.root)}this._offscreenFocusedItem=this._physicalItems[fpidx];this.modelForElement(this._offscreenFocusedItem).tabIndex=0;this._physicalItems[fpidx]=this._focusBackfillItem;this._focusedPhysicalIndex=fpidx;this.translate3d(0,HIDDEN_Y,0,this._offscreenFocusedItem)},_restoreFocusedItem:function(){if(!this._offscreenFocusedItem||0>this._focusedVirtualIndex){return}this._assignModels();var fpidx=this._focusedPhysicalIndex=this._getPhysicalIndex(this._focusedVirtualIndex),onScreenItem=this._physicalItems[fpidx];if(!onScreenItem){return}var onScreenInstance=this.modelForElement(onScreenItem),offScreenInstance=this.modelForElement(this._offscreenFocusedItem);if(onScreenInstance[this.as]===offScreenInstance[this.as]){this._focusBackfillItem=onScreenItem;onScreenInstance.tabIndex=-1;this._physicalItems[fpidx]=this._offscreenFocusedItem;this.translate3d(0,HIDDEN_Y,0,this._focusBackfillItem)}else{this._removeFocusedItem();this._focusBackfillItem=null}this._offscreenFocusedItem=null},_didFocus:function(e){var targetModel=this.modelForElement(e.target),focusedModel=this.modelForElement(this._focusedItem),hasOffscreenFocusedItem=null!==this._offscreenFocusedItem,fidx=this._focusedVirtualIndex;if(!targetModel){return}if(focusedModel===targetModel){if(!this._isIndexVisible(fidx)){this.scrollToIndex(fidx)}}else{this._restoreFocusedItem();if(focusedModel){focusedModel.tabIndex=-1}targetModel.tabIndex=0;fidx=targetModel[this.indexAs];this._focusedVirtualIndex=fidx;this._focusedPhysicalIndex=this._getPhysicalIndex(fidx);this._focusedItem=this._physicalItems[this._focusedPhysicalIndex];if(hasOffscreenFocusedItem&&!this._offscreenFocusedItem){this._update()}}},_keydownHandler:function(e){switch(e.keyCode){case 40:if(this._focusedVirtualIndex<this._virtualCount-1)e.preventDefault();this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:1));break;case 39:if(this.grid)this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:if(0<this._focusedVirtualIndex)e.preventDefault();this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:if(this.grid)this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex);if(this.selectionEnabled)this._selectionHandler(e);break;}},_clamp:function(v,min,max){return _Mathmin(max,_Mathmax(min,v))},_debounce:function(name,cb,asyncModule){if(IS_V2){this._debouncers=this._debouncers||{};this._debouncers[name]=Debouncer.debounce(this._debouncers[name],asyncModule,cb.bind(this));enqueueDebouncer(this._debouncers[name])}else{enqueueDebouncer(this.debounce(name,cb))}},_forwardProperty:function(inst,name,value){if(IS_V2){inst._setPendingProperty(name,value)}else{inst[name]=value}},_forwardHostPropV2:function(prop,value){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(item){if(item){this.modelForElement(item).forwardHostProp(prop,value)}},this)},_notifyInstancePropV2:function(inst,prop,value){if(matches(this.as,prop)){var idx=inst[this.indexAs];if(prop==this.as){this.items[idx]=value}this.notifyPath(translate(this.as,"items."+idx,prop),value)}},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(inst,path,value){if(0===path.indexOf(this.as+".")){this.notifyPath("items."+inst.__key__+"."+path.slice(this.as.length+1),value)}},_forwardParentPath:function(path,value){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(item){if(item){this.modelForElement(item).notifyPath(path,value,!0)}},this)},_forwardParentProp:function(prop,value){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(item){if(item){this.modelForElement(item)[prop]=value}},this)},_getActiveElement:function(){var itemsHost=this._itemsParent.node.domHost;return dom(itemsHost?itemsHost.root:document).activeElement}});class ComboBoxOverlayElement extends OverlayElement{static get is(){return"vaadin-combo-box-overlay"}ready(){super.ready();const loader=document.createElement("div");loader.setAttribute("part","loader");const content=this.shadowRoot.querySelector(["[part~=\"content\"]"]);content.parentNode.insertBefore(loader,content)}}customElements.define(ComboBoxOverlayElement.is,ComboBoxOverlayElement);class ComboBoxDropdownElement extends mixinBehaviors(IronResizableBehavior,PolymerElement){static get template(){return html`
    <style>
      :host {
        display: block;
      }

      :host > #overlay {
        display: none;
      }
    </style>
    <vaadin-combo-box-overlay id="overlay" hidden\$="[[hidden]]" opened="[[opened]]" template="{{template}}" style="align-items: stretch; margin: 0;" theme\$="[[theme]]">
      <slot></slot>
    </vaadin-combo-box-overlay>
`}static get is(){return"vaadin-combo-box-dropdown"}static get properties(){return{opened:{type:Boolean,observer:"_openedChanged"},template:{type:Object,notify:!0},positionTarget:{type:Object},alignedAbove:{type:Boolean,value:!1},theme:String}}constructor(){super();this._boundSetPosition=this._setPosition.bind(this);this._boundOutsideClickListener=this._outsideClickListener.bind(this)}connectedCallback(){super.connectedCallback();this.addEventListener("iron-resize",this._boundSetPosition)}ready(){super.ready();this.$.overlay.addEventListener("vaadin-overlay-outside-click",e=>{e.preventDefault()})}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("iron-resize",this._boundSetPosition);this.opened=!1}notifyResize(){super.notifyResize();if(this.positionTarget&&this.opened){this._setPosition();requestAnimationFrame(this._setPosition.bind(this))}}_openedChanged(opened,oldValue){if(!!opened===!!oldValue){return}if(opened){this.$.overlay.style.position=this._isPositionFixed(this.positionTarget)?"fixed":"absolute";this._setPosition();window.addEventListener("scroll",this._boundSetPosition,!0);document.addEventListener("click",this._boundOutsideClickListener,!0);this.dispatchEvent(new CustomEvent("vaadin-combo-box-dropdown-opened",{bubbles:!0,composed:!0}))}else{window.removeEventListener("scroll",this._boundSetPosition,!0);document.removeEventListener("click",this._boundOutsideClickListener,!0);this.dispatchEvent(new CustomEvent("vaadin-combo-box-dropdown-closed",{bubbles:!0,composed:!0}))}}_outsideClickListener(event){const eventPath=event.composedPath();if(0>eventPath.indexOf(this.positionTarget)&&0>eventPath.indexOf(this.$.overlay)){this.opened=!1}}_isPositionFixed(element){const offsetParent=this._getOffsetParent(element);return"fixed"===window.getComputedStyle(element).position||offsetParent&&this._isPositionFixed(offsetParent)}_getOffsetParent(element){if(element.assignedSlot){return element.assignedSlot.parentElement}else if(element.parentElement){return element.offsetParent}const parent=element.parentNode;if(parent&&11===parent.nodeType&&parent.host){return parent.host}}_verticalOffset(overlayRect,targetRect){return this.alignedAbove?-overlayRect.height:targetRect.height}_shouldAlignAbove(targetRect){const spaceBelow=(window.innerHeight-targetRect.bottom-_Mathmin(document.body.scrollTop,0))/window.innerHeight;return .3>spaceBelow}_setPosition(e){if(e&&e.target){const target=e.target===document?document.body:e.target,parent=this.$.overlay.parentElement;if(!(target.contains(this.$.overlay)||target.contains(this.positionTarget))||parent!==document.body){return}}const targetRect=this.positionTarget.getBoundingClientRect();this.alignedAbove=this._shouldAlignAbove(targetRect);const overlayRect=this.$.overlay.getBoundingClientRect();this._translateX=targetRect.left-overlayRect.left+(this._translateX||0);this._translateY=targetRect.top-overlayRect.top+(this._translateY||0)+this._verticalOffset(overlayRect,targetRect);const _devicePixelRatio=window.devicePixelRatio||1;this._translateX=_Mathround(this._translateX*_devicePixelRatio)/_devicePixelRatio;this._translateY=_Mathround(this._translateY*_devicePixelRatio)/_devicePixelRatio;this.$.overlay.style.transform=`translate3d(${this._translateX}px, ${this._translateY}px, 0)`;this.$.overlay.style.width=this.positionTarget.clientWidth+"px";this.$.overlay.style.justifyContent=this.alignedAbove?"flex-end":"flex-start";this.dispatchEvent(new CustomEvent("position-changed"))}}customElements.define(ComboBoxDropdownElement.is,ComboBoxDropdownElement);const TOUCH_DEVICE=(()=>{try{document.createEvent("TouchEvent");return!0}catch(e){return!1}})();class ComboBoxDropdownWrapperElement extends class extends PolymerElement{}{static get template(){return html`
    \x3c!-- Stamping the content is postponed until the combo box is opened for the first time --\x3e
    <template id="dropdown-template" is="dom-if">
      <vaadin-combo-box-dropdown id="dropdown" hidden="[[_hidden(_items.*, loading)]]" position-target="[[positionTarget]]" on-template-changed="_templateChanged" on-position-changed="_setOverlayHeight" theme="[[theme]]">
        <template>
          <style>
            #scroller {
              overflow: auto;

              /* Fixes item background from getting on top of scrollbars on Safari */
              transform: translate3d(0, 0, 0);

              /* Enable momentum scrolling on iOS (iron-list v1.2+ no longer does it for us) */
              -webkit-overflow-scrolling: touch;

              /* Fixes scrollbar disappearing when 'Show scroll bars: Always' enabled in Safari */
              box-shadow: 0 0 0 white;
            }
          </style>
          <div id="scroller" on-click="_stopPropagation">
            <iron-list id="selector" role="listbox" items="[[_getItems(opened, _items)]]" scroll-target="[[_scroller]]">
              <template>
                <vaadin-combo-box-item on-click="_onItemClick" index="[[__requestItemByIndex(item, index)]]" item="[[item]]" label="[[getItemLabel(item, _itemLabelPath)]]" selected="[[_isItemSelected(item, _selectedItem, _itemIdPath)]]" renderer="[[renderer]]" role\$="[[_getAriaRole(index)]]" aria-selected\$="[[_getAriaSelected(_focusedIndex,index)]]" focused="[[_isItemFocused(_focusedIndex,index)]]" tabindex="-1" theme\$="[[theme]]">
                </vaadin-combo-box-item>
              </template>
            </iron-list>
          </div>
        </template>
      </vaadin-combo-box-dropdown>
    </template>
`}static get is(){return"vaadin-combo-box-dropdown-wrapper"}static get properties(){return{touchDevice:{type:Boolean,value:TOUCH_DEVICE},opened:Boolean,positionTarget:{type:Object},renderer:Function,loading:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_setOverlayHeight"},theme:String,_selectedItem:{type:Object},_items:{type:Object},_focusedIndex:{type:Number,value:-1,observer:"_focusedIndexChanged"},_focusedItem:{type:String,computed:"_getFocusedItem(_focusedIndex)"},_itemLabelPath:{type:String,value:"label"},_itemValuePath:{type:String,value:"value"},_selector:Object,_itemIdPath:String}}static get observers(){return["_selectorChanged(_selector)","_loadingChanged(loading)","_openedChanged(opened, _items, loading)"]}_fireTouchAction(sourceEvent){this.dispatchEvent(new CustomEvent("vaadin-overlay-touch-action",{detail:{sourceEvent:sourceEvent}}))}_getItems(opened,items){return opened?items:[]}_openedChanged(opened,items,loading){if(!this.$.dropdown){if(!opened){return}else{this._initDropdown()}}this.$.dropdown.opened=!!(opened&&(loading||this.$.dropdown.opened||items&&items.length))}_initDropdown(){const template=this.shadowRoot.querySelector("#dropdown-template");template.if=!0;template.render();this.$.dropdown=this.shadowRoot.querySelector("#dropdown");this._templateChanged();this._loadingChanged(this.loading);this.$.dropdown.$.overlay.addEventListener("touchend",e=>this._fireTouchAction(e));this.$.dropdown.$.overlay.addEventListener("touchmove",e=>this._fireTouchAction(e));this.$.dropdown.$.overlay.addEventListener("mousedown",e=>e.preventDefault());if(/Trident/.test(navigator.userAgent)){this._scroller.setAttribute("unselectable","on")}}_templateChanged(e){if(!this.$.dropdown){return}this._selector=this.$.dropdown.$.overlay.content.querySelector("#selector");this._scroller=this.$.dropdown.$.overlay.content.querySelector("#scroller")}_loadingChanged(loading){if(!this.$.dropdown){return}if(loading){this.$.dropdown.$.overlay.setAttribute("loading","")}else{this.$.dropdown.$.overlay.removeAttribute("loading")}}_selectorChanged(selector){this._patchWheelOverScrolling()}_setOverlayHeight(){if(!this.opened||!this.positionTarget||!this._selector){return}const targetRect=this.positionTarget.getBoundingClientRect();this._scroller.style.maxHeight=(window.ShadyCSS?window.ShadyCSS.getComputedStyleValue(this,"--vaadin-combo-box-overlay-max-height"):getComputedStyle(this).getPropertyValue("--vaadin-combo-box-overlay-max-height"))||"65vh";const maxHeight=this._maxOverlayHeight(targetRect);this.$.dropdown.$.overlay.style.maxHeight=maxHeight;this._selector.style.maxHeight=maxHeight;this.updateViewportBoundaries()}_maxOverlayHeight(targetRect){const margin=8,minHeight=116,bottom=_Mathmin(window.innerHeight,document.body.scrollHeight-document.body.scrollTop);if(this.$.dropdown.alignedAbove){return _Mathmax(targetRect.top-margin+_Mathmin(document.body.scrollTop,0),minHeight)+"px"}else{return _Mathmax(bottom-targetRect.bottom-margin,minHeight)+"px"}}_getFocusedItem(focusedIndex){if(0<=focusedIndex){return this._items[focusedIndex]}}_isItemSelected(item,selectedItem,itemIdPath){if(item instanceof ComboBoxPlaceholder){return!1}else if(itemIdPath&&item!==void 0&&selectedItem!==void 0){return this.get(itemIdPath,item)===this.get(itemIdPath,selectedItem)}else{return item===selectedItem}}_onItemClick(e){if(e.detail&&e.detail.sourceEvent&&e.detail.sourceEvent.stopPropagation){this._stopPropagation(e.detail.sourceEvent)}this.dispatchEvent(new CustomEvent("selection-changed",{detail:{item:e.model.item}}))}indexOfLabel(label){if(this._items&&label){for(let i=0;i<this._items.length;i++){if(this.getItemLabel(this._items[i]).toString().toLowerCase()===label.toString().toLowerCase()){return i}}}return-1}__requestItemByIndex(item,index){if(item instanceof ComboBoxPlaceholder&&index!==void 0){this.dispatchEvent(new CustomEvent("index-requested",{detail:{index}}))}return index}getItemLabel(item,itemLabelPath){itemLabelPath=itemLabelPath||this._itemLabelPath;let label=item&&itemLabelPath?this.get(itemLabelPath,item):void 0;if(label===void 0||null===label){label=item?item.toString():""}return label}_isItemFocused(focusedIndex,itemIndex){return focusedIndex==itemIndex}_getAriaSelected(focusedIndex,itemIndex){return this._isItemFocused(focusedIndex,itemIndex).toString()}_getAriaRole(itemIndex){return itemIndex!==void 0?"option":!1}_focusedIndexChanged(index){if(0<=index){this._scrollIntoView(index)}}_scrollIntoView(index){const visibleItemsCount=this._visibleItemsCount();if(visibleItemsCount===void 0){return}let targetIndex=index;if(index>this._selector.lastVisibleIndex-1){targetIndex=index-visibleItemsCount+1}else if(index>this._selector.firstVisibleIndex){targetIndex=this._selector.firstVisibleIndex}this._selector.scrollToIndex(_Mathmax(0,targetIndex));const pidx=this._selector._getPhysicalIndex(index),physicalItem=this._selector._physicalItems[pidx];if(!physicalItem){return}const physicalItemRect=physicalItem.getBoundingClientRect(),scrollerRect=this._scroller.getBoundingClientRect(),scrollTopAdjust=physicalItemRect.bottom-scrollerRect.bottom+this._viewportTotalPaddingBottom;if(0<scrollTopAdjust){this._scroller.scrollTop+=scrollTopAdjust}}ensureItemsRendered(){this._selector._render()}adjustScrollPosition(){if(this.opened&&this._items){this._scrollIntoView(this._focusedIndex)}}_patchWheelOverScrolling(){const selector=this._selector;selector.addEventListener("wheel",e=>{const scroller=selector._scroller||selector.scrollTarget,scrolledToTop=0===scroller.scrollTop,scrolledToBottom=1>=scroller.scrollHeight-scroller.scrollTop-scroller.clientHeight;if(scrolledToTop&&0>e.deltaY){e.preventDefault()}else if(scrolledToBottom&&0<e.deltaY){e.preventDefault()}})}updateViewportBoundaries(){this._cachedViewportTotalPaddingBottom=void 0;this._selector.updateViewportBoundaries()}get _viewportTotalPaddingBottom(){if(this._cachedViewportTotalPaddingBottom===void 0){const itemsStyle=window.getComputedStyle(this._selector.$.items);this._cachedViewportTotalPaddingBottom=[itemsStyle.paddingBottom,itemsStyle.borderBottomWidth].map(v=>{return parseInt(v,10)}).reduce((sum,v)=>{return sum+v})}return this._cachedViewportTotalPaddingBottom}_visibleItemsCount(){if(!this._selector){return}this._selector.flushDebouncer("_debounceTemplate");this._selector.scrollToIndex(this._selector.firstVisibleIndex);this.updateViewportBoundaries();return this._selector.lastVisibleIndex-this._selector.firstVisibleIndex+1}_selectItem(item){item="number"===typeof item?this._items[item]:item;if(this._selector.selectedItem!==item){this._selector.selectItem(item)}}_preventDefault(e){if(e.cancelable){e.preventDefault()}}_stopPropagation(e){e.stopPropagation()}_hidden(itemsChange){return!this.loading&&(!this._items||!this._items.length)}}customElements.define(ComboBoxDropdownWrapperElement.is,ComboBoxDropdownWrapperElement);class ComboBoxLightElement extends ThemePropertyMixin(ThemableMixin(ComboBoxDataProviderMixin(ComboBoxMixin(PolymerElement)))){static get template(){return html`
    <slot></slot>

    <vaadin-combo-box-dropdown-wrapper id="overlay" opened="[[opened]]" position-target="[[inputElement]]" renderer="[[renderer]]" _focused-index="[[_focusedIndex]]" _item-id-path="[[itemIdPath]]" _item-label-path="[[itemLabelPath]]" loading="[[loading]]" theme="[[theme]]">
    </vaadin-combo-box-dropdown-wrapper>
`}static get is(){return"vaadin-combo-box-light"}static get properties(){return{attrForValue:{type:String,value:"value"},inputElement:{type:Element,readOnly:!0}}}constructor(){super();this._boundInputValueChanged=this._inputValueChanged.bind(this)}ready(){super.ready();this._toggleElement=this.querySelector(".toggle-button");this._clearElement=this.querySelector(".clear-button")}get focused(){return this.getRootNode().activeElement===this.inputElement}connectedCallback(){super.connectedCallback();const cssSelector="vaadin-text-field,iron-input,paper-input,.paper-input-input,.input";this._setInputElement(this.querySelector(cssSelector));this._revertInputValue();this.inputElement.addEventListener("input",this._boundInputValueChanged);this._preventInputBlur()}disconnectedCallback(){super.disconnectedCallback();this.inputElement.removeEventListener("input",this._boundInputValueChanged);this._restoreInputBlur()}get _propertyForValue(){return dashToCamelCase(this.attrForValue)}get _inputElementValue(){return this.inputElement&&this.inputElement[this._propertyForValue]}set _inputElementValue(value){if(this.inputElement){this.inputElement[this._propertyForValue]=value}}}customElements.define(ComboBoxLightElement.is,ComboBoxLightElement);const $_documentContainer$t=html`<dom-module id="lumo-combo-box" theme-for="vaadin-combo-box">
  <template>
    <style include="lumo-field-button">
      :host {
        outline: none;
      }

      [part="toggle-button"]::before {
        content: var(--lumo-icons-dropdown);
      }

      [part="clear-button"]::before {
        content: var(--lumo-icons-cross);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$t.content);class ComboBoxElement extends ElementMixin$1(ControlStateMixin(ThemePropertyMixin(ThemableMixin(ComboBoxDataProviderMixin(ComboBoxMixin(PolymerElement)))))){static get template(){return html`
    <style>
      :host {
        display: inline-block;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host([opened]) {
        pointer-events: auto;
      }

      [part="text-field"] {
        width: 100%;
        min-width: 0;
      }

      :host([disabled]) [part="clear-button"],
      :host([readonly]) [part="clear-button"],
      :host(:not([has-value])) [part="clear-button"] {
        display: none;
      }
    </style>

    <vaadin-text-field part="text-field" id="input" pattern="[[pattern]]" prevent-invalid-input="[[preventInvalidInput]]" value="{{_inputElementValue}}" autocomplete="off" invalid="[[invalid]]" label="[[label]]" name="[[name]]" placeholder="[[placeholder]]" required="[[required]]" disabled="[[disabled]]" readonly="[[readonly]]" error-message="[[errorMessage]]" autocapitalize="none" autofocus="[[autofocus]]" on-change="_stopPropagation" on-input="_inputValueChanged" theme\$="[[theme]]">
      <slot name="prefix" slot="prefix"></slot>

      <div part="clear-button" id="clearButton" slot="suffix" role="button" aria-label="Clear"></div>
      <div part="toggle-button" id="toggleButton" slot="suffix" role="button" aria-label="Toggle"></div>

    </vaadin-text-field>

    <vaadin-combo-box-dropdown-wrapper id="overlay" opened="[[opened]]" renderer="[[renderer]]" position-target="[[_getPositionTarget()]]" _focused-index="[[_focusedIndex]]" _item-id-path="[[itemIdPath]]" _item-label-path="[[itemLabelPath]]" loading="[[loading]]" theme="[[theme]]">
    </vaadin-combo-box-dropdown-wrapper>
`}constructor(){super();this.theme}static get is(){return"vaadin-combo-box"}static get version(){return"4.2.5"}static get properties(){return{label:{type:String,reflectToAttribute:!0},required:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1},preventInvalidInput:{type:Boolean},pattern:{type:String},errorMessage:{type:String},autofocus:{type:Boolean},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1}}}static get observers(){return["_updateAriaExpanded(opened)"]}attributeChanged(name,type){const isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(isSafari&&this.root){Array.prototype.forEach.call(this.root.querySelectorAll("*"),el=>{el.style["-webkit-backface-visibility"]="visible";el.style["-webkit-backface-visibility"]=""})}}ready(){super.ready();this._nativeInput=this.$.input.focusElement;this._toggleElement=this.$.toggleButton;this._clearElement=this.$.clearButton;this._nativeInput.setAttribute("role","combobox");this._nativeInput.setAttribute("aria-autocomplete","list");this._updateAriaExpanded()}connectedCallback(){super.connectedCallback();this._preventInputBlur()}disconnectedCallback(){super.disconnectedCallback();this._restoreInputBlur()}_getPositionTarget(){return this.$.input}_updateAriaExpanded(){if(this._nativeInput){this._nativeInput.setAttribute("aria-expanded",this.opened);this._toggleElement.setAttribute("aria-expanded",this.opened)}}get inputElement(){return this.$.input}get focusElement(){return this.inputElement||this}}customElements.define(ComboBoxElement.is,ComboBoxElement);const $_documentContainer$u=html`<dom-module id="lumo-password-field" theme-for="vaadin-password-field">
  <template>
    <style>
      [part="reveal-button"]::before {
        content: var(--lumo-icons-eye);
      }

      :host([password-visible]) [part="reveal-button"]::before {
        content: var(--lumo-icons-eye-disabled);
      }

      /* Make it easy to hide the button across the whole app */
      [part="reveal-button"] {
        display: var(--lumo-password-field-reveal-button-display, block);
      }

      /* FIXME: ShadyCSS workaround for slotted input in Edge */
      [part="input-field"] ::slotted(input)::-ms-reveal {
        display: none;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$u.content);const $_documentContainer$v=document.createElement("template");$_documentContainer$v.innerHTML=`<custom-style>
  <style>
    @font-face {
      font-family: 'vaadin-password-field-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAYMAAsAAAAABcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFgGNtYXAAAAFoAAAAVAAAAFQXVtKIZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAfwAAAH8yBLEP2hlYWQAAAPAAAAANgAAADYN+RfTaGhlYQAAA/gAAAAkAAAAJAfCA8dobXR4AAAEHAAAABgAAAAYDgAAAGxvY2EAAAQ0AAAADgAAAA4BJgCSbWF4cAAABEQAAAAgAAAAIAAMAFpuYW1lAAAEZAAAAYYAAAGGmUoJ+3Bvc3QAAAXsAAAAIAAAACAAAwAAAAMDVQGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QEDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkB//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAwAAAHoEAALGABQAJABFAAABIg4CMTAeAjMyPgIxMC4CIwc+ATEwBhUUFjEHMCY1NDYTIi4CJz4BNw4BFRQeAjMyPgI1NCYnHgEXDgMjAgChyHAnN3rAiYjFfjsncMihrRg7IA1GExmnY5ZqQg8PWGAFCChGXTU1XUYoCAVgWA8RRW2ZZALGZnpmUmJSUGBQaHxoYA8FRSIhJQ0rIiYz/lQvQkYVInswEygYNV1GKChGXTUYKBMrgCIVRkIvAAAABQAA/8AEAAPAABoAJgA6AEcAVwAAAQceARcOAyMiJicHHgEzMj4CMTAuAicHNCYnATIWMzI+AhMBLgEjIg4CMTAeAhcHFTMBNQEuASc+ATcOARUUFhc3BzAmNTQ2MT4BMTAGFQYWAzo0UlMPEUVtmWQiNR0zJ1QsiMV+OxEsTTw6AgT+zA8dDjVdRijT/ucnXjWhyHAnGTNQN9MtA9P9AE1ZFA9YYAUILSY6QBMZGDsgBAsCczMrcyIWQ0AtCAQzDgtQYFAzS1ckeQ4bCv7TBihGXQH7/uYKEGZ6Zic5RBzNLQPTLf0tIVoYInswEygYNWMihgwrISc5DwVHJiIlAAEAAAAAAADkyo21Xw889QALBAAAAAAA1W1pqwAAAADVbWmrAAD/wAQAA8AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAABAAAAQAAAAAAAAAAAAAAAAAAAAYEAAAAAAAAAAAAAAACAAAABAAAAAQAAAAAAAAAAAoAFAAeAH4A/gAAAAEAAAAGAFgABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
</custom-style><dom-module id="vaadin-password-field-template">
  <template>
    <style>
      /* Hide the native eye icon for IE/Edge */
      ::-ms-reveal {
        display: none;
      }

      [part="reveal-button"][hidden] {
        display: none !important;
      }
    </style>

    <div part="reveal-button" on-mousedown="_revealButtonMouseDown" on-touchend="_togglePasswordVisibilityTouchend" on-click="_togglePasswordVisibility" hidden\$="[[revealButtonHidden]]">
    </div>
  </template>
  
</dom-module>`;document.head.appendChild($_documentContainer$v.content);let memoizedTemplate;class PasswordFieldElement extends TextFieldElement{static get is(){return"vaadin-password-field"}static get version(){return"2.3.4"}static get properties(){return{revealButtonHidden:{type:Boolean,value:!1},passwordVisible:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_passwordVisibleChange",readOnly:!0}}}static get template(){if(!memoizedTemplate){memoizedTemplate=super.template.cloneNode(!0);const thisTemplate=DomModule.import(this.is+"-template","template"),revealButton=thisTemplate.content.querySelector("[part=\"reveal-button\"]"),styles=thisTemplate.content.querySelector("style"),inputField=memoizedTemplate.content.querySelector("[part=\"input-field\"]");inputField.appendChild(revealButton);memoizedTemplate.content.appendChild(styles)}return memoizedTemplate}ready(){super.ready();this.inputElement.type="password";this.inputElement.autocapitalize="off";this.addEventListener("focusout",()=>{if(!this._passwordVisibilityChanging){this._setPasswordVisible(!1);if(this._cachedChangeEvent){this._onChange(this._cachedChangeEvent)}}})}_onChange(e){const slotted=this.querySelector(`${this._slottedTagName}[slot="${this._slottedTagName}"]`);if(slotted){e.stopPropagation()}if(this._passwordVisibilityChanging){this._cachedChangeEvent=e}else{this._cachedChangeEvent=null;super._onChange(e)}}_revealButtonMouseDown(e){if(this.hasAttribute("focused")){e.preventDefault()}}_togglePasswordVisibilityTouchend(e){e.preventDefault();this._togglePasswordVisibility();this.inputElement.focus()}_togglePasswordVisibility(){this._passwordVisibilityChanging=!0;this.inputElement.blur();this._setPasswordVisible(!this.passwordVisible);this.inputElement.focus();this._passwordVisibilityChanging=!1}_passwordVisibleChange(passwordVisible){this.inputElement.type=passwordVisible?"text":"password"}}customElements.define(PasswordFieldElement.is,PasswordFieldElement);const $_documentContainer$w=html`<dom-module id="lumo-text-area" theme-for="vaadin-text-area">
  <template>
    <style include="lumo-text-field">
      [part="input-field"],
      [part="input-field"] ::slotted(textarea) {
        /* Equal to the implicit padding in vaadin-text-field */
        padding-top: calc((var(--lumo-text-field-size) - 1em * var(--lumo-line-height-s)) / 2);
        padding-bottom: calc((var(--lumo-text-field-size) - 1em * var(--lumo-line-height-s)) / 2);
        height: auto;
        box-sizing: border-box;
        transition: background-color 0.1s;
        line-height: var(--lumo-line-height-s);
      }

      :host(:not([readonly])) [part="input-field"]::after {
        display: none;
      }

      :host(:hover:not([readonly]):not([focused])) [part="input-field"] {
        background-color: var(--lumo-contrast-20pct);
      }

      @media (pointer: coarse) {
        :host(:hover:not([readonly]):not([focused])) [part="input-field"] {
          background-color: var(--lumo-contrast-10pct);
        }

        :host(:active:not([readonly]):not([focused])) [part="input-field"] {
          background-color: var(--lumo-contrast-20pct);
        }
      }

      [part="value"],
      [part="input-field"] ::slotted(textarea) {
        line-height: inherit;
        --_lumo-text-field-overflow-mask-image: none;
      }

      /* Vertically align icon prefix/suffix with the first line of text */
      [part="input-field"] ::slotted(iron-icon) {
        margin-top: calc((var(--lumo-icon-size-m) - 1em * var(--lumo-line-height-s)) / -2);
      }

      [part="input-field"] [part="value"],
      [part="input-field"] ::slotted(textarea) {
        white-space: pre-wrap; /* override \`nowrap\` from <vaadin-text-field> */
        align-self: stretch; /* override \`baseline\` from <vaadin-text-field> */
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$w.content);class TextAreaElement extends ElementMixin$1(TextFieldMixin(ThemableMixin(PolymerElement))){static get template(){return html`
    <style include="vaadin-text-field-shared-styles">
      .vaadin-text-area-container {
        flex: auto;
        max-height: inherit; /* MSIE 11 */
        min-height: inherit; /* MSIE 11 */
      }

      /* The label and the error message should neither grow nor shrink. */
      [part="label"],
      [part="error-message"] {
        flex: none;
      }

      [part="input-field"] {
        overflow: auto;
        -webkit-overflow-scrolling: touch;
      }

      [part="value"] {
        resize: none;
      }

      [part="value"],
      [part="input-field"] ::slotted(*) {
        align-self: flex-start;
      }

      @keyframes vaadin-text-area-appear {
        to {
          opacity: 1;
        }
      }

      :host {
        animation: 1ms vaadin-text-area-appear;
      }
    </style>

    <div class="vaadin-text-area-container">

      <label part="label" on-click="focus" id="[[_labelId]]">[[label]]</label>

      <div part="input-field">

        <slot name="prefix"></slot>

        <slot name="textarea">
          <textarea part="value"></textarea>
        </slot>

        <div part="clear-button" id="clearButton" role="button" aria-label="Clear"></div>
        <slot name="suffix"></slot>

      </div>

      <div part="error-message" id="[[_errorId]]" aria-live="assertive" aria-hidden\$="[[_getErrorMessageAriaHidden(invalid, errorMessage, _errorId)]]">[[errorMessage]]</div>

    </div>
`}static get is(){return"vaadin-text-area"}static get version(){return"2.3.4"}static get observers(){return["_textAreaValueChanged(value)"]}ready(){super.ready();this._updateHeight();this.addEventListener("animationend",this._onAnimationEnd)}_onAnimationEnd(e){if(0===e.animationName.indexOf("vaadin-text-area-appear")){this._updateHeight()}}get _slottedTagName(){return"textarea"}_textAreaValueChanged(value){this._updateHeight()}_updateHeight(){const inputField=this.root.querySelector("[part=input-field]"),scrollTop=inputField.scrollTop,input=this.inputElement,inputWidth=getComputedStyle(input).width,valueLength=this.value?this.value.length:0;if(this._oldValueLength>=valueLength){input.style.maxWidth=inputWidth;input.style.height="auto";inputField.style.display="block"}this._oldValueLength=valueLength;const inputHeight=input.scrollHeight;if(inputHeight>input.clientHeight){input.style.height=inputHeight+"px"}input.style.removeProperty("max-width");inputField.style.removeProperty("display");inputField.scrollTop=scrollTop;if(this.__previousInputHeight&&this.__previousInputHeight!==inputHeight){this.dispatchEvent(new CustomEvent("iron-resize",{bubbles:!0}))}this.__previousInputHeight=inputHeight}}customElements.define(TextAreaElement.is,TextAreaElement);const $_documentContainer$x=html`<dom-module id="lumo-context-menu-overlay" theme-for="vaadin-context-menu-overlay">
  <template>
    <style include="lumo-menu-overlay">
      :host([phone]) {
        top: 0 !important;
        right: 0 !important;
        bottom: var(--vaadin-overlay-viewport-bottom) !important;
        left: 0 !important;
        align-items: stretch;
        justify-content: flex-end;
      }

      :host([phone]) [part="content"] {
        /* Ideally should be 100vh but iOS phone addr-bar covers view port */
        max-height: 80vh;
      }

    /* TODO These style overrides should not be needed.
       We should instead offer a way to have non-selectable items inside the context menu. */

      :host {
        --_lumo-list-box-item-selected-icon-display: none;
        --_lumo-list-box-item-padding-left: calc(var(--lumo-space-m) + var(--lumo-border-radius) / 4);
      }

    </style>
  </template>
</dom-module><dom-module id="lumo-context-menu-list-box" theme-for="vaadin-context-menu-list-box">
  <template>
    <style>
      :host(.vaadin-menu-list-box) {
        --_lumo-list-box-item-selected-icon-display: block;
      }

      /* Normal item */

      [part="items"] ::slotted(.vaadin-menu-item) {
        -webkit-tap-highlight-color: var(--lumo-primary-color-10pct);
        cursor: default;
      }

      [part="items"] ::slotted(.vaadin-menu-item) {
        outline: none;
        border-radius: var(--lumo-border-radius);
        padding-left: var(--_lumo-list-box-item-padding-left, calc(var(--lumo-border-radius) / 4));
        padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius) / 4);
      }

      :host(.vaadin-menu-list-box) [part="items"] ::slotted(.vaadin-menu-item) {
        padding-left: calc(var(--lumo-border-radius) / 4);
        padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius) / 4);
      }

      /* Workaround to display checkmark in IE11 when list-box is not used in dropdown-menu */
      [part="items"] ::slotted(.vaadin-menu-item)::before {
        display: var(--_lumo-item-selected-icon-display);
      }

      /* Hovered item */
      /* TODO a workaround until we have "focus-follows-mouse". After that, use the hover style for focus-ring as well */

      [part="items"] ::slotted(.vaadin-menu-item:hover:not([disabled])) {
        background-color: var(--lumo-primary-color-10pct);
      }

      /* Focused item */

      @media (pointer: coarse) {
        [part="items"] ::slotted(.vaadin-menu-item:hover:not([disabled])) {
          background-color: transparent;
        }
      }
    </style>
  </template>
</dom-module><dom-module id="lumo-context-menu-item" theme-for="vaadin-context-menu-item">
  <template>
    <style>
      :host(.vaadin-menu-item[menu-item-checked])::before {
        opacity: 1;
      }

      :host(.vaadin-menu-item.vaadin-context-menu-parent-item)::after {
        font-family: lumo-icons;
        font-size: var(--lumo-icon-size-xs);
        content: var(--lumo-icons-angle-right);
        color: var(--lumo-tertiary-text-color);
        margin-right: calc(var(--lumo-space-m) * -1);
        padding-left: var(--lumo-space-m);
      }

      :host([expanded]) {
        background-color: var(--lumo-primary-color-10pct);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$x.content);const $_documentContainer$y=document.createElement("template");$_documentContainer$y.innerHTML=`<dom-module id="lumo-list-box" theme-for="vaadin-list-box">
  <template>
    <style>
      :host {
        -webkit-tap-highlight-color: transparent;
        --_lumo-item-selected-icon-display: var(--_lumo-list-box-item-selected-icon-display, block);
      }

      /* IE11 flexbox issue workaround (vaadin-items are flex containers with min-height) */
      [part="items"] {
        display: flex;
        flex-direction: column;
      }

      [part="items"] ::slotted(*) {
        flex: none;
      }

      /* Normal item */

      [part="items"] ::slotted(vaadin-item) {
        -webkit-tap-highlight-color: var(--lumo-primary-color-10pct);
        cursor: default;
      }

      [part="items"] ::slotted(vaadin-item) {
        outline: none;
        border-radius: var(--lumo-border-radius);
        padding-left: var(--_lumo-list-box-item-padding-left, calc(var(--lumo-border-radius) / 4));
        padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius) / 4);
      }

      /* Workaround to display checkmark in IE11 when list-box is not used in dropdown-menu */
      [part="items"] ::slotted(vaadin-item)::before {
        display: var(--_lumo-item-selected-icon-display);
      }

      /* Hovered item */
      /* TODO a workaround until we have "focus-follows-mouse". After that, use the hover style for focus-ring as well */

      [part="items"] ::slotted(vaadin-item:hover:not([disabled])) {
        background-color: var(--lumo-primary-color-10pct);
      }

      /* Focused item */

      [part="items"] ::slotted([focus-ring]:not([disabled])) {
        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      @media (pointer: coarse) {
        [part="items"] ::slotted(vaadin-item:hover:not([disabled])) {
          background-color: transparent;
        }

        [part="items"] ::slotted([focus-ring]:not([disabled])) {
          box-shadow: none;
        }
      }

      /* Easily add section dividers */

      [part="items"] ::slotted(hr) {
        height: 1px;
        border: 0;
        padding: 0;
        margin: var(--lumo-space-s) var(--lumo-border-radius);
        background-color: var(--lumo-contrast-10pct);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$y.content);const ListMixin=superClass=>class VaadinListMixin extends superClass{static get properties(){return{_hasVaadinListMixin:{value:!0},selected:{type:Number,reflectToAttribute:!0,notify:!0},orientation:{type:String,reflectToAttribute:!0,value:""},items:{type:Array,readOnly:!0,notify:!0}}}static get observers(){return["_enhanceItems(items, orientation, selected)"]}ready(){super.ready();this.addEventListener("keydown",e=>this._onKeydown(e));this.addEventListener("click",e=>this._onClick(e));this._observer=new FlattenedNodesObserver(this,info=>{this._setItems(this._filterItems(Array.from(this.children)))})}_enhanceItems(items,orientation,selected){if(items){this.setAttribute("aria-orientation",orientation||"vertical");this.items.forEach(item=>{orientation?item.setAttribute("orientation",orientation):item.removeAttribute("orientation");item.updateStyles()});this._setFocusable(selected);const itemToSelect=items[selected];items.forEach(item=>item.selected=item===itemToSelect);if(itemToSelect&&!itemToSelect.disabled){this._scrollToItem(selected)}}}get focused(){return this.getRootNode().activeElement}_filterItems(array){return array.filter(e=>e._hasVaadinItemMixin)}_onClick(event){if(event.metaKey||event.shiftKey||event.ctrlKey){return}const item=this._filterItems(event.composedPath())[0];let idx;if(item&&!item.disabled&&0<=(idx=this.items.indexOf(item))){this.selected=idx}}_onKeydown(event){if(event.metaKey||event.ctrlKey){return}const key=event.key.replace(/^Arrow/,""),currentIdx=this.items.indexOf(this.focused);let condition=item=>!item.disabled,idx,increment;if(this._vertical&&"Up"===key||!this._vertical&&"Left"===key){increment=-1;idx=currentIdx-1}else if(this._vertical&&"Down"===key||!this._vertical&&"Right"===key){increment=1;idx=currentIdx+1}else if("Home"===key){increment=1;idx=0}else if("End"===key){increment=-1;idx=this.items.length-1}else if(1==key.length){increment=1;idx=currentIdx+1;condition=item=>!item.disabled&&0===item.textContent.trim().toLowerCase().indexOf(key.toLowerCase())}idx=this._getAvailableIndex(idx,increment,condition);if(0<=idx){this._focus(idx);event.preventDefault()}}_getAvailableIndex(idx,increment,condition){const totalItems=this.items.length;for(let i=0;"number"==typeof idx&&i<totalItems;i++,idx+=increment||1){if(0>idx){idx=totalItems-1}else if(idx>=totalItems){idx=0}const item=this.items[idx];if(condition(item)){return idx}}return-1}_setFocusable(idx){idx=this._getAvailableIndex(idx,1,item=>!item.disabled);const item=this.items[idx]||this.items[0];this.items.forEach(e=>e.tabIndex=e===item?0:-1)}_focus(idx){const item=this.items[idx];this.items.forEach(e=>e.focused=e===item);this._setFocusable(idx);this._scrollToItem(idx);item.focus()}focus(){this._observer.flush();const firstItem=this.querySelector("[tabindex=\"0\"]")||this.items[0];firstItem&&firstItem.focus()}get _scrollerElement(){}_scrollToItem(idx){const item=this.items[idx];if(!item){return}const props=this._vertical?["top","bottom"]:["left","right"],scrollerRect=this._scrollerElement.getBoundingClientRect(),nextItemRect=(this.items[idx+1]||item).getBoundingClientRect(),prevItemRect=(this.items[idx-1]||item).getBoundingClientRect();let scrollDistance=0;if(nextItemRect[props[1]]>=scrollerRect[props[1]]){scrollDistance=nextItemRect[props[1]]-scrollerRect[props[1]]}else if(prevItemRect[props[0]]<=scrollerRect[props[0]]){scrollDistance=prevItemRect[props[0]]-scrollerRect[props[0]]}this._scroll(scrollDistance)}get _vertical(){return"horizontal"!==this.orientation}_scroll(pixels){this._scrollerElement["scroll"+(this._vertical?"Top":"Left")]+=pixels}};class ListBoxElement extends ElementMixin$1(ListMixin(ThemableMixin(PolymerElement))){static get template(){return html`
    <style>
      :host {
        display: flex;
      }

      :host([hidden]) {
        display: none !important;
      }

      [part="items"] {
        height: 100%;
        width: 100%;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }
    </style>
    <div part="items">
      <slot></slot>
    </div>
`}static get is(){return"vaadin-list-box"}static get version(){return"1.1.0"}static get properties(){return{orientation:{readOnly:!0}}}ready(){super.ready();this.setAttribute("role","list")}get _scrollerElement(){return this.shadowRoot.querySelector("[part=\"items\"]")}}customElements.define(ListBoxElement.is,ListBoxElement);register$1({name:"vaadin-contextmenu",deps:["touchstart","touchmove","touchend","contextmenu"],flow:{start:["touchstart","contextmenu"],end:["contextmenu"]},emits:["vaadin-contextmenu"],info:{sourceEvent:null,_ios:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},reset:function(){this.info.sourceEvent=null;this._cancelTimer();this.info.touchJob=null;this.info.touchStartCoords=null},_cancelTimer:function(){if(this._timerId){clearTimeout(this._timerId);delete this._fired}},touchstart:function(e){this.info.sourceEvent=e;this.info.touchStartCoords={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};const t=e.composedPath()[0]||e.target;this._timerId=setTimeout(()=>{const ct=e.changedTouches[0];if(!e.shiftKey){if(this.info._ios){this._fired=!0;this.fire(t,ct.clientX,ct.clientY)}prevent("tap")}},500)},touchmove:function(e){const moveThreshold=15,touchStartCoords=this.info.touchStartCoords;if(_Mathabs(touchStartCoords.x-e.changedTouches[0].clientX)>moveThreshold||_Mathabs(touchStartCoords.y-e.changedTouches[0].clientY)>moveThreshold){this._cancelTimer()}},touchend:function(e){if(this._fired){e.preventDefault()}this._cancelTimer()},contextmenu:function(e){if(!e.shiftKey){this.info.sourceEvent=e;this.fire(e.target,e.clientX,e.clientY);prevent("tap")}},fire:function(target,x,y){const sourceEvent=this.info.sourceEvent,ev=new Event("vaadin-contextmenu",{bubbles:!0,cancelable:!0,composed:!0});ev.detail={x,y,sourceEvent};target.dispatchEvent(ev);if(ev.defaultPrevented&&sourceEvent&&sourceEvent.preventDefault){sourceEvent.preventDefault()}}});class DeviceDetectorElement extends class extends PolymerElement{}{static get template(){return html`
    <iron-media-query query="min-device-width: 750px" query-matches="{{wide}}"></iron-media-query>
`}static get is(){return"vaadin-device-detector"}static get properties(){return{phone:{type:Boolean,computed:"_phone(wide, touch)",notify:!0},touch:{type:Boolean,notify:!0,value:()=>this._touch()},wide:{type:Boolean,notify:!0}}}static _touch(){try{document.createEvent("TouchEvent");return!0}catch(err){return!1}}_phone(wide,touch){return!wide&&touch}}customElements.define(DeviceDetectorElement.is,DeviceDetectorElement);class ContextMenuItemElement extends ItemElement{static get is(){return"vaadin-context-menu-item"}}class ContextMenuListBoxElement extends ListBoxElement{static get is(){return"vaadin-context-menu-list-box"}}customElements.define(ContextMenuItemElement.is,ContextMenuItemElement);customElements.define(ContextMenuListBoxElement.is,ContextMenuListBoxElement);const ItemsMixin=superClass=>class ItemsMixin extends superClass{static get properties(){return{items:Array}}ready(){super.ready();this.__itemsOutsideClickListener=e=>{if(!e.composedPath().filter(el=>"vaadin-context-menu-overlay"===el.localName)[0]){this.dispatchEvent(new CustomEvent("items-outside-click"))}};this.addEventListener("items-outside-click",e=>this.items&&this.close())}connectedCallback(){super.connectedCallback();document.documentElement.addEventListener("click",this.__itemsOutsideClickListener)}disconnectedCallback(){super.disconnectedCallback();document.documentElement.removeEventListener("click",this.__itemsOutsideClickListener)}__openSubMenu(subMenu,itemElement){subMenu.items=itemElement._item.children;subMenu.listenOn=itemElement;const itemRect=itemElement.getBoundingClientRect(),content=subMenu.$.overlay.$.content,style=getComputedStyle(content),parent=this.$.overlay,y=parent.hasAttribute("bottom-aligned")?itemRect.bottom+parseFloat(style.paddingBottom):itemRect.top-parseFloat(style.paddingTop);subMenu.$.overlay._setParentOverlay(parent);let x;content.style.minWidth="";if(document.documentElement.clientWidth-itemRect.right>itemRect.width){x=itemRect.right}else{x=itemRect.left-itemRect.width;content.style.minWidth=parent.$.content.clientWidth+"px"}x=_Mathmax(x,0);itemElement.dispatchEvent(new CustomEvent("opensubmenu",{detail:{x,y,children:itemElement._item.children}}))}__itemsRenderer(root,menu,context){this.__initMenu(root,menu);const subMenu=root.querySelector("vaadin-context-menu");subMenu.closeOn=menu.closeOn;const listBox=root.querySelector("vaadin-context-menu-list-box");listBox.innerHTML="";const items=Array.from(context.detail.children||menu.items);items.forEach(item=>{let component;if(item.component instanceof HTMLElement){component=item.component}else{component=document.createElement(item.component||"vaadin-context-menu-item")}if("vaadin-context-menu-item"===component.localName){component.setAttribute("role","menuitem")}else if("hr"===component.localName){component.setAttribute("role","separator")}component.classList.add("vaadin-menu-item");component._item=item;if(item.text){component.textContent=item.text}this.__toggleMenuComponentAttribute(component,"menu-item-checked",item.checked);this.__toggleMenuComponentAttribute(component,"disabled",item.disabled);component.setAttribute("aria-haspopup","false");component.classList.remove("vaadin-context-menu-parent-item");if(item.children&&item.children.length){component.classList.add("vaadin-context-menu-parent-item");component.setAttribute("aria-haspopup","true");component.setAttribute("aria-expanded","false");component.removeAttribute("expanded")}listBox.appendChild(component)})}__toggleMenuComponentAttribute(component,attribute,on){if(on){component.setAttribute(attribute,"");component["__has-"+attribute]=!0}else if(component["__has-"+attribute]){component.removeAttribute(attribute);component["__has-"+attribute]=!1}}__initMenu(root,menu){if(!root.firstElementChild){root.innerHTML=`
        <vaadin-context-menu-list-box></vaadin-context-menu-list-box>
        <vaadin-context-menu hidden></vaadin-context-menu>
      `;flush();const listBox=root.querySelector("vaadin-context-menu-list-box");listBox.classList.add("vaadin-menu-list-box");requestAnimationFrame(()=>listBox.setAttribute("role","menu"));const subMenu=root.querySelector("vaadin-context-menu");subMenu.$.overlay.modeless=!0;subMenu.openOn="opensubmenu";menu.addEventListener("opened-changed",e=>!e.detail.value&&subMenu.close());subMenu.addEventListener("opened-changed",e=>{if(!e.detail.value){const expandedItem=listBox.querySelector("[expanded]");if(expandedItem){expandedItem.setAttribute("aria-expanded","false");expandedItem.removeAttribute("expanded")}}});listBox.addEventListener("selected-changed",e=>{if("number"===typeof e.detail.value){const item=e.target.items[e.detail.value]._item;if(!item.children){const detail={value:item};menu.dispatchEvent(new CustomEvent("item-selected",{detail}))}listBox.selected=null}});subMenu.addEventListener("item-selected",e=>{menu.dispatchEvent(new CustomEvent("item-selected",{detail:e.detail}))});subMenu.addEventListener("close-all-menus",()=>{menu.dispatchEvent(new CustomEvent("close-all-menus"))});menu.addEventListener("close-all-menus",menu.close);menu.addEventListener("item-selected",menu.close);menu.$.overlay.$.backdrop.addEventListener("click",()=>menu.close());menu.$.overlay.addEventListener("keydown",e=>{if(37===e.keyCode){menu.close();menu.listenOn.focus()}else if(27===e.keyCode){menu.dispatchEvent(new CustomEvent("close-all-menus"))}});requestAnimationFrame(()=>this.__openListenerActive=!0);const openSubMenu=(e,itemElement=e.composedPath().filter(e=>"vaadin-context-menu-item"===e.localName)[0])=>{if(!this.__openListenerActive){return}if(menu.$.overlay.hasAttribute("opening")){requestAnimationFrame(()=>openSubMenu(e,itemElement));return}if(itemElement){if(subMenu.items!==itemElement._item.children){subMenu.close()}if(menu.opened&&itemElement._item.children&&itemElement._item.children.length){itemElement.setAttribute("aria-expanded","true");itemElement.setAttribute("expanded","");this.__openSubMenu(subMenu,itemElement)}}},openEvent=this._touch?"touchstart":"mouseover";menu.$.overlay.addEventListener(openEvent,openSubMenu);menu.$.overlay.addEventListener("keydown",e=>39===e.keyCode&&openSubMenu(e))}}},$_documentContainer$z=document.createElement("template");$_documentContainer$z.innerHTML=`<dom-module id="vaadin-context-menu-overlay-styles" theme-for="vaadin-context-menu-overlay">
  <template>
    <style>
      :host {
        align-items: flex-start;
        justify-content: flex-start;
      }

      :host([right-aligned]) {
        align-items: flex-end;
      }

      :host([bottom-aligned]) {
        justify-content: flex-end;
      }

      [part="overlay"] {
        background-color: #fff;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$z.content);class ContextMenuOverlayElement extends OverlayElement{static get is(){return"vaadin-context-menu-overlay"}static get properties(){return{instanceProps:{type:Object,value:()=>{return{detail:!0,target:!0}}},parentOverlay:{type:Object,readOnly:!0}}}getBoundaries(){const overlayRect=this.getBoundingClientRect(),contentRect=this.$.overlay.getBoundingClientRect();let yMax=overlayRect.bottom-contentRect.height;const parent=this.parentOverlay;if(parent&&parent.hasAttribute("bottom-aligned")){const parentStyle=getComputedStyle(parent);yMax=yMax-parseFloat(parentStyle.bottom)-parseFloat(parentStyle.height)}return{xMax:overlayRect.right-contentRect.width,yMax,left:overlayRect.left,top:overlayRect.top}}}customElements.define(ContextMenuOverlayElement.is,ContextMenuOverlayElement);class ContextMenuElement extends ElementMixin$1(ThemePropertyMixin(ItemsMixin(GestureEventListeners(PolymerElement)))){static get template(){return html`
    <style>
      :host {
        display: block;
      }

      :host([hidden]) {
        display: none !important;
      }
    </style>

    <slot id="slot"></slot>

    <vaadin-device-detector phone="{{_phone}}" touch="{{_touch}}"></vaadin-device-detector>

    <vaadin-context-menu-overlay id="overlay" on-opened-changed="_onOverlayOpened" on-vaadin-overlay-open="_onVaadinOverlayOpen" with-backdrop="[[_phone]]" phone\$="[[_phone]]" model="[[_context]]" theme\$="[[theme]]">
    </vaadin-context-menu-overlay>
`}static get is(){return"vaadin-context-menu"}static get version(){return"4.3.2"}static get properties(){return{selector:{type:String},opened:{type:Boolean,value:!1,notify:!0,readOnly:!0},openOn:{type:String,value:"vaadin-contextmenu"},listenOn:{type:Object,value:function(){return this}},closeOn:{type:String,value:"click",observer:"_closeOnChanged"},renderer:{type:Function},_context:Object,_boundClose:Object,_boundOpen:Object,_contentTemplate:Object,_oldTemplate:Object,_oldRenderer:Object,_touch:Boolean}}static get observers(){return["_openedChanged(opened)","_contextChanged(_context, _instance)","_targetOrOpenOnChanged(listenOn, openOn)","_templateOrRendererChanged(_contentTemplate, renderer, _context, items)"]}constructor(){super();this._boundOpen=this.open.bind(this);this._boundClose=this.close.bind(this);this._boundOnGlobalContextMenu=this._onGlobalContextMenu.bind(this)}ready(){super.ready();this._observer=new FlattenedNodesObserver(this,info=>{this._setTemplateFromNodes(info.addedNodes)})}_setTemplateFromNodes(nodes){this._contentTemplate=nodes.filter(node=>node.localName&&"template"===node.localName)[0]||this._contentTemplate}_onOverlayOpened(e){this._setOpened(e.detail.value)}_onVaadinOverlayOpen(e){this.__alignOverlayPosition();this.$.overlay.style.opacity="";const child=this.$.overlay.content.querySelector(":not(style):not(slot)");if(child){child.focus()}}_targetOrOpenOnChanged(listenOn,openOn){if(this._oldListenOn&&this._oldOpenOn){this._unlisten(this._oldListenOn,this._oldOpenOn,this._boundOpen);this._oldListenOn.style.webkitTouchCallout="";this._oldListenOn.style.webkitUserSelect="";this._oldListenOn=null;this._oldOpenOn=null}if(listenOn&&openOn){this._listen(listenOn,openOn,this._boundOpen);listenOn.style.webkitTouchCallout="none";listenOn.style.webkitUserSelect="none";this._oldListenOn=listenOn;this._oldOpenOn=openOn}}_closeOnChanged(closeOn,oldCloseOn){const evtOverlay="vaadin-overlay-outside-click";if(oldCloseOn){this._unlisten(this.$.overlay,oldCloseOn,this._boundClose);this._unlisten(this.$.overlay.root,oldCloseOn,this._boundClose)}if(closeOn){this._listen(this.$.overlay,closeOn,this._boundClose);this._listen(this.$.overlay.root,closeOn,this._boundClose);this._unlisten(this.$.overlay,evtOverlay,this._preventDefault)}else{this._listen(this.$.overlay,evtOverlay,this._preventDefault)}}_preventDefault(e){e.preventDefault()}_openedChanged(opened){if(opened){if(!this._instance){this.$.overlay.template=this.querySelector("template");this._instance=this.$.overlay._instance}document.documentElement.addEventListener("contextmenu",this._boundOnGlobalContextMenu,!0)}else{document.documentElement.removeEventListener("contextmenu",this._boundOnGlobalContextMenu,!0)}this.$.overlay.opened=opened}render(){this.$.overlay.render()}_removeNewRendererOrTemplate(template,oldTemplate,renderer,oldRenderer){if(template!==oldTemplate){this._contentTemplate=void 0}else if(renderer!==oldRenderer){this.renderer=void 0}}_templateOrRendererChanged(template,renderer,context,items){if(template&&renderer){this._removeNewRendererOrTemplate(template,this._oldTemplate,renderer,this._oldRenderer);throw new Error("You should only use either a renderer or a template for context-menu content")}this._oldTemplate=template;this._oldRenderer=renderer;if(items){if(template||renderer){throw new Error("The items API cannot be used together with a template/renderer")}if("click"===this.closeOn){this.closeOn=""}renderer=this.__itemsRenderer}if(renderer&&context){this.$.overlay.setProperties({owner:this,renderer:renderer})}}_contextChanged(context,instance){if(context===void 0||instance===void 0){return}instance.detail=context.detail;instance.target=context.target}close(){this._setOpened(!1)}_contextTarget(e){if(this.selector){const targets=this.listenOn.querySelectorAll(this.selector);return Array.prototype.filter.call(targets,el=>{return-1<e.composedPath().indexOf(el)})[0]}else{return e.target}}open(e){if(e&&!this.opened){this._context={detail:e.detail,target:this._contextTarget(e)};if(this._context.target){this._preventDefault(e);e.stopPropagation();this.__x=this._getEventCoordinate(e,"x");this.__y=this._getEventCoordinate(e,"y");this.$.overlay.style.opacity="0";this._setOpened(!0)}}}__alignOverlayPosition(){const overlay=this.$.overlay,style=overlay.style;["top","right","bottom","left"].forEach(prop=>style.removeProperty(prop));["right-aligned","bottom-aligned"].forEach(attr=>overlay.removeAttribute(attr));const{xMax,yMax,left,top}=overlay.getBoundaries(),x=this.__x||left,y=this.__y||top,wdthVport=document.documentElement.clientWidth,hghtVport=document.documentElement.clientHeight;if(x<wdthVport/2||x<xMax){style.left=x+"px"}else{style.right=_Mathmax(0,wdthVport-x)+"px";overlay.setAttribute("right-aligned","")}if(y<hghtVport/2||y<yMax){style.top=y+"px"}else{style.bottom=_Mathmax(0,hghtVport-y)+"px";overlay.setAttribute("bottom-aligned","")}}_getEventCoordinate(event,coord){if(event.detail instanceof Object){if(event.detail[coord]){return event.detail[coord]}else if(event.detail.sourceEvent){return this._getEventCoordinate(event.detail.sourceEvent,coord)}}else{const prop="client"+coord.toUpperCase();return event.changedTouches?event.changedTouches[0][prop]:event[prop]}}_listen(node,evType,handler){if(gestures[evType]){addListener(node,evType,handler)}else{node.addEventListener(evType,handler)}}_unlisten(node,evType,handler){if(gestures[evType]){removeListener(node,evType,handler)}else{node.removeEventListener(evType,handler)}}_onGlobalContextMenu(e){if(!e.shiftKey){e.preventDefault();this.close()}}}customElements.define(ContextMenuElement.is,ContextMenuElement);const $_documentContainer$A=html`<dom-module id="lumo-tab" theme-for="vaadin-tab">
  <template>
    <style>
      :host {
        box-sizing: border-box;
        padding: 0.5rem 0.75rem;
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        line-height: var(--lumo-line-height-xs);
        font-weight: 500;
        text-align: center;
        opacity: 1;
        color: var(--lumo-contrast-60pct);
        transition: 0.15s color, 0.2s transform;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        position: relative;
        cursor: pointer;
        transform-origin: 50% 100%;
        outline: none;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow: hidden;
        min-width: var(--lumo-size-m);
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      :host([orientation="vertical"]) {
        transform-origin: 0% 50%;
        padding: 0.25rem 1rem;
        min-height: var(--lumo-size-m);
        min-width: 0;
      }

      :host(:hover),
      :host([focus-ring]) {
        color: var(--lumo-body-text-color);
      }

      :host([selected]) {
        color: var(--lumo-primary-text-color);
        transition: 0.6s color;
      }

      :host([active]:not([selected])) {
        color: var(--lumo-primary-text-color);
        transition-duration: 0.1s;
      }

      :host::before,
      :host::after {
        content: "";
        position: absolute;
        display: var(--_lumo-tab-marker-display, block);
        bottom: 0;
        left: 50%;
        width: var(--lumo-size-s);
        height: 2px;
        background-color: var(--lumo-contrast-60pct);
        border-radius: var(--lumo-border-radius) var(--lumo-border-radius) 0 0;
        transform: translateX(-50%) scale(0);
        transform-origin: 50% 100%;
        transition: 0.14s transform cubic-bezier(.12, .32, .54, 1);
        will-change: transform;
      }

      :host([selected])::before,
      :host([selected])::after {
        background-color: var(--lumo-primary-color);
      }

      :host([orientation="vertical"])::before,
      :host([orientation="vertical"])::after {
        left: 0;
        bottom: 50%;
        transform: translateY(50%) scale(0);
        width: 2px;
        height: var(--lumo-size-xs);
        border-radius: 0 var(--lumo-border-radius) var(--lumo-border-radius) 0;
        transform-origin: 100% 50%;
      }

      :host::after {
        box-shadow: 0 0 0 4px var(--lumo-primary-color);
        opacity: 0.15;
        transition: 0.15s 0.02s transform, 0.8s 0.17s opacity;
      }

      :host([selected])::before,
      :host([selected])::after {
        transform: translateX(-50%) scale(1);
        transition-timing-function: cubic-bezier(.12, .32, .54, 1.5);
      }

      :host([orientation="vertical"][selected])::before,
      :host([orientation="vertical"][selected])::after {
        transform: translateY(50%) scale(1);
      }

      :host([selected]:not([active]))::after {
        opacity: 0;
      }

      :host ::slotted(iron-icon) {
        margin: 0 4px;
        width: var(--lumo-icon-size-m);
        height: var(--lumo-icon-size-m);
      }

      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
      :host ::slotted(iron-icon[icon^="vaadin:"]) {
        padding: 0.25rem;
        box-sizing: border-box !important;
      }

      :host ::slotted(iron-icon:first-child) {
        margin-left: 0;
      }

      :host ::slotted(iron-icon:last-child) {
        margin-right: 0;
      }

      :host([theme~="icon-on-top"]) {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-around;
        text-align: center;
        padding-bottom: 0.5rem;
        padding-top: 0.25rem;
      }

      :host([theme~="icon-on-top"]) ::slotted(iron-icon) {
        margin: 0;
      }

      /* Disabled */

      :host([disabled]) {
        pointer-events: none;
        opacity: 1;
        color: var(--lumo-disabled-text-color);
      }

      /* Focus-ring */

      :host([focus-ring]) {
        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
        border-radius: var(--lumo-border-radius);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$A.content);class TabElement extends ElementMixin$1(ThemableMixin(ItemMixin(PolymerElement))){static get template(){return html`
    <slot></slot>
`}static get is(){return"vaadin-tab"}static get version(){return"2.1.2"}ready(){super.ready();this.setAttribute("role","tab")}}customElements.define(TabElement.is,TabElement);const $_documentContainer$B=html`<dom-module id="lumo-tabs" theme-for="vaadin-tabs">
  <template>
    <style>
      :host {
        -webkit-tap-highlight-color: transparent;
      }

      :host(:not([orientation="vertical"])) {
        box-shadow: inset 0 -1px 0 0 var(--lumo-contrast-10pct);
        position: relative;
        min-height: var(--lumo-size-l);
      }

      :host([orientation="horizontal"]) [part="tabs"] ::slotted(vaadin-tab:not([theme~="icon-on-top"])) {
        justify-content: center;
      }

      :host([orientation="vertical"]) {
        box-shadow: -1px 0 0 0 var(--lumo-contrast-10pct);
        display: inline-flex;
      }

      :host([orientation="horizontal"]) [part="tabs"] {
        margin: 0 0.75rem;
      }

      :host([orientation="vertical"]) [part="tabs"] {
        width: 100%;
        margin: 0.5rem 0;
      }

      [part="forward-button"],
      [part="back-button"] {
        position: absolute;
        z-index: 1;
        font-family: lumo-icons;
        color: var(--lumo-tertiary-text-color);
        font-size: var(--lumo-icon-size-m);
        display: flex;
        align-items: center;
        justify-content: center;
        width: 1.5em;
        height: 100%;
        transition: 0.2s opacity;
        top: 0;
      }

      [part="forward-button"]:hover,
      [part="back-button"]:hover {
        color: inherit;
      }

      [part="forward-button"] {
        right: 0;
      }

      [part="forward-button"]::after {
        content: var(--lumo-icons-angle-right);
      }

      [part="back-button"]::after {
        content: var(--lumo-icons-angle-left);
      }

      /* Tabs overflow */

      [part="tabs"] {
        --_lumo-tabs-overflow-mask-image: none;
        -webkit-mask-image: var(--_lumo-tabs-overflow-mask-image);
        /* For IE11 */
        min-height: var(--lumo-size-l);
      }

      /*
        TODO: CSS custom property in \`mask-image\` causes crash in Edge
        see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/15415089/
      */
      @-moz-document url-prefix() {
        [part="tabs"] {
          mask-image: var(--_lumo-tabs-overflow-mask-image);
        }
      }

      /* Horizontal tabs overflow */

      /* Both ends overflowing */
      :host([overflow~="start"][overflow~="end"]:not([orientation="vertical"])) [part="tabs"] {
        --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, transparent 2em, #000 4em, #000 calc(100% - 4em), transparent calc(100% - 2em));
      }

      /* End overflowing */
      :host([overflow~="end"]:not([orientation="vertical"])) [part="tabs"] {
        --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, #000 calc(100% - 4em), transparent calc(100% - 2em));
      }

      /* Start overflowing */
      :host([overflow~="start"]:not([orientation="vertical"])) [part="tabs"] {
        --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, transparent 2em, #000 4em);
      }

      /* Vertical tabs overflow */

      /* Both ends overflowing */
      :host([overflow~="start"][overflow~="end"][orientation="vertical"]) [part="tabs"] {
        --_lumo-tabs-overflow-mask-image: linear-gradient(transparent, #000 2em, #000 calc(100% - 2em), transparent);
      }

      /* End overflowing */
      :host([overflow~="end"][orientation="vertical"]) [part="tabs"] {
        --_lumo-tabs-overflow-mask-image: linear-gradient(#000 calc(100% - 2em), transparent);
      }

      /* Start overflowing */
      :host([overflow~="start"][orientation="vertical"]) [part="tabs"] {
        --_lumo-tabs-overflow-mask-image: linear-gradient(transparent, #000 2em);
      }

      :host [part="tabs"] ::slotted(:not(vaadin-tab)) {
        margin-left: var(--lumo-space-m);
      }

      /* Centered */

      :host([theme~="centered"][orientation="horizontal"]) [part="tabs"] {
        justify-content: center;
      }

      /* Small */

      :host([theme~="small"]),
      :host([theme~="small"]) [part="tabs"] {
        min-height: var(--lumo-size-m);
      }

      :host([theme~="small"]) [part="tabs"] ::slotted(vaadin-tab) {
        font-size: var(--lumo-font-size-s);
      }

      /* Minimal */

      :host([theme~="minimal"]) {
        box-shadow: none;
        /* This doesn't work with ShadyCSS */
        --_lumo-tab-marker-display: none;
      }

      /* Workaround for the above ShadyCSS issue */
      :host([theme~="minimal"]) [part="tabs"] ::slotted(vaadin-tab[selected])::before,
      :host([theme~="minimal"]) [part="tabs"] ::slotted(vaadin-tab[selected])::after {
        display: none;
      }

      /* Hide-scroll-buttons */

      :host([theme~="hide-scroll-buttons"]) [part="back-button"],
      :host([theme~="hide-scroll-buttons"]) [part="forward-button"] {
        display: none;
      }

      :host([theme~="hide-scroll-buttons"][overflow~="start"][overflow~="end"]:not([orientation="vertical"])) [part="tabs"] {
        --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, transparent, #000 2em, #000 calc(100% - 2em), transparent 100%);
      }

      :host([theme~="hide-scroll-buttons"][overflow~="end"]:not([orientation="vertical"])) [part="tabs"] {
        --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, #000 calc(100% - 2em), transparent 100%);
      }

      :host([theme~="hide-scroll-buttons"][overflow~="start"]:not([orientation="vertical"])) [part="tabs"] {
        --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, transparent, #000 2em);
      }

      /* Equal-width tabs */
      :host([theme~="equal-width-tabs"]) {
        flex: auto;
      }

      :host([theme~="equal-width-tabs"]) [part="tabs"] ::slotted(vaadin-tab) {
        flex: 1 0 0%;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$B.content);const safari10=/Apple.* Version\/(9|10)/.test(navigator.userAgent);class TabsElement extends ElementMixin$1(ListMixin(ThemableMixin(mixinBehaviors([IronResizableBehavior],PolymerElement)))){static get template(){return html`
    <style>
      :host {
        display: flex;
        align-items: center;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host([orientation="vertical"]) {
        display: block;
      }

      :host([orientation="horizontal"]) [part="tabs"] {
        flex-grow: 1;
        display: flex;
        align-self: stretch;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        -ms-overflow-style: none;
      }

      /* This seems more future-proof than \`overflow: -moz-scrollbars-none\` which is marked obsolete
         and is no longer guaranteed to work:
         https://developer.mozilla.org/en-US/docs/Web/CSS/overflow#Mozilla_Extensions */
      @-moz-document url-prefix() {
        :host([orientation="horizontal"]) [part="tabs"] {
          overflow: hidden;
        }
      }

      :host([orientation="horizontal"]) [part="tabs"]::-webkit-scrollbar {
        display: none;
      }

      :host([orientation="vertical"]) [part="tabs"] {
        height: 100%;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }

      [part="back-button"],
      [part="forward-button"] {
        pointer-events: none;
        opacity: 0;
        cursor: default;
      }

      :host([overflow~="start"]) [part="back-button"],
      :host([overflow~="end"]) [part="forward-button"] {
        pointer-events: auto;
        opacity: 1;
      }

      [part="back-button"]::after {
        content: '';
      }

      [part="forward-button"]::after {
        content: '';
      }

      :host([orientation="vertical"]) [part="back-button"],
      :host([orientation="vertical"]) [part="forward-button"] {
        display: none;
      }
    </style>
    <div on-click="_scrollBack" part="back-button"></div>

    <div id="scroll" part="tabs">
      <slot></slot>
    </div>

    <div on-click="_scrollForward" part="forward-button"></div>
`}static get is(){return"vaadin-tabs"}static get version(){return"2.1.2"}static get properties(){return{orientation:{value:"horizontal",type:String},selected:{value:0,type:Number}}}static get observers(){return["_updateOverflow(items.*, vertical)"]}ready(){super.ready();this.addEventListener("iron-resize",()=>this._updateOverflow());this._scrollerElement.addEventListener("scroll",()=>this._updateOverflow());this.setAttribute("role","tablist");afterNextRender(this,()=>{this._updateOverflow()})}_scrollForward(){this._scroll(this._scrollOffset)}_scrollBack(){this._scroll(-1*this._scrollOffset)}get _scrollOffset(){return this._vertical?this._scrollerElement.offsetHeight:this._scrollerElement.offsetWidth}get _scrollerElement(){return this.$.scroll}_updateOverflow(){const scrollPosition=this._vertical?this._scrollerElement.scrollTop:this._scrollerElement.scrollLeft;let scrollSize=this._vertical?this._scrollerElement.scrollHeight:this._scrollerElement.scrollWidth;scrollSize-=1;let overflow=0<scrollPosition?"start":"";overflow+=scrollPosition+this._scrollOffset<scrollSize?" end":"";overflow?this.setAttribute("overflow",overflow.trim()):this.removeAttribute("overflow");this._repaintShadowNodesHack()}_repaintShadowNodesHack(){if(safari10&&this.root){const WEBKIT_PROPERTY="-webkit-backface-visibility";this.root.querySelectorAll("*").forEach(el=>{el.style[WEBKIT_PROPERTY]="visible";el.style[WEBKIT_PROPERTY]=""})}}}customElements.define(TabsElement.is,TabsElement);class Material extends HTMLElement{static get version(){return"1.2.1"}}customElements.define("vaadin-material-styles",Material);const $_documentContainer$C=document.createElement("template");$_documentContainer$C.innerHTML=`<dom-module id="lumo-ordered-layout">
  <template>
    <style>
      :host([theme~="margin"]) {
        margin: var(--lumo-space-m);
      }

      :host([theme~="padding"]) {
        padding: var(--lumo-space-m);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$C.content);const $_documentContainer$D=document.createElement("template");$_documentContainer$D.innerHTML=`<dom-module id="lumo-horizontal-layout" theme-for="vaadin-horizontal-layout">
  <template>
    <style include="lumo-ordered-layout">
      :host([theme~="spacing-xs"]) ::slotted(*) {
        margin-left: var(--lumo-space-xs);
      }

      :host([theme~="spacing-s"]) ::slotted(*) {
        margin-left: var(--lumo-space-s);
      }

      :host([theme~="spacing"]) ::slotted(*) {
        margin-left: var(--lumo-space-m);
      }

      :host([theme~="spacing-l"]) ::slotted(*) {
        margin-left: var(--lumo-space-l);
      }

      :host([theme~="spacing-xl"]) ::slotted(*) {
        margin-left: var(--lumo-space-xl);
      }

      /*
        Compensate for the first item margin, so that there is no gap around
        the layout itself.
       */
      :host([theme~="spacing-xs"])::before {
        content: "";
        margin-left: calc(var(--lumo-space-xs) * -1);
      }

      :host([theme~="spacing-s"])::before {
        content: "";
        margin-left: calc(var(--lumo-space-s) * -1);
      }

      :host([theme~="spacing"])::before {
        content: "";
        margin-left: calc(var(--lumo-space-m) * -1);
      }

      :host([theme~="spacing-l"])::before {
        content: "";
        margin-left: calc(var(--lumo-space-l) * -1);
      }

      :host([theme~="spacing-xl"])::before {
        content: "";
        margin-left: calc(var(--lumo-space-xl) * -1);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$D.content);class HorizontalLayoutElement extends ElementMixin$1(ThemableMixin(PolymerElement)){static get template(){return html`
    <style>
      :host {
        display: flex;
        box-sizing: border-box;
      }

      :host([hidden]) {
        display: none !important;
      }

      /* Theme variations */
      :host([theme~="margin"]) {
        margin: 1em;
      }

      :host([theme~="padding"]) {
        padding: 1em;
      }

      :host([theme~="spacing"]) ::slotted(*) {
        margin-left: 1em;
      }

      /*
        Compensate for the first item margin, so that there is no gap around
        the layout itself.
       */
      :host([theme~="spacing"])::before {
        content: "";
        margin-left: -1em;
      }
    </style>

    <slot></slot>
`}static get is(){return"vaadin-horizontal-layout"}static get version(){return"1.1.0"}}customElements.define(HorizontalLayoutElement.is,HorizontalLayoutElement);const $_documentContainer$E=document.createElement("template");$_documentContainer$E.innerHTML=`<dom-module id="lumo-vertical-layout" theme-for="vaadin-vertical-layout">
  <template>
    <style include="lumo-ordered-layout">
      :host([theme~="spacing-xs"]) ::slotted(*) {
        margin-top: var(--lumo-space-xs);
      }

      :host([theme~="spacing-s"]) ::slotted(*) {
        margin-top: var(--lumo-space-s);
      }

      :host([theme~="spacing"]) ::slotted(*) {
        margin-top: var(--lumo-space-m);
      }

      :host([theme~="spacing-l"]) ::slotted(*) {
        margin-top: var(--lumo-space-l);
      }

      :host([theme~="spacing-xl"]) ::slotted(*) {
        margin-top: var(--lumo-space-xl);
      }

      /*
        Compensate for the first item margin, so that there is no gap around
        the layout itself.
       */
       :host([theme~="spacing-xs"])::before {
         content: "";
         margin-top: calc(var(--lumo-space-xs) * -1);
       }

       :host([theme~="spacing-s"])::before {
         content: "";
         margin-top: calc(var(--lumo-space-s) * -1);
       }

      :host([theme~="spacing"])::before {
        content: "";
        margin-top: calc(var(--lumo-space-m) * -1);
      }

      :host([theme~="spacing-l"])::before {
        content: "";
        margin-top: calc(var(--lumo-space-l) * -1);
      }

      :host([theme~="spacing-xl"])::before {
        content: "";
        margin-top: calc(var(--lumo-space-xl) * -1);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$E.content);class VerticalLayoutElement extends ElementMixin$1(ThemableMixin(PolymerElement)){static get template(){return html`
    <style>
      :host {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        box-sizing: border-box;
      }

      :host([hidden]) {
        display: none !important;
      }

      /* Theme variations */
      :host([theme~="margin"]) {
        margin: 1em;
      }

      :host([theme~="padding"]) {
        padding: 1em;
      }

      :host([theme~="spacing"]) ::slotted(*) {
        margin-top: 1em;
      }

      /*
        Compensate for the first item margin, so that there is no gap around
        the layout itself.
       */
      :host([theme~="spacing"])::before {
        content: "";
        margin-top: -1em;
      }
    </style>

    <slot></slot>
`}static get is(){return"vaadin-vertical-layout"}static get version(){return"1.1.0"}}customElements.define(VerticalLayoutElement.is,VerticalLayoutElement);const $_documentContainer$F=html`<dom-module id="lumo-form-layout" theme-for="vaadin-form-layout">
  <template>
    <style>
      :host {
        --vaadin-form-layout-column-spacing: var(--lumo-space-l);
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$F.content);class FormLayoutElement extends ElementMixin$1(ThemableMixin(mixinBehaviors([IronResizableBehavior],PolymerElement))){static get template(){return html`
    <style>
      :host {
        display: block;
        max-width: 100%;
        animation: 1ms vaadin-form-layout-appear;
        /* CSS API for host */
        --vaadin-form-layout-column-spacing: 2em; /* (default) */
        align-self: stretch;
      }

      @keyframes vaadin-form-layout-appear {
        to {
          opacity: 1;
        }
      }

      :host([hidden]) {
        display: none !important;
      }

      #layout {
        display: flex;

        align-items: baseline; /* default \`stretch\` is not appropriate */

        flex-wrap: wrap; /* the items should wrap */
      }

      #layout ::slotted(*) {
        /* Items should neither grow nor shrink. */
        flex-grow: 0;
        flex-shrink: 0;

        /* Margins make spacing between the columns */
        margin-left: calc(0.5 * var(--vaadin-form-layout-column-spacing));
        margin-right: calc(0.5 * var(--vaadin-form-layout-column-spacing));
      }

      #layout ::slotted(br) {
        /*
          Line break element wraps the following item on a new line. Makes
          a block with zero height, stretched to fill all the available width
          of layout, so that the next sibling item is wrapped for sure.
        */
        display: block;
        content: '';
        flex: 1 1 100%;
      }
    </style>
    <div id="layout">
      <slot id="slot"></slot>
    </div>
`}static get is(){return"vaadin-form-layout"}static get version(){return"2.1.2"}static get properties(){return{responsiveSteps:{type:Array,value:function(){return[{minWidth:0,columns:1,labelsPosition:"top"},{minWidth:"20em",columns:1},{minWidth:"40em",columns:2}]},observer:"_responsiveStepsChanged"},_columnCount:{type:Number},_labelsOnTop:{type:Boolean}}}static get observers(){return["_invokeUpdateStyles(_columnCount, _labelsOnTop)"]}ready(){this._styleElement=document.createElement("style");this.root.appendChild(this._styleElement);this._styleElement.textContent=" ";if(window.ShadyDOM){window.ShadyDOM.flush()}super.ready();this.addEventListener("iron-resize",this._selectResponsiveStep);this.addEventListener("animationend",this.__onAnimationEnd)}connectedCallback(){super.connectedCallback();beforeNextRender(this,this._selectResponsiveStep);beforeNextRender(this,this.updateStyles);this._observeChildrenColspanChange()}disconnectedCallback(){super.disconnectedCallback();this.__mutationObserver.disconnect();this.__childObserver.disconnect()}_observeChildrenColspanChange(){const mutationObserverConfig={attributes:!0};this.__mutationObserver=new MutationObserver(mutationRecord=>{mutationRecord.forEach(mutation=>{if("attributes"===mutation.type&&"colspan"===mutation.attributeName){this._invokeUpdateStyles()}})});this.__childObserver=new FlattenedNodesObserver(this,info=>{const ignore=["template","style","dom-repeat","dom-if"],nodes=Array.from(info.addedNodes).filter(node=>node.nodeType===Node.ELEMENT_NODE&&-1===ignore.indexOf(node.localName.toLowerCase()));nodes.forEach(child=>{this.__mutationObserver.observe(child,mutationObserverConfig)});if(nodes.some(node=>node.hasAttribute("colspan"))){this._invokeUpdateStyles()}})}_naturalNumberOrOne(n){if("number"===typeof n&&1<=n&&n<1/0){return _Mathfloor(n)}return 1}_isValidCSSLength(value){if("inherit"===value||"normal"===value){return!1}this._styleElement.firstChild.nodeValue=`#styleElement { word-spacing: ${value}; }`;if(!this._styleElement.sheet){return!0}return 0>["",null].indexOf(this._styleElement.sheet.cssRules[0].style.getPropertyValue("word-spacing"))}_responsiveStepsChanged(responsiveSteps,oldResponsiveSteps){try{if(!Array.isArray(responsiveSteps)){throw new Error("Invalid \"responsiveSteps\" type, an Array is required.")}if(1>responsiveSteps.length){throw new Error("Invalid empty \"responsiveSteps\" array, at least one item is required.")}responsiveSteps.forEach(step=>{if(this._naturalNumberOrOne(step.columns)!==step.columns){throw new Error(`Invalid 'columns' value of ${step.columns}, a natural number is required.`)}if(step.minWidth!==void 0&&!this._isValidCSSLength(step.minWidth)){throw new Error(`Invalid 'minWidth' value of ${step.minWidth}, a valid CSS length required.`)}if(step.labelsPosition!==void 0&&-1===["aside","top"].indexOf(step.labelsPosition)){throw new Error(`Invalid 'labelsPosition' value of ${step.labelsPosition}, 'aside' or 'top' string is required.`)}})}catch(e){if(oldResponsiveSteps&&oldResponsiveSteps!==responsiveSteps){console.warn(`${e.message} Using previously set 'responsiveSteps' instead.`);this.responsiveSteps=oldResponsiveSteps}else{console.warn(`${e.message} Using default 'responsiveSteps' instead.`);this.responsiveSteps=[{minWidth:0,columns:1,labelsPosition:"top"},{minWidth:"20em",columns:1},{minWidth:"40em",columns:2}]}}this._selectResponsiveStep()}__onAnimationEnd(e){if(0===e.animationName.indexOf("vaadin-form-layout-appear")){this._selectResponsiveStep()}}_selectResponsiveStep(){let selectedStep;const tmpStyleProp="background-position";this.responsiveSteps.forEach(step=>{this.$.layout.style.setProperty(tmpStyleProp,step.minWidth);const stepMinWidthPx=parseFloat(getComputedStyle(this.$.layout).getPropertyValue(tmpStyleProp));if(stepMinWidthPx<=this.offsetWidth){selectedStep=step}});this.$.layout.style.removeProperty(tmpStyleProp);if(selectedStep){this._columnCount=selectedStep.columns;this._labelsOnTop="top"===selectedStep.labelsPosition}if(/\b(Edge|Trident)\//.test(navigator.userAgent)){if(this.offsetWidth!==this._lastOffsetWidth){this.updateStyles();this._lastOffsetWidth=this.offsetWidth}}}_invokeUpdateStyles(){this.updateStyles()}updateStyles(...args){super.updateStyles(...args);const columnSpacing=window.ShadyCSS?window.ShadyCSS.getComputedStyleValue(this,"--vaadin-form-layout-column-spacing"):getComputedStyle(this).getPropertyValue("--vaadin-form-layout-column-spacing"),direction=getComputedStyle(this).direction,marginStartProp="margin-"+("ltr"===direction?"left":"right"),marginEndProp="margin-"+("ltr"===direction?"right":"left"),containerWidth=this.offsetWidth;if(window.ShadyDOM){window.ShadyDOM.flush()}let col=0;Array.from(this.children).forEach(child=>{if("none"!==getComputedStyle(child).display){let colspan;if("br"===child.localName){colspan=this._columnCount-col}else{colspan=this._naturalNumberOrOne(parseFloat(child.getAttribute("colspan")));colspan=_Mathmin(colspan,this._columnCount)}const childRatio=colspan/this._columnCount;if("br"===child.localName){child.style.paddingRight=`calc(${childRatio*containerWidth}px - ${1-childRatio} * ${columnSpacing})`}else{child.style.width=`calc(${99.9*childRatio}% - ${1-childRatio} * ${columnSpacing})`}if(col+colspan>this._columnCount){col=0}if(0===col){child.style.setProperty(marginStartProp,"0px")}else{child.style.removeProperty(marginStartProp)}if(col+colspan===this._columnCount){child.style.setProperty(marginEndProp,"0px")}else{child.style.removeProperty(marginEndProp)}col=(col+colspan)%this._columnCount;if("vaadin-form-item"===child.localName){if(this._labelsOnTop){child.setAttribute("label-position","top")}else{child.removeAttribute("label-position")}}}})}}customElements.define(FormLayoutElement.is,FormLayoutElement);const $_documentContainer$G=html`<dom-module id="lumo-form-item" theme-for="vaadin-form-item">
  <template>
    <style>
      :host {
        --vaadin-form-item-row-spacing: 0;
      }

      /* font-weight, margin-bottom, transition and line-height same values as for part label in text-field */
      [part="label"] {
        color: var(--lumo-secondary-text-color);
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-s);
        font-weight: 500;
        margin-top: var(--lumo-space-m);
        margin-left: calc(var(--lumo-border-radius) / 4);
        margin-bottom: var(--lumo-space-xs);
        transition: color 0.4s;
        line-height: 1.333;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$G.content);class FormItemElement extends ThemableMixin(PolymerElement){static get template(){return html`
    <style>
      :host {
        display: inline-flex;
        flex-direction: row;
        align-items: baseline;

        /* CSS API for host */
        --vaadin-form-item-label-width: 8em;
        --vaadin-form-item-label-spacing: 1em;
        --vaadin-form-item-row-spacing: 1em;

        margin: calc(0.5 * var(--vaadin-form-item-row-spacing)) 0;
      }

      :host([label-position="top"]) {
        flex-direction: column;
        align-items: stretch;
      }

      #label {
        width: var(--vaadin-form-item-label-width);
        flex: 0 0 auto;
      }

      :host([label-position="top"]) #label {
        width: auto;
      }

      #spacing {
        width: var(--vaadin-form-item-label-spacing);
        flex: 0 0 auto;
      }

      #content {
        flex: 1 1 auto;
      }

      #content ::slotted(.full-width) {
        box-sizing: border-box;
        width: 100%;
        min-width: 0;
      }
    </style>
    <div id="label" part="label" on-click="_onLabelClick">
      <slot name="label" id="labelSlot"></slot>
    </div>
    <div id="spacing"></div>
    <div id="content">
      <slot id="contentSlot"></slot>
    </div>
`}static get is(){return"vaadin-form-item"}static get properties(){return{}}_onLabelClick(e){const firstContentElementChild=Array.prototype.filter.call(this.$.contentSlot.assignedNodes(),e=>e.nodeType===Node.ELEMENT_NODE)[0];if(firstContentElementChild){firstContentElementChild.focus();firstContentElementChild.click()}}}customElements.define(FormItemElement.is,FormItemElement);const $_documentContainer$H=document.createElement("template");$_documentContainer$H.innerHTML=`<dom-module id="vaadin-select-overlay-styles" theme-for="vaadin-select-overlay">
  <template>
    <style>
      :host {
        align-items: flex-start;
        justify-content: flex-start;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$H.content);class SelectOverlayElement extends OverlayElement{static get is(){return"vaadin-select-overlay"}}customElements.define(SelectOverlayElement.is,SelectOverlayElement);let memoizedTemplate$1;class SelectTextFieldElement extends TextFieldElement{static get is(){return"vaadin-select-text-field"}static get template(){if(super.template.content.querySelector("slot[name=\"input\"]")){return super.template}if(!memoizedTemplate$1){memoizedTemplate$1=super.template.cloneNode(!0);const slot=document.createElement("slot");slot.setAttribute("name","value");const input=memoizedTemplate$1.content.querySelector("input");input.parentElement.replaceChild(slot,input);slot.appendChild(input)}return memoizedTemplate$1}get focusElement(){return this.shadowRoot.querySelector("[part=input-field]")}get inputElement(){return this.shadowRoot.querySelector("input")}}customElements.define(SelectTextFieldElement.is,SelectTextFieldElement);const $_documentContainer$I=document.createElement("template");$_documentContainer$I.innerHTML=`<custom-style>
  <style>
    @font-face {
      font-family: "vaadin-select-icons";
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAASEAAsAAAAABDgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIGKmNtYXAAAAFoAAAAVAAAAFQXVtKHZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAHwAAAB8CohkJ2hlYWQAAAJAAAAANgAAADYOavgEaGhlYQAAAngAAAAkAAAAJAarA8ZobXR4AAACnAAAABQAAAAUCAABP2xvY2EAAAKwAAAADAAAAAwAKABSbWF4cAAAArwAAAAgAAAAIAAHABduYW1lAAAC3AAAAYYAAAGGmUoJ+3Bvc3QAAARkAAAAIAAAACAAAwAAAAMEAAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QADwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkA//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQE/AUAC6QIVABQAAAEwFx4BFxYxMDc+ATc2MTAjKgEjIgE/ISJPIiEhIk8iIUNCoEJDAhUhIk8iISEiTyIhAAEAAAABAABvL5bdXw889QALBAAAAAAA1jHaeQAAAADWMdp5AAAAAALpAhUAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAAukAAQAAAAAAAAAAAAAAAAAAAAUEAAAAAAAAAAAAAAAAAAAABAABPwAAAAAACgAUAB4APgABAAAABQAVAAEAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
</custom-style>`;document.head.appendChild($_documentContainer$I.content);class SelectElement extends ElementMixin$1(ControlStateMixin(ThemableMixin(ThemePropertyMixin(mixinBehaviors(IronResizableBehavior,PolymerElement))))){static get template(){return html`
    <style>
      :host {
        display: inline-block;
      }

      vaadin-select-text-field {
        width: 100%;
        min-width: 0;
      }

      :host([hidden]) {
        display: none !important;
      }

      [part="toggle-button"] {
        font-family: "vaadin-select-icons";
      }

      [part="toggle-button"]::before {
        content: "\\e900";
      }
    </style>

    <vaadin-select-text-field placeholder="[[placeholder]]" label="[[label]]" required="[[required]]" invalid="[[invalid]]" error-message="[[errorMessage]]" readonly\$="[[readonly]]" theme\$="[[theme]]">
      <slot name="prefix" slot="prefix"></slot>
      <div part="value"></div>
      <div part="toggle-button" slot="suffix" role="button" aria-label="Toggle"></div>
    </vaadin-select-text-field>
    <vaadin-select-overlay opened="{{opened}}" with-backdrop="[[_phone]]" phone\$="[[_phone]]" theme\$="[[theme]]"></vaadin-select-overlay>

    <iron-media-query query="[[_phoneMediaQuery]]" query-matches="{{_phone}}"></iron-media-query>
`}static get is(){return"vaadin-select"}static get version(){return"2.0.4"}static get properties(){return{opened:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:"_openedChanged"},renderer:Function,errorMessage:{type:String,value:""},label:{type:String},value:{type:String,value:"",notify:!0,observer:"_valueChanged"},required:{type:Boolean,reflectToAttribute:!0,observer:"_requiredChanged"},invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},name:{type:String,reflectToAttribute:!0},placeholder:{type:String},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},_phone:Boolean,_phoneMediaQuery:{value:"(max-width: 420px), (max-height: 420px)"},_overlayElement:Object,_inputElement:Object,_toggleElement:Object,_items:Object,_contentTemplate:Object,_oldTemplate:Object,_oldRenderer:Object}}static get observers(){return["_updateSelectedItem(value, _items)","_updateAriaExpanded(opened, _toggleElement)","_templateOrRendererChanged(_contentTemplate, renderer, _overlayElement)"]}constructor(){super();this._boundSetPosition=this._setPosition.bind(this)}connectedCallback(){super.connectedCallback();this.addEventListener("iron-resize",this._boundSetPosition)}ready(){super.ready();this._overlayElement=this.shadowRoot.querySelector("vaadin-select-overlay");this._valueElement=this.shadowRoot.querySelector("[part=\"value\"]");this._toggleElement=this.shadowRoot.querySelector("[part=\"toggle-button\"]");this._nativeInput=this.focusElement.shadowRoot.querySelector("input");this._nativeInput.setAttribute("aria-hidden",!0);this._nativeInput.setAttribute("tabindex",-1);this._nativeInput.style.pointerEvents="none";this.focusElement.addEventListener("click",e=>this.opened=!this.readonly);this.focusElement.addEventListener("keydown",e=>this._onKeyDown(e));this._observer=new FlattenedNodesObserver(this,info=>this._setTemplateFromNodes(info.addedNodes));this._observer.flush()}_setTemplateFromNodes(nodes){const template=Array.from(nodes).filter(node=>node.localName&&"template"===node.localName)[0]||this._contentTemplate;this._overlayElement.template=this._contentTemplate=template;this._setForwardHostProps()}_setForwardHostProps(){if(this._overlayElement.content){const origForwardHostProp=this._overlayElement._instance&&this._overlayElement._instance.forwardHostProp;if(this._overlayElement._instance){this._overlayElement._instance.forwardHostProp=(...args)=>{origForwardHostProp.apply(this._overlayElement._instance,args);setTimeout(()=>{this._updateValueSlot()})};this._assignMenuElement()}}}render(){this._overlayElement.render()}_removeNewRendererOrTemplate(template,oldTemplate,renderer,oldRenderer){if(template!==oldTemplate){this._contentTemplate=void 0}else if(renderer!==oldRenderer){this.renderer=void 0}}_templateOrRendererChanged(template,renderer,overlay){if(!overlay){return}if(template&&renderer){this._removeNewRendererOrTemplate(template,this._oldTemplate,renderer,this._oldRenderer);throw new Error("You should only use either a renderer or a template for select content")}this._oldTemplate=template;this._oldRenderer=renderer;if(renderer){overlay.setProperties({owner:this,renderer:renderer});this.render();if(overlay.content.firstChild){this._assignMenuElement()}}}_assignMenuElement(){this._menuElement=Array.from(this._overlayElement.content.children).filter(element=>"style"!==element.localName)[0];if(this._menuElement){this._menuElement.addEventListener("items-changed",e=>{this._items=this._menuElement.items});this._menuElement.addEventListener("selected-changed",e=>this._updateValueSlot());this._menuElement.addEventListener("keydown",e=>this._onKeyDownInside(e));this._menuElement.addEventListener("click",e=>this.opened=!1)}}get focusElement(){return this._inputElement||(this._inputElement=this.shadowRoot.querySelector("vaadin-select-text-field"))}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("iron-resize",this._boundSetPosition);this.opened=!1}notifyResize(){super.notifyResize();if(this.positionTarget&&this.opened){this._setPosition();requestAnimationFrame(this._setPosition.bind(this))}}_requiredChanged(required){this.setAttribute("aria-required",required)}_valueChanged(value,oldValue){if(""===value){this.focusElement.removeAttribute("has-value")}else{this.focusElement.setAttribute("has-value","")}if(""===value&&oldValue===void 0){return}this.validate()}_onKeyDown(e){if(!this.readonly&&!this.opened&&/^(ArrowDown|Down|ArrowUp|Up|Enter|SpaceBar| )$/.test(e.key)){e.preventDefault();this.opened=!0}}_onKeyDownInside(e){if(/^(Tab)$/.test(e.key)){this.opened=!1}}_openedChanged(opened,wasOpened){if(opened){if(!this._overlayElement||!this._menuElement||!this._toggleElement||!this.focusElement||this.disabled||this.readonly){this.opened=!1;return}this._openedWithFocusRing=this.hasAttribute("focus-ring")||this.focusElement.hasAttribute("focus-ring");this._menuElement.focus();this._setPosition();window.addEventListener("scroll",this._boundSetPosition,!0)}else if(wasOpened){if(this._phone){this._setFocused(!1)}else{this.focusElement.focus();if(this._openedWithFocusRing){this.focusElement.setAttribute("focus-ring","")}}this.validate();window.removeEventListener("scroll",this._boundSetPosition,!0)}}_hasContent(selected){if(!selected){return!1}return!!(selected.hasAttribute("label")?selected.getAttribute("label"):selected.textContent.trim()||selected.children.length)}_attachSelectedItem(selected){if(!selected){return}let labelItem;if(selected.hasAttribute("label")){labelItem=document.createElement("vaadin-item");labelItem.textContent=selected.getAttribute("label")}else{labelItem=selected.cloneNode(!0)}labelItem._sourceItem=selected;labelItem.removeAttribute("tabindex");this._valueElement.appendChild(labelItem);labelItem.selected=!0}_updateAriaExpanded(opened,toggleElement){toggleElement&&toggleElement.setAttribute("aria-expanded",opened)}_updateValueSlot(){this.opened=!1;this._valueElement.innerHTML="";const selected=this._items[this._menuElement.selected],hasContent=this._hasContent(selected),slotName=this._inputElement.shadowRoot.querySelector("slot[name=\"input\"]")?"input":"value";this._valueElement.slot=hasContent?slotName:"";if(hasContent&&window.ShadyDOM){window.ShadyDOM.flush()}this._attachSelectedItem(selected);if(!this._valueChanging&&selected){this._selectedChanging=!0;this.value=selected.value||"";delete this._selectedChanging}}_updateSelectedItem(value,items){if(items){this._menuElement.selected=items.reduce((prev,item,idx)=>{return prev===void 0&&item.value===value?idx:prev},void 0);if(!this._selectedChanging){this._valueChanging=!0;this._updateValueSlot();delete this._valueChanging}}}_setFocused(focused){super._setFocused(this.opened||focused);this.focusElement._setFocused(this.hasAttribute("focused"));this.hasAttribute("focused")||this.validate()}_setPosition(){const inputRect=this._inputElement.shadowRoot.querySelector("[part~=\"input-field\"]").getBoundingClientRect(),viewportHeight=_Mathmin(window.innerHeight,document.documentElement.clientHeight),bottomAlign=inputRect.top>(viewportHeight-inputRect.height)/2;this._overlayElement.style.left=inputRect.left+"px";if(bottomAlign){this._overlayElement.setAttribute("bottom-aligned","");this._overlayElement.style.removeProperty("top");this._overlayElement.style.bottom=viewportHeight-inputRect.bottom+"px"}else{this._overlayElement.removeAttribute("bottom-aligned");this._overlayElement.style.removeProperty("bottom");this._overlayElement.style.top=inputRect.top+"px"}this._overlayElement.updateStyles({"--vaadin-select-text-field-width":inputRect.width+"px"})}validate(){return!(this.invalid=!(this.disabled||!this.required||this.value))}}customElements.define(SelectElement.is,SelectElement);const $_documentContainer$J=document.createElement("template");$_documentContainer$J.innerHTML=`<custom-style>
  <style>
    @font-face {
      font-family: 'vaadin-upload-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAasAAsAAAAABmAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIF5mNtYXAAAAFoAAAAVAAAAFQXVtKMZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAfQAAAH0bBJxYWhlYWQAAAO4AAAANgAAADYPD267aGhlYQAAA/AAAAAkAAAAJAfCA8tobXR4AAAEFAAAACgAAAAoHgAAx2xvY2EAAAQ8AAAAFgAAABYCSgHsbWF4cAAABFQAAAAgAAAAIAAOADVuYW1lAAAEdAAAAhYAAAIWmmcHf3Bvc3QAAAaMAAAAIAAAACAAAwAAAAMDtwGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QUDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkF//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAgAA/8AEAAPAABkAMgAAEz4DMzIeAhczLgMjIg4CBycRIScFIRcOAyMiLgInIx4DMzI+AjcXphZGWmo6SH9kQwyADFiGrmJIhXJbIEYBAFoDWv76YBZGXGw8Rn5lRQyADFmIrWBIhHReIkYCWjJVPSIyVnVDXqN5RiVEYTxG/wBa2loyVT0iMlZ1Q16jeUYnRWE5RgAAAAABAIAAAAOAA4AAAgAAExEBgAMAA4D8gAHAAAAAAwAAAAAEAAOAAAIADgASAAAJASElIiY1NDYzMhYVFAYnETMRAgD+AAQA/gAdIyMdHSMjXYADgPyAgCMdHSMjHR0jwAEA/wAAAQANADMD5gNaAAUAACUBNwUBFwHT/jptATMBppMzAU2a4AIgdAAAAAEAOv/6A8YDhgALAAABJwkBBwkBFwkBNwEDxoz+xv7GjAFA/sCMAToBOoz+wAL6jP7AAUCM/sb+xowBQP7AjAE6AAAAAwAA/8AEAAPAAAcACwASAAABFSE1IREhEQEjNTMJAjMRIRECwP6A/sAEAP0AgIACQP7A/sDAAQABQICA/oABgP8AgAHAAUD+wP6AAYAAAAABAAAAAQAAdhiEdV8PPPUACwQAAAAAANX4FR8AAAAA1fgVHwAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAKBAAAAAAAAAAAAAAAAgAAAAQAAAAEAACABAAAAAQAAA0EAAA6BAAAAAAAAAAACgAUAB4AagB4AJwAsADSAPoAAAABAAAACgAzAAMAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEAEwAAAAEAAAAAAAIABwDMAAEAAAAAAAMAEwBaAAEAAAAAAAQAEwDhAAEAAAAAAAUACwA5AAEAAAAAAAYAEwCTAAEAAAAAAAoAGgEaAAMAAQQJAAEAJgATAAMAAQQJAAIADgDTAAMAAQQJAAMAJgBtAAMAAQQJAAQAJgD0AAMAAQQJAAUAFgBEAAMAAQQJAAYAJgCmAAMAAQQJAAoANAE0dmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwdmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzdmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQBydmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
</custom-style>`;document.head.appendChild($_documentContainer$J.content);;class UploadFileElement extends ThemableMixin(PolymerElement){static get template(){return html`
    <style>
      :host {
        display: block;
      }

      [hidden] {
        display: none;
      }
    </style>

    <div part="row">
      <div part="info">
        <div part="done-icon" hidden\$="[[!file.complete]]"></div>
        <div part="warning-icon" hidden\$="[[!file.error]]"></div>

        <div part="meta">
          <div part="name" id="name">[[file.name]]</div>
          <div part="status" hidden\$="[[!file.status]]" id="status">[[file.status]]</div>
          <div part="error" id="error" hidden\$="[[!file.error]]">[[file.error]]</div>
        </div>
      </div>
      <div part="commands">
        <div part="start-button" file-event="file-start" on-click="_fireFileEvent" hidden\$="[[!file.held]]"></div>
        <div part="retry-button" file-event="file-retry" on-click="_fireFileEvent" hidden\$="[[!file.error]]"></div>
        <div part="clear-button" file-event="file-abort" on-click="_fireFileEvent"></div>
      </div>
    </div>

    <vaadin-progress-bar part="progress" id="progress" value\$="[[_formatProgressValue(file.progress)]]" error\$="[[file.error]]" indeterminate\$="[[file.indeterminate]]" uploading\$="[[file.uploading]]" complete\$="[[file.complete]]">
    </vaadin-progress-bar>
`}static get is(){return"vaadin-upload-file"}static get properties(){return{file:Object}}static get observers(){return["_fileAborted(file.abort)","_toggleHostAttribute(file.error, \"error\")","_toggleHostAttribute(file.indeterminate, \"indeterminate\")","_toggleHostAttribute(file.uploading, \"uploading\")","_toggleHostAttribute(file.complete, \"complete\")"]}_fileAborted(abort){if(abort){this._remove()}}_remove(){this.dispatchEvent(new CustomEvent("file-remove",{detail:{file:this.file},bubbles:!0,composed:!0}))}_formatProgressValue(progress){return progress/100}_fireFileEvent(e){e.preventDefault();return this.dispatchEvent(new CustomEvent(e.target.getAttribute("file-event"),{detail:{file:this.file},bubbles:!0,composed:!0}))}_toggleHostAttribute(value,attributeName){const shouldHave=!!value,has=this.hasAttribute(attributeName);if(has!==shouldHave){if(shouldHave){this.setAttribute(attributeName,"")}else{this.removeAttribute(attributeName)}}}}customElements.define(UploadFileElement.is,UploadFileElement);const $_documentContainer$K=document.createElement("template");$_documentContainer$K.innerHTML=`<dom-module id="lumo-upload" theme-for="vaadin-upload">
  <template>
    <style>
      :host {
        line-height: var(--lumo-line-height-m);
      }

      :host(:not([nodrop])) {
        overflow: hidden;
        border: 1px dashed var(--lumo-contrast-20pct);
        border-radius: var(--lumo-border-radius);
        padding: var(--lumo-space-m);
        transition: background-color 0.6s, border-color 0.6s;
      }

      [part="primary-buttons"] > * {
        display: inline-block;
        white-space: nowrap;
      }

      [part="drop-label"] {
        display: inline-block;
        white-space: normal;
        padding: 0 var(--lumo-space-s);
        color: var(--lumo-secondary-text-color);
        font-family: var(--lumo-font-family);
      }

      :host([dragover-valid]) {
        border-color: var(--lumo-primary-color-50pct);
        background: var(--lumo-primary-color-10pct);
        transition: background-color 0.1s, border-color 0.1s;
      }

      :host([dragover-valid]) [part="drop-label"] {
        color: var(--lumo-primary-text-color);
      }

      [part="drop-label-icon"] {
        display: inline-block;
      }

      [part="drop-label-icon"]::before {
        content: var(--lumo-icons-upload);
        font-family: lumo-icons;
        font-size: var(--lumo-icon-size-m);
        line-height: 1;
        vertical-align: -.25em;
      }
    </style>
  </template>
</dom-module><dom-module id="lumo-upload-file" theme-for="vaadin-upload-file">
  <template>
    <style include="lumo-field-button">
      :host {
        padding: var(--lumo-space-s) 0;
      }

      :host(:not(:first-child)) {
        border-top: 1px solid var(--lumo-contrast-10pct);
      }

      [part="row"] {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
      }

      [part="status"],
      [part="error"] {
        color: var(--lumo-secondary-text-color);
        font-size: var(--lumo-font-size-s);
      }

      [part="info"] {
        display: flex;
        align-items: baseline;
        flex: auto;
      }

      [part="meta"] {
        width: 0.001px;
        flex: 1 1 auto;
      }

      [part="name"] {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      [part="commands"] {
        display: flex;
        align-items: baseline;
        flex: none;
      }

      [part="done-icon"],
      [part="warning-icon"] {
        margin-right: var(--lumo-space-xs);
      }

      /* When both icons are hidden, let us keep space for one */
      [part="done-icon"][hidden] + [part="warning-icon"][hidden] {
        display: block !important;
        visibility: hidden;
      }

      [part="done-icon"],
      [part="warning-icon"] {
        font-size: var(--lumo-icon-size-m);
        font-family: 'lumo-icons';
        line-height: 1;
      }

      [part="start-button"],
      [part="retry-button"],
      [part="clear-button"] {
        flex: none;
        margin-left: var(--lumo-space-xs);
      }

      [part="done-icon"]::before,
      [part="warning-icon"]::before,
      [part="start-button"]::before,
      [part="retry-button"]::before,
      [part="clear-button"]::before {
        vertical-align: -.25em;
      }

      [part="done-icon"]::before {
        content: var(--lumo-icons-checkmark);
        color: var(--lumo-primary-text-color);
      }

      [part="warning-icon"]::before {
        content: var(--lumo-icons-error);
        color: var(--lumo-error-text-color);
      }

      [part="start-button"]::before {
        content: var(--lumo-icons-play);
      }

      [part="retry-button"]::before {
        content: var(--lumo-icons-reload);
      }

      [part="clear-button"]::before {
        content: var(--lumo-icons-cross);
      }

      [part="error"] {
        color: var(--lumo-error-text-color);
      }

      [part="progress"] {
        width: auto;
        margin-left: calc(var(--lumo-icon-size-m) + var(--lumo-space-xs));
        margin-right: calc(var(--lumo-icon-size-m) + var(--lumo-space-xs));
      }

      [part="progress"][complete],
      [part="progress"][error] {
        display: none;
      }

    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$K.content);class UploadElement extends ElementMixin$1(ThemableMixin(PolymerElement)){static get template(){return html`
    <style>
      :host {
        display: block;
        position: relative;
      }

      :host([hidden]) {
        display: none !important;
      }

      [hidden] {
        display: none !important;
      }
    </style>

    <div part="primary-buttons">
      <div id="addFiles" on-touchend="_onAddFilesTouchEnd" on-click="_onAddFilesClick">
        <slot name="add-button">
          <vaadin-button part="upload-button" id="addButton" disabled="[[maxFilesReached]]">
            [[_i18nPlural(maxFiles, i18n.addFiles, i18n.addFiles.*)]]
          </vaadin-button>
        </slot>
      </div>
      <div part="drop-label" hidden\$="[[nodrop]]" id="dropLabelContainer">
        <slot name="drop-label-icon">
          <div part="drop-label-icon"></div>
        </slot>
        <slot name="drop-label" id="dropLabel">
          [[_i18nPlural(maxFiles, i18n.dropFiles, i18n.dropFiles.*)]]
        </slot>
      </div>
    </div>
    <slot name="file-list">
      <div id="fileList" part="file-list">
        <template is="dom-repeat" items="[[files]]" as="file">
          <vaadin-upload-file file="[[file]]"></vaadin-upload-file>
        </template>
      </div>
    </slot>
    <slot></slot>
    <input type="file" id="fileInput" on-change="_onFileInputChange" hidden="" accept\$="{{accept}}" multiple\$="[[_isMultiple(maxFiles)]]" capture\$="[[capture]]">
`}static get is(){return"vaadin-upload"}static get version(){return"4.2.1"}static get properties(){return{nodrop:{type:Boolean,reflectToAttribute:!0,value:function(){try{return!!document.createEvent("TouchEvent")}catch(e){return!1}}},target:{type:String,value:""},method:{type:String,value:"POST"},headers:{type:Object,value:{}},timeout:{type:Number,value:0},_dragover:{type:Boolean,value:!1,observer:"_dragoverChanged"},files:{type:Array,notify:!0,value:function(){return[]}},maxFiles:{type:Number,value:1/0},maxFilesReached:{type:Boolean,value:!1,notify:!0,readOnly:!0,computed:"_maxFilesAdded(maxFiles, files.length)"},accept:{type:String,value:""},maxFileSize:{type:Number,value:1/0},_dragoverValid:{type:Boolean,value:!1,observer:"_dragoverValidChanged"},formDataName:{type:String,value:"file"},noAuto:{type:Boolean,value:!1},withCredentials:{type:Boolean,value:!1},capture:String,i18n:{type:Object,value:function(){return{dropFiles:{one:"Drop file here",many:"Drop files here"},addFiles:{one:"Upload File...",many:"Upload Files..."},cancel:"Cancel",error:{tooManyFiles:"Too Many Files.",fileIsTooBig:"File is Too Big.",incorrectFileType:"Incorrect File Type."},uploading:{status:{connecting:"Connecting...",stalled:"Stalled.",processing:"Processing File...",held:"Queued"},remainingTime:{prefix:"remaining time: ",unknown:"unknown remaining time"},error:{serverUnavailable:"Server Unavailable",unexpectedServerError:"Unexpected Server Error",forbidden:"Forbidden"}},units:{size:["B","kB","MB","GB","TB","PB","EB","ZB","YB"]}}}}}}ready(){super.ready();this.addEventListener("dragover",this._onDragover.bind(this));this.addEventListener("dragleave",this._onDragleave.bind(this));this.addEventListener("drop",this._onDrop.bind(this));this.addEventListener("file-retry",this._onFileRetry.bind(this));this.addEventListener("file-abort",this._onFileAbort.bind(this));this.addEventListener("file-remove",this._onFileRemove.bind(this));this.addEventListener("file-start",this._onFileStart.bind(this))}_formatSize(bytes){var _Mathlog=Math.log;if("function"===typeof this.i18n.formatSize){return this.i18n.formatSize(bytes)}const base=this.i18n.units.sizeBase||1e3,unit=~~(_Mathlog(bytes)/_Mathlog(base)),dec=_Mathmax(0,_Mathmin(3,unit-1)),size=parseFloat((bytes/Math.pow(base,unit)).toFixed(dec));return size+" "+this.i18n.units.size[unit]}_splitTimeByUnits(time){const unitSizes=[60,60,24,1/0],timeValues=[0];for(var i=0;i<unitSizes.length&&0<time;i++){timeValues[i]=time%unitSizes[i];time=_Mathfloor(time/unitSizes[i])}return timeValues}_formatTime(seconds,split){if("function"===typeof this.i18n.formatTime){return this.i18n.formatTime(seconds,split)}while(3>split.length){split.push(0)}return split.reverse().map(number=>{return(10>number?"0":"")+number}).join(":")}_formatFileProgress(file){return file.totalStr+": "+file.progress+"% ("+(0<file.loaded?this.i18n.uploading.remainingTime.prefix+file.remainingStr:this.i18n.uploading.remainingTime.unknown)+")"}_maxFilesAdded(maxFiles,numFiles){return 0<=maxFiles&&numFiles>=maxFiles}_onDragover(event){event.preventDefault();if(!this.nodrop&&!this._dragover){this._dragoverValid=!this.maxFilesReached;this._dragover=!0}event.dataTransfer.dropEffect=!this._dragoverValid||this.nodrop?"none":"copy"}_onDragleave(event){event.preventDefault();if(this._dragover&&!this.nodrop){this._dragover=this._dragoverValid=!1}}_onDrop(event){if(!this.nodrop){event.preventDefault();this._dragover=this._dragoverValid=!1;this._addFiles(event.dataTransfer.files)}}_createXhr(){return new XMLHttpRequest}_configureXhr(xhr){if("string"==typeof this.headers){try{this.headers=JSON.parse(this.headers)}catch(e){this.headers=void 0}}for(var key in this.headers){xhr.setRequestHeader(key,this.headers[key])}if(this.timeout){xhr.timeout=this.timeout}xhr.withCredentials=this.withCredentials}_setStatus(file,total,loaded,elapsed){file.elapsed=elapsed;file.elapsedStr=this._formatTime(file.elapsed,this._splitTimeByUnits(file.elapsed));file.remaining=_Mathceil(elapsed*(total/loaded-1));file.remainingStr=this._formatTime(file.remaining,this._splitTimeByUnits(file.remaining));file.speed=~~(total/elapsed/1024);file.totalStr=this._formatSize(total);file.loadedStr=this._formatSize(loaded);file.status=this._formatFileProgress(file)}uploadFiles(files){files=files||this.files;files=files.filter(file=>!file.complete);Array.prototype.forEach.call(files,this._uploadFile.bind(this))}_uploadFile(file){if(file.uploading){return}const ini=Date.now(),xhr=file.xhr=this._createXhr(file);let stalledId,last;xhr.upload.onprogress=e=>{clearTimeout(stalledId);last=Date.now();const elapsed=(last-ini)/1e3,loaded=e.loaded,total=e.total,progress=~~(100*(loaded/total));file.loaded=loaded;file.progress=progress;file.indeterminate=0>=loaded||loaded>=total;if(file.error){file.indeterminate=file.status=void 0}else if(!file.abort){if(100>progress){this._setStatus(file,total,loaded,elapsed);stalledId=setTimeout(()=>{file.status=this.i18n.uploading.status.stalled;this._notifyFileChanges(file)},2e3)}else{file.loadedStr=file.totalStr;file.status=this.i18n.uploading.status.processing;file.uploading=!1}}this._notifyFileChanges(file);this.dispatchEvent(new CustomEvent("upload-progress",{detail:{file,xhr}}))};xhr.onreadystatechange=()=>{if(4==xhr.readyState){clearTimeout(stalledId);file.indeterminate=file.uploading=!1;if(file.abort){this._notifyFileChanges(file);return}file.status="";const evt=this.dispatchEvent(new CustomEvent("upload-response",{detail:{file,xhr},cancelable:!0}));if(!evt){return}if(0===xhr.status){file.error=this.i18n.uploading.error.serverUnavailable}else if(500<=xhr.status){file.error=this.i18n.uploading.error.unexpectedServerError}else if(400<=xhr.status){file.error=this.i18n.uploading.error.forbidden}file.complete=!file.error;this.dispatchEvent(new CustomEvent(`upload-${file.error?"error":"success"}`,{detail:{file,xhr}}));this._notifyFileChanges(file)}};const formData=new FormData;file.uploadTarget=this.target||"";file.formDataName=this.formDataName;const evt=this.dispatchEvent(new CustomEvent("upload-before",{detail:{file,xhr},cancelable:!0}));if(!evt){return}formData.append(file.formDataName,file,file.name);xhr.open(this.method,file.uploadTarget,!0);this._configureXhr(xhr);file.status=this.i18n.uploading.status.connecting;file.uploading=file.indeterminate=!0;file.complete=file.abort=file.error=file.held=!1;xhr.upload.onloadstart=()=>{this.dispatchEvent(new CustomEvent("upload-start",{detail:{file,xhr}}));this._notifyFileChanges(file)};const uploadEvt=this.dispatchEvent(new CustomEvent("upload-request",{detail:{file,xhr,formData},cancelable:!0}));if(uploadEvt){xhr.send(formData)}}_retryFileUpload(file){const evt=this.dispatchEvent(new CustomEvent("upload-retry",{detail:{file,xhr:file.xhr},cancelable:!0}));if(evt){this._uploadFile(file)}}_abortFileUpload(file){const evt=this.dispatchEvent(new CustomEvent("upload-abort",{detail:{file,xhr:file.xhr},cancelable:!0}));if(evt){file.abort=!0;if(file.xhr){file.xhr.abort()}this._notifyFileChanges(file)}}_notifyFileChanges(file){var p="files."+this.files.indexOf(file)+".";for(var i in file){if(file.hasOwnProperty(i)){this.notifyPath(p+i,file[i])}}}_addFiles(files){Array.prototype.forEach.call(files,this._addFile.bind(this))}_addFile(file){if(this.maxFilesReached){this.dispatchEvent(new CustomEvent("file-reject",{detail:{file,error:this.i18n.error.tooManyFiles}}));return}if(0<=this.maxFileSize&&file.size>this.maxFileSize){this.dispatchEvent(new CustomEvent("file-reject",{detail:{file,error:this.i18n.error.fileIsTooBig}}));return}const fileExt=file.name.match(/\.[^\.]*$|$/)[0],re=new RegExp("^("+this.accept.replace(/[, ]+/g,"|").replace(/\/\*/g,"/.*")+")$","i");if(this.accept&&!(re.test(file.type)||re.test(fileExt))){this.dispatchEvent(new CustomEvent("file-reject",{detail:{file,error:this.i18n.error.incorrectFileType}}));return}file.loaded=0;file.held=!0;file.status=this.i18n.uploading.status.held;this.unshift("files",file);if(!this.noAuto){this._uploadFile(file)}}_removeFile(file){if(-1<this.files.indexOf(file)){this.splice("files",this.files.indexOf(file),1)}}_onAddFilesTouchEnd(e){e.preventDefault();this.__resetMouseCanceller();this._onAddFilesClick()}__resetMouseCanceller(){resetMouseCanceller()}_onAddFilesClick(){if(this.maxFilesReached){return}this.$.fileInput.value="";this.$.fileInput.click()}_onFileInputChange(event){this._addFiles(event.target.files)}_onFileStart(event){this._uploadFile(event.detail.file)}_onFileRetry(event){this._retryFileUpload(event.detail.file)}_onFileAbort(event){this._abortFileUpload(event.detail.file)}_onFileRemove(event){event.stopPropagation();this._removeFile(event.detail.file)}_dragoverChanged(dragover){dragover?this.setAttribute("dragover",dragover):this.removeAttribute("dragover")}_dragoverValidChanged(dragoverValid){dragoverValid?this.setAttribute("dragover-valid",dragoverValid):this.removeAttribute("dragover-valid")}_i18nPlural(value,plural){return 1==value?plural.one:plural.many}_isMultiple(){return 1!=this.maxFiles}}customElements.define(UploadElement.is,UploadElement);const $_documentContainer$L=html`<dom-module id="lumo-dialog" theme-for="vaadin-dialog-overlay">
  <template>
    <style include="lumo-overlay">
      /* Optical centering */
      :host::before,
      :host::after {
        content: "";
        flex-basis: 0;
        flex-grow: 1;
      }

      :host::after {
        flex-grow: 1.1;
      }

      [part="overlay"] {
        box-shadow: 0 0 0 1px var(--lumo-shade-5pct), var(--lumo-box-shadow-xl);
        background-image: none;
        outline: none;
        -webkit-tap-highlight-color: transparent;
      }

      [part="content"] {
        padding: var(--lumo-space-l);
      }

      /* Animations */

      :host([opening]),
      :host([closing]) {
        animation: 0.25s lumo-overlay-dummy-animation;
      }

      :host([opening]) [part="overlay"] {
        animation: 0.12s 0.05s vaadin-dialog-enter cubic-bezier(.215, .61, .355, 1) both;
      }

      @keyframes vaadin-dialog-enter {
        0% {
          opacity: 0;
          transform: scale(0.95);
        }
      }

      :host([closing]) [part="overlay"] {
        animation: 0.1s 0.03s vaadin-dialog-exit cubic-bezier(.55, .055, .675, .19) both;
      }

      :host([closing]) [part="backdrop"] {
        animation-delay: 0.05s;
      }

      @keyframes vaadin-dialog-exit {
        100% {
          opacity: 0;
          transform: scale(1.02);
        }
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$L.content);const $_documentContainer$M=document.createElement("template");$_documentContainer$M.innerHTML=`<dom-module id="vaadin-dialog-overlay-styles" theme-for="vaadin-dialog-overlay">
  <template>
    <style>
      /*
        NOTE(platosha): Make some min-width to prevent collapsing of the content
        taking the parent width, e. g., <vaadin-grid> and such.
      */
      [part="content"] {
        min-width: 12em; /* matches the default <vaadin-text-field> width */
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$M.content);class DialogOverlayElement extends OverlayElement{static get is(){return"vaadin-dialog-overlay"}}customElements.define(DialogOverlayElement.is,DialogOverlayElement);class DialogElement extends ThemePropertyMixin(ElementMixin$1(PolymerElement)){static get template(){return html`
    <style>
      :host {
        display: none;
      }
    </style>

    <vaadin-dialog-overlay id="overlay" on-opened-changed="_onOverlayOpened" with-backdrop="" theme\$="[[theme]]" focus-trap="">
    </vaadin-dialog-overlay>
`}static get is(){return"vaadin-dialog"}static get version(){return"2.2.1"}static get properties(){return{opened:{type:Boolean,value:!1,notify:!0},noCloseOnOutsideClick:{type:Boolean,value:!1},noCloseOnEsc:{type:Boolean,value:!1},ariaLabel:{type:String},theme:String,_contentTemplate:Object,renderer:Function,_oldTemplate:Object,_oldRenderer:Object}}static get observers(){return["_openedChanged(opened)","_ariaLabelChanged(ariaLabel)","_templateOrRendererChanged(_contentTemplate, renderer)"]}ready(){super.ready();this.$.overlay.setAttribute("role","dialog");this.$.overlay.addEventListener("vaadin-overlay-outside-click",this._handleOutsideClick.bind(this));this.$.overlay.addEventListener("vaadin-overlay-escape-press",this._handleEscPress.bind(this));this._observer=new FlattenedNodesObserver(this,info=>{this._setTemplateFromNodes(info.addedNodes)})}_setTemplateFromNodes(nodes){this._contentTemplate=nodes.filter(node=>node.localName&&"template"===node.localName)[0]||this._contentTemplate}_removeNewRendererOrTemplate(template,oldTemplate,renderer,oldRenderer){if(template!==oldTemplate){this._contentTemplate=void 0}else if(renderer!==oldRenderer){this.renderer=void 0}}render(){this.$.overlay.render()}_templateOrRendererChanged(template,renderer){if(template&&renderer){this._removeNewRendererOrTemplate(template,this._oldTemplate,renderer,this._oldRenderer);throw new Error("You should only use either a renderer or a template for dialog content")}this._oldTemplate=template;this._oldRenderer=renderer;if(renderer){this.$.overlay.setProperties({owner:this,renderer:renderer})}}disconnectedCallback(){super.disconnectedCallback();this.opened=!1}_openedChanged(opened){if(opened){this.$.overlay.template=this.querySelector("template")}this.$.overlay.opened=opened}_ariaLabelChanged(ariaLabel){if(ariaLabel!==void 0&&null!==ariaLabel){this.$.overlay.setAttribute("aria-label",ariaLabel)}else{this.$.overlay.removeAttribute("aria-label")}}_onOverlayOpened(e){if(!1===e.detail.value){this.opened=!1}}_handleOutsideClick(e){if(this.noCloseOnOutsideClick){e.preventDefault()}}_handleEscPress(e){if(this.noCloseOnEsc){e.preventDefault()}}}customElements.define(DialogElement.is,DialogElement);const $_documentContainer$N=html`<dom-module id="lumo-radio-button" theme-for="vaadin-radio-button">
  <template>
    <style>
      :host {
        -webkit-tap-highlight-color: transparent;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: default;
        outline: none;
      }

      [part="label"]:not([empty]) {
        margin: 0.1875em 0.875em 0.1875em 0.375em;
      }

      [part="radio"] {
        width: calc(1em + 2px);
        height: calc(1em + 2px);
        margin: 0.1875em;
        position: relative;
        border-radius: 50%;
        background-color: var(--lumo-contrast-20pct);
        transition: transform 0.2s cubic-bezier(.12, .32, .54, 2), background-color 0.15s;
        pointer-events: none;
        will-change: transform;
        line-height: 1.2;
        transform: translateZ(0); /* Workaround IE11 jumpiness */
      }

      /* Used for activation "halo" */
      [part="radio"]::before {
        /* Needed to align the radio-button nicely on the baseline */
        content: "\\2003";
        color: transparent;
        display: inline-block;
        width: 100%;
        height: 100%;
        border-radius: inherit;
        background-color: inherit;
        transform: scale(1.4);
        opacity: 0;
        transition: transform 0.1s, opacity 0.8s;
        will-change: transform, opacity;
      }

      /* Used for the dot */
      [part="radio"]::after {
        content: "";
        width: 0;
        height: 0;
        border: 3px solid var(--lumo-primary-contrast-color);
        border-radius: 50%;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        transition: 0.25s transform;
        will-change: transform;
        background-clip: content-box;
      }

      :host([checked]) [part="radio"] {
        background-color: var(--lumo-primary-color);
      }

      :host([checked]) [part="radio"]::after {
        transform: translate(-50%, -50%) scale(1);
      }

      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part="radio"] {
        background-color: var(--lumo-contrast-30pct);
      }

      :host([active]) [part="radio"] {
        transform: scale(0.9);
        transition-duration: 0.05s;
      }

      :host([active][checked]) [part="radio"] {
        transform: scale(1.1);
      }

      :host([active]:not([checked])) [part="radio"]::before {
        transition-duration: 0.01s, 0.01s;
        transform: scale(0);
        opacity: 0.4;
      }

      :host([focus-ring]) [part="radio"] {
        box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);
      }

      :host([disabled]) {
        pointer-events: none;
        color: var(--lumo-disabled-text-color);
      }

      :host([disabled]) ::slotted(*) {
        color: inherit;
      }

      :host([disabled]) [part="radio"] {
        background-color: var(--lumo-contrast-10pct);
      }

      :host([disabled]) [part="radio"]::after {
        border-color: var(--lumo-contrast-30pct);
      }

      /* IE11 only */
      ::-ms-backdrop,
      [part="radio"] {
        line-height: 1;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$N.content);class RadioButtonElement extends ElementMixin$1(ControlStateMixin(ThemableMixin(GestureEventListeners(PolymerElement)))){static get template(){return html`
    <style>
      :host {
        display: inline-block;
      }

      label {
        display: inline-flex;
        align-items: baseline;
        outline: none;
      }

      [part="radio"] {
        position: relative;
        display: inline-block;
        flex: none;
      }

      input[type="radio"] {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: inherit;
        margin: 0;
      }

      :host([disabled]) {
        -webkit-tap-highlight-color: transparent;
      }
    </style>

    <label on-click="_preventDefault">
      <span part="radio">
        <input type="radio" checked="{{checked::change}}" disabled\$="[[disabled]]" role="presentation" tabindex="-1">
      </span>

      <span part="label">
        <slot></slot>
      </span>
    </label>
`}static get is(){return"vaadin-radio-button"}static get version(){return"1.1.5"}static get properties(){return{checked:{type:Boolean,value:!1,notify:!0,observer:"_checkedChanged",reflectToAttribute:!0},value:{type:String,value:"on"}}}constructor(){super();this.name}get name(){return this.checked?this._storedName:""}set name(name){this._storedName=name}ready(){super.ready();this.setAttribute("role","radio");this.addEventListener("click",this._handleClick.bind(this));this._addActiveListeners();const attrName=this.getAttribute("name");if(attrName){this.name=attrName}this.shadowRoot.querySelector("[part~=\"label\"]").querySelector("slot").addEventListener("slotchange",this._updateLabelAttribute.bind(this));this._updateLabelAttribute()}_updateLabelAttribute(){const label=this.shadowRoot.querySelector("[part~=\"label\"]"),assignedNodes=label.firstElementChild.assignedNodes();if(this._isAssignedNodesEmpty(assignedNodes)){label.setAttribute("empty","")}else{label.removeAttribute("empty")}}_isAssignedNodesEmpty(nodes){return 0===nodes.length||1==nodes.length&&nodes[0].nodeType==Node.TEXT_NODE&&""===nodes[0].textContent.trim()}_checkedChanged(checked){this.setAttribute("aria-checked",checked)}_addActiveListeners(){this._addEventListenerToNode(this,"down",e=>{if(!this.disabled){this.setAttribute("active","")}});this._addEventListenerToNode(this,"up",e=>{this.removeAttribute("active");if(!this.checked&&!this.disabled){this.checked=!0}});this.addEventListener("keydown",e=>{if(!this.disabled&&32===e.keyCode){e.preventDefault();this.setAttribute("active","")}});this.addEventListener("keyup",e=>{if(!this.disabled&&32===e.keyCode){e.preventDefault();this.setAttribute("checked","");this.removeAttribute("active")}})}_handleClick(e){if(!this.disabled){e.preventDefault();this.checked=!0}}get focusElement(){return this.shadowRoot.querySelector("input")}_preventDefault(e){e.preventDefault()}}customElements.define(RadioButtonElement.is,RadioButtonElement);const $_documentContainer$O=html`<dom-module id="lumo-radio-group" theme-for="vaadin-radio-group">
  <template>
    <style include="lumo-required-field">
      :host {
        color: var(--lumo-body-text-color);
        font-size: var(--lumo-font-size-m);
        font-family: var(--lumo-font-family);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        -webkit-tap-highlight-color: transparent;
        padding: var(--lumo-space-xs) 0;
      }

      :host::before {
        height: var(--lumo-size-m);
        box-sizing: border-box;
        display: inline-flex;
        align-items: center;
      }

      :host([theme~="vertical"]) [part="group-field"] {
        display: flex;
        flex-direction: column;
      }

      [part="label"] {
        padding-bottom: 0.7em;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$O.content);class RadioGroupElement extends ThemableMixin(PolymerElement){static get template(){return html`
    <style>
      :host {
        display: inline-flex;
      }

      :host::before {
        content: "\\2003";
        width: 0;
        display: inline-block;
      }

      :host([hidden]) {
        display: none !important;
      }

      .vaadin-group-field-container {
        display: flex;
        flex-direction: column;
      }

      [part="label"]:empty {
        display: none;
      }
    </style>

    <div class="vaadin-group-field-container">
      <label part="label">[[label]]</label>

      <div part="group-field">
        <slot id="slot"></slot>
      </div>

      <div part="error-message" id="[[_errorId]]" aria-live="assertive" aria-hidden\$="[[_getErrorMessageAriaHidden(invalid, errorMessage, _errorId)]]">[[errorMessage]]</div>
    </div>
`}static get is(){return"vaadin-radio-group"}static get properties(){return{disabled:{type:Boolean,reflectToAttribute:!0,observer:"_disabledChanged"},readonly:{type:Boolean,reflectToAttribute:!0,observer:"_readonlyChanged"},invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},required:{type:Boolean,reflectToAttribute:!0},errorMessage:{type:String,value:""},_errorId:{type:String},_checkedButton:{type:Object,observer:"_checkedButtonChanged"},label:{type:String,value:"",observer:"_labelChanged"},value:{type:String,notify:!0,observer:"_valueChanged"}}}ready(){super.ready();this._addActiveListeners();this._observer=new FlattenedNodesObserver(this,info=>{const checkedChangedListener=e=>{if(e.target.checked){this._changeSelectedButton(e.target)}};this._filterRadioButtons(info.addedNodes).reverse().forEach(button=>{button.addEventListener("checked-changed",checkedChangedListener);if(this.disabled){button.disabled=!0}if(button.checked){this._changeSelectedButton(button)}});this._filterRadioButtons(info.removedNodes).forEach(button=>{button.removeEventListener("checked-changed",checkedChangedListener);if(button.checked){this.value=void 0}})});if(this._radioButtons.length){this._setFocusable(0)}this.setAttribute("role","radiogroup");this.addEventListener("focusout",e=>e.composed&&this.validate());const uniqueId=RadioGroupElement._uniqueId=1+RadioGroupElement._uniqueId||0;this._errorId=`${this.constructor.is}-error-${uniqueId}`}get _radioButtons(){return this._filterRadioButtons(this.querySelectorAll("*"))}_filterRadioButtons(nodes){return Array.from(nodes).filter(child=>child instanceof RadioButtonElement)}_disabledChanged(disabled){this.setAttribute("aria-disabled",disabled);this._updateDisableButtons()}_updateDisableButtons(){this._radioButtons.forEach(button=>{if(this.disabled){button.disabled=!0}else if(this.readonly){button.disabled=button!==this._checkedButton&&this.readonly}else{button.disabled=!1}})}_readonlyChanged(newV,oldV){(newV||oldV)&&this._updateDisableButtons()}_addActiveListeners(){this.addEventListener("keydown",e=>{var checkedRadioButton=e.target==this?this._checkedButton:e.target;if(37===e.keyCode||38===e.keyCode){e.preventDefault();this._selectPreviousButton(checkedRadioButton)}if(39===e.keyCode||40===e.keyCode){e.preventDefault();this._selectNextButton(checkedRadioButton)}})}_selectButton(element,setFocusRing){if(this._containsFocus()){element.focus();if(setFocusRing){element.setAttribute("focus-ring","")}}this._changeSelectedButton(element)}_containsFocus(){const root=this.getRootNode(),activeElement=root._activeElement!==void 0?root._activeElement:root.activeElement;return this.contains(activeElement)}_hasEnabledButtons(){return!this._radioButtons.every(button=>button.disabled)}_selectNextButton(element){if(!this._hasEnabledButtons()){return}var nextButton=element.nextElementSibling||this.firstElementChild;if(nextButton.disabled){this._selectNextButton(nextButton)}else{this._selectButton(nextButton,!0)}}_selectPreviousButton(element){if(!this._hasEnabledButtons()){return}var previousButton=element.previousElementSibling||this.lastElementChild;if(previousButton.disabled){this._selectPreviousButton(previousButton)}else{this._selectButton(previousButton,!0)}}_changeSelectedButton(button){this._checkedButton=button;this.readonly&&this._updateDisableButtons();button&&this._setFocusable(this._radioButtons.indexOf(button))}_checkedButtonChanged(checkedButton){this._radioButtons.forEach(button=>button.checked=button===checkedButton);if(checkedButton){this.value=checkedButton.value}this.validate()}_valueChanged(newV,oldV){if(oldV&&(""===newV||null===newV||newV===void 0)){this._changeSelectedButton(null);this.removeAttribute("has-value");return}if(!this._checkedButton||newV!=this._checkedButton.value){const newCheckedButton=this._radioButtons.filter(button=>button.value==newV)[0];if(newCheckedButton){this._selectButton(newCheckedButton);this.setAttribute("has-value","")}else{console.warn(`No <vaadin-radio-button> with value ${newV} found.`)}}}validate(){return!(this.invalid=!this.checkValidity())}checkValidity(){return!this.required||!!this.value}_setFocusable(idx){const items=this._radioButtons;items.forEach(e=>e.tabindex=e===items[idx]?0:-1)}_labelChanged(label){if(label){this.setAttribute("has-label","")}else{this.removeAttribute("has-label")}}_getActiveErrorId(invalid,errorMessage,errorId){return errorMessage&&invalid?errorId:void 0}_getErrorMessageAriaHidden(invalid,errorMessage,errorId){return(!this._getActiveErrorId(invalid,errorMessage,errorId)).toString()}}customElements.define(RadioGroupElement.is,RadioGroupElement);const $_documentContainer$P=html`<dom-module id="lumo-grid" theme-for="vaadin-grid">
  <template>
    <style>
      :host {
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        line-height: var(--lumo-line-height-s);
        color: var(--lumo-body-text-color);
        background-color: var(--lumo-base-color);
        box-sizing: border-box;
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: transparent;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;

        /* For internal use only */
        --_lumo-grid-border-color: var(--lumo-contrast-20pct);
        --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);
        --_lumo-grid-border-width: 1px;
        --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);
      }

      /* No (outer) border */

      :host(:not([theme~="no-border"])) {
        border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);
      }

      /* Cell styles */

      [part~="cell"] {
        min-height: var(--lumo-size-m);
        background-color: var(--lumo-base-color);
      }

      [part~="cell"] ::slotted(vaadin-grid-cell-content) {
        cursor: default;
        padding: var(--lumo-space-xs) var(--lumo-space-m);
      }

      /* Apply row borders by default and introduce the "no-row-borders" variant */
      :host(:not([theme~="no-row-borders"])) [part~="cell"]:not([part~="details-cell"]) {
        border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
      }

      /* Hide first body row top border */
      :host(:not([theme~="no-row-borders"])) [part="row"][first] [part~="cell"]:not([part~="details-cell"]) {
        border-top: 0;
        min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));
      }

      /* Focus-ring */

      [part~="cell"]:focus {
        outline: none;
      }

      :host([navigating]) [part~="cell"]:focus::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        pointer-events: none;
        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      /* Headers and footers */

      [part~="header-cell"] ::slotted(vaadin-grid-cell-content),
      [part~="footer-cell"] ::slotted(vaadin-grid-cell-content),
      [part~="reorder-ghost"] {
        font-size: var(--lumo-font-size-s);
        font-weight: 500;
      }

      [part~="footer-cell"] ::slotted(vaadin-grid-cell-content) {
        font-weight: 400;
      }

      [part="row"]:only-child [part~="header-cell"] {
        min-height: var(--lumo-size-xl);
      }

      /* Header borders */

      /* Hide first header row top border */
      :host(:not([theme~="no-row-borders"])) [part="row"]:first-child [part~="header-cell"] {
        border-top: 0;
      }

      [part="row"]:last-child [part~="header-cell"] {
        border-bottom: var(--_lumo-grid-border-width) solid transparent;
      }

      :host(:not([theme~="no-row-borders"])) [part="row"]:last-child [part~="header-cell"] {
        border-bottom-color: var(--_lumo-grid-secondary-border-color);
      }

      /* Overflow uses a stronger border color */
      :host([overflow~="top"]) [part="row"]:last-child [part~="header-cell"] {
        border-bottom-color: var(--_lumo-grid-border-color);
      }

      /* Footer borders */

      [part="row"]:first-child [part~="footer-cell"] {
        border-top: var(--_lumo-grid-border-width) solid transparent;
      }

      :host(:not([theme~="no-row-borders"])) [part="row"]:first-child [part~="footer-cell"] {
        border-top-color: var(--_lumo-grid-secondary-border-color);
      }

      /* Overflow uses a stronger border color */
      :host([overflow~="bottom"]) [part="row"]:first-child [part~="footer-cell"] {
        border-top-color: var(--_lumo-grid-border-color);
      }

      /* Column reordering */

      :host([reordering]) [part~="cell"] {
        background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);
      }

      :host([reordering]) [part~="cell"][reorder-status="allowed"] {
        background: var(--lumo-base-color);
      }

      :host([reordering]) [part~="cell"][reorder-status="dragging"] {
        background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);
      }

      [part~="reorder-ghost"] {
        opacity: 0.85;
        box-shadow: var(--lumo-box-shadow-s);
        /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */
        padding: var(--lumo-space-s) var(--lumo-space-m) !important;
      }

      /* Column resizing */

      [part="resize-handle"] {
        width: 3px;
        background-color: var(--lumo-primary-color-50pct);
        opacity: 0;
        transition: opacity 0.2s;
      }

      :host(:not([reordering])) *:not([column-resizing]) [part~="cell"]:hover [part="resize-handle"],
      [part="resize-handle"]:active {
        opacity: 1;
        transition-delay: 0.15s;
      }

      /* Column borders */

      :host([theme~="column-borders"]) [part~="cell"]:not([last-column]):not([part~="details-cell"]) {
        border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
      }

      /* Frozen columns */

      [last-frozen] {
        border-right: var(--_lumo-grid-border-width) solid transparent;
        overflow: hidden;
      }

      :host([overflow~="left"]) [part~="cell"][last-frozen]:not([part~="details-cell"]) {
        border-right-color: var(--_lumo-grid-border-color);
      }

      /* Row stripes */

      :host([theme~="row-stripes"]) [part~="row"]:not([odd]) [part~="body-cell"],
      :host([theme~="row-stripes"]) [part~="row"]:not([odd]) [part~="details-cell"] {
        background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
        background-repeat: repeat-x;
      }

      /* Selected row */

      /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */
      :host(:not([reordering])) [part~="row"][selected] {
        z-index: 1;
      }

      :host(:not([reordering])) [part~="row"][selected] [part~="body-cell"]:not([part~="details-cell"]) {
        background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));
        background-repeat: repeat;
      }

      /* Cover the border of an unselected row */
      :host(:not([theme~="no-row-borders"])) [part~="row"][selected] [part~="cell"]:not([part~="details-cell"]) {
        box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);
      }

      /* Compact */

      :host([theme~="compact"]) [part="row"]:only-child [part~="header-cell"] {
        min-height: var(--lumo-size-m);
      }

      :host([theme~="compact"]) [part~="cell"] {
        min-height: var(--lumo-size-s);
      }

      :host([theme~="compact"]) [part="row"][first] [part~="cell"]:not([part~="details-cell"]) {
        min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));
      }

      :host([theme~="compact"]) [part~="cell"] ::slotted(vaadin-grid-cell-content) {
        padding: var(--lumo-space-xs) var(--lumo-space-s);
      }

      /* Wrap cell contents */

      :host([theme~="wrap-cell-content"]) [part~="cell"] ::slotted(vaadin-grid-cell-content) {
        white-space: normal;
      }
    </style>
  </template>
</dom-module><dom-module theme-for="vaadin-checkbox" id="vaadin-grid-select-all-checkbox-lumo">
  <template>
    <style>
      :host(.vaadin-grid-select-all-checkbox) {
        font-size: var(--lumo-font-size-m);
      }
   </style>
  </template>
</dom-module>`;document.head.appendChild($_documentContainer$P.content);var IOS$1=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),IOS_TOUCH_SCROLLING$1=IOS$1&&8<=IOS$1[1],DEFAULT_PHYSICAL_COUNT$1=3,ANIMATION_FRAME$1=animationFrame,IDLE_TIME$1=idlePeriod,MICRO_TASK$1=microTask;const PolymerIronList=Class({behaviors:[IronResizableBehavior,IronScrollTargetBehavior],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_collection:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedVirtualIndex:-1,_itemsPerRow:1,_rowHeight:0,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){var size=this.grid?this._physicalRows*this._rowHeight:this._physicalSize;return size-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var virtualCount=this._convertIndexToCompleteRow(this._virtualCount);return _Mathmax(0,virtualCount-this._physicalCount)},set _virtualStart(val){val=this._clamp(val,0,this._maxVirtualStart);if(this.grid){val=val-val%this._itemsPerRow}this._virtualStartVal=val},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(val){val=val%this._physicalCount;if(0>val){val=this._physicalCount+val}if(this.grid){val=val-val%this._itemsPerRow}this._physicalStartVal=val},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(val){this._physicalCountVal=val},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return!!(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var idx=this._firstVisibleIndexVal;if(null==idx){var physicalOffset=this._physicalTop+this._scrollOffset;idx=this._iterateItems(function(pidx,vidx){physicalOffset+=this._getPhysicalSizeIncrement(pidx);if(physicalOffset>this._scrollPosition){return this.grid?vidx-vidx%this._itemsPerRow:vidx}if(this.grid&&this._virtualCount-1===vidx){return vidx-vidx%this._itemsPerRow}})||0;this._firstVisibleIndexVal=idx}return idx},get lastVisibleIndex(){var idx=this._lastVisibleIndexVal;if(null==idx){if(this.grid){idx=_Mathmin(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1)}else{var physicalOffset=this._physicalTop+this._scrollOffset;this._iterateItems(function(pidx,vidx){if(physicalOffset<this._scrollBottom){idx=vidx}physicalOffset+=this._getPhysicalSizeIncrement(pidx)})}this._lastVisibleIndexVal=idx}return idx},get _scrollOffset(){return this._scrollerPaddingTop},attached:function(){this._debounce("_render",this._render,ANIMATION_FRAME$1);this.listen(this,"iron-resize","_resizeHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler")},updateViewportBoundaries:function(){var styles=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(styles["padding-top"],10);this._isRTL=!!("rtl"===styles.direction);this._viewportWidth=this.$.items.offsetWidth;this._viewportHeight=this._scrollTargetHeight;this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var scrollTop=_Mathmax(0,_Mathmin(this._maxScrollTop,this._scrollTop)),delta=scrollTop-this._scrollPosition,isScrollingDown=0<=delta;this._scrollPosition=scrollTop;this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;if(_Mathabs(delta)>this._physicalSize&&0<this._physicalSize){delta=delta-this._scrollOffset;var idxAdjustment=_Mathround(delta/this._physicalAverage)*this._itemsPerRow;this._virtualStart=this._virtualStart+idxAdjustment;this._physicalStart=this._physicalStart+idxAdjustment;this._physicalTop=_Mathfloor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;this._update()}else if(0<this._physicalCount){var reusables=this._getReusables(isScrollingDown);if(isScrollingDown){this._physicalTop=reusables.physicalTop;this._virtualStart=this._virtualStart+reusables.indexes.length;this._physicalStart=this._physicalStart+reusables.indexes.length}else{this._virtualStart=this._virtualStart-reusables.indexes.length;this._physicalStart=this._physicalStart-reusables.indexes.length}this._update(reusables.indexes,isScrollingDown?null:reusables.indexes);this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),MICRO_TASK$1)}},_getReusables:function(fromTop){var ith,lastIth,offsetContent,physicalItemHeight,idxs=[],protectedOffsetContent=this._hiddenContentSize*this._ratio,virtualStart=this._virtualStart,virtualEnd=this._virtualEnd,physicalCount=this._physicalCount,top=this._physicalTop+this._scrollOffset,bottom=this._physicalBottom+this._scrollOffset,scrollTop=this._scrollTop,scrollBottom=this._scrollBottom;if(fromTop){ith=this._physicalStart;lastIth=this._physicalEnd;offsetContent=scrollTop-top}else{ith=this._physicalEnd;lastIth=this._physicalStart;offsetContent=bottom-scrollBottom}while(!0){physicalItemHeight=this._getPhysicalSizeIncrement(ith);offsetContent=offsetContent-physicalItemHeight;if(idxs.length>=physicalCount||offsetContent<=protectedOffsetContent){break}if(fromTop){if(virtualEnd+idxs.length+1>=this._virtualCount){break}if(top+physicalItemHeight>=scrollTop-this._scrollOffset){break}idxs.push(ith);top=top+physicalItemHeight;ith=(ith+1)%physicalCount}else{if(0>=virtualStart-idxs.length){break}if(top+this._physicalSize-physicalItemHeight<=scrollBottom){break}idxs.push(ith);top=top-physicalItemHeight;ith=0===ith?physicalCount-1:ith-1}}return{indexes:idxs,physicalTop:top-this._scrollOffset}},_update:function(itemSet,movingUp){if(itemSet&&0===itemSet.length||0===this._physicalCount){return}this._manageFocus();this._assignModels(itemSet);this._updateMetrics(itemSet);if(movingUp){while(movingUp.length){var idx=movingUp.pop();this._physicalTop-=this._getPhysicalSizeIncrement(idx)}}this._positionItems();this._updateScrollerSize()},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(count){var nextPhysicalCount=this._clamp(this._physicalCount+count,DEFAULT_PHYSICAL_COUNT$1,this._virtualCount-this._virtualStart);nextPhysicalCount=this._convertIndexToCompleteRow(nextPhysicalCount);var delta=nextPhysicalCount-this._physicalCount,nextIncrease=_Mathround(.5*this._physicalCount);if(0>delta){return}if(0<delta){var ts=window.performance.now();[].push.apply(this._physicalItems,this._createPool(delta));for(var i=0;i<delta;i++){this._physicalSizes.push(0)}this._physicalCount=this._physicalCount+delta;if(this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd){this._physicalStart=this._physicalStart+delta}this._update();this._templateCost=(window.performance.now()-ts)/delta;nextIncrease=_Mathround(.5*this._physicalCount)}if(this._virtualEnd>=this._virtualCount-1||0===nextIncrease){}else if(!this._isClientFull()){this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,nextIncrease),MICRO_TASK$1)}else if(this._physicalSize<this._optPhysicalSize){this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(_Mathround(50/this._templateCost),1,nextIncrease)),IDLE_TIME$1)}},_render:function(){if(!this.isAttached||!this._isVisible){return}if(0!==this._physicalCount){var reusables=this._getReusables(!0);this._physicalTop=reusables.physicalTop;this._virtualStart=this._virtualStart+reusables.indexes.length;this._physicalStart=this._physicalStart+reusables.indexes.length;this._update(reusables.indexes);this._update();this._increasePoolIfNeeded(0)}else if(0<this._virtualCount){this.updateViewportBoundaries();this._increasePoolIfNeeded(DEFAULT_PHYSICAL_COUNT$1)}},_itemsChanged:function(change){if("items"===change.path){this._virtualStart=0;this._physicalTop=0;this._virtualCount=this.items?this.items.length:0;this._collection=this.items&&void 0?(void 0).get(this.items):null;this._physicalIndexForKey={};this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;this._physicalCount=this._physicalCount||0;this._physicalItems=this._physicalItems||[];this._physicalSizes=this._physicalSizes||[];this._physicalStart=0;if(this._scrollTop>this._scrollOffset){this._resetScrollPosition(0)}this._removeFocusedItem();this._debounce("_render",this._render,ANIMATION_FRAME$1)}},_iterateItems:function(fn,itemSet){var pidx,vidx,rtn,i;if(2===arguments.length&&itemSet){for(i=0;i<itemSet.length;i++){pidx=itemSet[i];vidx=this._computeVidx(pidx);if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}}else{pidx=this._physicalStart;vidx=this._virtualStart;for(;pidx<this._physicalCount;pidx++,vidx++){if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}for(pidx=0;pidx<this._physicalStart;pidx++,vidx++){if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}}},_computeVidx:function(pidx){if(pidx>=this._physicalStart){return this._virtualStart+(pidx-this._physicalStart)}return this._virtualStart+(this._physicalCount-this._physicalStart)+pidx},_updateMetrics:function(itemSet){flush?flush():flush();var newPhysicalSize=0,oldPhysicalSize=0,prevAvgCount=this._physicalAverageCount,prevPhysicalAvg=this._physicalAverage;this._iterateItems(function(pidx,vidx){oldPhysicalSize+=this._physicalSizes[pidx];this._physicalSizes[pidx]=this._physicalItems[pidx].offsetHeight;newPhysicalSize+=this._physicalSizes[pidx];this._physicalAverageCount+=this._physicalSizes[pidx]?1:0},itemSet);if(this.grid){this._updateGridMetrics();this._physicalSize=_Mathceil(this._physicalCount/this._itemsPerRow)*this._rowHeight}else{oldPhysicalSize=1===this._itemsPerRow?oldPhysicalSize:_Mathceil(this._physicalCount/this._itemsPerRow)*this._rowHeight;this._physicalSize=this._physicalSize+newPhysicalSize-oldPhysicalSize;this._itemsPerRow=1}if(this._physicalAverageCount!==prevAvgCount){this._physicalAverage=_Mathround((prevPhysicalAvg*prevAvgCount+newPhysicalSize)/this._physicalAverageCount)}},_positionItems:function(){this._adjustScrollPosition();var y=this._physicalTop;this._iterateItems(function(pidx,vidx){this.translate3d(0,y+"px",0,this._physicalItems[pidx]);y+=this._physicalSizes[pidx]})},_getPhysicalSizeIncrement:function(pidx){if(!this.grid){return this._physicalSizes[pidx]}if(this._computeVidx(pidx)%this._itemsPerRow!==this._itemsPerRow-1){return 0}return this._rowHeight},_adjustScrollPosition:function(){var deltaHeight=0===this._virtualStart?this._physicalTop:_Mathmin(this._scrollPosition+this._physicalTop,0);if(0!==deltaHeight){this._physicalTop=this._physicalTop-deltaHeight;var scrollTop=this._scrollTop;if(!IOS_TOUCH_SCROLLING$1&&0<scrollTop){this._resetScrollPosition(scrollTop-deltaHeight)}}},_resetScrollPosition:function(pos){if(this.scrollTarget&&0<=pos){this._scrollTop=pos;this._scrollPosition=this._scrollTop}},_updateScrollerSize:function(forceUpdate){if(this.grid){this._estScrollHeight=this._virtualRowCount*this._rowHeight}else{this._estScrollHeight=this._physicalBottom+_Mathmax(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage}forceUpdate=forceUpdate||0===this._scrollHeight;forceUpdate=forceUpdate||this._scrollPosition>=this._estScrollHeight-this._physicalSize;forceUpdate=forceUpdate||this.grid&&this.$.items.style.height<this._estScrollHeight;if(forceUpdate||_Mathabs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight){this.$.items.style.height=this._estScrollHeight+"px";this._scrollHeight=this._estScrollHeight}},scrollToIndex:function(idx){if("number"!==typeof idx||0>idx||idx>this.items.length-1){return}flush?flush():flush();if(0===this._physicalCount){return}idx=this._clamp(idx,0,this._virtualCount-1);if(!this._isIndexRendered(idx)||idx>=this._maxVirtualStart){this._virtualStart=this.grid?idx-2*this._itemsPerRow:idx-1}this._manageFocus();this._assignModels();this._updateMetrics();this._physicalTop=_Mathfloor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;var currentTopItem=this._physicalStart,currentVirtualItem=this._virtualStart,targetOffsetTop=0,hiddenContentSize=this._hiddenContentSize;while(currentVirtualItem<idx&&targetOffsetTop<=hiddenContentSize){targetOffsetTop=targetOffsetTop+this._getPhysicalSizeIncrement(currentTopItem);currentTopItem=(currentTopItem+1)%this._physicalCount;currentVirtualItem++}this._updateScrollerSize(!0);this._positionItems();this._resetScrollPosition(this._physicalTop+this._scrollOffset+targetOffsetTop);this._increasePoolIfNeeded(0);this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null},_resetAverage:function(){this._physicalAverage=0;this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",function(){this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;var delta=_Mathabs(this._viewportHeight-this._scrollTargetHeight);this.updateViewportBoundaries();if(this._isVisible){this.toggleScrollListener(!0);this._resetAverage();this._render()}else{this.toggleScrollListener(!1)}},ANIMATION_FRAME$1)},_convertIndexToCompleteRow:function(idx){this._itemsPerRow=this._itemsPerRow||1;return this.grid?_Mathceil(idx/this._itemsPerRow)*this._itemsPerRow:idx},_isIndexRendered:function(idx){return idx>=this._virtualStart&&idx<=this._virtualEnd},_getPhysicalIndex:function(vidx){return(this._physicalStart+(vidx-this._virtualStart))%this._physicalCount},_clamp:function(v,min,max){return _Mathmin(max,_Mathmax(min,v))},_debounce:function(name,cb,asyncModule){this._debouncers=this._debouncers||{};this._debouncers[name]=Debouncer.debounce(this._debouncers[name],asyncModule,cb.bind(this));enqueueDebouncer(this._debouncers[name])}});class GridScrollerElement extends PolymerIronList{static get is(){return"vaadin-grid-scroller"}static get properties(){return{size:{type:Number,notify:!0},_vidxOffset:{value:0}}}static get observers(){return["_effectiveSizeChanged(_effectiveSize)"]}connectedCallback(){super.connectedCallback();this._scrollHandler()}_updateScrollerItem(item,index){}_afterScroll(){}_getRowTarget(){}_createScrollerRows(){}_canPopulate(){}scrollToIndex(index){this._warnPrivateAPIAccess("scrollToIndex");if(0<index){this._pendingScrollToIndex=null}if(!parseInt(this.$.items.style.borderTopWidth)&&0<index){this._pendingScrollToIndex=index}this._scrollingToIndex=!0;index=_Mathmin(_Mathmax(index,0),this._effectiveSize-1);this.$.table.scrollTop=index/this._effectiveSize*(this.$.table.scrollHeight-this.$.table.offsetHeight);this._scrollHandler();if(this._accessIronListAPI(()=>this._maxScrollTop)&&this._virtualCount<this._effectiveSize){this._adjustVirtualIndexOffset(1e6)}this._accessIronListAPI(()=>super.scrollToIndex(index-this._vidxOffset));this._scrollHandler();const row=Array.from(this.$.items.children).filter(child=>child.index===index)[0];if(row){const headerOffset=row.getBoundingClientRect().top-this.$.header.getBoundingClientRect().bottom;if(1<_Mathabs(headerOffset)){this.$.table.scrollTop+=headerOffset;this._scrollHandler()}}this._scrollingToIndex=!1}_effectiveSizeChanged(size){let fvi,fviOffset=0;this._iterateItems((pidx,vidx)=>{if(vidx===this._firstVisibleIndex){const row=this._physicalItems[pidx];fvi=row.index;fviOffset=row.getBoundingClientRect().top}});if(this.items&&size<this.items.length){this._scrollTop=0}if(!Array.isArray(this.items)){const maxVirtualItems=this._edge||this._ie?3e4:1e5;this.items={length:_Mathmin(size,maxVirtualItems)}}this._accessIronListAPI(()=>super._itemsChanged({path:"items"}));this._virtualCount=_Mathmin(this.items.length,size)||0;if(0===this._scrollTop){this._accessIronListAPI(()=>this._scrollToIndex(_Mathmin(size-1,fvi)));this._iterateItems((pidx,vidx)=>{const row=this._physicalItems[pidx];if(row.index===fvi){this.$.table.scrollTop+=_Mathround(row.getBoundingClientRect().top-fviOffset)}if(row.index===this._focusedItemIndex&&this._itemsFocusable&&this.$.items.contains(this.shadowRoot.activeElement)){const cellIndex=Array.from(this._itemsFocusable.parentElement.children).indexOf(this._itemsFocusable);row.children[cellIndex].focus()}})}this._assignModels();requestAnimationFrame(()=>this._update())}_positionItems(){this._adjustScrollPosition();let rePosition;if(isNaN(this._physicalTop)){rePosition=!0;this._physicalTop=0}let y=this._physicalTop;this._iterateItems((pidx,vidx)=>{this._physicalItems[pidx].style.transform=`translateY(${y}px)`;y+=this._physicalSizes[pidx]});if(rePosition){this._scrollToIndex(0)}}_increasePoolIfNeeded(count){if(0===count&&this._scrollingToIndex||!this._canPopulate()||!this._effectiveSize){return}if(!this._initialPoolCreated){this._initialPoolCreated=!0;super._increasePoolIfNeeded(25)}else if(this._optPhysicalSize!==1/0){this._debounceIncreasePool=Debouncer.debounce(this._debounceIncreasePool,idlePeriod,()=>{this._updateMetrics();const remainingPhysicalSize=this._optPhysicalSize-this._physicalSize;let estimatedMissingRowCount=_Mathceil(remainingPhysicalSize/this._physicalAverage);if(this._physicalCount+estimatedMissingRowCount>this._effectiveSize){estimatedMissingRowCount=_Mathmax(0,this._effectiveSize-this._physicalCount)}if(this._physicalSize&&0<estimatedMissingRowCount){super._increasePoolIfNeeded(estimatedMissingRowCount);this.__reorderChildNodes()}})}}__reorderChildNodes(){const childNodes=Array.from(this.$.items.childNodes),rowsInOrder=!!childNodes.reduce((inOrder,current,currentIndex,array)=>{if(0===currentIndex||array[currentIndex-1].index===current.index-1){return inOrder}},!0);if(!rowsInOrder){childNodes.sort((row1,row2)=>{return row1.index-row2.index}).forEach(row=>this.$.items.appendChild(row))}}_createPool(size){const fragment=document.createDocumentFragment(),physicalItems=this._createScrollerRows(size);physicalItems.forEach(inst=>fragment.appendChild(inst));this._getRowTarget().appendChild(fragment);const content=this.querySelector("[slot]");if(content){const slot=content.getAttribute("slot");content.setAttribute("slot","foo-bar");content.setAttribute("slot",slot)}this._updateHeaderFooterMetrics();afterNextRender(this,()=>this.notifyResize());return physicalItems}_assignModels(itemSet){this._iterateItems((pidx,vidx)=>{const el=this._physicalItems[pidx];this._toggleAttribute("hidden",vidx>=this._effectiveSize,el);this._updateScrollerItem(el,vidx+(this._vidxOffset||0))},itemSet)}_scrollHandler(){const delta=this.$.table.scrollTop-this._scrollPosition;this._accessIronListAPI(super._scrollHandler);const oldOffset=this._vidxOffset;if(this._accessIronListAPI(()=>this._maxScrollTop)&&this._virtualCount<this._effectiveSize){this._adjustVirtualIndexOffset(delta)}if(this._vidxOffset!==oldOffset){this._update()}this._afterScroll()}_adjustVirtualIndexOffset(delta){if(1e4<_Mathabs(delta)){if(this._noScale){this._noScale=!1;return}const scale=this.$.table.scrollTop/(this.$.table.scrollHeight-this.$.table.offsetHeight),offset=scale*this._effectiveSize;this._vidxOffset=_Mathround(offset-scale*this._virtualCount)}else{const oldOffset=this._vidxOffset||0,threshold=1e3,maxShift=100;if(0===this._scrollTop){this._vidxOffset=0;if(oldOffset!==this._vidxOffset){super.scrollToIndex(0)}}else if(this.firstVisibleIndex<threshold&&0<this._vidxOffset){this._vidxOffset-=_Mathmin(this._vidxOffset,maxShift);if(oldOffset!==this._vidxOffset){super.scrollToIndex(this.firstVisibleIndex+(oldOffset-this._vidxOffset))}this._noScale=!0}const maxOffset=this._effectiveSize-this._virtualCount;if(this._scrollTop>=this._maxScrollTop&&0<this._maxScrollTop){this._vidxOffset=maxOffset;if(oldOffset!==this._vidxOffset){super.scrollToIndex(this._virtualCount)}}else if(this.firstVisibleIndex>this._virtualCount-threshold&&this._vidxOffset<maxOffset){this._vidxOffset+=_Mathmin(maxOffset-this._vidxOffset,maxShift);if(oldOffset!==this._vidxOffset){super.scrollToIndex(this.firstVisibleIndex-(this._vidxOffset-oldOffset))}this._noScale=!0}}}_accessIronListAPI(cb){this._warnPrivateAPIAccessAsyncEnabled=!1;const returnValue=cb.apply(this);this._debouncerWarnPrivateAPIAccess=Debouncer.debounce(this._debouncerWarnPrivateAPIAccess,animationFrame,()=>this._warnPrivateAPIAccessAsyncEnabled=!0);return returnValue}_debounceRender(cb,asyncModule){super._debounceRender(()=>this._accessIronListAPI(cb),asyncModule)}_warnPrivateAPIAccess(apiName){if(this._warnPrivateAPIAccessAsyncEnabled){console.warn(`Accessing private API (${apiName})!`)}}_render(){this._accessIronListAPI(super._render)}_createFocusBackfillItem(){}_multiSelectionChanged(){}clearSelection(){}_itemsChanged(){}_manageFocus(){}_removeFocusedItem(){}get _firstVisibleIndex(){return this._accessIronListAPI(()=>super.firstVisibleIndex)}get _lastVisibleIndex(){return this._accessIronListAPI(()=>super.lastVisibleIndex)}_scrollToIndex(index){this._accessIronListAPI(()=>this.scrollToIndex(index))}get firstVisibleIndex(){this._warnPrivateAPIAccess("firstVisibleIndex");return super.firstVisibleIndex}set firstVisibleIndex(value){this._warnPrivateAPIAccess("firstVisibleIndex");super.firstVisibleIndex=value}get lastVisibleIndex(){this._warnPrivateAPIAccess("lastVisibleIndex");return super.lastVisibleIndex}set lastVisibleIndex(value){this._warnPrivateAPIAccess("lastVisibleIndex");super.lastVisibleIndex=value}updateViewportBoundaries(){this._warnPrivateAPIAccess("updateViewportBoundaries");super.updateViewportBoundaries.apply(this,arguments)}_resizeHandler(){super._resizeHandler();flush()}}customElements.define(GridScrollerElement.is,GridScrollerElement);const A11yMixin=superClass=>class A11yMixin extends superClass{static get observers(){return["_a11yUpdateGridSize(size, _columnTree, _columnTree.*)"]}_a11yGetHeaderRowCount(_columnTree){return _columnTree.filter(level=>level.some(col=>col._headerTemplate||col.headerRenderer||col.path||col.header)).length}_a11yGetFooterRowCount(_columnTree){return _columnTree.filter(level=>level.some(col=>col._headerTemplate||col.headerRenderer)).length}_a11yUpdateGridSize(size,_columnTree){if(size===void 0||_columnTree===void 0){return}const bodyColumns=_columnTree[_columnTree.length-1];this.$.table.setAttribute("aria-rowcount",size+this._a11yGetHeaderRowCount(_columnTree)+this._a11yGetFooterRowCount(_columnTree));this.$.table.setAttribute("aria-colcount",bodyColumns&&bodyColumns.length||0);this._a11yUpdateHeaderRows();this._a11yUpdateFooterRows()}_a11yUpdateHeaderRows(){Array.from(this.$.header.children).forEach((headerRow,index)=>headerRow.setAttribute("aria-rowindex",index+1))}_a11yUpdateFooterRows(){Array.from(this.$.footer.children).forEach((footerRow,index)=>footerRow.setAttribute("aria-rowindex",this._a11yGetHeaderRowCount(this._columnTree)+this.size+index+1))}_a11yUpdateRowRowindex(row,index){row.setAttribute("aria-rowindex",index+this._a11yGetHeaderRowCount(this._columnTree)+1)}_a11yUpdateRowSelected(row,selected){row.setAttribute("aria-selected",!!selected);Array.from(row.children).forEach(cell=>cell.setAttribute("aria-selected",!!selected))}_a11yUpdateRowLevel(row,level){row.setAttribute("aria-level",level+1)}_a11yUpdateRowDetailsOpened(row,detailsOpened){Array.from(row.children).forEach(cell=>{if("boolean"===typeof detailsOpened){cell.setAttribute("aria-expanded",detailsOpened)}else{if(cell.hasAttribute("aria-expanded")){cell.removeAttribute("aria-expanded")}}})}_a11ySetRowDetailsCell(row,detailsCell){Array.from(row.children).forEach(cell=>{if(cell!==detailsCell){cell.setAttribute("aria-controls",detailsCell.id)}})}_a11yUpdateCellColspan(cell,colspan){cell.setAttribute("aria-colspan",+colspan)}_a11yUpdateSorters(){Array.from(this.querySelectorAll("vaadin-grid-sorter")).forEach(sorter=>{let cellContent=sorter.parentNode;while(cellContent&&"vaadin-grid-cell-content"!==cellContent.localName){cellContent=cellContent.parentNode}if(cellContent&&cellContent.assignedSlot){const cell=cellContent.assignedSlot.parentNode;cell.setAttribute("aria-sort",{asc:"ascending",desc:"descending"}[sorter.direction+""]||"none")}})}},ActiveItemMixin=superClass=>class ActiveItemMixin extends superClass{static get properties(){return{activeItem:{type:Object,notify:!0,value:null}}}ready(){super.ready();this.$.scroller.addEventListener("click",this._onClick.bind(this));this.addEventListener("cell-activate",this._activateItem.bind(this))}_activateItem(e){const model=e.detail.model,clickedItem=model?model.item:null;if(clickedItem){this.activeItem=!this._itemsEqual(this.activeItem,clickedItem)?clickedItem:null}}_onClick(e){if(e.defaultPrevented){return}const path=e.composedPath(),cell=path[path.indexOf(this.$.table)-3];if(!cell||-1<cell.getAttribute("part").indexOf("details-cell")){return}const cellContent=cell._content,activeElement=this.getRootNode().activeElement,cellContentHasFocus=cellContent.contains(activeElement)&&(!this._ie||this._isFocusable(activeElement));if(!cellContentHasFocus&&!this._isFocusable(e.target)){this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(cell.parentElement)}}))}}_isFocusable(target){if(!target.parentNode){return!1}const focusables=Array.from(target.parentNode.querySelectorAll("[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]")).filter(element=>"cell body-cell"!==element.getAttribute("part")),isFocusableElement=-1!==focusables.indexOf(target);return!target.disabled&&isFocusableElement}},ArrayDataProviderMixin=superClass=>class ArrayDataProviderMixin extends superClass{static get properties(){return{items:Array}}static get observers(){return["_itemsChanged(items, items.*, isAttached)"]}_itemsChanged(items,splices,isAttached){if(!isAttached){return}if(!Array.isArray(items)){if(items===void 0||null===items){this.size=0}if(this.dataProvider===this._arrayDataProvider){this.dataProvider=void 0}return}this.size=items.length;this.dataProvider=this.dataProvider||this._arrayDataProvider;this.clearCache();this._ensureFirstPageLoaded()}_arrayDataProvider(opts,cb){let items=(Array.isArray(this.items)?this.items:[]).slice(0);if(this._filters&&this._checkPaths(this._filters,"filtering",items)){items=this._filter(items)}this.size=items.length;if(opts.sortOrders.length&&this._checkPaths(this._sorters,"sorting",items)){items=items.sort(this._multiSort.bind(this))}const start=opts.page*opts.pageSize,end=start+opts.pageSize,slice=items.slice(start,end);cb(slice,items.length)}_checkPaths(arrayToCheck,action,items){if(!items.length){return!1}let result=!0;for(var i in arrayToCheck){const path=arrayToCheck[i].path;if(!path||-1===path.indexOf(".")){continue}const parentProperty=path.replace(/\.[^\.]*$/,"");if(Base.get(parentProperty,items[0])===void 0){console.warn(`Path "${path}" used for ${action} does not exist in all of the items, ${action} is disabled.`);result=!1}}return result}_multiSort(a,b){return this._sorters.map(sort=>{if("asc"===sort.direction){return this._compare(Base.get(sort.path,a),Base.get(sort.path,b))}else if("desc"===sort.direction){return this._compare(Base.get(sort.path,b),Base.get(sort.path,a))}return 0}).reduce((p,n)=>{return p?p:n},0)}_normalizeEmptyValue(value){if(0<=[void 0,null].indexOf(value)){return""}else if(isNaN(value)){return value.toString()}else{return value}}_compare(a,b){a=this._normalizeEmptyValue(a);b=this._normalizeEmptyValue(b);if(a<b){return-1}if(a>b){return 1}return 0}_filter(items){return items.filter((item,index)=>{return 0===this._filters.filter(filter=>{const value=this._normalizeEmptyValue(Base.get(filter.path,item)),filterValueLowercase=this._normalizeEmptyValue(filter.value).toString().toLowerCase();return-1===value.toString().toLowerCase().indexOf(filterValueLowercase)}).length})}},ColumnResizingMixin=superClass=>class ColumnResizingMixin extends GestureEventListeners(superClass){ready(){super.ready();const scroller=this.$.scroller;addListener(scroller,"track",this._onHeaderTrack.bind(this));scroller.addEventListener("touchmove",e=>scroller.hasAttribute("column-resizing")&&e.preventDefault());scroller.addEventListener("contextmenu",e=>"resize-handle"==e.target.getAttribute("part")&&e.preventDefault());scroller.addEventListener("mousedown",e=>"resize-handle"===e.target.getAttribute("part")&&e.preventDefault())}_onHeaderTrack(e){const handle=e.target;if("resize-handle"===handle.getAttribute("part")){const cell=handle.parentElement;let column=cell._column;this._toggleAttribute("column-resizing",!0,this.$.scroller);while("vaadin-grid-column-group"===column.localName){column=Array.prototype.slice.call(column._childColumns,0).sort(function(a,b){return a._order-b._order}).filter(function(column){return!column.hidden}).pop()}const columnRowCells=Array.from(this.$.header.querySelectorAll("[part~=\"row\"]:last-child [part~=\"cell\"]"));var targetCell=columnRowCells.filter(cell=>cell._column===column)[0];if(targetCell.offsetWidth){var style=window.getComputedStyle(targetCell),minWidth=10+parseInt(style.paddingLeft)+parseInt(style.paddingRight)+parseInt(style.borderLeftWidth)+parseInt(style.borderRightWidth)+parseInt(style.marginLeft)+parseInt(style.marginRight);column.width=_Mathmax(minWidth,targetCell.offsetWidth+e.detail.x-targetCell.getBoundingClientRect().right)+"px";column.flexGrow=0}columnRowCells.sort(function(a,b){return a._column._order-b._column._order}).forEach(function(cell,index,array){if(index<array.indexOf(targetCell)){cell._column.width=cell.offsetWidth+"px";cell._column.flexGrow=0}});if("end"===e.detail.state){this._toggleAttribute("column-resizing",!1,this.$.scroller)}this._resizeHandler()}}},ItemCache=class ItemCache{constructor(grid,parentCache,parentItem){this.grid=grid;this.parentCache=parentCache;this.parentItem=parentItem;this.itemCaches={};this.items={};this.effectiveSize=0;this.size=0;this.pendingRequests={}}isLoading(){return Object.keys(this.pendingRequests).length||Object.keys(this.itemCaches).filter(index=>{return this.itemCaches[index].isLoading()})[0]}getItemForIndex(index){const{cache,scaledIndex}=this.getCacheAndIndex(index);return cache.items[scaledIndex]}updateSize(){this.effectiveSize=!this.parentItem||this.grid._isExpanded(this.parentItem)?this.size+Object.keys(this.itemCaches).reduce((prev,curr)=>{const subCache=this.itemCaches[curr];subCache.updateSize();return prev+subCache.effectiveSize},0):0}ensureSubCacheForScaledIndex(scaledIndex){if(!this.itemCaches[scaledIndex]){const subCache=new ItemCache(this.grid,this,this.items[scaledIndex]);this.itemCaches[scaledIndex]=subCache;this.grid._loadPage(0,subCache)}}getCacheAndIndex(index){let thisLevelIndex=index;const keys=Object.keys(this.itemCaches);for(var i=0;i<keys.length;i++){const expandedIndex=+keys[i],subCache=this.itemCaches[expandedIndex];if(thisLevelIndex<=expandedIndex){return{cache:this,scaledIndex:thisLevelIndex}}else if(thisLevelIndex<=expandedIndex+subCache.effectiveSize){return subCache.getCacheAndIndex(thisLevelIndex-expandedIndex-1)}thisLevelIndex-=subCache.effectiveSize}return{cache:this,scaledIndex:thisLevelIndex}}},DataProviderMixin=superClass=>class DataProviderMixin extends superClass{static get properties(){return{pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},dataProvider:{type:Object,notify:!0,observer:"_dataProviderChanged"},loading:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0},_cache:{type:Object,value:function(){const cache=new ItemCache(this);return cache}},itemIdPath:{type:String,value:null},expandedItems:{type:Object,notify:!0,value:()=>[]}}}static get observers(){return["_sizeChanged(size)","_expandedItemsChanged(expandedItems.*)"]}_sizeChanged(size){const delta=size-this._cache.size;this._cache.size+=delta;this._cache.effectiveSize+=delta;this._effectiveSize=this._cache.effectiveSize}_updateRowItem(item,el){el.children.forEach(cell=>{cell._instance&&(cell._instance.item=item)})}_getItem(index,el){if(index>=this._effectiveSize){return}el.index=index;const{cache,scaledIndex}=this._cache.getCacheAndIndex(index),item=cache.items[scaledIndex];if(item){this._toggleAttribute("loading",!1,el);this._updateItem(el,item);if(this._isExpanded(item)){cache.ensureSubCacheForScaledIndex(scaledIndex)}}else{this._toggleAttribute("loading",!0,el);this._loadPage(this._getPageForIndex(scaledIndex),cache)}}_pagesForPhysicalItems(){const firstVisiblePage=this._getPageForIndex(this._firstVisibleIndex+this._vidxOffset);return[firstVisiblePage].concat(this._physicalItems.filter(row=>row.index).items(row=>this._getPageForIndex(row.index))).reduce((prev,curr)=>{if(-1===prev.indexOf(curr)){prev.push(curr)}return prev},[])}_expandedInstanceChangedCallback(inst,value){if(inst.item===void 0){return}if(value){this.expandItem(inst.item)}else{this.collapseItem(inst.item)}}getItemId(item){return this.itemIdPath?this.get(this.itemIdPath,item):item}_isExpanded(item){return this.expandedItems&&-1<this._getItemIndexInArray(item,this.expandedItems)}_expandedItemsChanged(e){this._cache.updateSize();this._effectiveSize=this._cache.effectiveSize;this._assignModels()}expandItem(item){if(!this._isExpanded(item)){this.push("expandedItems",item)}}collapseItem(item){if(this._isExpanded(item)){this.splice("expandedItems",this._getItemIndexInArray(item,this.expandedItems),1)}}_getIndexLevel(index){let{cache}=this._cache.getCacheAndIndex(index),level=0;while(cache.parentCache){cache=cache.parentCache;level++}return level}_canPopulate(){return this._hasData&&this._columnTree}_loadPage(page,cache){if(!cache.pendingRequests[page]&&this.dataProvider){this._setLoading(!0);cache.pendingRequests[page]=!0;const params={page,pageSize:this.pageSize,sortOrders:this._mapSorters(),filters:this._mapFilters(),parentItem:cache.parentItem};this.dataProvider(params,(items,size)=>{if(size!==void 0){cache.size=size}else{if(params.parentItem){cache.size=items.length}}items.forEach((item,itemsIndex)=>{const itemIndex=page*this.pageSize+itemsIndex;cache.items[itemIndex]=item;if(this._isExpanded(item)){cache.ensureSubCacheForScaledIndex(itemIndex)}});this._hasData=!0;delete cache.pendingRequests[page];if(!this._cache.isLoading()){this._setLoading(!1);this._cache.updateSize();this._effectiveSize=this._cache.effectiveSize;Array.from(this.$.items.children).filter(row=>!row.hidden).forEach(row=>{const cachedItem=this._cache.getItemForIndex(row.index);if(cachedItem){this._toggleAttribute("loading",!1,row);this._updateItem(row,cachedItem)}});this._increasePoolIfNeeded(0)}})}}_getPageForIndex(index){return _Mathfloor(index/this.pageSize)}clearCache(){this._cache=new ItemCache(this);Array.from(this.$.items.children).forEach(row=>{Array.from(row.children).forEach(cell=>{cell._instance&&cell._instance._setPendingProperty("item",{},!1)})});this._cache.size=this.size||0;this._cache.updateSize();this._hasData=!1;this._assignModels();if(!this._effectiveSize){this._loadPage(0,this._cache)}}_flushItemsDebouncer(){if(this._debouncerLoad){this._debouncerLoad.flush()}}_pageSizeChanged(pageSize,oldPageSize){if(oldPageSize!==void 0&&pageSize!==oldPageSize){this.clearCache()}}_checkSize(){if(this.size===void 0&&0===this._effectiveSize){console.warn("The <vaadin-grid> needs the total number of items"+" in order to display rows. Set the total number of items"+" to the `size` property, or provide the total number of items"+" in the second argument of the `dataProvider`\u2019s `callback` call.")}}_dataProviderChanged(dataProvider,oldDataProvider){if(oldDataProvider!==void 0){this.clearCache()}if(dataProvider&&this.items&&this.items.length){this._scrollToIndex(this._firstVisibleIndex)}this._ensureFirstPageLoaded();this._debouncerCheckSize=Debouncer.debounce(this._debouncerCheckSize,timeOut.after(2e3),this._checkSize.bind(this));this._scrollHandler()}_ensureFirstPageLoaded(){if(!this._hasData){this._loadPage(0,this._cache,()=>{const hadData=this._hasData;this._hasData=!0;if(!hadData){this.notifyResize()}})}}_itemsEqual(item1,item2){return this.getItemId(item1)===this.getItemId(item2)}_getItemIndexInArray(item,array){let result=-1;array.forEach((i,idx)=>{if(this._itemsEqual(i,item)){result=idx}});return result}},DynamicColumnsMixin=superClass=>class DynamicColumnsMixin extends superClass{ready(){super.ready();this._addNodeObserver()}_hasColumnGroups(columns){for(let i=0;i<columns.length;i++){if("vaadin-grid-column-group"===columns[i].localName){return!0}}return!1}_getChildColumns(el){return FlattenedNodesObserver.getFlattenedNodes(el).filter(this._isColumnElement)}_flattenColumnGroups(columns){return columns.map(col=>{if("vaadin-grid-column-group"===col.localName){return this._getChildColumns(col)}else{return[col]}}).reduce((prev,curr)=>{return prev.concat(curr)},[])}_getColumnTree(){for(var rootColumns=FlattenedNodesObserver.getFlattenedNodes(this).filter(this._isColumnElement),_columnTree=[],c=rootColumns;;){_columnTree.push(c);if(!this._hasColumnGroups(c)){break}c=this._flattenColumnGroups(c)}return _columnTree}_updateColumnTree(){var columnTree=this._getColumnTree();if(!this._arrayEquals(columnTree,this._columnTree)){this._columnTree=columnTree}}_addNodeObserver(){this._observer=new FlattenedNodesObserver(this,info=>{const rowDetailsTemplate=info.addedNodes.filter(n=>"template"===n.localName&&n.classList.contains("row-details"))[0];if(rowDetailsTemplate&&this._rowDetailsTemplate!==rowDetailsTemplate){this._rowDetailsTemplate=rowDetailsTemplate}if(0<info.addedNodes.filter(this._isColumnElement).length||0<info.removedNodes.filter(this._isColumnElement).length){this._updateColumnTree()}this._debouncerCheckImports=Debouncer.debounce(this._debouncerCheckImports,timeOut.after(2e3),this._checkImports.bind(this));this._ensureFirstPageLoaded()})}_arrayEquals(arr1,arr2){if(!arr1||!arr2||arr1.length!=arr2.length){return!1}for(var i=0,l=arr1.length;i<l;i++){if(arr1[i]instanceof Array&&arr2[i]instanceof Array){if(!this._arrayEquals(arr1[i],arr2[i])){return!1}}else if(arr1[i]!=arr2[i]){return!1}}return!0}_checkImports(){["vaadin-grid-column-group","vaadin-grid-filter","vaadin-grid-filter-column","vaadin-grid-tree-toggle","vaadin-grid-selection-column","vaadin-grid-sort-column","vaadin-grid-sorter"].forEach(elementName=>{var element=this.querySelector(elementName);if(element&&!(element instanceof PolymerElement)){console.warn(`Make sure you have imported the required module for <${elementName}> element.`)}})}_updateFirstAndLastColumn(){Array.from(this.shadowRoot.querySelectorAll("tr")).forEach(row=>this._updateFirstAndLastColumnForRow(row))}_updateFirstAndLastColumnForRow(row){Array.from(row.querySelectorAll("[part~=\"cell\"]:not([part~=\"details-cell\"])")).sort((a,b)=>{return a._column._order-b._column._order}).forEach((cell,cellIndex,children)=>{this._toggleAttribute("first-column",0===cellIndex,cell);this._toggleAttribute("last-column",cellIndex===children.length-1,cell)})}_isColumnElement(node){return node.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/.test(node.localName)}},EventContextMixin=superClass=>class EventContextMixin extends superClass{getEventContext(event){const context={},path=event.composedPath(),cell=path[path.indexOf(this.$.table)-3];if(!cell){return context}context.section=["body","header","footer","details"].filter(section=>-1<cell.getAttribute("part").indexOf(section))[0];if(cell._column){context.column=cell._column}if("body"===context.section||"details"===context.section){Object.assign(context,this.__getRowModel(cell.parentElement))}return context}},FilterMixin=superClass=>class FilterMixin extends superClass{static get properties(){return{_filters:{type:Array,value:function(){return[]}}}}ready(){super.ready();this.addEventListener("filter-changed",this._filterChanged.bind(this))}_filterChanged(e){if(-1===this._filters.indexOf(e.target)){this._filters.push(e.target)}e.stopPropagation();if(this.dataProvider){this.clearCache()}}_mapFilters(){return this._filters.map(filter=>{return{path:filter.path,value:filter.value}})}};class GridTemplatizer extends class extends PolymerElement{}{static get is(){return"vaadin-grid-templatizer"}static get properties(){return{dataHost:Object,template:Object,_templateInstances:{type:Array,value:function(){return[]}},_parentPathValues:{value:function(){return{}}},_grid:Object}}static get observers(){return["_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)"]}constructor(){super();this._instanceProps={detailsOpened:!0,index:!0,item:!0,selected:!0,expanded:!0,level:!0}}createInstance(){this._ensureTemplatized();const instance=new this._TemplateClass({});this.addInstance(instance);return instance}addInstance(instance){if(-1===this._templateInstances.indexOf(instance)){this._templateInstances.push(instance);requestAnimationFrame(()=>this.notifyPath("_templateInstances.*",this._templateInstances))}}removeInstance(instance){const index=this._templateInstances.indexOf(instance);this.splice("_templateInstances",index,1)}_ensureTemplatized(){if(!this._TemplateClass){this._TemplateClass=templatize(this.template,this,{instanceProps:this._instanceProps,parentModel:!0,forwardHostProp:function(prop,value){this._forwardParentProp(prop,value);if(this._templateInstances){this._templateInstances.forEach(inst=>inst.notifyPath(prop,value))}},notifyInstanceProp:function(inst,prop,value){if("index"===prop||"item"===prop){return}const originalProp=`__${prop}__`;if(inst[originalProp]===value){return}inst[originalProp]=value;const row=Array.from(this._grid.$.items.children).filter(row=>this._grid._itemsEqual(row._item,inst.item))[0];if(row){Array.from(row.children).forEach(cell=>{if(cell._instance){cell._instance[originalProp]=value;cell._instance.notifyPath(prop,value)}})}const itemPrefix="item.";if(Array.isArray(this._grid.items)&&0===prop.indexOf(itemPrefix)){const itemsIndex=this._grid.items.indexOf(inst.item),path=prop.slice(itemPrefix.length);this._grid.notifyPath(`items.${itemsIndex}.${path}`,value)}const gridCallback=`_${prop}InstanceChangedCallback`;if(this._grid&&this._grid[gridCallback]){this._grid[gridCallback](inst,value)}}})}}_forwardParentProp(prop,value){this._parentPathValues[prop]=value;this._templateInstances.forEach(inst=>inst.notifyPath(prop,value))}_templateInstancesChanged(t,p){let index,count;if("_templateInstances"===t.path){index=0;count=this._templateInstances.length}else if("_templateInstances.splices"===t.path){index=t.value.index;count=t.value.addedCount}else{return}Object.keys(this._parentPathValues||{}).forEach(keyName=>{for(var i=index;i<index+count;i++){this._templateInstances[i].set(keyName,this._parentPathValues[keyName])}})}}customElements.define(GridTemplatizer.is,GridTemplatizer);const RowDetailsMixin=superClass=>class RowDetailsMixin extends superClass{static get properties(){return{detailsOpenedItems:{type:Array,value:function(){return[]}},_rowDetailsTemplate:Object,rowDetailsRenderer:Function,_detailsCells:{type:Array}}}static get observers(){return["_detailsOpenedItemsChanged(detailsOpenedItems.*, _rowDetailsTemplate, rowDetailsRenderer)","_rowDetailsTemplateOrRendererChanged(_rowDetailsTemplate, rowDetailsRenderer)"]}_rowDetailsTemplateOrRendererChanged(rowDetailsTemplate,rowDetailsRenderer){if(rowDetailsTemplate&&rowDetailsRenderer){throw new Error("You should only use either a renderer or a template for row details")}if(rowDetailsTemplate||rowDetailsRenderer){if(rowDetailsTemplate&&!rowDetailsTemplate.templatizer){var templatizer=new GridTemplatizer;templatizer._grid=this;templatizer.dataHost=this.dataHost;templatizer.template=rowDetailsTemplate;rowDetailsTemplate.templatizer=templatizer}if(this._columnTree){Array.from(this.$.items.children).forEach(row=>{if(!row.querySelector("[part~=details-cell]")){this._updateRow(row,this._columnTree[this._columnTree.length-1]);this._a11yUpdateRowDetailsOpened(row,!1)}delete row.querySelector("[part~=details-cell]")._instance})}if(this.detailsOpenedItems.length){Array.from(this.$.items.children).forEach(this._toggleDetailsCell,this);this._update()}}}_detailsOpenedItemsChanged(changeRecord,rowDetailsTemplate,rowDetailsRenderer){if("detailsOpenedItems.length"===changeRecord.path||!changeRecord.value){return}Array.from(this.$.items.children).forEach(row=>{this._toggleDetailsCell(row,row._item);this._a11yUpdateRowDetailsOpened(row,this._isDetailsOpened(row._item))})}_configureDetailsCell(cell){cell.setAttribute("part","cell details-cell");this._toggleAttribute("frozen",!0,cell)}_toggleDetailsCell(row,item){const cell=row.querySelector("[part~=\"details-cell\"]");if(!cell){return}const detailsHidden=!this._isDetailsOpened(item),hiddenChanged=!!cell.hidden!==detailsHidden;if(!cell._instance&&!cell._renderer||cell.hidden!==detailsHidden){cell.hidden=detailsHidden;if(detailsHidden){row.style.removeProperty("padding-bottom")}else{if(this.rowDetailsRenderer){cell._renderer=this.rowDetailsRenderer;cell._renderer.call(this,cell._content,this,{index:row.index,item:item})}else if(this._rowDetailsTemplate&&!cell._instance){cell._instance=this._rowDetailsTemplate.templatizer.createInstance();cell._content.innerHTML="";cell._content.appendChild(cell._instance.root);this._updateItem(row,item)}flush();row.style.setProperty("padding-bottom",`${cell.offsetHeight}px`);requestAnimationFrame(()=>this.notifyResize())}}if(hiddenChanged){this._updateMetrics();this._positionItems()}}_updateDetailsCellHeights(){Array.from(this.$.items.querySelectorAll("[part~=\"details-cell\"]:not([hidden])")).forEach(cell=>{cell.parentElement.style.setProperty("padding-bottom",`${cell.offsetHeight}px`)})}_isDetailsOpened(item){return this.detailsOpenedItems&&-1!==this._getItemIndexInArray(item,this.detailsOpenedItems)}openItemDetails(item){if(!this._isDetailsOpened(item)){this.push("detailsOpenedItems",item)}}closeItemDetails(item){if(this._isDetailsOpened(item)){this.splice("detailsOpenedItems",this._getItemIndexInArray(item,this.detailsOpenedItems),1)}}_detailsOpenedInstanceChangedCallback(instance,value){if(super._detailsOpenedInstanceChangedCallback){super._detailsOpenedInstanceChangedCallback(instance,value)}if(value){this.openItemDetails(instance.item)}else{this.closeItemDetails(instance.item)}}},ScrollMixin=superClass=>class ScrollMixin extends superClass{get _timeouts(){return{SCROLL_PERIOD:1e3,WHEEL_SCROLLING:200,SCROLLING:100,IGNORE_WHEEL:500}}static get properties(){return{_frozenCells:{type:Array,value:function(){return[]}},_scrollbarWidth:{type:Number,value:function(){var scrollDiv=document.createElement("div");scrollDiv.style.width="100px";scrollDiv.style.height="100px";scrollDiv.style.overflow="scroll";scrollDiv.style.position="absolute";scrollDiv.style.top="-9999px";document.body.appendChild(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);return scrollbarWidth}},_rowWithFocusedElement:Element,_deltaYAcc:{type:Number,value:0}}}static get observers(){return["_scrollHeightUpdated(_estScrollHeight)"]}ready(){super.ready();this.scrollTarget=this.$.table;this.addEventListener("wheel",e=>{this._wheelScrolling=!0;this._debouncerWheelScrolling=Debouncer.debounce(this._debouncerWheelScrolling,timeOut.after(this._timeouts.WHEEL_SCROLLING),()=>this._wheelScrolling=!1);this._onWheel(e)});this.$.table.addEventListener("scroll",e=>{if(this.$.outerscroller.outerScrolling){e.stopImmediatePropagation()}},!0);this.$.items.addEventListener("focusin",e=>{const itemsIndex=e.composedPath().indexOf(this.$.items);this._rowWithFocusedElement=e.composedPath()[itemsIndex-1]});this.$.items.addEventListener("focusout",()=>this._rowWithFocusedElement=void 0)}_onWheel(e){if(e.ctrlKey||this._hasScrolledAncestor(e.target,e.deltaX,e.deltaY)){return}var table=this.$.table,deltaY=e.deltaY;if(1===e.deltaMode){deltaY*=this._physicalAverage}if(this._wheelAnimationFrame){this._deltaYAcc+=deltaY;e.preventDefault();return}deltaY+=this._deltaYAcc;this._deltaYAcc=0;this._wheelAnimationFrame=!0;this._debouncerWheelAnimationFrame=Debouncer.debounce(this._debouncerWheelAnimationFrame,animationFrame,()=>this._wheelAnimationFrame=!1);var momentum=_Mathabs(e.deltaX)+_Mathabs(deltaY);if(this._canScroll(table,e.deltaX,deltaY)){e.preventDefault();table.scrollTop+=deltaY;table.scrollLeft+=e.deltaX;this._scrollHandler();this._hasResidualMomentum=!0;this._ignoreNewWheel=!0;this._debouncerIgnoreNewWheel=Debouncer.debounce(this._debouncerIgnoreNewWheel,timeOut.after(this._timeouts.IGNORE_WHEEL),()=>this._ignoreNewWheel=!1)}else if(this._hasResidualMomentum&&momentum<=this._previousMomentum||this._ignoreNewWheel){e.preventDefault()}else if(momentum>this._previousMomentum){this._hasResidualMomentum=!1}this._previousMomentum=momentum}_hasScrolledAncestor(el,deltaX,deltaY){if("vaadin-grid-cell-content"===el.localName){return!1}else if(this._canScroll(el,deltaX,deltaY)&&-1!==["auto","scroll"].indexOf(getComputedStyle(el).overflow)){return!0}else if(el!==this&&el.parentElement){return this._hasScrolledAncestor(el.parentElement,deltaX,deltaY)}}_canScroll(el,deltaX,deltaY){return 0<deltaY&&el.scrollTop<el.scrollHeight-el.offsetHeight||0>deltaY&&0<el.scrollTop||0<deltaX&&el.scrollLeft<el.scrollWidth-el.offsetWidth||0>deltaX&&0<el.scrollLeft}_scheduleScrolling(){if(!this._scrollingFrame){this._scrollingFrame=requestAnimationFrame(()=>this._toggleAttribute("scrolling",!0,this.$.scroller))}this._debounceScrolling=Debouncer.debounce(this._debounceScrolling,timeOut.after(this._timeouts.SCROLLING),()=>{cancelAnimationFrame(this._scrollingFrame);delete this._scrollingFrame;this._toggleAttribute("scrolling",!1,this.$.scroller);if(!this.$.outerscroller.outerScrolling){this._reorderRows()}});if(!this._scrollPeriodFrame){this._scrollPeriodFrame=requestAnimationFrame(()=>this._toggleAttribute("scroll-period",!0,this.$.scroller))}this._debounceScrollPeriod=Debouncer.debounce(this._debounceScrollPeriod,timeOut.after(this._timeouts.SCROLL_PERIOD),()=>{cancelAnimationFrame(this._scrollPeriodFrame);delete this._scrollPeriodFrame;this._toggleAttribute("scroll-period",!1,this.$.scroller)})}_afterScroll(){this._translateStationaryElements();if(!this.hasAttribute("reordering")){this._scheduleScrolling()}const os=this.$.outerscroller;if(!this._ios&&(this._wheelScrolling||os.passthrough)){os.syncOuterScroller()}if(this._ios){const overScroll=_Mathmax(-os.scrollTop,0)||_Mathmin(0,os.scrollHeight-os.scrollTop-os.offsetHeight);this.$.items.style.transform=`translateY(${overScroll}px)`}this._updateOverflow()}_updateOverflow(){let overflow="";const table=this.$.table;if(table.scrollTop<table.scrollHeight-table.clientHeight){overflow+=" bottom"}if(0<table.scrollTop){overflow+=" top"}if(table.scrollLeft<table.scrollWidth-table.clientWidth){overflow+=" right"}if(0<table.scrollLeft){overflow+=" left"}this._debounceOverflow=Debouncer.debounce(this._debounceOverflow,animationFrame,()=>{const value=overflow.trim();if(0<value.length&&this.getAttribute("overflow")!==value){this.setAttribute("overflow",value)}else if(0==value.length&&this.hasAttribute("overflow")){this.removeAttribute("overflow")}})}_reorderRows(){const body=this.$.items,items=body.querySelectorAll("tr");if(!items.length){return}const adjustedVirtualStart=this._virtualStart+this._vidxOffset,targetRow=this._rowWithFocusedElement||Array.from(items).filter(row=>!row.hidden)[0];if(!targetRow){return}const targetPhysicalIndex=targetRow.index-adjustedVirtualStart,delta=Array.from(items).indexOf(targetRow)-targetPhysicalIndex;if(0<delta){for(let i=0;i<delta;i++){body.appendChild(items[i])}}else if(0>delta){for(let i=items.length+delta;i<items.length;i++){body.insertBefore(items[i],items[0])}}}_frozenCellsChanged(){this._debouncerCacheElements=Debouncer.debounce(this._debouncerCacheElements,microTask,()=>{Array.from(this.root.querySelectorAll("[part~=\"cell\"]")).forEach(function(cell){cell.style.transform=""});this._frozenCells=Array.prototype.slice.call(this.$.table.querySelectorAll("[frozen]"));this._translateStationaryElements()});this._updateLastFrozen()}_updateLastFrozen(){if(!this._columnTree){return}const columnsRow=this._columnTree[this._columnTree.length-1].slice(0);columnsRow.sort((a,b)=>{return a._order-b._order});const lastFrozen=columnsRow.reduce((prev,col,index)=>{col._lastFrozen=!1;return col.frozen&&!col.hidden?index:prev},void 0);if(lastFrozen!==void 0){columnsRow[lastFrozen]._lastFrozen=!0}}_translateStationaryElements(){if(this._edge&&!this._scrollbarWidth){this.$.items.style.transform=this._getTranslate(-this._scrollLeft||0,-this._scrollTop||0);this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate(-this._scrollLeft||0,0)}else{this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate(0,this._scrollTop)}for(var frozenCellTransform=this._getTranslate(this._scrollLeft,0),i=0;i<this._frozenCells.length;i++){this._frozenCells[i].style.transform=frozenCellTransform}}_getTranslate(x,y){return"translate("+x+"px,"+y+"px)"}_scrollHeightUpdated(_estScrollHeight){this.$.outersizer.style.top=this.$.fixedsizer.style.top=_estScrollHeight+"px"}},SelectionMixin=superClass=>class SelectionMixin extends superClass{static get properties(){return{selectedItems:{type:Object,notify:!0,value:()=>[]}}}static get observers(){return["_selectedItemsChanged(selectedItems.*)"]}_isSelected(item){return this.selectedItems&&-1<this._getItemIndexInArray(item,this.selectedItems)}selectItem(item){if(!this._isSelected(item)){this.push("selectedItems",item)}}deselectItem(item){const index=this._getItemIndexInArray(item,this.selectedItems);if(-1<index){this.splice("selectedItems",index,1)}}_toggleItem(item){const index=this._getItemIndexInArray(item,this.selectedItems);if(-1===index){this.selectItem(item)}else{this.deselectItem(item)}}_selectedItemsChanged(e){if(this.$.items.children.length&&("selectedItems"===e.path||"selectedItems.splices"===e.path)){Array.from(this.$.items.children).forEach(row=>{this._updateItem(row,row._item)})}}_selectedInstanceChangedCallback(instance,value){if(super._selectedInstanceChangedCallback){super._selectedInstanceChangedCallback(instance,value)}if(value){this.selectItem(instance.item)}else{this.deselectItem(instance.item)}}},SortMixin=superClass=>class SortMixin extends superClass{static get properties(){return{multiSort:{type:Boolean,value:!1},_sorters:{type:Array,value:function(){return[]}},_previousSorters:{type:Array,value:function(){return[]}}}}ready(){super.ready();this.addEventListener("sorter-changed",this._onSorterChanged);if(window.ShadyDOM){microTask.run(()=>{const sorters=this.querySelectorAll("vaadin-grid-sorter");Array.from(sorters).forEach(sorter=>{if(sorter instanceof PolymerElement){sorter.dispatchEvent(new CustomEvent("sorter-changed",{bubbles:!0,composed:!0}))}})})}}_onSorterChanged(e){const sorter=e.target;this._removeArrayItem(this._sorters,sorter);sorter._order=null;if(this.multiSort){if(sorter.direction){this._sorters.unshift(sorter)}this._sorters.forEach((sorter,index)=>sorter._order=1<this._sorters.length?index:null,this)}else{if(sorter.direction){this._sorters.forEach(sorter=>{sorter._order=null;sorter.direction=null});this._sorters=[sorter]}}e.stopPropagation();if(this.dataProvider&&JSON.stringify(this._previousSorters)!==JSON.stringify(this._mapSorters())){this.clearCache()}this._a11yUpdateSorters();this._previousSorters=this._mapSorters()}_mapSorters(){return this._sorters.map(sorter=>{return{path:sorter.path,direction:sorter.direction}})}_removeArrayItem(array,item){const index=array.indexOf(item);if(-1<index){array.splice(index,1)}}},StylingMixin=superClass=>class StylingMixin extends superClass{static get properties(){return{cellClassNameGenerator:Function}}static get observers(){return["__cellClassNameGeneratorChanged(cellClassNameGenerator)"]}__cellClassNameGeneratorChanged(cellClassGenerator){this.generateCellClassNames()}generateCellClassNames(){Array.from(this.$.items.children).filter(row=>!row.hidden).forEach(row=>this._generateCellClassNames(row,this.__getRowModel(row)))}_generateCellClassNames(row,rowData){Array.from(row.children).forEach(cell=>{if(cell.__generatedClasses){cell.__generatedClasses.forEach(className=>cell.classList.remove(className))}if(this.cellClassNameGenerator){const result=this.cellClassNameGenerator(cell._column,rowData);cell.__generatedClasses=result&&result.split(" ").filter(className=>0<className.length);if(cell.__generatedClasses){cell.__generatedClasses.forEach(className=>cell.classList.add(className))}}})}},KeyboardNavigationMixin=superClass=>class KeyboardNavigationMixin extends superClass{static get properties(){return{_headerFocusable:{type:Object,observer:"_focusableChanged"},_itemsFocusable:{type:Object,observer:"_focusableChanged"},_footerFocusable:{type:Object,observer:"_focusableChanged"},_navigatingIsHidden:Boolean,_focusedItemIndex:{type:Number,value:0},_focusedColumnOrder:Number}}ready(){super.ready();if(this._ios||this._android){return}this.addEventListener("keydown",this._onKeyDown);this.addEventListener("focusin",this._onFocusIn);this.addEventListener("focusout",this._onFocusOut);this.$.table.addEventListener("focusin",this._onCellFocusIn.bind(this));this.$.table.addEventListener("focusout",this._onCellFocusOut.bind(this));this.addEventListener("mousedown",()=>{this._toggleAttribute("navigating",!1,this);this._isMousedown=!0});this.addEventListener("mouseup",()=>this._isMousedown=!1)}_focusableChanged(focusable,oldFocusable){if(oldFocusable){oldFocusable.setAttribute("tabindex","-1")}if(focusable){focusable.setAttribute("tabindex","0")}}_onKeyDown(e){let key=e.key;if("Up"===key||"Down"===key||"Left"===key||"Right"===key){key="Arrow"+key}if("Esc"===key){key="Escape"}if("Spacebar"===key){key=" "}let keyGroup;switch(key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":case"Home":case"End":keyGroup="Navigation";break;case"Enter":case"Escape":case"F2":keyGroup="Interaction";break;case"Tab":keyGroup="Tab";break;case" ":keyGroup="Space";break;}this._detectInteracting(e);if(this.hasAttribute("interacting")&&"Interaction"!==keyGroup){keyGroup=void 0}if(keyGroup){this[`_on${keyGroup}KeyDown`](e,key)}}_ensureScrolledToIndex(index){const targetRowInDom=Array.from(this.$.items.children).filter(child=>child.index===index)[0];if(!targetRowInDom){this._scrollToIndex(index)}}_onNavigationKeyDown(e,key){e.preventDefault();function indexOfChildElement(el){return Array.prototype.indexOf.call(el.parentNode.children,el)}const visibleItemsCount=this._lastVisibleIndex-this._firstVisibleIndex-1;let dx=0,dy=0;switch(key){case"ArrowRight":dx=1;break;case"ArrowLeft":dx=-1;break;case"Home":dx=-Infinity;e.ctrlKey&&(dy=-Infinity);break;case"End":dx=1/0;e.ctrlKey&&(dy=1/0);break;case"ArrowDown":dy=1;break;case"ArrowUp":dy=-1;break;case"PageDown":dy=visibleItemsCount;break;case"PageUp":dy=-visibleItemsCount;break;}const activeCell=e.composedPath()[0],columnIndex=indexOfChildElement(activeCell),isRowDetails=this._elementMatches(activeCell,"[part~=\"details-cell\"]"),activeRow=activeCell.parentNode,activeRowGroup=activeRow.parentNode,maxRowIndex=(activeRowGroup===this.$.items?this._effectiveSize:activeRowGroup.children.length)-1,rowIndex=activeRowGroup===this.$.items?this._focusedItemIndex!==void 0?this._focusedItemIndex:activeRow.index:indexOfChildElement(activeRow);let dstRowIndex=_Mathmax(0,_Mathmin(rowIndex+dy,maxRowIndex)),dstIsRowDetails=!1;if(activeRowGroup===this.$.items){const item=activeRow._item,dstItem=this._cache.getItemForIndex(dstRowIndex);if(isRowDetails){dstIsRowDetails=0===dy}else{dstIsRowDetails=1===dy&&this._isDetailsOpened(item)||-1===dy&&dstRowIndex!==rowIndex&&this._isDetailsOpened(dstItem)}if(dstIsRowDetails!==isRowDetails&&(1===dy&&dstIsRowDetails||-1===dy&&!dstIsRowDetails)){dstRowIndex=rowIndex}}if(activeRowGroup!==this.$.items){if(dstRowIndex>rowIndex){while(dstRowIndex<maxRowIndex&&activeRowGroup.children[dstRowIndex].hidden){dstRowIndex++}}else if(dstRowIndex<rowIndex){while(0<dstRowIndex&&activeRowGroup.children[dstRowIndex].hidden){dstRowIndex--}}}if(this._focusedColumnOrder===void 0){if(isRowDetails){this._focusedColumnOrder=0}else{this._focusedColumnOrder=this._getColumns(activeRowGroup,rowIndex)[columnIndex]._order}}const dstColumns=this._getColumns(activeRowGroup,dstRowIndex),dstSortedColumnOrders=dstColumns.filter(c=>!c.hidden).map(c=>c._order).sort((b,a)=>b-a),maxOrderedColumnIndex=dstSortedColumnOrders.length-1,orderedColumnIndex=dstSortedColumnOrders.indexOf(dstSortedColumnOrders.slice(0).sort((b,a)=>_Mathabs(b-this._focusedColumnOrder)-_Mathabs(a-this._focusedColumnOrder))[0]),dstOrderedColumnIndex=0===dy&&isRowDetails?orderedColumnIndex:_Mathmax(0,_Mathmin(orderedColumnIndex+dx,maxOrderedColumnIndex));if(dstOrderedColumnIndex!==orderedColumnIndex){this._focusedColumnOrder=void 0}if(activeRowGroup===this.$.items){this._ensureScrolledToIndex(dstRowIndex)}this._toggleAttribute("navigating",!0,this);const columnIndexByOrder=dstColumns.reduce((acc,col,i)=>(acc[col._order]=i,acc),{}),dstColumnIndex=columnIndexByOrder[dstSortedColumnOrders[dstOrderedColumnIndex]],dstRow=activeRowGroup===this.$.items?Array.from(activeRowGroup.children).filter(el=>el.index===dstRowIndex)[0]:activeRowGroup.children[dstRowIndex];if(!dstRow){return}const dstCell=dstIsRowDetails?Array.from(dstRow.children).filter(el=>this._elementMatches(el,"[part~=\"details-cell\"]"))[0]:dstRow.children[dstColumnIndex];this._scrollHorizontallyToCell(dstCell);if(activeRowGroup===this.$.items){this._focusedItemIndex=dstRowIndex}if(activeRowGroup===this.$.items){const dstRect=dstCell.getBoundingClientRect(),footerTop=this.$.footer.getBoundingClientRect().top,headerBottom=this.$.header.getBoundingClientRect().bottom;if(dstRect.bottom>footerTop){this.$.table.scrollTop+=dstRect.bottom-footerTop;this._scrollHandler()}else if(dstRect.top<headerBottom){this.$.table.scrollTop-=headerBottom-dstRect.top;this._scrollHandler()}}dstCell.focus()}_parseEventPath(path){const tableIndex=path.indexOf(this.$.table);return{rowGroup:path[tableIndex-1],row:path[tableIndex-2],cell:path[tableIndex-3]}}_onInteractionKeyDown(e,key){const localTarget=e.composedPath()[0],localTargetIsTextInput="input"===localTarget.localName&&!/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(localTarget.type);let wantInteracting;switch(key){case"Enter":wantInteracting=this.hasAttribute("interacting")?!localTargetIsTextInput:!0;break;case"Escape":wantInteracting=!1;break;case"F2":wantInteracting=!this.hasAttribute("interacting");break;}const{cell}=this._parseEventPath(e.composedPath());if(this.hasAttribute("interacting")!==wantInteracting){if(wantInteracting){const focusTarget=cell._content.querySelector("[focus-target]")||cell._content.firstElementChild;if(focusTarget){e.preventDefault();focusTarget.focus();this._toggleAttribute("interacting",!0,this);this._toggleAttribute("navigating",!1,this)}}else{e.preventDefault();this._focusedColumnOrder=void 0;cell.focus();this._toggleAttribute("interacting",!1,this);this._toggleAttribute("navigating",!0,this)}}}_predictFocusStepTarget(srcElement,step){const tabOrder=[this.$.table,this._headerFocusable,this._itemsFocusable,this._footerFocusable,this.$.focusexit];let index=tabOrder.indexOf(srcElement);index+=step;while(0<=index&&index<=tabOrder.length-1&&(!tabOrder[index]||tabOrder[index].parentNode.hidden)){index+=step}return tabOrder[index]}_onTabKeyDown(e){const focusTarget=this._predictFocusStepTarget(e.composedPath()[0],e.shiftKey?-1:1);if(focusTarget===this.$.table){this.$.table.focus()}else if(focusTarget===this.$.focusexit){this.$.focusexit.focus()}else if(focusTarget===this._itemsFocusable){let itemsFocusTarget=focusTarget;const targetRow=this._itemsFocusable.parentNode;this._ensureScrolledToIndex(this._focusedItemIndex);if(targetRow.index!==this._focusedItemIndex){const columnIndex=Array.from(targetRow.children).indexOf(this._itemsFocusable),focusedItemRow=Array.from(this.$.items.children).filter(row=>row.index===this._focusedItemIndex)[0];if(focusedItemRow){itemsFocusTarget=focusedItemRow.children[columnIndex]}}e.preventDefault();itemsFocusTarget.focus()}else{e.preventDefault();focusTarget.focus()}this._toggleAttribute("navigating",!0,this)}_onSpaceKeyDown(e){e.preventDefault();const cell=e.composedPath()[0];if(cell._content&&cell._content.firstElementChild){const wasNavigating=this.hasAttribute("navigating");cell._content.firstElementChild.click();this._toggleAttribute("navigating",wasNavigating,this)}else{this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(cell.parentElement)}}))}}_onFocusIn(e){if(!this._isMousedown){this._toggleAttribute("navigating",!0,this)}const rootTarget=e.composedPath()[0];if(rootTarget===this.$.table||rootTarget===this.$.focusexit){this._predictFocusStepTarget(rootTarget,rootTarget===this.$.table?1:-1).focus();this._toggleAttribute("interacting",!1,this)}else{this._detectInteracting(e)}}_onFocusOut(e){this._toggleAttribute("navigating",!1,this);this._detectInteracting(e)}_onCellFocusIn(e){this._detectInteracting(e);if(3===e.composedPath().indexOf(this.$.table)){const cell=e.composedPath()[0];this._activeRowGroup=cell.parentNode.parentNode;if(this._activeRowGroup===this.$.header){this._headerFocusable=cell}else if(this._activeRowGroup===this.$.items){this._itemsFocusable=cell}else if(this._activeRowGroup===this.$.footer){this._footerFocusable=cell}cell._content.dispatchEvent(new CustomEvent("cell-focusin",{bubbles:!1}))}this._detectFocusedItemIndex(e)}_onCellFocusOut(e){if(3===e.composedPath().indexOf(this.$.table)){const cell=e.composedPath()[0];cell._content.dispatchEvent(new CustomEvent("cell-focusout",{bubbles:!1}))}}_detectInteracting(e){this._toggleAttribute("interacting",e.composedPath().some(el=>"vaadin-grid-cell-content"===el.localName),this)}_detectFocusedItemIndex(e){const{rowGroup,row}=this._parseEventPath(e.composedPath());if(rowGroup===this.$.items){this._focusedItemIndex=row.index}}_preventScrollerRotatingCellFocus(item,index){if(item.index===this._focusedItemIndex&&this.hasAttribute("navigating")&&this._activeRowGroup===this.$.items){this._navigatingIsHidden=!0;this._toggleAttribute("navigating",!1,this)}if(index===this._focusedItemIndex&&this._navigatingIsHidden){this._navigatingIsHidden=!1;this._toggleAttribute("navigating",!0,this)}}_getColumns(rowGroup,rowIndex){let columnTreeLevel=this._columnTree.length-1;if(rowGroup===this.$.header){columnTreeLevel=rowIndex}else if(rowGroup===this.$.footer){columnTreeLevel=this._columnTree.length-1-rowIndex}return this._columnTree[columnTreeLevel]}_resetKeyboardNavigation(){if(this.$.header.firstElementChild){this._headerFocusable=Array.from(this.$.header.firstElementChild.children).filter(el=>!el.hidden)[0]}if(this.$.items.firstElementChild){const firstVisibleIndexRow=this._iterateItems((pidx,vidx)=>{if(this._firstVisibleIndex===vidx){return this.$.items.children[pidx]}});if(firstVisibleIndexRow){this._itemsFocusable=Array.from(firstVisibleIndexRow.children).filter(el=>!el.hidden)[0]}}if(this.$.footer.firstElementChild){this._footerFocusable=Array.from(this.$.footer.firstElementChild.children).filter(el=>!el.hidden)[0]}}_scrollHorizontallyToCell(dstCell){if(dstCell.hasAttribute("frozen")||this._elementMatches(dstCell,"[part~=\"details-cell\"]")){return}const dstCellRect=dstCell.getBoundingClientRect(),dstRow=dstCell.parentNode,dstCellIndex=Array.from(dstRow.children).indexOf(dstCell),tableRect=this.$.table.getBoundingClientRect();let leftBoundary=tableRect.left,rightBoundary=tableRect.right;for(let i=dstCellIndex-1;0<=i;i--){const cell=dstRow.children[i];if(cell.hasAttribute("hidden")||this._elementMatches(cell,"[part~=\"details-cell\"]")){continue}if(cell.hasAttribute("frozen")){leftBoundary=cell.getBoundingClientRect().right;break}}for(let i=dstCellIndex+1;i<dstRow.children.length;i++){const cell=dstRow.children[i];if(cell.hasAttribute("hidden")||this._elementMatches(cell,"[part~=\"details-cell\"]")){continue}if(cell.hasAttribute("frozen")){rightBoundary=cell.getBoundingClientRect().left;break}}if(dstCellRect.left<leftBoundary){this.$.table.scrollLeft+=_Mathround(dstCellRect.left-leftBoundary)}if(dstCellRect.right>rightBoundary){this.$.table.scrollLeft+=_Mathround(dstCellRect.right-rightBoundary)}}_elementMatches(el,query){return el.matches?el.matches(query):-1!==Array.from(el.parentNode.querySelectorAll(query)).indexOf(el)}},ColumnReorderingMixin=superClass=>class ColumnReorderingMixin extends GestureEventListeners(superClass){static get properties(){return{columnReorderingAllowed:{type:Boolean,value:!1},_orderBaseScope:{type:Number,value:1e7}}}static get observers(){return["_updateOrders(_columnTree, _columnTree.*)"]}ready(){super.ready();addListener(this,"track",this._onTrackEvent);this._reorderGhost=this.shadowRoot.querySelector("[part=\"reorder-ghost\"]");this.addEventListener("touchstart",this._onTouchStart.bind(this));this.addEventListener("touchmove",this._onTouchMove.bind(this));this.addEventListener("touchend",this._onTouchEnd.bind(this));this.addEventListener("contextmenu",this._onContextMenu.bind(this))}_onContextMenu(e){if(this.hasAttribute("reordering")){e.preventDefault()}}_onTouchStart(e){this._startTouchReorderTimeout=setTimeout(()=>{this._onTrackStart({detail:{x:e.touches[0].clientX,y:e.touches[0].clientY}})},100)}_onTouchMove(e){if(this._draggedColumn){e.preventDefault()}clearTimeout(this._startTouchReorderTimeout)}_onTouchEnd(){clearTimeout(this._startTouchReorderTimeout);this._onTrackEnd()}_onTrackEvent(e){if("start"===e.detail.state){const path=e.composedPath(),headerCell=path[path.indexOf(this.$.header)-2];if(!headerCell||!headerCell._content){return}const activeElement=this.getRootNode().activeElement;if(headerCell._content.contains(this.getRootNode().activeElement)&&(!this._ie||!this._isFocusable(activeElement))){return}if(this.$.scroller.hasAttribute("column-resizing")){return}if(!this._touchDevice){this._onTrackStart(e)}}else if("track"===e.detail.state){this._onTrack(e)}else if("end"===e.detail.state){this._onTrackEnd(e)}}_onTrackStart(e){if(!this.columnReorderingAllowed){return}const path=e.path||dom(e).path;if(path&&path.filter(node=>node.hasAttribute&&node.hasAttribute("draggable"))[0]){return}const headerCell=this._cellFromPoint(e.detail.x,e.detail.y);if(!headerCell||-1===headerCell.getAttribute("part").indexOf("header-cell")){return}this._toggleAttribute("reordering",!0,this);this._draggedColumn=headerCell._column;while(1===this._draggedColumn.parentElement.childElementCount){this._draggedColumn=this._draggedColumn.parentElement}this._setSiblingsReorderStatus(this._draggedColumn,"allowed");this._draggedColumn._reorderStatus="dragging";this._updateGhost(headerCell);this._reorderGhost.style.visibility="visible";this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y);this._autoScroller()}_onTrack(e){if(!this._draggedColumn){return}const targetCell=this._cellFromPoint(e.detail.x,e.detail.y);if(!targetCell){return}const targetColumn=this._getTargetColumn(targetCell,this._draggedColumn);if(this._isSwapAllowed(this._draggedColumn,targetColumn)&&this._isSwappableByPosition(targetColumn,e.detail.x)){this._swapColumnOrders(this._draggedColumn,targetColumn)}this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y);this._lastDragClientX=e.detail.x}_onTrackEnd(){if(!this._draggedColumn){return}this._toggleAttribute("reordering",!1,this);this._draggedColumn._reorderStatus="";this._setSiblingsReorderStatus(this._draggedColumn,"");this._draggedColumn=null;this._lastDragClientX=null;this._reorderGhost.style.visibility="hidden"}_cellFromPoint(x,y){x=x||0;y=y||0;if(!this._draggedColumn){this._toggleAttribute("no-content-pointer-events",!0,this.$.scroller)}let cell;if(useShadow){cell=this.shadowRoot.elementFromPoint(x,y)}else{cell=document.elementFromPoint(x,y);if("vaadin-grid-cell-content"===cell.localName){cell=cell.assignedSlot.parentNode}}this._toggleAttribute("no-content-pointer-events",!1,this.$.scroller);if(cell&&cell._column){return cell}}_updateGhostPosition(eventClientX,eventClientY){const ghostRect=this._reorderGhost.getBoundingClientRect(),targetLeft=eventClientX-ghostRect.width/2,targetTop=eventClientY-ghostRect.height/2,_left=parseInt(this._reorderGhost._left||0),_top=parseInt(this._reorderGhost._top||0);this._reorderGhost._left=_left-(ghostRect.left-targetLeft);this._reorderGhost._top=_top-(ghostRect.top-targetTop);this._reorderGhost.style.transform=`translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`}_getInnerText(e){if(e.localName){if("none"===getComputedStyle(e).display){return""}else{return Array.from(e.childNodes).map(n=>this._getInnerText(n)).join("")}}else{return e.textContent}}_updateGhost(cell){const ghost=this._reorderGhost;ghost.textContent=this._getInnerText(cell._content);const style=window.getComputedStyle(cell);["boxSizing","display","width","height","background","alignItems","padding","border","flex-direction","overflow"].forEach(propertyName=>ghost.style[propertyName]=style[propertyName]);return ghost}_updateOrders(columnTree,splices){if(columnTree===void 0||splices===void 0){return}columnTree[0].forEach((column,index)=>column._order=(index+1)*this._orderBaseScope)}_setSiblingsReorderStatus(column,status){Array.from(column.parentNode.children).filter(child=>/column/.test(child.localName)&&this._isSwapAllowed(child,column)).forEach(sibling=>sibling._reorderStatus=status)}_autoScroller(){if(this._lastDragClientX){const rightDiff=this._lastDragClientX-this.getBoundingClientRect().right+50,leftDiff=this.getBoundingClientRect().left-this._lastDragClientX+50;if(0<rightDiff){this.$.table.scrollLeft+=rightDiff/10}else if(0<leftDiff){this.$.table.scrollLeft-=leftDiff/10}this._scrollHandler()}if(this._draggedColumn){this.async(this._autoScroller,10)}}_isSwapAllowed(column1,column2){if(column1&&column2){const differentColumns=column1!==column2,sameParent=column1.parentElement===column2.parentElement,sameFrozen=column1.frozen===column2.frozen;return differentColumns&&sameParent&&sameFrozen}}_isSwappableByPosition(targetColumn,clientX){const targetCell=Array.from(this.$.header.querySelectorAll("tr:not([hidden]) [part~=\"cell\"]")).filter(cell=>targetColumn.contains(cell._column))[0],sourceCellRect=this.$.header.querySelector("tr:not([hidden]) [reorder-status=dragging]").getBoundingClientRect(),targetRect=targetCell.getBoundingClientRect();if(targetRect.left>sourceCellRect.left){return clientX>targetRect.right-sourceCellRect.width}else{return clientX<targetRect.left+sourceCellRect.width}}_swapColumnOrders(column1,column2){const _order=column1._order;column1._order=column2._order;column2._order=_order;this._updateLastFrozen();this._updateFirstAndLastColumn()}_getTargetColumn(targetCell,draggedColumn){if(targetCell&&draggedColumn){let candidate=targetCell._column;while(candidate.parentElement!==draggedColumn.parentElement&&candidate!==this){candidate=candidate.parentElement}if(candidate.parentElement===draggedColumn.parentElement){return candidate}else{return targetCell._column}}}},ColumnBaseMixin=superClass=>class ColumnBaseMixin extends superClass{static get properties(){return{resizable:{type:Boolean,value:function(){if("vaadin-grid-column-group"===this.localName){return}const parent=this.parentNode;if(parent&&"vaadin-grid-column-group"===parent.localName){return parent.resizable||!1}else{return!1}}},_headerTemplate:{type:Object},_footerTemplate:{type:Object},frozen:{type:Boolean,value:!1},hidden:{type:Boolean},header:{type:String},textAlign:{type:String},_lastFrozen:{type:Boolean,value:!1},_order:Number,_reorderStatus:Boolean,_emptyCells:Array,_headerCell:Object,_footerCell:Object,_grid:Object,headerRenderer:Function,footerRenderer:Function}}static get observers(){return["_widthChanged(width, _headerCell, _footerCell, _cells.*)","_frozenChanged(frozen, _headerCell, _footerCell, _cells.*)","_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells.*)","_pathOrHeaderChanged(path, header, _headerCell, _footerCell, _cells.*, renderer, headerRenderer, _bodyTemplate, _headerTemplate)","_textAlignChanged(textAlign, _cells.*, _headerCell, _footerCell)","_orderChanged(_order, _headerCell, _footerCell, _cells.*)","_lastFrozenChanged(_lastFrozen)","_setBodyTemplateOrRenderer(_bodyTemplate, renderer, _cells, _cells.*)","_setHeaderTemplateOrRenderer(_headerTemplate, headerRenderer, _headerCell)","_setFooterTemplateOrRenderer(_footerTemplate, footerRenderer, _footerCell)","_resizableChanged(resizable, _headerCell)","_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells.*)","_hiddenChanged(hidden, _headerCell, _footerCell, _cells.*)"]}connectedCallback(){super.connectedCallback();this._bodyTemplate&&(this._bodyTemplate.templatizer._grid=this._grid);this._headerTemplate&&(this._headerTemplate.templatizer._grid=this._grid);this._footerTemplate&&(this._footerTemplate.templatizer._grid=this._grid);this._templateObserver.flush();if(!this._bodyTemplate){this._templateObserver.callback()}requestAnimationFrame(()=>{this._allCells.forEach(cell=>{if(!cell._content.parentNode){this._grid&&this._grid.appendChild(cell._content)}})})}disconnectedCallback(){super.disconnectedCallback();requestAnimationFrame(()=>{if(!this._findHostGrid()){this._allCells.forEach(cell=>{if(cell._content.parentNode){cell._content.parentNode.removeChild(cell._content)}})}});this._gridValue=void 0}_findHostGrid(){let el=this;while(el&&!/^vaadin.*grid(-pro)?$/.test(el.localName)){el=el.assignedSlot?el.assignedSlot.parentNode:el.parentNode}return el||void 0}get _grid(){if(!this._gridValue){this._gridValue=this._findHostGrid()}return this._gridValue}get _allCells(){return[].concat(this._cells||[]).concat(this._emptyCells||[]).concat(this._headerCell).concat(this._footerCell).filter(cell=>cell)}constructor(){super();this._templateObserver=new FlattenedNodesObserver(this,info=>{this._headerTemplate=this._prepareHeaderTemplate();this._footerTemplate=this._prepareFooterTemplate();this._bodyTemplate=this._prepareBodyTemplate()})}_prepareHeaderTemplate(){return this._prepareTemplatizer(this._findTemplate(!0)||null,{})}_prepareFooterTemplate(){return this._prepareTemplatizer(this._findTemplate(!1,!0)||null,{})}_prepareBodyTemplate(){return this._prepareTemplatizer(this._findTemplate()||null)}_prepareTemplatizer(template,instanceProps){if(template&&!template.templatizer){const templatizer=new GridTemplatizer;templatizer._grid=this._grid;templatizer.dataHost=this.dataHost;templatizer._instanceProps=instanceProps||templatizer._instanceProps;templatizer.template=template;template.templatizer=templatizer}return template}_renderHeaderAndFooter(){if(this.headerRenderer){this.__runRenderer(this.headerRenderer,this._headerCell)}if(this.footerRenderer){this.__runRenderer(this.footerRenderer,this._footerCell)}}__runRenderer(renderer,cell,rowData){const args=[cell._content,this];if(rowData&&rowData.item){args.push(rowData)}renderer.apply(this,args)}__setColumnTemplateOrRenderer(template,renderer,cells){if(template&&renderer){throw new Error("You should only use either a renderer or a template")}cells.forEach(cell=>{const model=this._grid.__getRowModel(cell.parentElement);if(renderer){cell._renderer=renderer;if(model.item||renderer===this.headerRenderer||renderer===this.footerRenderer){this.__runRenderer(renderer,cell,model)}}else if(cell._template!==template){cell._template=template;cell._content.innerHTML="";template.templatizer._grid=template.templatizer._grid||this._grid;const inst=template.templatizer.createInstance();cell._content.appendChild(inst.root);cell._instance=inst;if(model.item){cell._instance.setProperties(model)}}})}_setBodyTemplateOrRenderer(template,renderer,cells,splices){if((template||renderer)&&cells){this.__setColumnTemplateOrRenderer(template,renderer,cells)}}_setHeaderTemplateOrRenderer(headerTemplate,headerRenderer,headerCell){if((headerTemplate||headerRenderer)&&headerCell){this.__setColumnTemplateOrRenderer(headerTemplate,headerRenderer,[headerCell])}}_setFooterTemplateOrRenderer(footerTemplate,footerRenderer,footerCell){if((footerTemplate||footerRenderer)&&footerCell){this.__setColumnTemplateOrRenderer(footerTemplate,footerRenderer,[footerCell]);this._grid.__updateHeaderFooterRowVisibility(footerCell.parentElement)}}_selectFirstTemplate(header=!1,footer=!1){return FlattenedNodesObserver.getFlattenedNodes(this).filter(node=>"template"===node.localName&&node.classList.contains("header")===header&&node.classList.contains("footer")===footer)[0]}_findTemplate(header,footer){const template=this._selectFirstTemplate(header,footer);if(template){if(this.dataHost){template._rootDataHost=this.dataHost._rootDataHost||this.dataHost}}return template}_flexGrowChanged(flexGrow,headerCell,footerCell,cells){if(this.parentElement&&this.parentElement._columnPropChanged){this.parentElement._columnPropChanged("flexGrow")}this._allCells.forEach(cell=>cell.style.flexGrow=flexGrow)}_orderChanged(order,headerCell,footerCell,cells){this._allCells.forEach(cell=>cell.style.order=order)}_widthChanged(width,headerCell,footerCell,cells){if(this.parentElement&&this.parentElement._columnPropChanged){this.parentElement._columnPropChanged("width")}this._allCells.forEach(cell=>cell.style.width=width)}_frozenChanged(frozen,headerCell,footerCell,cells){if(this.parentElement&&this.parentElement._columnPropChanged){this.parentElement._columnPropChanged("frozen",frozen)}this._allCells.forEach(cell=>this._toggleAttribute("frozen",frozen,cell));this._grid&&this._grid._frozenCellsChanged&&this._grid._frozenCellsChanged()}_lastFrozenChanged(lastFrozen){this._allCells.forEach(cell=>this._toggleAttribute("last-frozen",lastFrozen,cell));if(this.parentElement&&this.parentElement._columnPropChanged){this.parentElement._lastFrozen=lastFrozen}}_pathOrHeaderChanged(path,header,headerCell,footerCell,cells,renderer,headerRenderer,bodyTemplate,headerTemplate){const hasHeaderText=header!==void 0;if(!headerRenderer&&!headerTemplate&&hasHeaderText&&headerCell){this.__setTextContent(headerCell._content,header)}if(path&&cells.value){if(!renderer&&!bodyTemplate){const pathRenderer=(root,owner,{item})=>this.__setTextContent(root,this.get(path,item));this.__setColumnTemplateOrRenderer(void 0,pathRenderer,cells.value)}if(!headerRenderer&&!headerTemplate&&!hasHeaderText&&headerCell&&null!==header){this.__setTextContent(headerCell._content,this._generateHeader(path))}}if(headerCell){this._grid.__updateHeaderFooterRowVisibility(headerCell.parentElement)}}__setTextContent(node,textContent){node.textContent!==textContent&&(node.textContent=textContent)}_generateHeader(path){return path.substr(path.lastIndexOf(".")+1).replace(/([A-Z])/g,"-$1").toLowerCase().replace(/-/g," ").replace(/^./,match=>match.toUpperCase())}_toggleAttribute(name,bool,node){if(node.hasAttribute(name)===!bool){if(bool){node.setAttribute(name,"")}else{node.removeAttribute(name)}}}_reorderStatusChanged(reorderStatus,headerCell,footerCell,cells){this._allCells.forEach(cell=>cell.setAttribute("reorder-status",reorderStatus))}_resizableChanged(resizable,headerCell){if(resizable===void 0||headerCell===void 0){return}if(headerCell){[headerCell].concat(this._emptyCells).forEach(cell=>{if(cell){const existingHandle=cell.querySelector("[part~=\"resize-handle\"]");if(existingHandle){cell.removeChild(existingHandle)}if(resizable){const handle=document.createElement("div");handle.setAttribute("part","resize-handle");cell.appendChild(handle)}}})}}_textAlignChanged(textAlign,_cells,_headerCell,_footerCell){if(textAlign===void 0){return}if(-1===["start","end","center"].indexOf(textAlign)){console.warn("textAlign can only be set as \"start\", \"end\" or \"center\"");return}let textAlignFallback;if("ltr"===getComputedStyle(this._grid).direction){if("start"===textAlign){textAlignFallback="left"}else if("end"===textAlign){textAlignFallback="right"}}else{if("start"===textAlign){textAlignFallback="right"}else if("end"===textAlign){textAlignFallback="left"}}this._allCells.forEach(cell=>{cell._content.style.textAlign=textAlign;if(getComputedStyle(cell._content).textAlign!==textAlign){cell._content.style.textAlign=textAlignFallback}})}_hiddenChanged(hidden,headerCell,footerCell,cells){if(this.parentElement&&this.parentElement._columnPropChanged){this.parentElement._columnPropChanged("hidden",hidden)}this._allCells.forEach(cell=>this._toggleAttribute("hidden",hidden,cell));if(!!hidden!==!!this._previousHidden&&this._grid){this._grid._updateLastFrozen&&this._grid._updateLastFrozen();this._grid.notifyResize&&this._grid.notifyResize();this._grid._resetKeyboardNavigation&&this._grid._resetKeyboardNavigation()}this._previousHidden=hidden}};class GridColumnElement extends ColumnBaseMixin(PolymerElement){static get is(){return"vaadin-grid-column"}static get properties(){return{width:{type:String,value:"100px"},flexGrow:{type:Number,value:1},renderer:Function,path:{type:String},_bodyTemplate:{type:Object},_cells:Array}}}customElements.define(GridColumnElement.is,GridColumnElement);class GridOuterScrollerElement extends class extends PolymerElement{}{static get template(){return html`
    <style>
      :host {
        display: block;
        height: 100%;
        width: 100%;
        position: absolute;
        top: 0;
        box-sizing: border-box;
        overflow: auto;
      }

      :host([passthrough]) {
        pointer-events: none;
      }
    </style>

    <slot></slot>
`}static get is(){return"vaadin-grid-outer-scroller"}static get properties(){return{scrollTarget:{type:Object},scrollHandler:{type:Object},passthrough:{type:Boolean,reflectToAttribute:!0,value:!0},outerScrolling:Boolean,noScrollbars:Boolean,_touchDevice:Boolean}}ready(){super.ready();this.addEventListener("scroll",()=>this._syncScrollTarget());this.parentElement.addEventListener("mousemove",this._onMouseMove.bind(this));this.style.webkitOverflowScrolling="touch";this.addEventListener("mousedown",_=>this.outerScrolling=!0);this.addEventListener("mouseup",_=>{this.outerScrolling=!1;this.scrollHandler._scrollHandler()})}_onMouseMove(e){if(!this._touchDevice){if(this.noScrollbars&&this.parentElement.hasAttribute("scroll-period")){this.passthrough=e.offsetY<=this.clientHeight-20&&e.offsetX<=this.clientWidth-20}else{this.passthrough=e.offsetY<=this.clientHeight&&e.offsetX<=this.clientWidth}}}syncOuterScroller(){this.scrollTop=this.scrollTarget.scrollTop;this.scrollLeft=this.scrollTarget.scrollLeft}_syncScrollTarget(){requestAnimationFrame(()=>{this.scrollTarget.scrollTop=this.scrollTop;this.scrollTarget.scrollLeft=this.scrollLeft;this.scrollHandler._scrollHandler()})}}customElements.define(GridOuterScrollerElement.is,GridOuterScrollerElement);const VaadinGridStyles=document.createElement("dom-module");VaadinGridStyles.appendChild(html`
  <style>
    @keyframes vaadin-grid-appear {
      to {
        opacity: 1;
      }
    }

    :host {
      display: block;
      animation: 1ms vaadin-grid-appear;
      height: 400px;
      flex: 1 1 auto;
      align-self: stretch;
      position: relative;
    }

    :host([hidden]) {
      display: none !important;
    }

    #scroller {
      display: block;
      transform: translateY(0);
      width: auto;
      height: auto;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }

    :host([height-by-rows]) {
      height: auto;
      align-self: flex-start;
      flex-grow: 0;
      width: 100%;
    }

    :host([height-by-rows]) #scroller {
      width: 100%;
      height: 100%;
      position: relative;
    }

    #table {
      display: block;
      width: 100%;
      height: 100%;
      overflow: auto;
      z-index: -2;
      position: relative;
      outline: none;
    }

    #header {
      display: block;
      position: absolute;
      top: 0;
      width: 100%;
    }

    th {
      text-align: inherit;
    }

    /* Safari doesn't work with "inherit" */
    [safari] th {
      text-align: initial;
    }

    #footer {
      display: block;
      position: absolute;
      bottom: 0;
      width: 100%;
    }

    #items {
      display: block;
      width: 100%;
      position: relative;
      z-index: -1;
    }

    #items,
    #outersizer,
    #fixedsizer {
      border-top: 0 solid transparent;
      border-bottom: 0 solid transparent;
    }

    [part~="row"] {
      display: flex;
      width: 100%;
      box-sizing: border-box;
      margin: 0;
    }

    [part~="row"][loading] [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {
      opacity: 0;
    }

    #items [part~="row"] {
      position: absolute;
    }

    #items [part~="row"]:empty {
      height: 1em;
    }

    [part~="cell"]:not([part~="details-cell"]) {
      flex-shrink: 0;
      flex-grow: 1;
      box-sizing: border-box;
      display: flex;
      width: 100%;
      position: relative;
      align-items: center;
      padding: 0;
      white-space: nowrap;
    }

    [part~="details-cell"] {
      position: absolute;
      bottom: 0;
      width: 100%;
      box-sizing: border-box;
      padding: 0;
    }

    [part~="cell"] ::slotted(vaadin-grid-cell-content) {
      display: block;
      width: 100%;
      box-sizing: border-box;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    [hidden] {
      display: none !important;
    }

    [frozen] {
      z-index: 2;
      will-change: transform;
    }

    #outerscroller {
      /* Needed (at least) for Android Chrome */
      z-index: 0;
    }

    #scroller:not([safari]) #outerscroller {
      /* Needed for Android Chrome (#1020). Can't be applied to Safari
      since it would re-introduce the sub-pixel overflow bug (#853) */
      will-change: transform;
    }

    [no-scrollbars]:not([safari]):not([firefox]) #outerscroller,
    [no-scrollbars][safari] #table,
    [no-scrollbars][firefox] #table {
      overflow: hidden;
    }

    [no-scrollbars]:not([safari]):not([firefox]) #outerscroller {
      pointer-events: none;
    }

    /* Reordering styles */
    :host([reordering]) [part~="cell"] ::slotted(vaadin-grid-cell-content),
    :host([reordering]) [part~="resize-handle"],
    #scroller[no-content-pointer-events] [part~="cell"] ::slotted(vaadin-grid-cell-content) {
      pointer-events: none;
    }

    [part~="reorder-ghost"] {
      visibility: hidden;
      position: fixed;
      pointer-events: none;
      opacity: 0.5;

      /* Prevent overflowing the grid in Firefox */
      top: 0;
      left: 0;
    }

    :host([reordering]) {
      -moz-user-select: none;
      -webkit-user-select: none;
      user-select: none;
    }

    #scroller[ie][column-reordering-allowed] [part~="header-cell"] {
      -ms-user-select: none;
    }

    :host([reordering]) #outerscroller {
      -webkit-overflow-scrolling: auto !important;
    }

    /* Resizing styles */
    [part~="resize-handle"] {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
      cursor: col-resize;
      z-index: 1;
    }

    [part~="resize-handle"]::before {
      position: absolute;
      content: "";
      height: 100%;
      width: 35px;
      transform: translateX(-50%);
    }

    [last-column] [part~="resize-handle"]::before,
    [last-frozen] [part~="resize-handle"]::before {
      width: 18px;
      transform: translateX(-100%);
    }

    #scroller[column-resizing] {
      -ms-user-select: none;
      -moz-user-select: none;
      -webkit-user-select: none;
      user-select: none;
    }

    /* Sizer styles */
    .sizer {
      display: flex;
      position: relative;
      width: 100%;
      visibility: hidden;
    }

    .sizer [part~="details-cell"] {
      display: none !important;
    }

    .sizer [part~="cell"][hidden] {
      display: none !important;
    }

    .sizer [part~="cell"] {
      display: block;
      flex-shrink: 0;
      line-height: 0;
      margin-top: -1em;
      height: 0 !important;
      min-height: 0 !important;
      max-height: 0 !important;
      padding: 0 !important;
    }

    .sizer [part~="cell"]::before {
      content: "-";
    }

    .sizer [part~="cell"] ::slotted(vaadin-grid-cell-content) {
      display: none !important;
    }

    /* Fixed mode (Tablet Edge) */
    #fixedsizer {
      position: absolute;
    }

    :not([edge][no-scrollbars]) #fixedsizer {
      display: none;
    }

    [edge][no-scrollbars] {
      /* Any value other than none for the transform results in the creation of both a stacking context and
      a containing block. The object acts as a containing block for fixed positioned descendants. */
      transform: translateZ(0);
      overflow: hidden;
    }

    [edge][no-scrollbars] #header,
    [edge][no-scrollbars] #footer {
      position: fixed;
    }

    [edge][no-scrollbars] #items {
      position: fixed;
      width: 100%;
      will-change: transform;
    }
  </style>
`);const safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),firefox=-1<navigator.userAgent.toLowerCase().indexOf("firefox");if(safari||firefox){const scrollingStyles=document.createElement("style");scrollingStyles.textContent=`
    [scrolling][safari] #outerscroller,
    [scrolling][firefox] #outerscroller {
      pointer-events: auto;
    }

    [ios] #outerscroller {
      pointer-events: auto;
      z-index: -3;
    }

    [ios][scrolling] #outerscroller {
      z-index: 0;
    }
  `;VaadinGridStyles.querySelector("template").content.appendChild(scrollingStyles)}VaadinGridStyles.register("vaadin-grid-styles");const TOUCH_DEVICE$1=(()=>{try{document.createEvent("TouchEvent");return!0}catch(e){return!1}})();class GridElement extends ElementMixin$1(ThemableMixin(DataProviderMixin(ArrayDataProviderMixin(DynamicColumnsMixin(ActiveItemMixin(ScrollMixin(SelectionMixin(SortMixin(RowDetailsMixin(KeyboardNavigationMixin(A11yMixin(FilterMixin(ColumnReorderingMixin(ColumnResizingMixin(EventContextMixin(StylingMixin(GridScrollerElement))))))))))))))))){static get template(){return html`
    <style include="vaadin-grid-styles"></style>

    <div id="scroller" no-scrollbars\$="[[!_scrollbarWidth]]" wheel-scrolling\$="[[_wheelScrolling]]" safari\$="[[_safari]]" ios\$="[[_ios]]" loading\$="[[loading]]" edge\$="[[_edge]]" firefox\$="[[_firefox]]" ie\$="[[_ie]]" column-reordering-allowed\$="[[columnReorderingAllowed]]">

      <table id="table" role="grid" aria-multiselectable="true" tabindex="0">
        <caption id="fixedsizer" class="sizer" part="row"></caption>
        <thead id="header" role="rowgroup"></thead>
        <tbody id="items" role="rowgroup"></tbody>
        <tfoot id="footer" role="rowgroup"></tfoot>
      </table>

      <div part="reorder-ghost"></div>
      <vaadin-grid-outer-scroller id="outerscroller" _touch-device="[[_touchDevice]]" scroll-target="[[scrollTarget]]" scroll-handler="[[_this]]" no-scrollbars="[[!_scrollbarWidth]]">
        <div id="outersizer" class="sizer" part="row"></div>
      </vaadin-grid-outer-scroller>
    </div>

    \x3c!-- The template needs at least one slot or else shady doesn't distribute --\x3e
    <slot name="nodistribute"></slot>

    <div id="focusexit" tabindex="0"></div>
`}static get is(){return"vaadin-grid"}static get version(){return"5.3.3"}static get observers(){return["_columnTreeChanged(_columnTree, _columnTree.*)"]}static get properties(){return{_this:{type:Object,value:function(){return this}},_safari:{type:Boolean,value:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},_ios:{type:Boolean,value:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},_edge:{type:Boolean,value:"undefined"!==typeof CSS&&CSS.supports("(-ms-ime-align:auto)")},_ie:{type:Boolean,value:!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/))},_firefox:{type:Boolean,value:-1<navigator.userAgent.toLowerCase().indexOf("firefox")},_android:{type:Boolean,value:/android/i.test(navigator.userAgent)},_touchDevice:{type:Boolean,value:TOUCH_DEVICE$1},heightByRows:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_heightByRowsChanged"}}}constructor(){super();this.addEventListener("animationend",this._onAnimationEnd)}_createScrollerRows(count){const rows=[];for(var i=0;i<count;i++){const row=document.createElement("tr");row.setAttribute("part","row");row.setAttribute("role","row");if(this._columnTree){this._updateRow(row,this._columnTree[this._columnTree.length-1],"body",!1,!0)}rows.push(row)}if(this._columnTree){this._columnTree[this._columnTree.length-1].forEach(c=>c.notifyPath&&c.notifyPath("_cells.*",c._cells))}beforeNextRender(this,()=>{this._updateFirstAndLastColumn();this._resetKeyboardNavigation()});return rows}_getRowTarget(){return this.$.items}_createCell(tagName){const contentId=this._contentIndex=this._contentIndex+1||0,slotName="vaadin-grid-cell-content-"+contentId,cellContent=document.createElement("vaadin-grid-cell-content");cellContent.setAttribute("slot",slotName);const cell=document.createElement(tagName);cell.id=slotName.replace("-content-","-");cell.setAttribute("tabindex","-1");cell.setAttribute("role","td"===tagName?"gridcell":"columnheader");const slot=document.createElement("slot");slot.setAttribute("name",slotName);cell.appendChild(slot);cell._content=cellContent;cellContent.addEventListener("mousedown",()=>{if(window.chrome){const mouseUpListener=()=>{if(!cellContent.contains(this.getRootNode().activeElement)){cell.focus()}document.removeEventListener("mouseup",mouseUpListener,!0)};document.addEventListener("mouseup",mouseUpListener,!0)}else{setTimeout(()=>{if(!cellContent.contains(this.getRootNode().activeElement)){cell.focus()}})}});return cell}_updateRow(row,columns,section,isColumnRow,noNotify){section=section||"body";const contentsFragment=document.createDocumentFragment();Array.from(row.children).forEach(cell=>cell._vacant=!0);row.innerHTML="";if("outersizer"!==row.id&&"fixedsizer"!==row.id){row.hidden=!0}columns.forEach((column,index)=>{let cell;if("body"===section){column._cells=column._cells||[];cell=column._cells.filter(cell=>cell._vacant)[0];if(!cell){cell=this._createCell("td");column._cells.push(cell)}cell.setAttribute("part","cell body-cell");row.appendChild(cell);if(index===columns.length-1&&(this._rowDetailsTemplate||this.rowDetailsRenderer)){this._detailsCells=this._detailsCells||[];const detailsCell=this._detailsCells.filter(cell=>cell._vacant)[0]||this._createCell("td");if(-1===this._detailsCells.indexOf(detailsCell)){this._detailsCells.push(detailsCell)}if(!detailsCell._content.parentElement){contentsFragment.appendChild(detailsCell._content)}this._configureDetailsCell(detailsCell);row.appendChild(detailsCell);this._a11ySetRowDetailsCell(row,detailsCell);detailsCell._vacant=!1}if(column.notifyPath&&!noNotify){column.notifyPath("_cells.*",column._cells)}}else{const tagName="header"===section?"th":"td";if(isColumnRow||"vaadin-grid-column-group"===column.localName){cell=column[`_${section}Cell`]||this._createCell(tagName);cell._column=column;row.appendChild(cell);column[`_${section}Cell`]=cell}else{column._emptyCells=column._emptyCells||[];cell=column._emptyCells.filter(cell=>cell._vacant)[0]||this._createCell(tagName);cell._column=column;row.appendChild(cell);if(-1===column._emptyCells.indexOf(cell)){column._emptyCells.push(cell)}}cell.setAttribute("part",`cell ${section}-cell`);this.__updateHeaderFooterRowVisibility(row)}if(!cell._content.parentElement){contentsFragment.appendChild(cell._content)}cell._vacant=!1;cell._column=column});this.appendChild(contentsFragment);this._frozenCellsChanged();this._updateFirstAndLastColumnForRow(row)}__updateHeaderFooterRowVisibility(row){if(!row){return}const visibleRowCells=Array.from(row.children).filter(cell=>{const column=cell._column;if(column._emptyCells&&-1<column._emptyCells.indexOf(cell)){return!1}if(row.parentElement===this.$.header){if(column.headerRenderer||column._headerTemplate){return!0}if(null===column.header){return!1}if(column.path||column.header!==void 0){return!0}}else{if(column.footerRenderer||column._footerTemplate){return!0}}});if(row.hidden!==!visibleRowCells.length){row.hidden=!visibleRowCells.length;this.notifyResize()}}_updateScrollerItem(row,index){this._preventScrollerRotatingCellFocus(row,index);if(!this._columnTree){return}this._toggleAttribute("first",0===index,row);this._toggleAttribute("odd",index%2,row);this._a11yUpdateRowRowindex(row,index);this._getItem(index,row)}_columnTreeChanged(columnTree,splices){Array.from(this.$.items.children).forEach(row=>this._updateRow(row,columnTree[columnTree.length-1]));while(this.$.header.children.length<columnTree.length){const headerRow=document.createElement("tr");headerRow.setAttribute("part","row");headerRow.setAttribute("role","row");this.$.header.appendChild(headerRow);const footerRow=document.createElement("tr");footerRow.setAttribute("part","row");footerRow.setAttribute("role","row");this.$.footer.appendChild(footerRow)}while(this.$.header.children.length>columnTree.length){this.$.header.removeChild(this.$.header.firstElementChild);this.$.footer.removeChild(this.$.footer.firstElementChild)}Array.from(this.$.header.children).forEach((headerRow,index)=>this._updateRow(headerRow,columnTree[index],"header",index===columnTree.length-1));Array.from(this.$.footer.children).forEach((footerRow,index)=>this._updateRow(footerRow,columnTree[columnTree.length-1-index],"footer",0===index));this._updateRow(this.$.outersizer,columnTree[columnTree.length-1]);this._updateRow(this.$.fixedsizer,columnTree[columnTree.length-1]);this._resizeHandler();this._frozenCellsChanged();this._updateFirstAndLastColumn();this._resetKeyboardNavigation();this._a11yUpdateHeaderRows();this._a11yUpdateFooterRows()}_updateItem(row,item){row._item=item;const model=this.__getRowModel(row);this._toggleAttribute("selected",model.selected,row);this._a11yUpdateRowSelected(row,model.selected);this._a11yUpdateRowLevel(row,model.level);this._toggleAttribute("expanded",model.expanded,row);if(this._rowDetailsTemplate||this.rowDetailsRenderer){this._toggleDetailsCell(row,item)}this._generateCellClassNames(row,model);Array.from(row.children).forEach(cell=>{if(cell._renderer){const owner=cell._column||this;cell._renderer.call(owner,cell._content,owner,model)}else if(cell._instance){cell._instance.__detailsOpened__=model.detailsOpened;cell._instance.__selected__=model.selected;cell._instance.__level__=model.level;cell._instance.__expanded__=model.expanded;cell._instance.setProperties(model)}});this._debouncerUpdateHeights=Debouncer.debounce(this._debouncerUpdateHeights,timeOut.after(1),()=>{this._updateMetrics();this._positionItems();this._updateScrollerSize()})}_resizeHandler(){this._updateDetailsCellHeights();this._accessIronListAPI(super._resizeHandler,!0);this._updateHeaderFooterMetrics()}_updateHeaderFooterMetrics(){const headerHeight=this.$.header.clientHeight+"px",footerHeight=this.$.footer.clientHeight+"px";[this.$.outersizer,this.$.fixedsizer,this.$.items].forEach(element=>{element.style.borderTopWidth=headerHeight;element.style.borderBottomWidth=footerHeight});afterNextRender(this.$.header,()=>{if(this._pendingScrollToIndex){this._scrollToIndex(this._pendingScrollToIndex)}})}_onAnimationEnd(e){if(0===e.animationName.indexOf("vaadin-grid-appear")){this._render();this._updateHeaderFooterMetrics();e.stopPropagation();this.notifyResize()}}_toggleAttribute(name,bool,node){if(node.hasAttribute(name)===!bool){if(bool){node.setAttribute(name,"")}else{node.removeAttribute(name)}}}__getRowModel(row){return{index:row.index,item:row._item,level:this._getIndexLevel(row.index),expanded:this._isExpanded(row._item),selected:this._isSelected(row._item),detailsOpened:!!(this._rowDetailsTemplate||this.rowDetailsRenderer)&&this._isDetailsOpened(row._item)}}render(){if(this._columnTree){this._columnTree.forEach(level=>{level.forEach(column=>column._renderHeaderAndFooter())});this._update()}}notifyResize(){super.notifyResize()}_heightByRowsChanged(value,oldValue){if(value||oldValue){this.notifyResize()}}}customElements.define(GridElement.is,GridElement);class UnideGridElement extends HTMLElement{constructor(){super();let shadow=this.attachShadow({mode:"open"});this.grid=document.createElement("vaadin-grid");this.grid.style.height="100%";shadow.appendChild(this.grid)}set columnCaptions(captions){this.grid.innerHTML="";captions.forEach(caption=>{const columnName=caption.name,columnPath=caption.path,column=document.createElement("vaadin-grid-column");column.setAttribute("path",columnPath);column.setAttribute("header",columnName);this.grid.appendChild(column)})}set items(theItems){this.grid.items=theItems}}customElements.define("unide-grid",UnideGridElement);let paletteContent=[["<h2>Templates</h2>",[["login-form",["div","  (","style","width: 100%; height: 100%","=","div","(","style","width: 100%; display:grid;grid-template-columns: 10em auto; background-color: #ddf;padding: 1em; box-sizing:border-box;","=","span","(","textContent"," name","=",")","vaadin-text-field","(",")","span","(","textContent"," password","=",")","vaadin-password-field","(",")","span","(",")","span","(","style"," display:flex","=","vaadin-button","(","textContent","login","=",")","vaadin-button","(","textContent","register","=",")",")",")","  )"]]]],["<h2>Native HTML</h2>",[["a",["a","(",")"]],["article",["article","(",")"]],["aside",["aside","(",")"]],["div",["div","(",")"]],["h1",["h1","(",")"]],["h2",["h2","(",")"]],["h3",["h3","(",")"]],["h4",["h4","(",")"]],["h5",["h5","(",")"]],["h6",["h6","(",")"]],["hr",["hr","(",")"]],["header",["header","(",")"]],["image",["image","(",")"]],["input",["input","(",")"]],["label",["label","(",")"]],["li",["li","(",")"]],["span",["span","(",")"]],["ol",["ol","(","li","(","textContent","item1","=",")","li","(","textContent","item2","=",")",")"]],["ul",["ul","(","li","(","textContent","item1","=",")","li","(","textContent","item2","=",")",")"]]]],["<h2>Buttons</h2>",[["button",["vaadin-button","(",")"]],["checkbox",["vaadin-checkbox","(",")"]],["checkbox-group",["vaadin-checkbox-group","(","vaadin-checkbox","(",")","vaadin-checkbox","(",")",")"]],["radio-button",["vaadin-radio-button","(",")"]],["radio-group",["vaadin-radio-group","(","vaadin-radio-button","(",")","vaadin-radio-button","(",")",")"]],["tabs",["vaadin-tabs","(",")"]],["tab",["vaadin-tab","(",")"]]]],["<h2>Fields</h2>",[["combo-box",["vaadin-combo-box","(",")"]],["context-menu",["vaadin-context-menu","(",")"]],["item",["vaadin-item","(",")"]],["date-picker",["vaadin-date-picker","(",")"]],["grid",["unide-grid","(",")"]],["list-box",["vaadin-list-box","(",")"]],["text-field",["vaadin-text-field","(",")"]],["text-area",["vaadin-text-area","(",")"]],["password-field",["vaadin-password-field","(",")"]]]],["<h2>Layout</h2>",[["accordion",["vaadin-accordion","(",")"]],["app-layout",["vaadin-app-layout","(",")"]],["form-layout",["vaadin-form-layout","(",")"]],["form-item",["vaadin-form-item","(",")"]],["horizontal-layout",["vaadin-horizontal-layout","(",")"]],["vertical-layout",["vaadin-vertical-layout","(",")"]],["split-layout",["vaadin-split-layout","(",")"]]]],["<h2>Misc</h2>",[["dialog",["vaadin-dialog","(",")"]],["notification",["vaadin-notification","(",")"]],["progress-bar",["vaadin-progress-bar","(",")"]],["upload-file",["vaadin-upload-file","(",")"]],["upload",["vaadin-upload","(",")"]]]]];const checkModel=model=>{let idents=0,parens=0,hadIssues=!1;model.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":if(1!==idents){console.log(`Wrong number of idents for new element. Should be 1 was ${idents}`);hadIssues=!0}idents--;parens++;break;case")":parens--;if(0>parens){console.log("Parentheses not matched");hadIssues=!0}break;case"=":if(2!==idents){console.log(`Wrong number of idents for attribute. Should be 2 was ${idents}`);hadIssues=!0}idents-=2;break;default:idents++;}});if(0!==idents){console.log("Extra idents.");hadIssues=!0}if(0!==parens){console.log("Parens not matched");hadIssues=!0}if(hadIssues){console.log(JSON.stringify(model));debugger}};let demoDesigns={"login-view":["div","  (","style","\twidth: 100%; height: 100%;display:flex;justify-content:center;flex-direction:column;background:url(sky.jpg)","=","div","  (","style","\tbackground-color: #fff;color:black;width:60%; margin-left:20%; border-radius:20px; border:3px solid black;","=","h1","(","textContent"," Login","=",")","div","(","style","\twidth: 100%; display:grid;grid-template-columns: 10em auto; padding: 1em; box-sizing:border-box;color:black;","=","span","(","textContent"," name","=",")","vaadin-text-field","(",")","span","(","textContent"," password","=",")","vaadin-password-field","(",")","span","(",")","span","(","style"," display:flex","=","vaadin-button","(","textContent","\tlogin","=","targetRoute","\tmain-view","=","theme"," primary","=",")","vaadin-button","(","textContent","\tregister","=","style","\tmargin-left:1rem;","=","targetRoute"," registration-view","=",")",")",")","  )","  )"],"main-view":["div","(","style"," height:100%;width:100%;background-color:white;","=","vaadin-tabs","(","vaadin-tab","(","textContent"," Main","=",")","vaadin-tab","(","textContent","\tOther","=","targetRoute"," other-view","=",")",")","vaadin-grid","(","items","\t[{'name': 'John', 'surname': 'Lennon', 'role': 'singer'}, {'name': 'Ringo', 'surname': 'Starr', 'role': 'drums'}]","=",")",")"],"registration-view":["div","  (","    style","    width: 100%; height: 100%;","    =","div","  (","style","\twidth: 100%; height: 100%;display:flex;justify-content:center;flex-direction:column;background:url(sky.jpg)","=","div","  (","style","\tbackground-color: #fff;color:black;width:60%; margin-left:20%; border-radius:20px; border:3px solid black;","=","h1","(","textContent","\tRegister a new user","=",")","div","(","style","\twidth: 100%; display:grid;grid-template-columns: 10em auto; padding: 1em; box-sizing:border-box;color:black;","=","span","(","textContent"," name","=",")","vaadin-text-field","(",")","span","(","textContent"," password","=",")","vaadin-password-field","(",")","span","(","textContent"," Repeat password","=",")","vaadin-password-field","(",")","span","(",")","span","(","style"," display:flex","=","vaadin-button","(","textContent","\tRegister","=","targetRoute","\tlogin-view","=","theme","\tprimary","=",")","vaadin-button","(","textContent","\tCancel","=","style","\tmargin-left:1rem;","=","targetRoute"," login-view","=",")",")",")","  )","  )","  )"],"other-view":["div","  (","    style","    width: 100%; height: 100%;","    =","div","(","style"," height:100%;width:100%;background-color:white;","=","vaadin-tabs","(","vaadin-tab","(","textContent","\tMain","=","targetRoute"," main-view","=",")","vaadin-tab","(","textContent","\tOther","=","targetRoute"," other-view","=",")",")","vaadin-form-layout","(",")",")","  )"]};const POSITION_BEFORE_ELEMENT=-1,POSITION_CHILD_OF_ELEMENT=0,POSITION_AFTER_ELEMENT=1,findDanglingParen=(arr,index)=>{let i=index,parenCount=0;do{if(i>=arr.length){throw"Ran out of array while dangling"+JSON.stringify(arr)}switch(arr[i].trim()){case"(":parenCount++;break;case")":parenCount--;break;default:break;}i++}while(0<=parenCount);return i-1};let insertSubtree=(index,position,subtree,tree)=>{let spliceIndex;switch(position){case POSITION_CHILD_OF_ELEMENT:spliceIndex=findDanglingParen(tree,index+1);break;case POSITION_BEFORE_ELEMENT:spliceIndex=index-1;break;case POSITION_AFTER_ELEMENT:spliceIndex=findDanglingParen(tree,index+1)+1;break;}let left=tree.slice(0,spliceIndex),right=tree.slice(spliceIndex);return left.concat(subtree).concat(right)},moveSubtree=(index,position,begin,end,tree)=>{let subtree=tree.slice(begin,end+1);checkModel(subtree);let newTree=insertSubtree(index,position,subtree,tree);if(index<begin){const subtreeLength=end-begin+1;begin+=subtreeLength;end+=subtreeLength}newTree.splice(begin,end-begin+1);checkModel(newTree);return newTree};const deleteSubtree=(elementIndex,tree)=>{let newTree=tree.slice;newTree.splice(elementIndex-1,findDanglingParen(newTree,elementIndex+1)-elementIndex+2);return newTree},updateSubtreeAttributes=(attributeString,elementIndex,tree)=>{let attributesAsStrings=attributeString.split("\n"),attributes=[];for(let i in attributesAsStrings){let str=attributesAsStrings[i].trim();if(""!==str){let index=str.indexOf("\t");if(-1===index){index=str.indexOf(" ")}let key=str.substring(0,index),value=str.substring(index);attributes.push(key);attributes.push(value);attributes.push("=")}}let index=elementIndex+1;do{let a=tree[index].trim();if("("===a){index--;break}if(")"===a){break}index++}while(index<tree.length);let first=tree.slice(0,elementIndex+1),rest=tree.slice(index,tree.length);return first.concat(attributes).concat(rest)},initialDesign=`div
  (
    style
    width: 100%; height: 100%;
    =
  )`;let currentDesign=[],selectedElement,storedDesigns={},previousBegin,previousEnd,designStack=[],redoStack=[],textEditor;const getPaperElement=()=>{let el=document.getElementById("paper");return el},getOutlineElement=()=>{return document.getElementById("outline")},showCurrentDesign=()=>{checkModel(currentDesign.tree);let paper=getPaperElement();paper.shadowRoot.innerHTML="";let style=document.createElement("style");style.textContent=currentDesign.css;paper.shadowRoot.appendChild(style);modelToDOM(currentDesign.tree,paper.shadowRoot);let outline=getOutlineElement();outline.innerHTML="";modelToOutline(currentDesign.tree,outline)},startDrag=(event,snippet)=>{event.dataTransfer.setData("text",JSON.stringify(snippet));previousBegin=previousEnd=-1},showNewDesign=newDesign=>{designStack.push(currentDesign);currentDesign=newDesign;showCurrentDesign()},startDragFromModel=(elementId,event)=>{previousBegin=elementId-1;previousEnd=findDanglingParen(currentDesign.tree,elementId+1);event.stopPropagation()},getPositionOnTarget=(el,clientX,clientY)=>{let bcr=el.getBoundingClientRect(),radius=_Mathmin(bcr.right-bcr.left,bcr.bottom-bcr.top)/2,midX=(bcr.left+bcr.right)/2,midY=(bcr.top+bcr.bottom)/2;if(Math.sqrt((midX-clientX)*(midX-clientX)+(midY-clientY)*(midY-clientY))<=radius){return POSITION_CHILD_OF_ELEMENT}else if(clientY<midY){return POSITION_BEFORE_ELEMENT}else{return POSITION_AFTER_ELEMENT}},getElementAt=(x,y)=>{let el=getPaperElement().shadowRoot.elementFromPoint(x,y);el=el?el:document.elementFromPoint(x,y);return el},placeMarker=e=>{let marker=document.getElementById("marker");marker.style.display="none";let target=getElementAt(e.clientX,e.clientY),designId=target?target.getAttribute("data-design-id"):null;if(target&&designId){let bcr=target.getBoundingClientRect();marker.style.display="block";marker.style.top=bcr.top+"px";marker.style.left=bcr.left+"px";marker.style.width=bcr.width+"px";marker.style.height=bcr.height+"px";let position=getPositionOnTarget(target,e.clientX,e.clientY);switch(position){case POSITION_CHILD_OF_ELEMENT:marker.style.border="1px red solid";break;case POSITION_BEFORE_ELEMENT:marker.style.border="none";marker.style.borderTop="1px red solid";break;case POSITION_AFTER_ELEMENT:marker.style.border="none";marker.style.borderBottom="1px red solid";break;default:break;}e.preventDefault();e.stopPropagation()}else{marker.style.display="none"}},insertingNewSubtree=()=>{return previousBegin===previousEnd};let dropElement=e=>{let marker=document.getElementById("marker");marker.style.display="none";let target=getElementAt(e.clientX,e.clientY),index=+target.getAttribute("data-design-id"),position=getPositionOnTarget(target,e.clientX,e.clientY),newDesign;if(insertingNewSubtree()){let subtree=JSON.parse(e.dataTransfer.getData("text"));newDesign={tree:insertSubtree(index,position,subtree,currentDesign.tree),css:currentDesign.css}}else{if(index>=previousBegin&&index<=previousEnd){return}newDesign={tree:moveSubtree(index,position,previousBegin,previousEnd,currentDesign.tree),css:currentDesign.css}}designStack.push(currentDesign);currentDesign=newDesign;showCurrentDesign();e.preventDefault()},selectElement=e=>{let target=getElementAt(e.clientX,e.clientY),designId=target.getAttribute("data-design-id");if(designId){selectedElement=+designId;let stack=[],props="",ip=+designId+1,value=currentDesign.tree[ip].trim();while("("!==value&&")"!==value&&ip<currentDesign.tree.length){if("="===value){let tos=stack.pop(),nos=stack.pop();props=props+`${nos}\t${tos}\n`}else{stack.push(value)}ip++;value=currentDesign.tree[ip].trim()}document.getElementById("attributes").value=props;e.preventDefault();e.stopPropagation()}};const updateAttributes=()=>{let attributeString=document.getElementById("attributes").value,newDesign={tree:updateSubtreeAttributes(attributeString,selectedElement,currentDesign.tree),css:currentDesign.css};designStack.push(currentDesign);currentDesign=newDesign;showCurrentDesign()},navigateTo=event=>{let targetRoute=event.target.getAttribute("targetroute");if(targetRoute){loadDesign(targetRoute)}},makeATIRInterpreter=(lparenfnStr,rparenfnStr,eqfnStr,valuefnStr)=>{let stack=[],tree=[],current,lparenfn=eval(lparenfnStr),rparenfn=eval(rparenfnStr),eqfn=eval(eqfnStr),valuefn=eval(valuefnStr);return(code,target,inert=!1)=>{current=target;code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":lparenfn(index,inert);break;case")":rparenfn();break;case"=":eqfn();break;default:valuefn(trimmed);}});return current}},modelToDOM=(code,target,inert=!1)=>{let stack=[],tree=[],current=target;code.forEach((str,index)=>{let trimmed=str.trim();switch(trimmed){case"(":{let old=current;tree.push(current);let tag=stack.pop();if(tag in storedDesigns){current=document.createElement("div");modelToDOM(storedDesigns[tag],current,!0)}else{current=document.createElement(tag)}if(!inert){current.setAttribute("data-design-id",index);current.ondragstart=event=>{startDragFromModel(index,event)};current.ondblclick=event=>{navigateTo(event)};current.draggable=!0}old.appendChild(current);break}case")":{current=tree.pop();break}case"=":{let tos=stack.pop(),nos=stack.pop();if(nos in current){try{let json=JSON.parse(tos);current[nos]=json}catch(e){current[nos]=tos;current.setAttribute(nos,tos)}}else{current.setAttribute(nos,tos)}break}default:{stack.push(trimmed)}}});return current},modelToOutline=makeATIRInterpreter(`(index, inert) => {
      let old = current;
      tree.push(current);
      current = document.createElement('div');
      current.textContent=stack.pop();
      current.setAttribute('data-design-id', index);
      current.ondragstart = (event) => {startDragFromModel(index, event)};
      current.draggable = true;
      old.appendChild(current);
    }`,"() => {current = tree.pop()}","() => {}","str => {stack.push(str)}"),createPaletteSection=(name,tags,palette)=>{let outer=document.createElement("div");outer.className="palette-section";outer.innerHTML=name;outer.onmouseover=()=>{outer.style.height=8+tags.length+"rem"};outer.onmouseout=()=>{outer.style.height=null};palette.appendChild(outer);for(let i in tags){let tagAndSnippet=tags[i],el=document.createElement("div");const snippet=tagAndSnippet[1];if(snippet){el.draggable=!0;el.ondragstart=event=>{const preview=document.getElementById("element-preview");preview.style.display="none";startDrag(event,snippet)};el.onmouseover=event=>{const preview=document.getElementById("element-preview");preview.style.top=event.clientY+"px";preview.style.left=event.clientX+200+"px";preview.innerHTML="";modelToDOM(snippet,preview);preview.style.display="block"};el.onmouseout=()=>{const preview=document.getElementById("element-preview");preview.style.display="none"}}el.innerHTML=tagAndSnippet[0];outer.appendChild(el)}},getStoredDesignsForPalette=()=>{let designs=JSON.parse(window.localStorage.getItem("designs")||"{}"),parsedDesigns=[],keys=Object.keys(designs);keys.forEach(key=>{parsedDesigns.push(["#"+key,[key,"(",")"]]);parsedDesigns.push([key,designs[key]])});return parsedDesigns},populatePalette=()=>{let palette=document.getElementById("palette");palette.innerHTML="";createPaletteSection("<h2>Designs</h2>",getStoredDesignsForPalette(),palette);for(let j in paletteContent){let section=paletteContent[j];createPaletteSection(section[0],section[1],palette)}},populateDesignSelector=()=>{let selector=document.getElementById("choose-design");selector.innerHTML="";let keys=Object.keys(storedDesigns.designs),placeholder=document.createElement("option");placeholder.textContent="Select a design";selector.add(placeholder);for(let i in keys){let el=document.createElement("option");el.textContent=keys[i];el.setAttribute("value",keys[i]);selector.add(el)}},saveDesign=()=>{let designName=document.getElementById("design-name").value;storedDesigns[designName]=currentDesign;localStorage.setItem("designs",JSON.stringify(storedDesigns));populateDesignSelector()},loadDesign=designName=>{document.getElementById("design-name").value=designName;currentDesign=storedDesigns.designs[designName];designStack=[];redoStack=[];showCurrentDesign()},loadSelectedDesign=()=>{loadDesign(document.getElementById("choose-design").value)},importRawModel=()=>{const upload=document.getElementById("import-file-input"),file=upload.files[0];if(file){const reader=new FileReader;reader.readAsText(file,"UTF-8");reader.onload=function(evt){localStorage.setItem("designs",evt.target.result);populateDesignSelector()}}},exportDesign=()=>{let format=document.getElementById("choose-export-format").value;if("LitElement"===format){exportToLitElement(storedDesigns)}else if("Angular"===format){exportToAngular(storedDesigns)}else if("Flow"===format){exportToFlow(storedDesigns)}else if("Preact"===format){exportToPreact(storedDesigns)}else if("Raw"===format){exportToRaw(storedDesigns)}else if("React"===format){exportToReact(storedDesigns)}else if("Svelte"===format){exportToSvelte(storedDesigns)}else if("VanillaJS"===format){exportToVanilla(storedDesigns)}else if("Vaadin on Kotlin"===format){exportToVoK(storedDesigns)}else if("Vue"===format){exportToVue(storedDesigns)}else{window.alert(`Export to ${format} is not implemented yet, sorry.`)}},installUIEventHandlers=()=>{let outline=getOutlineElement();outline.ondragover=placeMarker;outline.onclick=selectElement;let paper=getPaperElement();paper.ondragover=placeMarker;paper.onclick=selectElement;let marker=document.getElementById("marker");marker.ondrop=dropElement;marker.ondragover=placeMarker;let attributes=document.getElementById("attributes");attributes.onblur=updateAttributes;document.getElementById("save-design").onclick=saveDesign;document.getElementById("choose-design").onchange=loadSelectedDesign;document.getElementById("export-design").onclick=exportDesign;document.getElementById("import-file").onclick=importRawModel;textEditor.on("change",()=>{let el=paper.shadowRoot.querySelector("style");if(el){let css=textEditor.getValue();el.textContent=css;currentDesign.css=css}})},initializeDesign=()=>{getPaperElement().attachShadow({mode:"open"});currentDesign={css:"",tree:initialDesign.split("\n")};designStack.push(currentDesign)},installKeyboardHandlers=()=>{document.body.onkeypress=event=>{if("z"===event.key&&event.ctrlKey){if(0<designStack.length){redoStack.push(currentDesign);currentDesign=designStack.pop();showCurrentDesign()}event.stopPropagation();event.preventDefault()}if("y"===event.key&&event.ctrlKey){if(0<redoStack.length){designStack.push(currentDesign);currentDesign=redoStack.pop();showCurrentDesign()}event.stopPropagation();event.preventDefault()}if("Delete"===event.key){let newDesign={tree:(void 0)(selectedElement,currentDesign.tree),css:currentDesign.css};showNewDesign(newDesign);event.stopPropagation();event.preventDefault()}}},getStoredDesigns=()=>{let designsStr=localStorage.getItem("designs")||"{}";storedDesigns=JSON.parse(designsStr)},setDemoDesigns=()=>{if(!localStorage.getItem("designs")){localStorage.setItem("designs",JSON.stringify(demoDesigns))}},setupTextEditor=()=>{textEditor=CodeMirror(document.getElementById("text-editor"),{mode:"text/css",theme:"tomorrow-night-eighties",extraKeys:{"Ctrl-Space":"autocomplete"}})},initDesigner=()=>{setDemoDesigns();getStoredDesigns();setupTextEditor();populatePalette();populateDesignSelector();initializeDesign();installUIEventHandlers();installKeyboardHandlers();showCurrentDesign()};initDesigner()});</script></body></html>